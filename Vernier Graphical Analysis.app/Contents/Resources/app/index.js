(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default']}:function(){return module};__webpack_require__.d(getter,'a',getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p='';return __webpack_require__(__webpack_require__.s=88)})([function(module){module.exports=class{static register(val){let content;const template=document.createElement('template');template.innerHTML=val;if(template.content){content=template.content}else{content=document.createDocumentFragment();while(template.firstChild){content.appendChild(template.firstChild)}}document.importNode(content,!0)}static toBody(val){const trimmedVal=val.trim();if(trimmedVal){const div=document.createElement('div');div.innerHTML=trimmedVal;if(div.firstChild){if(document.body){document.body.insertBefore(div.firstChild,document.body.firstChild)}else{document.addEventListener('DOMContentLoaded',()=>{document.body.insertBefore(div.firstChild,document.body.firstChild)})}}}}}},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var LARGE_ARRAY_SIZE=200,FUNC_ERROR_TEXT='Expected a function',HASH_UNDEFINED='__lodash_hash_undefined__',PLACEHOLDER='__lodash_placeholder__',CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512,LAZY_FILTER_FLAG=1,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,NAN=0/0,MAX_ARRAY_LENGTH=4294967295,wrapFlags=[['ary',WRAP_ARY_FLAG],['bind',WRAP_BIND_FLAG],['bindKey',WRAP_BIND_KEY_FLAG],['curry',WRAP_CURRY_FLAG],['curryRight',WRAP_CURRY_RIGHT_FLAG],['flip',WRAP_FLIP_FLAG],['partial',WRAP_PARTIAL_FLAG],['partialRight',WRAP_PARTIAL_RIGHT_FLAG],['rearg',WRAP_REARG_FLAG]],argsTag='[object Arguments]',arrayTag='[object Array]',boolTag='[object Boolean]',dateTag='[object Date]',errorTag='[object Error]',funcTag='[object Function]',genTag='[object GeneratorFunction]',mapTag='[object Map]',numberTag='[object Number]',objectTag='[object Object]',promiseTag='[object Promise]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',symbolTag='[object Symbol]',weakMapTag='[object WeakMap]',arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]',reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsAstralRange='\\ud800-\\udfff',rsDingbatRange='\\u2700-\\u27bf',rsLowerRange='a-z\\xdf-\\xf6\\xf8-\\xff',rsUpperRange='A-Z\\xc0-\\xd6\\xd8-\\xde',rsBreakRange='\\xac\\xb1\\xd7\\xf7'+'\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf'+'\\u2000-\\u206f'+' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',rsApos='[\'\u2019]',rsBreak='['+rsBreakRange+']',rsCombo='['+('\\u0300-\\u036f'+'\\ufe20-\\ufe2f'+'\\u20d0-\\u20ff')+']',rsDigits='\\d+',rsLower='['+rsLowerRange+']',rsMisc='[^'+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+']',rsFitz='\\ud83c[\\udffb-\\udfff]',rsNonAstral='[^'+rsAstralRange+']',rsRegional='(?:\\ud83c[\\udde6-\\uddff]){2}',rsSurrPair='[\\ud800-\\udbff][\\udc00-\\udfff]',rsUpper='['+rsUpperRange+']',rsMiscLower='(?:'+rsLower+'|'+rsMisc+')',rsOptContrLower='(?:'+rsApos+'(?:d|ll|m|re|s|t|ve))?',rsOptContrUpper='(?:'+rsApos+'(?:D|LL|M|RE|S|T|VE))?',reOptMod='(?:'+rsCombo+'|'+rsFitz+')'+'?',rsOptVar='['+'\\ufe0e\\ufe0f'+']?',rsOptJoin='(?:'+'\\u200d'+'(?:'+[rsNonAstral,rsRegional,rsSurrPair].join('|')+')'+rsOptVar+reOptMod+')*',rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji='(?:'+['['+rsDingbatRange+']',rsRegional,rsSurrPair].join('|')+')'+rsSeq,rsSymbol='(?:'+[rsNonAstral+rsCombo+'?',rsCombo,rsRegional,rsSurrPair,'['+rsAstralRange+']'].join('|')+')',reApos=/['’]/g,reComboMark=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,reUnicode=RegExp(rsFitz+'(?='+rsFitz+')|'+rsSymbol+rsSeq,'g'),reUnicodeWord=RegExp([rsUpper+'?'+rsLower+'+'+rsOptContrLower+'(?='+[rsBreak,rsUpper,'$'].join('|')+')','(?:'+rsUpper+'|'+rsMisc+')'+'+'+rsOptContrUpper+'(?='+[rsBreak,rsUpper+rsMiscLower,'$'].join('|')+')',rsUpper+'?'+rsMiscLower+'+'+rsOptContrLower,rsUpper+'+'+rsOptContrUpper,'\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)','\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)',rsDigits,rsEmoji].join('|'),'g'),reHasUnicode=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=['Array','Buffer','DataView','Date','Error','Float32Array','Float64Array','Function','Int8Array','Int16Array','Int32Array','Map','Math','Object','Promise','RegExp','Set','String','Symbol','TypeError','Uint8Array','Uint8ClampedArray','Uint16Array','Uint32Array','WeakMap','_','clearTimeout','isFinite','parseInt','setTimeout'],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var stringEscapes={"\\":'\\',"'":'\'',"\n":'n',"\r":'r',"\u2028":'u2028',"\u2029":'u2029'},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal='object'==typeof global&&global&&global.Object===Object&&global,freeSelf='object'==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function('return this')(),freeExports='object'==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&'object'==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding('util')}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}function addSetEntry(set,value){set.add(value);return set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2]);}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=null==array?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=null==array?0:array.length;while(++index<length){if(!1===iteratee(array[index],index,array)){break}}return array}function arrayEachRight(array,iteratee){var length=null==array?0:array.length;while(length--){if(!1===iteratee(array[length],length,array)){break}}return array}function arrayEvery(array,predicate){var index=-1,length=null==array?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return!1}}return!0}function arrayFilter(array,predicate){var index=-1,length=null==array?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=null==array?0:array.length;return!!length&&-1<baseIndexOf(array,value,0)}function arrayIncludesWith(array,value,comparator){var index=-1,length=null==array?0:array.length;while(++index<length){if(comparator(value,array[index])){return!0}}return!1}function arrayMap(array,iteratee){var index=-1,length=null==array?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=null==array?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return!0}}return!1}var asciiSize=baseProperty('length');function asciiToArray(string){return string.split('')}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return!1}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==void 0){result=result===void 0?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&-1<baseIndexOf(chrSymbols,strSymbols[index],0)){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&-1<baseIndexOf(chrSymbols,strSymbols[index],0)){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf({À:'A',Á:'A',Â:'A',Ã:'A',Ä:'A',Å:'A',à:'a',á:'a',â:'a',ã:'a',ä:'a',å:'a',Ç:'C',ç:'c',Ð:'D',ð:'d',È:'E',É:'E',Ê:'E',Ë:'E',è:'e',é:'e',ê:'e',ë:'e',Ì:'I',Í:'I',Î:'I',Ï:'I',ì:'i',í:'i',î:'i',ï:'i',Ñ:'N',ñ:'n',Ò:'O',Ó:'O',Ô:'O',Õ:'O',Ö:'O',Ø:'O',ò:'o',ó:'o',ô:'o',õ:'o',ö:'o',ø:'o',Ù:'U',Ú:'U',Û:'U',Ü:'U',ù:'u',ú:'u',û:'u',ü:'u',Ý:'Y',ý:'y',ÿ:'y',Æ:'Ae',æ:'ae',Þ:'Th',þ:'th',ß:'ss',Ā:'A',Ă:'A',Ą:'A',ā:'a',ă:'a',ą:'a',Ć:'C',Ĉ:'C',Ċ:'C',Č:'C',ć:'c',ĉ:'c',ċ:'c',č:'c',Ď:'D',Đ:'D',ď:'d',đ:'d',Ē:'E',Ĕ:'E',Ė:'E',Ę:'E',Ě:'E',ē:'e',ĕ:'e',ė:'e',ę:'e',ě:'e',Ĝ:'G',Ğ:'G',Ġ:'G',Ģ:'G',ĝ:'g',ğ:'g',ġ:'g',ģ:'g',Ĥ:'H',Ħ:'H',ĥ:'h',ħ:'h',Ĩ:'I',Ī:'I',Ĭ:'I',Į:'I',İ:'I',ĩ:'i',ī:'i',ĭ:'i',į:'i',ı:'i',Ĵ:'J',ĵ:'j',Ķ:'K',ķ:'k',ĸ:'k',Ĺ:'L',Ļ:'L',Ľ:'L',Ŀ:'L',Ł:'L',ĺ:'l',ļ:'l',ľ:'l',ŀ:'l',ł:'l',Ń:'N',Ņ:'N',Ň:'N',Ŋ:'N',ń:'n',ņ:'n',ň:'n',ŋ:'n',Ō:'O',Ŏ:'O',Ő:'O',ō:'o',ŏ:'o',ő:'o',Ŕ:'R',Ŗ:'R',Ř:'R',ŕ:'r',ŗ:'r',ř:'r',Ś:'S',Ŝ:'S',Ş:'S',Š:'S',ś:'s',ŝ:'s',ş:'s',š:'s',Ţ:'T',Ť:'T',Ŧ:'T',ţ:'t',ť:'t',ŧ:'t',Ũ:'U',Ū:'U',Ŭ:'U',Ů:'U',Ű:'U',Ų:'U',ũ:'u',ū:'u',ŭ:'u',ů:'u',ű:'u',ų:'u',Ŵ:'W',ŵ:'w',Ŷ:'Y',ŷ:'y',Ÿ:'Y',Ź:'Z',Ż:'Z',Ž:'Z',ź:'z',ż:'z',ž:'z',Ĳ:'IJ',ĳ:'ij',Œ:'Oe',œ:'oe',ŉ:'\'n',ſ:'s'}),escapeHtmlChar=basePropertyOf({"&":'&amp;',"<":'&lt;',">":'&gt;','"':'&quot;',"'":'&#39;'});function escapeStringChar(chr){return'\\'+stringEscapes[chr]}function getValue(object,key){return null==object?void 0:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf({"&amp;":'&',"&lt;":'<',"&gt;":'>',"&quot;":'"',"&#39;":'\''});function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var _=function runInContext(context){context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context['__core-js_shared__'],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?'Symbol(src)_1.'+uid:''}(),nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp('^'+funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),Buffer=moduleExports?context.Buffer:void 0,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,symIterator=Symbol?Symbol.iterator:void 0,symToStringTag=Symbol?Symbol.toStringTag:void 0,defineProperty=function(){try{var func=getNative(Object,'defineProperty');func({},'',{});return func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,'DataView'),Map=getNative(context,'Map'),Promise=getNative(context,'Promise'),Set=getNative(context,'Set'),WeakMap=getNative(context,'WeakMap'),nativeCreate=getNative(Object,'create'),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,'__wrapped__')){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=void 0;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=void 0}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:'',imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=null==entries?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0};Hash.prototype['delete']=function(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result};Hash.prototype.get=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0};Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?data[key]!==void 0:hasOwnProperty.call(data,key)};Hash.prototype.set=function(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===void 0?HASH_UNDEFINED:value;return this};function ListCache(entries){var index=-1,length=null==entries?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=function(){this.__data__=[];this.size=0};ListCache.prototype['delete']=function(key){var data=this.__data__,index=assocIndexOf(data,key);if(0>index){return!1}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return!0};ListCache.prototype.get=function(key){var data=this.__data__,index=assocIndexOf(data,key);return 0>index?void 0:data[index][1]};ListCache.prototype.has=function(key){return-1<assocIndexOf(this.__data__,key)};ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(0>index){++this.size;data.push([key,value])}else{data[index][1]=value}return this};function MapCache(entries){var index=-1,length=null==entries?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=function(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}};MapCache.prototype['delete']=function(key){var result=getMapData(this,key)['delete'](key);this.size-=result?1:0;return result};MapCache.prototype.get=function(key){return getMapData(this,key).get(key)};MapCache.prototype.has=function(key){return getMapData(this,key).has(key)};MapCache.prototype.set=function(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this};function SetCache(values){var index=-1,length=null==values?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}SetCache.prototype.add=SetCache.prototype.push=function(value){this.__data__.set(value,HASH_UNDEFINED);return this};SetCache.prototype.has=function(value){return this.__data__.has(value)};function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=function(){this.__data__=new ListCache;this.size=0};Stack.prototype['delete']=function(key){var data=this.__data__,result=data['delete'](key);this.size=data.size;return result};Stack.prototype.get=function(key){return this.__data__.get(key)};Stack.prototype.has=function(key){return this.__data__.has(key)};Stack.prototype.set=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this};function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&('length'==key||isBuff&&('offset'==key||'parent'==key)||isType&&('buffer'==key||'byteLength'==key||'byteOffset'==key)||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:void 0}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==void 0&&!eq(object[key],value)||value===void 0&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===void 0&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if('__proto__'==key&&defineProperty){defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length);while(++index<length){result[index]=null==object?void 0:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==void 0){number=number<=upper?number:upper}if(lower!==void 0){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==void 0){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);var keysFunc=bitmask&CLONE_SYMBOLS_FLAG?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(null==object){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===void 0&&!(key in object)||!predicate(value)){return!1}}return!0}function baseDelay(func,wait,args){if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(void 0,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=!1}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=!1;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=null==iteratee?value:iteratee(value);value=comparator||0!==value?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(null!=current&&(computed===void 0?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(0>start){start=-start>length?0:length+start}end=end===void 0||end>length?length:toInteger(end);if(0>end){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(0<depth&&predicate(value)){if(1<depth){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(null!=object&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:void 0}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(null==value){return value===void 0?'[object Undefined]':'[object Null]'}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||120<=length&&120<=array.length)?new SetCache(othIndex&&array):void 0}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||0!==value?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=null==object?object:object[toKey(last(path))];return null==func?void 0:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return!0}if(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return!1}objIsArr=!0;objIsObj=!1}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,'__wrapped__'),othIsWrapped=othIsObj&&hasOwnProperty.call(other,'__wrapped__');if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return!1}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return!1}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===void 0&&!(key in object)){return!1}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===void 0?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return!1}}}return!0}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return!1}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIteratee(value){if('function'==typeof value){return value}if(null==value){return identity}if('object'==typeof value){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&'constructor'!=key){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!('constructor'==key&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===void 0&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(object[key],srcValue,key+'',object,source,stack):void 0;if(newValue===void 0){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+'',object,source,stack):void 0,isCommon=newValue===void 0;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=!1;newValue=cloneBuffer(srcValue,!0)}else if(isTyped){isCommon=!1;newValue=cloneTypedArray(srcValue,!0)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=!1}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack['delete'](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=0>n?length:0;return isIndex(n,length)?array[n]:void 0}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while(-1<(fromIndex=indexOf(seen,computed,fromIndex,comparator))){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result='';if(!string||1>n||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+'')}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,nested=object;while(null!=nested&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=length-1){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):void 0;if(newValue===void 0){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func},baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,'toString',{configurable:!0,enumerable:!1,value:constant(string),writable:!0})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(0>start){start=-start>length?0:length+start}end=end>length?length:end;if(0>end){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if('number'==typeof value&&value===value&&high<=MAX_ARRAY_LENGTH>>>1){while(low<high){var mid=low+high>>>1,computed=array[mid];if(null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=null==array?0:array.length,valIsNaN=value!==value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=value===void 0;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==void 0,othIsNull=null===computed,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=!1}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_LENGTH-1)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){if('number'==typeof value){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if('string'==typeof value){return value}if(isArray(value)){return arrayMap(value,baseToString)+''}if(isSymbol(value)){return symbolToString?symbolToString.call(value):''}var result=value+'';return'0'==result&&1/value==-INFINITY?'-0':result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator){isCommon=!1;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=!1;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||0!==value?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return null==object||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(2>length){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:void 0;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return'function'==typeof value?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}function castSlice(array,start,end){var length=array.length;end=end===void 0?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),CLONE_DEEP_FLAG):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),CLONE_DEEP_FLAG):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==void 0,valIsNull=null===value,valIsReflexive=value===value,valIsSymbol=isSymbol(value),othIsDefined=other!==void 0,othIsNull=null===other,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*('desc'==order?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength);while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(!isCurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength);while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(!isCurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;if(newValue===void 0){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=1<length?sources[length-1]:void 0,guard=2<length?sources[2]:void 0;customizer=3<assigner.length&&'function'==typeof customizer?(length--,customizer):void 0;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=3>length?void 0:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(!1===iteratee(iterable[index],index,iterable)){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable)){break}}return object}}function createBind(func,bitmask,thisArg){var Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(bitmask&WRAP_BIND_FLAG?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(''):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,'')),callback,'')}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=3>length&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,void 0,args,holders,void 0,void 0,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return-1<index?iterable[iteratee?collection[index]:index]:void 0}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&'wrapper'==getFuncName(func)){var wrapper=new LodashWrapper([],!0)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data='wrapper'==funcName?getData(func):void 0;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&1==data[9]){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),Ctor=isBindKey?void 0:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=bitmask&WRAP_BIND_FLAG?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(bitmask&WRAP_FLIP_FLAG&&1<length){args.reverse()}if(bitmask&WRAP_ARY_FLAG&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===void 0&&other===void 0){return defaultValue}if(value!==void 0){result=value}if(other!==void 0){if(result===void 0){return other}if('string'==typeof value||'string'==typeof other){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===void 0?' ':baseToString(chars);var charsLength=chars.length;if(2>charsLength){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(''):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,bitmask&WRAP_BIND_FLAG?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&'number'!=typeof step&&isIterateeCall(start,end,step)){end=step=void 0}start=toFinite(start);if(end===void 0){end=start;start=0}else{end=toFinite(end)}step=step===void 0?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!('string'==typeof value&&'string'==typeof other)){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:void 0,newHoldersRight=isCurry?void 0:holders,newPartials=isCurry?partials:void 0,newPartialsRight=isCurry?void 0:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity],result=wrapFunc.apply(void 0,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=null==precision?0:nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+'e').split('e'),value=func(pair[0]+'e'+(+pair[1]+precision));pair=(toString(value)+'e').split('e');return+(pair[0]+'e'+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&'function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=void 0}ary=ary===void 0?ary:nativeMax(toInteger(ary),0);arity=arity===void 0?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=void 0}var data=isBindKey?void 0:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===void 0?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(void 0,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===void 0||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,void 0,customDefaultsMerge,stack);stack['delete'](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?void 0:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return!1}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==void 0){if(compared){continue}result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=!1;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=!1;break}}stack['delete'](array);stack['delete'](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return!1}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return!1}return!0;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+'';case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return!1}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack['delete'](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return!1}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return!1}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return!1}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=!0;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===void 0?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor='constructor'==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&'constructor'in object&&'constructor'in other&&!('function'==typeof objCtor&&objCtor instanceof objCtor&&'function'==typeof othCtor&&othCtor instanceof othCtor)){result=!1}}stack['delete'](object);stack['delete'](other);return result}function flatRest(func){return setToString(overRest(func,void 0,flatten),func+'')}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+'',array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,'placeholder')?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data['string'==typeof key?'string':'hash']:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0}catch(e){}var result=nativeObjectToString.call(value);if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(null==object){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})},getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result},getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):'';if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case'drop':start+=size;break;case'dropRight':end-=size;break;case'take':end=nativeMin(end,start+size);break;case'takeRight':start=nativeMax(start,end-size);break;}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=!1;while(++index<length){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=null==object?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&'string'==typeof array[0]&&hasOwnProperty.call(array,'index')){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return'function'==typeof object.constructor&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object);}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(1<length?'& ':'')+details[lastIndex];details=details.join(2<length?', ':' ');return source.replace(reWrapComment,'{\n/* [wrapped with '+details+'] */\n')}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){length=null==length?MAX_SAFE_INTEGER:length;return!!length&&('number'==typeof value||reIsUint.test(value))&&-1<value&&0==value%1&&value<length}function isIterateeCall(value,index,object){if(!isObject(object)){return!1}var type=typeof index;if('number'==type?isArrayLike(object)&&isIndex(index,object.length):'string'==type&&index in object){return eq(object[index],value)}return!1}function isKey(value,object){if(isArray(value)){return!1}var type=typeof value;if('number'==type||'symbol'==type||'boolean'==type||null==value||isSymbol(value)){return!0}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}function isKeyable(value){var type=typeof value;return'string'==type||'number'==type||'symbol'==type||'boolean'==type?'__proto__'!==value:null===value}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if('function'!=typeof other||!(funcName in LazyWrapper.prototype)){return!1}if(func===other){return!0}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto='function'==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(null==object){return!1}return object[key]===srcValue&&(srcValue!==void 0||key in Object(object))}}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG),isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])}if(null==data[9]){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(null!=object){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===void 0?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return 2>path.length?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:void 0}return array}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+'';return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);lastCalled=stamp;if(0<remaining){if(++count>=800){return arguments[0]}}else{count=0}return func.apply(void 0,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length;size=size===void 0?length:size;while(++index<size){var rand=baseRandom(index,length-1),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=function(func){var result=memoize(func,function(key){if(cache.size===500){cache.clear()}return key}),cache=result.cache;return result}(function(string){var result=[];if(reLeadingDot.test(string)){result.push('')}string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,'$1'):number||match)});return result});function toKey(value){if('string'==typeof value||isSymbol(value)){return value}var result=value+'';return'0'==result&&1/value==-INFINITY?'-0':result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+''}catch(e){}}return''}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value='_.'+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}),differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=void 0}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]}),differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=void 0}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),void 0,comparator):[]});function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length){return-1}var index=null==fromIndex?0:toInteger(fromIndex);if(0>index){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==void 0){index=toInteger(fromIndex);index=0>fromIndex?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){var length=null==array?0:array.length;return length?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:void 0}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=void 0}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]}),intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator='function'==typeof comparator?comparator:void 0;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,void 0,comparator):[]});function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest(function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=void 0}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))}),unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator='function'==typeof comparator?comparator:void 0;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),void 0,comparator)});function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return!0}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(null==iteratee){return result}return arrayMap(result,function(group){return apply(iteratee,void 0,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=void 0}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))}),xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator='function'==typeof comparator?comparator:void 0;return baseXor(arrayFilter(arrays,isArrayLikeObject),void 0,comparator)}),zip=baseRest(unzip);var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=1<length?arrays[length-1]:void 0;iteratee='function'==typeof iteratee?(arrays.pop(),iteratee):void 0;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=!0;return result}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(1<length||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:void 0});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(void 0)}return array})});function wrapperToIterator(){return this}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});var find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});var invokeMap=baseRest(function(collection,path,args){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]='function'==typeof path?apply(path,value,args):baseInvoke(value,path,args)});return result}),keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});var sortBy=baseRest(function(collection,iteratees){if(null==collection){return[]}var length=iteratees.length;if(1<length&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(2<length&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){n=guard?void 0:n;n=func&&null==n?func.length:n;return createWrap(func,WRAP_ARY_FLAG,void 0,void 0,void 0,void 0,n)}function before(n,func){var result;if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(0<--n){result=func.apply(this,arguments)}if(1>=n){func=void 0}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)}),bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?void 0:arity;var result=createWrap(func,WRAP_CURRY_FLAG,void 0,void 0,void 0,void 0,void 0,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?void 0:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,void 0,void 0,void 0,void 0,void 0,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing='maxWait'in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing='trailing'in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=void 0;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===void 0||timeSinceLastCall>=wait||0>timeSinceLastCall||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=void 0;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=void 0;return result}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===void 0){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===void 0){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=function(){if(timerId!==void 0){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=void 0};debounced.flush=function(){return timerId===void 0?result:trailingEdge(now())};return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)}),delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function memoize(func,resolver){if('function'!=typeof func||null!=resolver&&'function'!=typeof resolver){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if('function'!=typeof predicate){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2]);}return!predicate.apply(this,args)}}var overArgs=baseRest(function(func,transforms){transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})}),partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,void 0,partials,holders)}),partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,void 0,partials,holders)}),rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,void 0,void 0,void 0,indexes)});function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(value,other){return value>=other}),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee')},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):function(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value)){return!1}var tag=baseGetTag(value);return tag==errorTag||tag=='[object DOMException]'||'string'==typeof value.message&&'string'==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value)){return!1}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag=='[object AsyncFunction]'||tag=='[object Proxy]'}function isInteger(value){return'number'==typeof value&&value==toInteger(value)}function isLength(value){return'number'==typeof value&&-1<value&&0==value%1&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&('object'==type||'function'==type)}function isObjectLike(value){return null!=value&&'object'==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return'number'==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return!1}var proto=getPrototype(value);if(null===proto){return!0}var Ctor=hasOwnProperty.call(proto,'constructor')&&proto.constructor;return'function'==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag};var isSet=nodeIsSet?baseUnary(nodeIsSet):function(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return'string'==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return'symbol'==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};var lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return 0===value?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=0>value?-1:1;return sign*1.7976931348623157e308}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if('number'==typeof value){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other='function'==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+'':other}if('string'!=typeof value){return 0===value?value:+value}value=value.replace(reTrim,'');var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?'':baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}}),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)}),at=flatRest(baseAt);var defaults=baseRest(function(args){args.push(void 0,customDefaultsAssignIn);return apply(assignInWith,void 0,args)}),defaultsDeep=baseRest(function(args){args.push(void 0,customDefaultsMerge);return apply(mergeWith,void 0,args)});function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return result===void 0?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=flatRest(function(object,paths){var result={};if(null==object){return result}var isDeep=!1;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=1<path.length);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});var pick=flatRest(function(object,paths){return null==object?{}:basePick(object,paths)});function pickBy(object,predicate){if(null==object){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,'')}var kebabCase=createCompounder(function(result,word,index){return result+(index?'-':'')+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toLowerCase()}),lowerFirst=createCaseFirst('toLowerCase');var snakeCase=createCompounder(function(result,word,index){return result+(index?'_':'')+word.toLowerCase()});var startCase=createCompounder(function(result,word,index){return result+(index?' ':'')+upperFirst(word)});var upperCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toUpperCase()}),upperFirst=createCaseFirst('toUpperCase');function words(string,pattern,guard){string=toString(string);pattern=guard?void 0:pattern;if(pattern===void 0){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,void 0,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee('function'==typeof func?func:baseClone(func,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(null==options&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&'chain'in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var add=createMathOperation(function(augend,addend){return augend+addend},0),ceil=createRound('ceil'),divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1),floor=createRound('floor');var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1),round=createRound('round'),subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);lodash.after=function(n,func){if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(1>--n){return func.apply(this,arguments)}}};lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=function(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]};lodash.chain=chain;lodash.chunk=function(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===void 0){size=1}else{size=nativeMax(toInteger(size),0)}var length=null==array?0:array.length;if(!length||1>size){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result};lodash.compact=function(array){var index=-1,length=null==array?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result};lodash.concat=function(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))};lodash.cond=function(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if('function'!=typeof pair[1]){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})};lodash.conforms=function(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))};lodash.constant=constant;lodash.countBy=countBy;lodash.create=function(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)};lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=function(array,n,guard){var length=null==array?0:array.length;if(!length){return[]}n=guard||n===void 0?1:toInteger(n);return baseSlice(array,0>n?0:n,length)};lodash.dropRight=function(array,n,guard){var length=null==array?0:array.length;if(!length){return[]}n=guard||n===void 0?1:toInteger(n);n=length-n;return baseSlice(array,0,0>n?0:n)};lodash.dropRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]};lodash.dropWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]};lodash.fill=function(array,value,start,end){var length=null==array?0:array.length;if(!length){return[]}if(start&&'number'!=typeof start&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)};lodash.filter=function(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))};lodash.flatMap=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)};lodash.flatMapDeep=function(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)};lodash.flatMapDepth=function(collection,iteratee,depth){depth=depth===void 0?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)};lodash.flatten=flatten;lodash.flattenDeep=function(array){var length=null==array?0:array.length;return length?baseFlatten(array,INFINITY):[]};lodash.flattenDepth=function(array,depth){var length=null==array?0:array.length;if(!length){return[]}depth=depth===void 0?1:toInteger(depth);return baseFlatten(array,depth)};lodash.flip=function(func){return createWrap(func,WRAP_FLIP_FLAG)};lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=function(pairs){var index=-1,length=null==pairs?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result};lodash.functions=function(object){return null==object?[]:baseFunctions(object,keys(object))};lodash.functionsIn=function(object){return null==object?[]:baseFunctions(object,keysIn(object))};lodash.groupBy=groupBy;lodash.initial=function(array){var length=null==array?0:array.length;return length?baseSlice(array,0,-1):[]};lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=function(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result};lodash.mapValues=function(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result};lodash.matches=function(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))};lodash.matchesProperty=function(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))};lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=function(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})};lodash.omit=omit;lodash.omitBy=function(object,predicate){return pickBy(object,negate(getIteratee(predicate)))};lodash.once=function(func){return before(2,func)};lodash.orderBy=function(collection,iteratees,orders,guard){if(null==collection){return[]}if(!isArray(iteratees)){iteratees=null==iteratees?[]:[iteratees]}orders=guard?void 0:orders;if(!isArray(orders)){orders=null==orders?[]:[orders]}return baseOrderBy(collection,iteratees,orders)};lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=function(object){return function(path){return null==object?void 0:baseGet(object,path)}};lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=function(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array};lodash.pullAllWith=function(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,void 0,comparator):array};lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=function(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))};lodash.remove=function(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result};lodash.rest=function(func,start){if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}start=start===void 0?start:toInteger(start);return baseRest(func,start)};lodash.reverse=reverse;lodash.sampleSize=function(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===void 0){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)};lodash.set=function(object,path,value){return null==object?object:baseSet(object,path,value)};lodash.setWith=function(object,path,value,customizer){customizer='function'==typeof customizer?customizer:void 0;return null==object?object:baseSet(object,path,value,customizer)};lodash.shuffle=function(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)};lodash.slice=function(array,start,end){var length=null==array?0:array.length;if(!length){return[]}if(end&&'number'!=typeof end&&isIterateeCall(array,start,end)){start=0;end=length}else{start=null==start?0:toInteger(start);end=end===void 0?length:toInteger(end)}return baseSlice(array,start,end)};lodash.sortBy=sortBy;lodash.sortedUniq=function(array){return array&&array.length?baseSortedUniq(array):[]};lodash.sortedUniqBy=function(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]};lodash.split=function(string,separator,limit){if(limit&&'number'!=typeof limit&&isIterateeCall(string,separator,limit)){separator=limit=void 0}limit=limit===void 0?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&('string'==typeof separator||null!=separator&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)};lodash.spread=function(func,start){if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}start=null==start?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})};lodash.tail=function(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]};lodash.take=function(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===void 0?1:toInteger(n);return baseSlice(array,0,0>n?0:n)};lodash.takeRight=function(array,n,guard){var length=null==array?0:array.length;if(!length){return[]}n=guard||n===void 0?1:toInteger(n);n=length-n;return baseSlice(array,0>n?0:n,length)};lodash.takeRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]};lodash.takeWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]};lodash.tap=function(value,interceptor){interceptor(value);return value};lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if('function'!=typeof func){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading='leading'in options?!!options.leading:leading;trailing='trailing'in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})};lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=function(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))};lodash.toPlainObject=toPlainObject;lodash.transform=function(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(null==accumulator){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator};lodash.unary=function(func){return ary(func,1)};lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=function(array){return array&&array.length?baseUniq(array):[]};lodash.uniqBy=function(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]};lodash.uniqWith=function(array,comparator){comparator='function'==typeof comparator?comparator:void 0;return array&&array.length?baseUniq(array,void 0,comparator):[]};lodash.unset=function(object,path){return null==object?!0:baseUnset(object,path)};lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=function(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))};lodash.updateWith=function(object,path,updater,customizer){customizer='function'==typeof customizer?customizer:void 0;return null==object?object:baseUpdate(object,path,castFunction(updater),customizer)};lodash.values=values;lodash.valuesIn=function(object){return null==object?[]:baseValues(object,keysIn(object))};lodash.without=without;lodash.words=words;lodash.wrap=function(value,wrapper){return partial(castFunction(wrapper),value)};lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=function(props,values){return baseZipObject(props||[],values||[],assignValue)};lodash.zipObjectDeep=function(props,values){return baseZipObject(props||[],values||[],baseSet)};lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=function(number,lower,upper){if(upper===void 0){upper=lower;lower=void 0}if(upper!==void 0){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==void 0){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)};lodash.clone=function(value){return baseClone(value,CLONE_SYMBOLS_FLAG)};lodash.cloneDeep=function(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)};lodash.cloneDeepWith=function(value,customizer){customizer='function'==typeof customizer?customizer:void 0;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)};lodash.cloneWith=function(value,customizer){customizer='function'==typeof customizer?customizer:void 0;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)};lodash.conformsTo=function(object,source){return null==source||baseConformsTo(object,source,keys(source))};lodash.deburr=deburr;lodash.defaultTo=function(value,defaultValue){return null==value||value!==value?defaultValue:value};lodash.divide=divide;lodash.endsWith=function(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===void 0?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return 0<=position&&string.slice(position,end)==target};lodash.eq=eq;lodash.escape=function(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string};lodash.escapeRegExp=function(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,'\\$&'):string};lodash.every=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=void 0}return func(collection,getIteratee(predicate,3))};lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)};lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)};lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=function(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)};lodash.forInRight=function(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)};lodash.forOwn=function(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))};lodash.forOwnRight=function(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))};lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=function(object,path){return null!=object&&hasPath(object,path,baseHas)};lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=function(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(0>fromIndex){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&-1<collection.indexOf(value,fromIndex):!!length&&-1<baseIndexOf(collection,value,fromIndex)};lodash.indexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length){return-1}var index=null==fromIndex?0:toInteger(fromIndex);if(0>index){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)};lodash.inRange=function(number,start,end){start=toFinite(start);if(end===void 0){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)};lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag};lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=function(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)};lodash.isEmpty=function(value){if(null==value){return!0}if(isArrayLike(value)&&(isArray(value)||'string'==typeof value||'function'==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return!1}}return!0};lodash.isEqual=function(value,other){return baseIsEqual(value,other)};lodash.isEqualWith=function(value,other,customizer){customizer='function'==typeof customizer?customizer:void 0;var result=customizer?customizer(value,other):void 0;return result===void 0?baseIsEqual(value,other,void 0,customizer):!!result};lodash.isError=isError;lodash.isFinite=function(value){return'number'==typeof value&&nativeIsFinite(value)};lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=function(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))};lodash.isMatchWith=function(object,source,customizer){customizer='function'==typeof customizer?customizer:void 0;return baseIsMatch(object,source,getMatchData(source),customizer)};lodash.isNaN=function(value){return isNumber(value)&&value!=+value};lodash.isNative=function(value){if(isMaskable(value)){throw new Error('Unsupported core-js use. Try https://npms.io/search?q=ponyfill.')}return baseIsNative(value)};lodash.isNil=function(value){return null==value};lodash.isNull=function(value){return null===value};lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=function(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER};lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=function(value){return value===void 0};lodash.isWeakMap=function(value){return isObjectLike(value)&&getTag(value)==weakMapTag};lodash.isWeakSet=function(value){return isObjectLike(value)&&baseGetTag(value)=='[object WeakSet]'};lodash.join=function(array,separator){return null==array?'':nativeJoin.call(array,separator)};lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==void 0){index=toInteger(fromIndex);index=0>index?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)};lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=function(array){return array&&array.length?baseExtremum(array,identity,baseGt):void 0};lodash.maxBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):void 0};lodash.mean=function(array){return baseMean(array,identity)};lodash.meanBy=function(array,iteratee){return baseMean(array,getIteratee(iteratee,2))};lodash.min=function(array){return array&&array.length?baseExtremum(array,identity,baseLt):void 0};lodash.minBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):void 0};lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=function(){return{}};lodash.stubString=function(){return''};lodash.stubTrue=function(){return!0};lodash.multiply=multiply;lodash.nth=function(array,n){return array&&array.length?baseNth(array,toInteger(n)):void 0};lodash.noConflict=function(){if(root._===this){root._=oldDash}return this};lodash.noop=noop;lodash.now=now;lodash.pad=function(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)};lodash.padEnd=function(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string};lodash.padStart=function(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string};lodash.parseInt=function(string,radix,guard){if(guard||null==radix){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,''),radix||0)};lodash.random=function(lower,upper,floating){if(floating&&'boolean'!=typeof floating&&isIterateeCall(lower,upper,floating)){upper=floating=void 0}if(floating===void 0){if('boolean'==typeof upper){floating=upper;upper=void 0}else if('boolean'==typeof lower){floating=lower;lower=void 0}}if(lower===void 0&&upper===void 0){lower=0;upper=1}else{lower=toFinite(lower);if(upper===void 0){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat('1e-'+((rand+'').length-1))),upper)}return baseRandom(lower,upper)};lodash.reduce=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=3>arguments.length;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)};lodash.reduceRight=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=3>arguments.length;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)};lodash.repeat=function(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===void 0){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)};lodash.replace=function(){var args=arguments,string=toString(args[0]);return 3>args.length?string:string.replace(args[1],args[2])};lodash.result=function(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=void 0}while(++index<length){var value=null==object?void 0:object[toKey(path[index])];if(value===void 0){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object};lodash.round=round;lodash.runInContext=runInContext;lodash.sample=function(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)};lodash.size=function(collection){if(null==collection){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length};lodash.snakeCase=snakeCase;lodash.some=function(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=void 0}return func(collection,getIteratee(predicate,3))};lodash.sortedIndex=function(array,value){return baseSortedIndex(array,value)};lodash.sortedIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))};lodash.sortedIndexOf=function(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1};lodash.sortedLastIndex=function(array,value){return baseSortedIndex(array,value,!0)};lodash.sortedLastIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)};lodash.sortedLastIndexOf=function(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value)){return index}}return-1};lodash.startCase=startCase;lodash.startsWith=function(string,target,position){string=toString(string);position=null==position?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target};lodash.subtract=subtract;lodash.sum=function(array){return array&&array.length?baseSum(array,identity):0};lodash.sumBy=function(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0};lodash.template=function(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=void 0}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source='__p += \'',reDelimiters=RegExp((options.escape||reNoMatch).source+'|'+interpolate.source+'|'+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+'|'+(options.evaluate||reNoMatch).source+'|$','g'),sourceURL='//# sourceURL='+('sourceURL'in options?options.sourceURL:'lodash.templateSources['+ ++templateCounter+']')+'\n';string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=!0;source+='\' +\n__e('+escapeValue+') +\n\''}if(evaluateValue){isEvaluating=!0;source+='\';\n'+evaluateValue+';\n__p += \''}if(interpolateValue){source+='\' +\n((__t = ('+interpolateValue+')) == null ? \'\' : __t) +\n\''}index=offset+match.length;return match});source+='\';\n';var variable=options.variable;if(!variable){source='with (obj) {\n'+source+'\n}\n'}source=(isEvaluating?source.replace(reEmptyStringLeading,''):source).replace(reEmptyStringMiddle,'$1').replace(reEmptyStringTrailing,'$1;');source='function('+(variable||'obj')+') {\n'+(variable?'':'obj || (obj = {});\n')+'var __t, __p = \'\''+(isEscaping?', __e = _.escape':'')+(isEvaluating?', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\n':';\n')+source+'return __p\n}';var result=attempt(function(){return Function(importsKeys,sourceURL+'return '+source).apply(void 0,importsValues)});result.source=source;if(isError(result)){throw result}return result};lodash.times=function(n,iteratee){n=toInteger(n);if(1>n||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result};lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=function(value){return toString(value).toLowerCase()};lodash.toNumber=toNumber;lodash.toSafeInteger=function(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):0===value?value:0};lodash.toString=toString;lodash.toUpper=function(value){return toString(value).toUpperCase()};lodash.trim=function(string,chars,guard){string=toString(string);if(string&&(guard||chars===void 0)){return string.replace(reTrim,'')}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join('')};lodash.trimEnd=function(string,chars,guard){string=toString(string);if(string&&(guard||chars===void 0)){return string.replace(reTrimEnd,'')}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join('')};lodash.trimStart=function(string,chars,guard){string=toString(string);if(string&&(guard||chars===void 0)){return string.replace(reTrimStart,'')}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join('')};lodash.truncate=function(string,options){var length=30,omission='...';if(isObject(options)){var separator='separator'in options?options.separator:separator;length='length'in options?toInteger(options.length):length;omission='omission'in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(1>end){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(''):string.slice(0,end);if(separator===void 0){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+'g')}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===void 0?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(-1<index){result=result.slice(0,index)}}return result+omission};lodash.unescape=function(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string};lodash.uniqueId=function(prefix){var id=++idCounter;return toString(prefix)+id};lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:!1});lodash.VERSION='4.17.4';arrayEach(['bind','bindKey','curry','curryRight','partial','partialRight'],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(['drop','take'],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===void 0?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(0>result.__dir__?'Right':'')})}return result};LazyWrapper.prototype[methodName+'Right']=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(['filter','map','takeWhile'],function(methodName,index){var type=index+1;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||type==LAZY_FILTER_FLAG||type==3;return result}});arrayEach(['head','last'],function(methodName,index){var takeName='take'+(index?'Right':'');LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(['initial','tail'],function(methodName,index){var dropName='drop'+(index?'':'Right');LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if('function'==typeof path){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(0<start||0>end)){return new LazyWrapper(result)}if(0>start){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==void 0){end=toInteger(end);result=0>end?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?'take'+('last'==methodName?'Right':''):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&'function'==typeof iteratee&&1!=iteratee.length){isLazy=useLazy=!1}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:void 0});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(['pop','push','shift','sort','splice','unshift'],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?'tap':'thru',retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+'',names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}});realNames[createHybrid(void 0,WRAP_BIND_KEY_FLAG).name]=[{name:'wrapper',func:void 0}];LazyWrapper.prototype.clone=function(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result};LazyWrapper.prototype.reverse=function(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=!0}else{result=this.clone();result.__dir__*=-1}return result};LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=0>dir,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==2){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result};lodash.prototype.at=wrapperAt;lodash.prototype.chain=function(){return chain(this)};lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)};lodash.prototype.next=function(){if(this.__values__===void 0){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?void 0:this.__values__[this.__index__++];return{done:done,value:value}};lodash.prototype.plant=function(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=void 0;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result};lodash.prototype.reverse=function(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:void 0});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)};lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)};lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash}();root._=_;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)}).call(exports,__webpack_require__(31)(module))},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_ProfileTimer__=__webpack_require__(122),__WEBPACK_IMPORTED_MODULE_2_corelib_service_map__=__webpack_require__(123),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const{startUp}=__WEBPACK_IMPORTED_MODULE_2_corelib_service_map__.a,SERVICE_MAP=startUp.reduce((result,current)=>{Object.entries(current).forEach(([key,value])=>{result[key]=value});return result},{}),STARTUP_SERVICES=startUp.map(item=>{const allPairs=Object.entries(item),[firstPair]=allPairs,[key]=firstPair;return key}),SERVICE_WEIGHTS=__WEBPACK_IMPORTED_MODULE_2_corelib_service_map__.a.weights;let SERVICES={},MANUAL_SERVICES={};const DEFAULT_SERVICE_WEIGHT=1;function getService(serviceName,map){const service=map[serviceName];if(!service){throw new Error(`Service Not Found: ${serviceName}`)}return service}function initManualServices(services={}){MANUAL_SERVICES=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapKeys)(services,(v,k)=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.kebabCase)(k));return Object.freeze(MANUAL_SERVICES)}function getServiceWeight(serviceName){let weight=DEFAULT_SERVICE_WEIGHT;if(SERVICE_WEIGHTS&&serviceName in SERVICE_WEIGHTS){weight=SERVICE_WEIGHTS[serviceName];if('number'!==typeof weight){weight=DEFAULT_SERVICE_WEIGHT}}return weight}const getServiceNormalizedWeight=function(serviceName){const weights=Object.keys(SERVICE_MAP).map(getServiceWeight),totalWeight=weights.reduce((memo,weight)=>{return memo+weight});return getServiceWeight(serviceName)/totalWeight};function updateStartedServices(i,result){if(0>i){return}const service=STARTUP_SERVICES[i];if('string'===typeof service){SERVICES[service]=result}else if(Array.isArray(service)){service.forEach((serviceName,i)=>{SERVICES[serviceName]=result[i]})}}function startServices(resolve,reject,progressBar){const progress=function progress(){let percentComplete=0,weightedPercentage=0;function updateProgress(percent){progressBar.value=percentComplete+percent*weightedPercentage}return{setTitle:function(title){progress.serviceLoading=title},updateProgress,startService:function(name){updateProgress(1);progressBar.serviceLoading=name;weightedPercentage=getServiceNormalizedWeight(name);percentComplete=progressBar.value;updateProgress(0)}}}(),progressStub={setTitle(){},updateProgress(){}};function makeFunc(i,resolve){if(i>=STARTUP_SERVICES.length){return result=>{if(0<i){updateStartedServices(i-1,result)}SERVICES=Object.freeze(SERVICES);resolve(SERVICES)}}return result=>{let p=null;const service=STARTUP_SERVICES[i];if(0<i){updateStartedServices(i-1,result)}if('string'===typeof service){progress.startService(service);try{console.log(`SERVICE STARTING: ${service}`);p=getService(service,SERVICE_MAP).start(progress)}catch(e){console.error(e);throw e}}else if(Array.isArray(service)){progress.startService(service.join(','));(()=>{const promiseArray=[];service.forEach(serviceName=>{promiseArray.push(getService(serviceName,SERVICE_MAP).start(progressStub))});p=Promise.all(promiseArray)})()}else{throw new Error(`Invalid type in service map: ${typeof service}`)}p.then(makeFunc(i+1,resolve)).catch(reject);return p}}return makeFunc(0,resolve)().catch(reject)}function startupSanityCheck(){function checkServiceExists(name,prefix){if(!SERVICE_MAP.hasOwnProperty(name)){throw new Error(`${prefix} "${name}" not specified in service map`)}}STARTUP_SERVICES.forEach(service=>{if('string'===typeof service){checkServiceExists(service,'Startup Service')}else if(Array.isArray(service)){service.forEach(name=>{checkServiceExists(name,'Startup Service')})}});Object.keys(SERVICE_WEIGHTS||{}).forEach(service=>{if('string'===typeof service){checkServiceExists(service,'Service[weight]')}});function findInStartup(name){let found=!1;STARTUP_SERVICES.forEach(service=>{if('string'===typeof service){found=found||name===service}else if(Array.isArray(service)){service.forEach(serviceName=>{found=found||name===serviceName})}});return found}Object.keys(SERVICE_MAP).forEach(name=>{if(!findInStartup(name)){console.warn(`Service not in STARTUP_SERVICES: "${name}"`)}})}const services={SERVICE_MAP,get(name){return getService(name,_extends({},SERVICES,MANUAL_SERVICES))},start(progress,manualServices={}){initManualServices(manualServices);return new Promise((resolve,reject)=>{const timer=new __WEBPACK_IMPORTED_MODULE_1_corelib_util_ProfileTimer__.a('Service Startup');startupSanityCheck();timer.start();progress=progress||{};return startServices((...args)=>{timer.logCurrentTime();resolve(...args)},reject,progress)})}};__webpack_exports__.a=services},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_controllers__=__webpack_require__(66),__WEBPACK_IMPORTED_MODULE_2_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_3_corelib_util_executePromise__=__webpack_require__(23);const priv=Symbol('priv');__webpack_exports__.a=superclass=>class extends superclass{static get properties(){return{controllerParams:{type:Object,value:{}},controllerType:{type:String,reflectToAttribute:!0},text:{type:Object,notify:!0,observer:'textChanged'}}}constructor(...args){super(args);this[priv]={controllerEventBinder:new __WEBPACK_IMPORTED_MODULE_2_corelib_util_EventBinder__.a,controller:null}}get controller(){return this[priv].controller}connectedCallback(){super.connectedCallback();Polymer.RenderStatus.beforeNextRender(this,()=>{Object(__WEBPACK_IMPORTED_MODULE_3_corelib_util_executePromise__.a)(()=>{if('function'===typeof this.componentLoaded){this.componentLoaded()}const controllerTypeName=this.controllerType,controllerEventBinder=this[priv].controllerEventBinder,ControllerType='string'===typeof controllerTypeName?__WEBPACK_IMPORTED_MODULE_1_corelib_controllers__.a.get(controllerTypeName):null;if(ControllerType){this[priv].controller=new ControllerType({component:this,eventBinder:controllerEventBinder,services:__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a});const controller=this[priv].controller;if(controller&&'function'===typeof controller.load){controller.load(this.controllerParams)}}}).then(()=>{if('function'===typeof this.controllerReady){this.controllerReady()}}).catch(e=>{console.error(e)})})}disconnectedCallback(){super.disconnectedCallback();try{const controller=this.controller;this[priv].controllerEventBinder.unbindAll();this[priv].controller=null;if(controller&&'function'===typeof controller.destroy){controller.destroy()}}catch(e){console.error(e)}}bind(...args){let source,eventName,handler;if(2>=args.length){[eventName,handler]=args;source=this}else{[source,eventName,handler]=args}return this[priv].controllerEventBinder.bind(source,eventName,handler)}completeWorkflow(args){this.dispatchEvent(new CustomEvent('complete-workflow',{detail:args,bubbles:!0,composed:!0}))}failWorkflow(error){this.dispatchEvent(new CustomEvent('fail-workflow',{detail:error,bubbles:!0,composed:!0}))}cancelWorkflow(){this.dispatchEvent(new CustomEvent('cancel-workflow',{bubbles:!0,composed:!0}))}getText(key,context){const i18n=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('i18n');return i18n.getText(key,context)}stopPropagation(e){e.stopPropagation()}}},function(module,exports,__webpack_require__){var _Mathmax=Math.max,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(factory){var root='object'==typeof self&&self.self===self&&self||'object'==typeof global&&global.global===global&&global;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(129),__webpack_require__(130),exports],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,exports){root.Backbone=factory(root,exports,_,$)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))})(function(root,Backbone,_,$){var previousBackbone=root.Backbone,slice=Array.prototype.slice;Backbone.VERSION='1.3.3';Backbone.$=$;Backbone.noConflict=function(){root.Backbone=previousBackbone;return this};Backbone.emulateHTTP=!1;Backbone.emulateJSON=!1;var addMethod=function(length,method,attribute){switch(length){case 1:return function(){return _[method](this[attribute])};case 2:return function(value){return _[method](this[attribute],value)};case 3:return function(iteratee,context){return _[method](this[attribute],cb(iteratee,this),context)};case 4:return function(iteratee,defaultVal,context){return _[method](this[attribute],cb(iteratee,this),defaultVal,context)};default:return function(){var args=slice.call(arguments);args.unshift(this[attribute]);return _[method].apply(_,args)};}},addUnderscoreMethods=function(Class,methods,attribute){_.each(methods,function(length,method){if(_[method])Class.prototype[method]=addMethod(length,method,attribute)})},cb=function(iteratee,instance){if(_.isFunction(iteratee))return iteratee;if(_.isObject(iteratee)&&!instance._isModel(iteratee))return modelMatcher(iteratee);if(_.isString(iteratee))return function(model){return model.get(iteratee)};return iteratee},modelMatcher=function(attrs){var matcher=_.matches(attrs);return function(model){return matcher(model.attributes)}},Events=Backbone.Events={},eventSplitter=/\s+/,eventsApi=function(iteratee,events,name,callback,opts){var i=0,names;if(name&&'object'===typeof name){if(void 0!==callback&&'context'in opts&&void 0===opts.context)opts.context=callback;for(names=_.keys(name);i<names.length;i++){events=eventsApi(iteratee,events,names[i],name[names[i]],opts)}}else if(name&&eventSplitter.test(name)){for(names=name.split(eventSplitter);i<names.length;i++){events=iteratee(events,names[i],callback,opts)}}else{events=iteratee(events,name,callback,opts)}return events};Events.on=function(name,callback,context){return internalOn(this,name,callback,context)};var internalOn=function(obj,name,callback,context,listening){obj._events=eventsApi(onApi,obj._events||{},name,callback,{context:context,ctx:obj,listening:listening});if(listening){var listeners=obj._listeners||(obj._listeners={});listeners[listening.id]=listening}return obj};Events.listenTo=function(obj,name,callback){if(!obj)return this;var id=obj._listenId||(obj._listenId=_.uniqueId('l')),listeningTo=this._listeningTo||(this._listeningTo={}),listening=listeningTo[id];if(!listening){var thisId=this._listenId||(this._listenId=_.uniqueId('l'));listening=listeningTo[id]={obj:obj,objId:id,id:thisId,listeningTo:listeningTo,count:0}}internalOn(obj,name,callback,this,listening);return this};var onApi=function(events,name,callback,options){if(callback){var handlers=events[name]||(events[name]=[]),context=options.context,ctx=options.ctx,listening=options.listening;if(listening)listening.count++;handlers.push({callback:callback,context:context,ctx:context||ctx,listening:listening})}return events};Events.off=function(name,callback,context){if(!this._events)return this;this._events=eventsApi(offApi,this._events,name,callback,{context:context,listeners:this._listeners});return this};Events.stopListening=function(obj,name,callback){var listeningTo=this._listeningTo;if(!listeningTo)return this;for(var ids=obj?[obj._listenId]:_.keys(listeningTo),i=0,listening;i<ids.length;i++){listening=listeningTo[ids[i]];if(!listening)break;listening.obj.off(name,callback,this)}return this};var offApi=function(events,name,callback,options){if(!events)return;var i=0,listening,context=options.context,listeners=options.listeners;if(!name&&!callback&&!context){var ids=_.keys(listeners);for(;i<ids.length;i++){listening=listeners[ids[i]];delete listeners[listening.id];delete listening.listeningTo[listening.objId]}return}var names=name?[name]:_.keys(events);for(;i<names.length;i++){name=names[i];var handlers=events[name];if(!handlers)break;for(var remaining=[],j=0,handler;j<handlers.length;j++){handler=handlers[j];if(callback&&callback!==handler.callback&&callback!==handler.callback._callback||context&&context!==handler.context){remaining.push(handler)}else{listening=handler.listening;if(listening&&0===--listening.count){delete listeners[listening.id];delete listening.listeningTo[listening.objId]}}}if(remaining.length){events[name]=remaining}else{delete events[name]}}return events};Events.once=function(name,callback,context){var events=eventsApi(onceMap,{},name,callback,_.bind(this.off,this));if('string'===typeof name&&null==context)callback=void 0;return this.on(events,callback,context)};Events.listenToOnce=function(obj,name,callback){var events=eventsApi(onceMap,{},name,callback,_.bind(this.stopListening,this,obj));return this.listenTo(obj,events)};var onceMap=function(map,name,callback,offer){if(callback){var once=map[name]=_.once(function(){offer(name,once);callback.apply(this,arguments)});once._callback=callback}return map};Events.trigger=function(name){if(!this._events)return this;for(var length=_Mathmax(0,arguments.length-1),args=Array(length),i=0;i<length;i++)args[i]=arguments[i+1];eventsApi(triggerApi,this._events,name,void 0,args);return this};var triggerApi=function(objEvents,name,callback,args){if(objEvents){var events=objEvents[name],allEvents=objEvents.all;if(events&&allEvents)allEvents=allEvents.slice();if(events)triggerEvents(events,args);if(allEvents)triggerEvents(allEvents,[name].concat(args))}return objEvents},triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:while(++i<l)(ev=events[i]).callback.call(ev.ctx);return;case 1:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:while(++i<l)(ev=events[i]).callback.apply(ev.ctx,args);}};Events.bind=Events.on;Events.unbind=Events.off;_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var attrs=attributes||{};options||(options={});this.cid=_.uniqueId(this.cidPrefix);this.attributes={};if(options.collection)this.collection=options.collection;if(options.parse)attrs=this.parse(attrs,options)||{};var defaults=_.result(this,'defaults');attrs=_.defaults(_.extend({},defaults,attrs),defaults);this.set(attrs,options);this.changed={};this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:'id',cidPrefix:'c',initialize:function(){},toJSON:function(){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return null!=this.get(attr)},matches:function(attrs){return!!_.iteratee(attrs,this)(this.attributes)},set:function(key,val,options){if(null==key)return this;var attrs;if('object'===typeof key){attrs=key;options=val}else{(attrs={})[key]=val}options||(options={});if(!this._validate(attrs,options))return!1;var unset=options.unset,silent=options.silent,changes=[],changing=this._changing;this._changing=!0;if(!changing){this._previousAttributes=_.clone(this.attributes);this.changed={}}var current=this.attributes,changed=this.changed,prev=this._previousAttributes;for(var attr in attrs){val=attrs[attr];if(!_.isEqual(current[attr],val))changes.push(attr);if(!_.isEqual(prev[attr],val)){changed[attr]=val}else{delete changed[attr]}unset?delete current[attr]:current[attr]=val}if(this.idAttribute in attrs)this.id=this.get(this.idAttribute);if(!silent){if(changes.length)this._pending=options;for(var i=0;i<changes.length;i++){this.trigger('change:'+changes[i],this,current[changes[i]],options)}}if(changing)return this;if(!silent){while(this._pending){options=this._pending;this._pending=!1;this.trigger('change',this,options)}}this._pending=!1;this._changing=!1;return this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:!0}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:!0}))},hasChanged:function(attr){if(null==attr)return!_.isEmpty(this.changed);return _.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var old=this._changing?this._previousAttributes:this.attributes,changed={};for(var attr in diff){var val=diff[attr];if(_.isEqual(old[attr],val))continue;changed[attr]=val}return _.size(changed)?changed:!1},previous:function(attr){if(null==attr||!this._previousAttributes)return null;return this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=_.extend({parse:!0},options);var model=this,success=options.success;options.success=function(resp){var serverAttrs=options.parse?model.parse(resp,options):resp;if(!model.set(serverAttrs,options))return!1;if(success)success.call(options.context,model,resp,options);model.trigger('sync',model,resp,options)};wrapError(this,options);return this.sync('read',this,options)},save:function(key,val,options){var attrs;if(null==key||'object'===typeof key){attrs=key;options=val}else{(attrs={})[key]=val}options=_.extend({validate:!0,parse:!0},options);var wait=options.wait;if(attrs&&!wait){if(!this.set(attrs,options))return!1}else if(!this._validate(attrs,options)){return!1}var model=this,success=options.success,attributes=this.attributes;options.success=function(resp){model.attributes=attributes;var serverAttrs=options.parse?model.parse(resp,options):resp;if(wait)serverAttrs=_.extend({},attrs,serverAttrs);if(serverAttrs&&!model.set(serverAttrs,options))return!1;if(success)success.call(options.context,model,resp,options);model.trigger('sync',model,resp,options)};wrapError(this,options);if(attrs&&wait)this.attributes=_.extend({},attributes,attrs);var method=this.isNew()?'create':options.patch?'patch':'update';if('patch'===method&&!options.attrs)options.attrs=attrs;var xhr=this.sync(method,this,options);this.attributes=attributes;return xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,wait=options.wait,destroy=function(){model.stopListening();model.trigger('destroy',model,model.collection,options)};options.success=function(resp){if(wait)destroy();if(success)success.call(options.context,model,resp,options);if(!model.isNew())model.trigger('sync',model,resp,options)};var xhr=!1;if(this.isNew()){_.defer(options.success)}else{wrapError(this,options);xhr=this.sync('delete',this,options)}if(!wait)destroy();return xhr},url:function(){var base=_.result(this,'urlRoot')||_.result(this.collection,'url')||urlError();if(this.isNew())return base;var id=this.get(this.idAttribute);return base.replace(/[^\/]$/,'$&/')+encodeURIComponent(id)},parse:function(resp){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(options){return this._validate({},_.extend({},options,{validate:!0}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;if(!error)return!0;this.trigger('invalid',this,error,_.extend(options,{validationError:error}));return!1}});addUnderscoreMethods(Model,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},'attributes');var Collection=Backbone.Collection=function(models,options){options||(options={});if(options.model)this.model=options.model;if(void 0!==options.comparator)this.comparator=options.comparator;this._reset();this.initialize.apply(this,arguments);if(models)this.reset(models,_.extend({silent:!0},options))},setOptions={add:!0,remove:!0,merge:!0},addOptions={add:!0,remove:!1},splice=function(array,insert,at){at=Math.min(_Mathmax(at,0),array.length);var tail=Array(array.length-at),length=insert.length,i;for(i=0;i<tail.length;i++)tail[i]=array[i+at];for(i=0;i<length;i++)array[i+at]=insert[i];for(i=0;i<tail.length;i++)array[i+length+at]=tail[i]};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.extend({merge:!1},options,addOptions))},remove:function(models,options){options=_.extend({},options);var singular=!_.isArray(models);models=singular?[models]:models.slice();var removed=this._removeModels(models,options);if(!options.silent&&removed.length){options.changes={added:[],merged:[],removed:removed};this.trigger('update',this,options)}return singular?removed[0]:removed},set:function(models,options){if(null==models)return;options=_.extend({},setOptions,options);if(options.parse&&!this._isModel(models)){models=this.parse(models,options)||[]}var singular=!_.isArray(models);models=singular?[models]:models.slice();var at=options.at;if(null!=at)at=+at;if(at>this.length)at=this.length;if(0>at)at+=this.length+1;var set=[],toAdd=[],toMerge=[],toRemove=[],modelMap={},add=options.add,merge=options.merge,remove=options.remove,sort=!1,sortable=this.comparator&&null==at&&!1!==options.sort,sortAttr=_.isString(this.comparator)?this.comparator:null,model,i;for(i=0;i<models.length;i++){model=models[i];var existing=this.get(model);if(existing){if(merge&&model!==existing){var attrs=this._isModel(model)?model.attributes:model;if(options.parse)attrs=existing.parse(attrs,options);existing.set(attrs,options);toMerge.push(existing);if(sortable&&!sort)sort=existing.hasChanged(sortAttr)}if(!modelMap[existing.cid]){modelMap[existing.cid]=!0;set.push(existing)}models[i]=existing}else if(add){model=models[i]=this._prepareModel(model,options);if(model){toAdd.push(model);this._addReference(model,options);modelMap[model.cid]=!0;set.push(model)}}}if(remove){for(i=0;i<this.length;i++){model=this.models[i];if(!modelMap[model.cid])toRemove.push(model)}if(toRemove.length)this._removeModels(toRemove,options)}var orderChanged=!1;if(set.length&&!sortable&&add&&remove){orderChanged=this.length!==set.length||_.some(this.models,function(m,index){return m!==set[index]});this.models.length=0;splice(this.models,set,0);this.length=this.models.length}else if(toAdd.length){if(sortable)sort=!0;splice(this.models,toAdd,null==at?this.length:at);this.length=this.models.length}if(sort)this.sort({silent:!0});if(!options.silent){for(i=0;i<toAdd.length;i++){if(null!=at)options.index=at+i;model=toAdd[i];model.trigger('add',model,this,options)}if(sort||orderChanged)this.trigger('sort',this,options);if(toAdd.length||toRemove.length||toMerge.length){options.changes={added:toAdd,removed:toRemove,merged:toMerge};this.trigger('update',this,options)}}return singular?models[0]:models},reset:function(models,options){options=options?_.clone(options):{};for(var i=0;i<this.models.length;i++){this._removeReference(this.models[i],options)}options.previousModels=this.models;this._reset();models=this.add(models,_.extend({silent:!0},options));if(!options.silent)this.trigger('reset',this,options);return models},push:function(model,options){return this.add(model,_.extend({at:this.length},options))},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options)},unshift:function(model,options){return this.add(model,_.extend({at:0},options))},shift:function(options){var model=this.at(0);return this.remove(model,options)},slice:function(){return slice.apply(this.models,arguments)},get:function(obj){if(null==obj)return;return this._byId[obj]||this._byId[this.modelId(obj.attributes||obj)]||obj.cid&&this._byId[obj.cid]},has:function(obj){return null!=this.get(obj)},at:function(index){if(0>index)index+=this.length;return this.models[index]},where:function(attrs,first){return this[first?'find':'filter'](attrs)},findWhere:function(attrs){return this.where(attrs,!0)},sort:function(options){var comparator=this.comparator;if(!comparator)throw new Error('Cannot sort a set without a comparator');options||(options={});var length=comparator.length;if(_.isFunction(comparator))comparator=_.bind(comparator,this);if(1===length||_.isString(comparator)){this.models=this.sortBy(comparator)}else{this.models.sort(comparator)}if(!options.silent)this.trigger('sort',this,options);return this},pluck:function(attr){return this.map(attr+'')},fetch:function(options){options=_.extend({parse:!0},options);var success=options.success,collection=this;options.success=function(resp){var method=options.reset?'reset':'set';collection[method](resp,options);if(success)success.call(options.context,collection,resp,options);collection.trigger('sync',collection,resp,options)};wrapError(this,options);return this.sync('read',this,options)},create:function(model,options){options=options?_.clone(options):{};var wait=options.wait;model=this._prepareModel(model,options);if(!model)return!1;if(!wait)this.add(model,options);var collection=this,success=options.success;options.success=function(m,resp,callbackOpts){if(wait)collection.add(m,callbackOpts);if(success)success.call(callbackOpts.context,m,resp,callbackOpts)};model.save(null,options);return model},parse:function(resp){return resp},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(attrs){return attrs[this.model.prototype.idAttribute||'id']},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(attrs,options){if(this._isModel(attrs)){if(!attrs.collection)attrs.collection=this;return attrs}options=options?_.clone(options):{};options.collection=this;var model=new this.model(attrs,options);if(!model.validationError)return model;this.trigger('invalid',this,model.validationError,options);return!1},_removeModels:function(models,options){for(var removed=[],i=0,model;i<models.length;i++){model=this.get(models[i]);if(!model)continue;var index=this.indexOf(model);this.models.splice(index,1);this.length--;delete this._byId[model.cid];var id=this.modelId(model.attributes);if(null!=id)delete this._byId[id];if(!options.silent){options.index=index;model.trigger('remove',model,this,options)}removed.push(model);this._removeReference(model,options)}return removed},_isModel:function(model){return model instanceof Model},_addReference:function(model){this._byId[model.cid]=model;var id=this.modelId(model.attributes);if(null!=id)this._byId[id]=model;model.on('all',this._onModelEvent,this)},_removeReference:function(model){delete this._byId[model.cid];var id=this.modelId(model.attributes);if(null!=id)delete this._byId[id];if(this===model.collection)delete model.collection;model.off('all',this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if(model){if(('add'===event||'remove'===event)&&collection!==this)return;if('destroy'===event)this.remove(model,options);if('change'===event){var prevId=this.modelId(model.previousAttributes()),id=this.modelId(model.attributes);if(prevId!==id){if(null!=prevId)delete this._byId[prevId];if(null!=id)this._byId[id]=model}}}this.trigger.apply(this,arguments)}});addUnderscoreMethods(Collection,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},'models');var View=Backbone.View=function(options){this.cid=_.uniqueId('view');_.extend(this,_.pick(options,viewOptions));this._ensureElement();this.initialize.apply(this,arguments)},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=['model','collection','el','id','attributes','className','tagName','events'];_.extend(View.prototype,Events,{tagName:'div',$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(element){this.undelegateEvents();this._setElement(element);this.delegateEvents();return this},_setElement:function(el){this.$el=el instanceof Backbone.$?el:Backbone.$(el);this.el=this.$el[0]},delegateEvents:function(events){events||(events=_.result(this,'events'));if(!events)return this;this.undelegateEvents();for(var key in events){var method=events[key];if(!_.isFunction(method))method=this[method];if(!method)continue;var match=key.match(delegateEventSplitter);this.delegate(match[1],match[2],_.bind(method,this))}return this},delegate:function(eventName,selector,listener){this.$el.on(eventName+'.delegateEvents'+this.cid,selector,listener);return this},undelegateEvents:function(){if(this.$el)this.$el.off('.delegateEvents'+this.cid);return this},undelegate:function(eventName,selector,listener){this.$el.off(eventName+'.delegateEvents'+this.cid,selector,listener);return this},_createElement:function(tagName){return document.createElement(tagName)},_ensureElement:function(){if(!this.el){var attrs=_.extend({},_.result(this,'attributes'));if(this.id)attrs.id=_.result(this,'id');if(this.className)attrs['class']=_.result(this,'className');this.setElement(this._createElement(_.result(this,'tagName')));this._setAttributes(attrs)}else{this.setElement(_.result(this,'el'))}},_setAttributes:function(attributes){this.$el.attr(attributes)}});Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:'json'};if(!options.url){params.url=_.result(model,'url')||urlError()}if(null==options.data&&model&&('create'===method||'update'===method||'patch'===method)){params.contentType='application/json';params.data=JSON.stringify(options.attrs||model.toJSON(options))}if(options.emulateJSON){params.contentType='application/x-www-form-urlencoded';params.data=params.data?{model:params.data}:{}}if(options.emulateHTTP&&('PUT'===type||'DELETE'===type||'PATCH'===type)){params.type='POST';if(options.emulateJSON)params.data._method=type;var beforeSend=options.beforeSend;options.beforeSend=function(xhr){xhr.setRequestHeader('X-HTTP-Method-Override',type);if(beforeSend)return beforeSend.apply(this,arguments)}}if('GET'!==params.type&&!options.emulateJSON){params.processData=!1}var error=options.error;options.error=function(xhr,textStatus,errorThrown){options.textStatus=textStatus;options.errorThrown=errorThrown;if(error)error.call(options.context,xhr,textStatus,errorThrown)};var xhr=options.xhr=Backbone.ajax(_.extend(params,options));model.trigger('request',model,xhr,options);return xhr};var methodMap={create:'POST',update:'PUT',patch:'PATCH',delete:'DELETE',read:'GET'};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={});if(options.routes)this.routes=options.routes;this._bindRoutes();this.initialize.apply(this,arguments)},optionalParam=/\((.*?)\)/g,namedParam=/(\(\?)?:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){if(!_.isRegExp(route))route=this._routeToRegExp(route);if(_.isFunction(name)){callback=name;name=''}if(!callback)callback=this[name];var router=this;Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);if(!1!==router.execute(callback,args,name)){router.trigger.apply(router,['route:'+name].concat(args));router.trigger('route',name,args);Backbone.history.trigger('route',router,name,args)}});return this},execute:function(callback,args){if(callback)callback.apply(this,args)},navigate:function(fragment,options){Backbone.history.navigate(fragment,options);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=_.result(this,'routes');var route,routes=_.keys(this.routes);while(null!=(route=routes.pop())){this.route(route,this.routes[route])}},_routeToRegExp:function(route){route=route.replace(escapeRegExp,'\\$&').replace(optionalParam,'(?:$1)?').replace(namedParam,function(match,optional){return optional?match:'([^/?]+)'}).replace(splatParam,'([^?]*?)');return new RegExp('^'+route+'(?:\\?([\\s\\S]*))?$')},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param,i){if(i===params.length-1)return param||null;return param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[];this.checkUrl=_.bind(this.checkUrl,this);if('undefined'!==typeof window){this.location=window.location;this.history=window.history}},routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,pathStripper=/#.*$/;History.started=!1;_.extend(History.prototype,Events,{interval:50,atRoot:function(){var path=this.location.pathname.replace(/[^\/]$/,'$&/');return path===this.root&&!this.getSearch()},matchRoot:function(){var path=this.decodeFragment(this.location.pathname),rootPath=path.slice(0,this.root.length-1)+'/';return rootPath===this.root},decodeFragment:function(fragment){return decodeURI(fragment.replace(/%25/g,'%2525'))},getSearch:function(){var match=this.location.href.replace(/#.*/,'').match(/\?.+/);return match?match[0]:''},getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:''},getPath:function(){var path=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return'/'===path.charAt(0)?path.slice(1):path},getFragment:function(fragment){if(null==fragment){if(this._usePushState||!this._wantsHashChange){fragment=this.getPath()}else{fragment=this.getHash()}}return fragment.replace(routeStripper,'')},start:function(options){if(History.started)throw new Error('Backbone.history has already been started');History.started=!0;this.options=_.extend({root:'/'},this.options,options);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange='onhashchange'in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=('/'+this.root+'/').replace(rootStripper,'/');if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var rootPath=this.root.slice(0,-1)||'/';this.location.replace(rootPath+'#'+this.getPath());return!0}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:!0})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement('iframe');this.iframe.src='javascript:0';this.iframe.style.display='none';this.iframe.tabIndex=-1;var body=document.body,iWindow=body.insertBefore(this.iframe,body.firstChild).contentWindow;iWindow.document.open();iWindow.document.close();iWindow.location.hash='#'+this.fragment}var addEventListener=window.addEventListener||function(eventName,listener){return attachEvent('on'+eventName,listener)};if(this._usePushState){addEventListener('popstate',this.checkUrl,!1)}else if(this._useHashChange&&!this.iframe){addEventListener('hashchange',this.checkUrl,!1)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var removeEventListener=window.removeEventListener||function(eventName,listener){return detachEvent('on'+eventName,listener)};if(this._usePushState){removeEventListener('popstate',this.checkUrl,!1)}else if(this._useHashChange&&!this.iframe){removeEventListener('hashchange',this.checkUrl,!1)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(){var current=this.getFragment();if(current===this.fragment&&this.iframe){current=this.getHash(this.iframe.contentWindow)}if(current===this.fragment)return!1;if(this.iframe)this.navigate(current);this.loadUrl()},loadUrl:function(fragment){if(!this.matchRoot())return!1;fragment=this.fragment=this.getFragment(fragment);return _.some(this.handlers,function(handler){if(handler.route.test(fragment)){handler.callback(fragment);return!0}})},navigate:function(fragment,options){if(!History.started)return!1;if(!options||!0===options)options={trigger:!!options};fragment=this.getFragment(fragment||'');var rootPath=this.root;if(''===fragment||'?'===fragment.charAt(0)){rootPath=rootPath.slice(0,-1)||'/'}var url=rootPath+fragment;fragment=this.decodeFragment(fragment.replace(pathStripper,''));if(this.fragment===fragment)return;this.fragment=fragment;if(this._usePushState){this.history[options.replace?'replaceState':'pushState']({},document.title,url)}else if(this._wantsHashChange){this._updateHash(this.location,fragment,options.replace);if(this.iframe&&fragment!==this.getHash(this.iframe.contentWindow)){var iWindow=this.iframe.contentWindow;if(!options.replace){iWindow.document.open();iWindow.document.close()}this._updateHash(iWindow.location,fragment,options.replace)}}else{return this.location.assign(url)}if(options.trigger)return this.loadUrl(fragment)},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,'');location.replace(href+'#'+fragment)}else{location.hash='#'+fragment}}});Backbone.history=new History;Model.extend=Collection.extend=Router.extend=View.extend=History.extend=function(protoProps,staticProps){var parent=this,child;if(protoProps&&_.has(protoProps,'constructor')){child=protoProps.constructor}else{child=function(){return parent.apply(this,arguments)}}_.extend(child,parent,staticProps);child.prototype=_.create(parent.prototype,protoProps);child.prototype.constructor=child;child.__super__=parent.prototype;return child};var urlError=function(){throw new Error('A "url" property or function must be specified')},wrapError=function(model,options){var error=options.error;options.error=function(resp){if(error)error.call(options.context,model,resp,options);model.trigger('error',model,resp,options)}};return Backbone})},function(){(function(){'use strict';const userPolymer=window.Polymer;window.Polymer=function(info){return window.Polymer._polymerFn(info)};if(userPolymer){Object.assign(Polymer,userPolymer)}window.Polymer._polymerFn=function(){throw new Error('Load polymer.html to use the Polymer() function.')};window.Polymer.version='2.6.0';window.JSCompiler_renameProperty=function(prop){return prop}})()},function(module,__webpack_exports__){'use strict';const BINDING_FUNCS=[['on','off'],['bind','unbind'],['addEventListener','removeEventListener']];function getEventBindingFunc(obj){let i,bindFuncs=null,bind=null,unbind=null;for(i=0;i<BINDING_FUNCS.length&&!bindFuncs;++i){bind=obj[BINDING_FUNCS[i][0]];unbind=obj[BINDING_FUNCS[i][1]];if('function'===typeof bind&&'function'===typeof unbind){bindFuncs={bind,unbind}}}return bindFuncs}class EventBinding{constructor(binder,bindFuncs,obj,event,func){this.bindFuncs=bindFuncs;this.obj=obj;this.event=event;this.func=function(){if(binder.enabled){func.apply(this,arguments)}}}bind(){this.bindFuncs.bind.call(this.obj,this.event,this.func)}unbind(){this.bindFuncs.unbind.call(this.obj,this.event,this.func)}on(){this.bind()}off(){this.unbind()}}class EventBinder{constructor(){this.bindings=[];this.enabled=!0}bind(obj,event,func){const bindFuncs=getEventBindingFunc(obj);if(!bindFuncs){throw new Error(`Failed to get binding functions for object: ${obj}`)}const binding=new EventBinding(this,bindFuncs,obj,event,func);this.bindings.push(binding);binding.bind();return binding}unbind(binding){const numBindings=this.bindings.length;this.bindings=this.bindings.filter(b=>b!==binding);if(1!==numBindings-this.bindings.length){console.warn('Binding Not Found in EventBinder:');console.dir(binding)}binding.unbind()}on(obj,event,func){return this.bind(obj,event,func)}off(binding){this.unbind(binding)}unbindAll(){const bindings=[...this.bindings];bindings.forEach(binding=>{this.unbind(binding)});console.assert(0===this.bindings.length);this.bindings=[]}bindListeners({source={},target={},eventMap={}}={}){Object.entries(eventMap).forEach(([sourceEventName,targetListenerName])=>{if('function'!==typeof target[targetListenerName]){throw Error(`Event listener method '${targetListenerName}' on target does not exist for source event '${sourceEventName}'`)}this.bind(source,sourceEventName,(...args)=>{target[targetListenerName](...args)})})}}__webpack_exports__.a=EventBinder;window.EventBinder=EventBinder},function(module,__webpack_exports__){'use strict';const priv=Symbol('priv');__webpack_exports__.a=priv},function(module,exports){var _Mathabs=Math.abs;(function(){const i18n_decimalSeparator=(+1.1).toLocaleString().substring(1,2);let useLocaleDecimal=!1;const replaceLocaleDecimalSeparator=function(s){if(useLocaleDecimal&&'.'!==i18n_decimalSeparator){return s.replace('.',i18n_decimalSeparator)}return s};function _sprintf(format){if('string'!==typeof format){throw'sprintf: The first arguments need to be a valid format string.'}const r=new RegExp(/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdeEgGfFosxX])/g),parts=[];let paramIndex=1,part;while(part=r.exec(format)){if(paramIndex>=arguments.length){throw'sprintf: At least one argument was missing.'}parts[parts.length]={begin:part.index,end:part.index+part[0].length,sign:'+'===part[1],negative:0>parseFloat(arguments[paramIndex]),padding:part[2]===void 0?' ':'\''==part[2].substring(0,1)?part[3]:part[2],alignLeft:'-'===part[4],width:part[5]!==void 0?part[5]:!1,precision:part[7]!==void 0?part[7]:!1,type:part[8],data:'%'!==part[8]?arguments[paramIndex++]+'':!1}}let newString='',start=0;for(let i=0;i<parts.length;++i){newString+=format.substring(start,parts[i].begin);start=parts[i].end;let preSubstitution='',caseConvert=null;switch(parts[i].type){case'%':preSubstitution='%';break;case'b':preSubstitution=_Mathabs(parts[i].data>>>0).toString(2);break;case'c':preSubstitution=String.fromCharCode(_Mathabs(parseInt(parts[i].data)));break;case'd':preSubstitution=_Mathabs(+parts[i].data)+'';break;case'E':caseConvert='toUpperCase';case'e':if(!1===parts[i].precision){parts[i].precision=6}preSubstitution=_Mathabs(parseFloat(parts[i].data)).toExponential(parts[i].precision);preSubstitution=replaceLocaleDecimalSeparator(preSubstitution);break;case'G':caseConvert='toUpperCase';case'g':if(!1===parts[i].precision){parts[i].precision=6}preSubstitution=_Mathabs(parseFloat(parts[i].data)).toPrecision(parts[i].precision);preSubstitution=replaceLocaleDecimalSeparator(preSubstitution);break;case'F':caseConvert='toUpperCase';case'f':if(!1===parts[i].precision){parts[i].precision=6}preSubstitution=_Mathabs(parseFloat(parts[i].data)).toFixed(parts[i].precision);preSubstitution=replaceLocaleDecimalSeparator(preSubstitution);break;case'o':preSubstitution=_Mathabs(parts[i].data>>>0).toString(8);break;case's':if(!1!==parts[i].precision){preSubstitution=parts[i].data.substring(0,parts[i].precision)}else{preSubstitution=parts[i].data}break;case'X':caseConvert='toUpperCase';case'x':preSubstitution=_Mathabs(parts[i].data>>>0).toString(16);break;default:throw`sprintf: Unknown type "${parts[i].type}" detected. This should never happen. Maybe the regex is wrong.`;}if(caseConvert){preSubstitution=preSubstitution[caseConvert]()}if('%'==parts[i].type){newString+=preSubstitution;continue}if('b'===parts[i].type||'d'===parts[i].type||'g'===parts[i].type||'G'===parts[i].type||'e'===parts[i].type||'E'===parts[i].type||'f'===parts[i].type||'F'===parts[i].type){if(!0===parts[i].negative){preSubstitution=`-${preSubstitution}`}else if(!0===parts[i].sign){preSubstitution=`+${preSubstitution}`}}if(!1!=parts[i].width){if(parts[i].width>preSubstitution.length){const origLength=preSubstitution.length;for(let j=0;j<parts[i].width-origLength;++j){preSubstitution=!0==parts[i].alignLeft?preSubstitution+parts[i].padding:parts[i].padding+preSubstitution}}}newString+=preSubstitution}newString+=format.substring(start,format.length);return newString}const sprintfIgnoreLocale=function(){useLocaleDecimal=!1;return _sprintf(...arguments)},sprintf=function(){useLocaleDecimal=!0;return _sprintf(...arguments)};exports.sprintf=sprintf;exports.sprintfIgnoreLocale=sprintfIgnoreLocale;module.exports.sprintf=sprintf;module.exports.sprintfIgnoreLocale=sprintfIgnoreLocale})('undefied'===typeof window?this:window)},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';let dedupeId=0;function MixinFunction(){}MixinFunction.prototype.__mixinApplications;MixinFunction.prototype.__mixinSet;Polymer.dedupingMixin=function(mixin){let mixinApplications=mixin.__mixinApplications;if(!mixinApplications){mixinApplications=new WeakMap;mixin.__mixinApplications=mixinApplications}let mixinDedupeId=dedupeId++;return function(base){let baseSet=base.__mixinSet;if(baseSet&&baseSet[mixinDedupeId]){return base}let map=mixinApplications,extended=map.get(base);if(!extended){extended=mixin(base);map.set(base,extended)}let mixinSet=Object.create(extended.__mixinSet||baseSet||null);mixinSet[mixinDedupeId]=!0;extended.__mixinSet=mixinSet;return extended}}})()},function(module){module.exports=require('electron')},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathabs2=Math.abs,__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__);const formatter={getValue(value,ignoreLocale){const absValue=_Mathabs2(value);let output='',fmtString=null;if(1e-3<absValue&&1e4>absValue||0===value){fmtString='%0.3f'}else if(1e-3>=absValue||1e4<=absValue){fmtString='%0.3e'}else{fmtString='%0.3f'}if('number'===typeof value){if(ignoreLocale){output=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintfIgnoreLocale)(fmtString,value)}else{output=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)(fmtString,value)}}return output},checkNegativeZero(value,strValue){let negSignIndex=-1;if(0>=value&&-1<value){if(!strValue.match(/[123456789]/)){negSignIndex=strValue.indexOf('-');if(0<=negSignIndex){strValue=strValue.substr(negSignIndex+1)}}}return strValue},scientficNotation(value){const absValue=_Mathabs2(value);if(1e-3<absValue&&1e4>absValue||0===value){return Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)('%.3f',value)}return Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)('%.3e',value)},sigFig(number,maxPrecision){maxPrecision=parseInt(maxPrecision);return parseFloat(Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintfIgnoreLocale)(`%.${maxPrecision}g`,number))},convertTimeUnits(time,unitsIn,unitsOut){const secondConversions={ms:0.001,s:1,min:60,h:3600},seconds=time*secondConversions[unitsIn];return seconds/secondConversions[unitsOut]},getPrecision(number){if(Number.isNaN(number)){return 0}const match=`${number}`.match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!match){return 0}return Math.max(0,(match[1]?match[1].length:0)-(match[2]?+match[2]:0))}};__webpack_exports__.a=formatter},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);const VSTModel=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Model.extend({});__webpack_exports__.a=VSTModel;VSTModel.makePropertyAccessor=function(propName,writable){const propDef={get(){return this.get(propName)}};if(writable){propDef.set=function(v){this.set(propName,v)}}return propDef};VSTModel.prototype.bindChangeEvent=function(propName,nextAction){this.on(`change:${propName}`,function(model,newValue){if(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(nextAction)){const oldValue=model._previousAttributes[propName];this.trigger.apply(this,[nextAction,newValue,oldValue,model])}else if(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isFunction(nextAction)){nextAction(model)}})}},function(module,__webpack_exports__){'use strict';var _this=this;const{RenderStatus}=Polymer;__webpack_exports__.a=()=>new Promise(resolve=>RenderStatus.afterNextRender(_this,resolve));__webpack_exports__.b=()=>new Promise(resolve=>RenderStatus.beforeNextRender(_this,resolve))},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2016 Benjamin Tan <https://demoneaux.github.io/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */(function(){'use strict';var objectTypes={function:!0,object:!0},root=objectTypes[typeof window]&&window||this,oldRoot=root,freeExports=objectTypes[typeof exports]&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&'object'==typeof global&&global;if(freeGlobal&&(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal)){root=freeGlobal}var reOpera=/\bOpera/,thisBinding=this,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,toString=objectProto.toString;function capitalize(string){string=string+'';return string.charAt(0).toUpperCase()+string.slice(1)}function cleanupOS(os,pattern,label){var data={"10.0":'10',6.4:'10 Technical Preview',6.3:'8.1',6.2:'8',6.1:'Server 2008 R2 / 7',"6.0":'Server 2008 / Vista',5.2:'Server 2003 / XP 64-bit',5.1:'XP',5.01:'2000 SP1',"5.0":'2000',"4.0":'NT',"4.90":'ME'};if(pattern&&label&&/^Win/i.test(os)&&!/^Windows Phone /i.test(os)&&(data=data[/[\d.]+$/.exec(os)])){os='Windows '+data}os=os+'';if(pattern&&label){os=os.replace(RegExp(pattern,'i'),label)}os=format(os.replace(/ ce$/i,' CE').replace(/\bhpw/i,'web').replace(/\bMacintosh\b/,'Mac OS').replace(/_PowerPC\b/i,' OS').replace(/\b(OS X) [^ \d]+/i,'$1').replace(/\bMac (OS X)\b/,'$1').replace(/\/(\d)/,' $1').replace(/_/g,'.').replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,'').replace(/\bx86\.64\b/gi,'x86_64').replace(/\b(Windows Phone) OS\b/,'$1').replace(/\b(Chrome OS \w+) [\d.]+\b/,'$1').split(' on ')[0]);return os}function each(object,callback){var index=-1,length=object?object.length:0;if('number'==typeof length&&-1<length&&length<=9007199254740991){while(++index<length){callback(object[index],index,object)}}else{forOwn(object,callback)}}function format(string){string=trim(string);return /^(?:webOS|i(?:OS|P))/.test(string)?string:capitalize(string)}function forOwn(object,callback){for(var key in object){if(hasOwnProperty.call(object,key)){callback(object[key],key,object)}}}function getClassOf(value){return null==value?capitalize(value):toString.call(value).slice(8,-1)}function isHostType(object,property){var type=null!=object?typeof object[property]:'number';return!/^(?:boolean|number|string|undefined)$/.test(type)&&('object'==type?!!object[property]:!0)}function qualify(string){return(string+'').replace(/([ -])(?!$)/g,'$1?')}function reduce(array,callback){var accumulator=null;each(array,function(value,index){accumulator=callback(accumulator,value,index,array)});return accumulator}function trim(string){return(string+'').replace(/^ +| +$/g,'')}function parse(ua){var context=root,isCustomContext=ua&&'object'==typeof ua&&'String'!=getClassOf(ua);if(isCustomContext){context=ua;ua=null}var nav=context.navigator||{},userAgent=nav.userAgent||'';ua||(ua=userAgent);var likeChrome=isCustomContext?!!nav.likeChrome:/\bChrome\b/.test(ua)&&!/internal|\n/i.test(toString.toString()),objectClass='Object',airRuntimeClass=isCustomContext?objectClass:'ScriptBridgingProxyObject',enviroClass=isCustomContext?objectClass:'Environment',javaClass=isCustomContext&&context.java?'JavaPackage':getClassOf(context.java),phantomClass=isCustomContext?objectClass:'RuntimeObject',java=/\bJava/.test(javaClass)&&context.java,rhino=java&&getClassOf(context.environment)==enviroClass,alpha=java?'a':'\u03B1',beta=java?'b':'\u03B2',doc=context.document||{},opera=context.operamini||context.opera,operaClass=reOpera.test(operaClass=isCustomContext&&opera?opera['[[Class]]']:getClassOf(opera))?operaClass:opera=null,data,arch=ua,description=[],prerelease=null,useFeatures=ua==userAgent,version=useFeatures&&opera&&'function'==typeof opera.version&&opera.version(),isSpecialCasedOS,layout=function(guesses){return reduce(guesses,function(result,guess){return result||RegExp('\\b'+(guess.pattern||qualify(guess))+'\\b','i').exec(ua)&&(guess.label||guess)})}([{label:'EdgeHTML',pattern:'Edge'},'Trident',{label:'WebKit',pattern:'AppleWebKit'},'iCab','Presto','NetFront','Tasman','KHTML','Gecko']),name=function(guesses){return reduce(guesses,function(result,guess){return result||RegExp('\\b'+(guess.pattern||qualify(guess))+'\\b','i').exec(ua)&&(guess.label||guess)})}(['Adobe AIR','Arora','Avant Browser','Breach','Camino','Electron','Epiphany','Fennec','Flock','Galeon','GreenBrowser','iCab','Iceweasel','K-Meleon','Konqueror','Lunascape','Maxthon',{label:'Microsoft Edge',pattern:'Edge'},'Midori','Nook Browser','PaleMoon','PhantomJS','Raven','Rekonq','RockMelt',{label:'Samsung Internet',pattern:'SamsungBrowser'},'SeaMonkey',{label:'Silk',pattern:'(?:Cloud9|Silk-Accelerated)'},'Sleipnir','SlimBrowser',{label:'SRWare Iron',pattern:'Iron'},'Sunrise','Swiftfox','Waterfox','WebPositive','Opera Mini',{label:'Opera Mini',pattern:'OPiOS'},'Opera',{label:'Opera',pattern:'OPR'},'Chrome',{label:'Chrome Mobile',pattern:'(?:CriOS|CrMo)'},{label:'Firefox',pattern:'(?:Firefox|Minefield)'},{label:'Firefox for iOS',pattern:'FxiOS'},{label:'IE',pattern:'IEMobile'},{label:'IE',pattern:'MSIE'},'Safari']),product=getProduct([{label:'BlackBerry',pattern:'BB10'},'BlackBerry',{label:'Galaxy S',pattern:'GT-I9000'},{label:'Galaxy S2',pattern:'GT-I9100'},{label:'Galaxy S3',pattern:'GT-I9300'},{label:'Galaxy S4',pattern:'GT-I9500'},{label:'Galaxy S5',pattern:'SM-G900'},{label:'Galaxy S6',pattern:'SM-G920'},{label:'Galaxy S6 Edge',pattern:'SM-G925'},{label:'Galaxy S7',pattern:'SM-G930'},{label:'Galaxy S7 Edge',pattern:'SM-G935'},'Google TV','Lumia','iPad','iPod','iPhone','Kindle',{label:'Kindle Fire',pattern:'(?:Cloud9|Silk-Accelerated)'},'Nexus','Nook','PlayBook','PlayStation Vita','PlayStation','TouchPad','Transformer',{label:'Wii U',pattern:'WiiU'},'Wii','Xbox One',{label:'Xbox 360',pattern:'Xbox'},'Xoom']),manufacturer=function(guesses){return reduce(guesses,function(result,value,key){return result||(value[product]||value[/^[a-z]+(?: +[a-z]+\b)*/i.exec(product)]||RegExp('\\b'+qualify(key)+'(?:\\b|\\w*\\d)','i').exec(ua))&&key})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),os=function(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);if(!result&&(result=RegExp('\\b'+pattern+'(?:/[\\d.]+|[ \\w.]*)','i').exec(ua))){result=cleanupOS(result,pattern,guess.label||guess)}return result})}(['Windows Phone','Android','CentOS',{label:'Chrome OS',pattern:'CrOS'},'Debian','Fedora','FreeBSD','Gentoo','Haiku','Kubuntu','Linux Mint','OpenBSD','Red Hat','SuSE','Ubuntu','Xubuntu','Cygwin','Symbian OS','hpwOS','webOS ','webOS','Tablet OS','Tizen','Linux','Mac OS X','Macintosh','Mac','Windows 98;','Windows ']);function getProduct(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);if(!result&&(result=RegExp('\\b'+pattern+' *\\d+[.\\w_]*','i').exec(ua)||RegExp('\\b'+pattern+' *\\w+-[\\w]*','i').exec(ua)||RegExp('\\b'+pattern+'(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)','i').exec(ua))){if((result=((guess.label&&!RegExp(pattern,'i').test(guess.label)?guess.label:result)+'').split('/'))[1]&&!/[\d.]+/.test(result[0])){result[0]+=' '+result[1]}guess=guess.label||guess;result=format(result[0].replace(RegExp(pattern,'i'),guess).replace(RegExp('; *(?:'+guess+'[_-])?','i'),' ').replace(RegExp('('+guess+')[-_.]?(\\w)','i'),'$1 $2'))}return result})}function getVersion(patterns){return reduce(patterns,function(result,pattern){return result||(RegExp(pattern+'(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)','i').exec(ua)||0)[1]||null})}layout&&(layout=[layout]);if(manufacturer&&!product){product=getProduct([manufacturer])}if(data=/\bGoogle TV\b/.exec(product)){product=data[0]}if(/\bSimulator\b/i.test(ua)){product=(product?product+' ':'')+'Simulator'}if('Opera Mini'==name&&/\bOPiOS\b/.test(ua)){description.push('running in Turbo/Uncompressed mode')}if('IE'==name&&/\blike iPhone OS\b/.test(ua)){data=parse(ua.replace(/like iPhone OS/,''));manufacturer=data.manufacturer;product=data.product}else if(/^iP/.test(product)){name||(name='Safari');os='iOS'+((data=/ OS ([\d_]+)/i.exec(ua))?' '+data[1].replace(/_/g,'.'):'')}else if('Konqueror'==name&&!/buntu/i.test(os)){os='Kubuntu'}else if(manufacturer&&'Google'!=manufacturer&&(/Chrome/.test(name)&&!/\bMobile Safari\b/i.test(ua)||/\bVita\b/.test(product))||/\bAndroid\b/.test(os)&&/^Chrome/.test(name)&&/\bVersion\//i.test(ua)){name='Android Browser';os=/\bAndroid\b/.test(os)?os:'Android'}else if('Silk'==name){if(!/\bMobi/i.test(ua)){os='Android';description.unshift('desktop mode')}if(/Accelerated *= *true/i.test(ua)){description.unshift('accelerated')}}else if('PaleMoon'==name&&(data=/\bFirefox\/([\d.]+)\b/.exec(ua))){description.push('identifying as Firefox '+data[1])}else if('Firefox'==name&&(data=/\b(Mobile|Tablet|TV)\b/i.exec(ua))){os||(os='Firefox OS');product||(product=data[1])}else if(!name||(data=!/\bMinefield\b/i.test(ua)&&/\b(?:Firefox|Safari)\b/.exec(name))){if(name&&!product&&/[\/,]|^[^(]+?\)/.test(ua.slice(ua.indexOf(data+'/')+8))){name=null}if((data=product||manufacturer||os)&&(product||manufacturer||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(os))){name=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(os)?os:data)+' Browser'}}else if('Electron'==name&&(data=(/\bChrome\/([\d.]+)\b/.exec(ua)||0)[1])){description.push('Chromium '+data)}if(!version){version=getVersion(['(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))','Version',qualify(name),'(?:Firefox|Minefield|NetFront)'])}if(data='iCab'==layout&&3<parseFloat(version)&&'WebKit'||/\bOpera\b/.test(name)&&(/\bOPR\b/.test(ua)?'Blink':'Presto')||/\b(?:Midori|Nook|Safari)\b/i.test(ua)&&!/^(?:Trident|EdgeHTML)$/.test(layout)&&'WebKit'||!layout&&/\bMSIE\b/i.test(ua)&&('Mac OS'==os?'Tasman':'Trident')||'WebKit'==layout&&/\bPlayStation\b(?! Vita\b)/i.test(name)&&'NetFront'){layout=[data]}if('IE'==name&&(data=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(ua)||0)[1])){name+=' Mobile';os='Windows Phone '+(/\+$/.test(data)?data:data+'.x');description.unshift('desktop mode')}else if(/\bWPDesktop\b/i.test(ua)){name='IE Mobile';os='Windows Phone 8.x';description.unshift('desktop mode');version||(version=(/\brv:([\d.]+)/.exec(ua)||0)[1])}else if('IE'!=name&&'Trident'==layout&&(data=/\brv:([\d.]+)/.exec(ua))){if(name){description.push('identifying as '+name+(version?' '+version:''))}name='IE';version=data[1]}if(useFeatures){if(isHostType(context,'global')){if(java){data=java.lang.System;arch=data.getProperty('os.arch');os=os||data.getProperty('os.name')+' '+data.getProperty('os.version')}if((isCustomContext||thisBinding==oldRoot)&&isHostType(context,'system')&&(data=[context.system])[0]){os||(os=data[0].os||null);try{data[1]=context.require('ringo/engine').version;version=data[1].join('.');name='RingoJS'}catch(e){if(data[0].global.system==context.system){name='Narwhal'}}}else if('object'==typeof context.process&&!context.process.browser&&(data=context.process)){if('object'==typeof data.versions){if('string'==typeof data.versions.electron){description.push('Node '+data.versions.node);name='Electron';version=data.versions.electron}else if('string'==typeof data.versions.nw){description.push('Chromium '+version,'Node '+data.versions.node);name='NW.js';version=data.versions.nw}}else{name='Node.js';arch=data.arch;os=data.platform;version=/[\d.]+/.exec(data.version);version=version?version[0]:'unknown'}}else if(rhino){name='Rhino'}}else if(getClassOf(data=context.runtime)==airRuntimeClass){name='Adobe AIR';os=data.flash.system.Capabilities.os}else if(getClassOf(data=context.phantom)==phantomClass){name='PhantomJS';version=(data=data.version||null)&&data.major+'.'+data.minor+'.'+data.patch}else if('number'==typeof doc.documentMode&&(data=/\bTrident\/(\d+)/i.exec(ua))){version=[version,doc.documentMode];if((data=+data[1]+4)!=version[1]){description.push('IE '+version[1]+' mode');layout&&(layout[1]='');version[1]=data}version='IE'==name?version[1].toFixed(1)+'':version[0]}else if('number'==typeof doc.documentMode&&/^(?:Chrome|Firefox)\b/.test(name)){description.push('masking as '+name+' '+version);name='IE';version='11.0';layout=['Trident'];os='Windows'}os=os&&format(os)}if(version&&(data=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(version)||/(?:alpha|beta)(?: ?\d)?/i.exec(ua+';'+(useFeatures&&nav.appMinorVersion))||/\bMinefield\b/i.test(ua)&&'a')){prerelease=/b/i.test(data)?'beta':'alpha';version=version.replace(RegExp(data+'\\+?$'),'')+('beta'==prerelease?beta:alpha)+(/\d+\+?/.exec(data)||'')}if('Fennec'==name||'Firefox'==name&&/\b(?:Android|Firefox OS)\b/.test(os)){name='Firefox Mobile'}else if('Maxthon'==name&&version){version=version.replace(/\.[\d.]+/,'.x')}else if(/\bXbox\b/i.test(product)){if('Xbox 360'==product){os=null}if('Xbox 360'==product&&/\bIEMobile\b/.test(ua)){description.unshift('mobile mode')}}else if((/^(?:Chrome|IE|Opera)$/.test(name)||name&&!product&&!/Browser|Mobi/.test(name))&&('Windows CE'==os||/Mobi/i.test(ua))){name+=' Mobile'}else if('IE'==name&&useFeatures){try{if(null===context.external){description.unshift('platform preview')}}catch(e){description.unshift('embedded')}}else if((/\bBlackBerry\b/.test(product)||/\bBB10\b/.test(ua))&&(data=(RegExp(product.replace(/ +/g,' *')+'/([.\\d]+)','i').exec(ua)||0)[1]||version)){data=[data,/BB10/.test(ua)];os=(data[1]?(product=null,manufacturer='BlackBerry'):'Device Software')+' '+data[0];version=null}else if(this!=forOwn&&'Wii'!=product&&(useFeatures&&opera||/Opera/.test(name)&&/\b(?:MSIE|Firefox)\b/i.test(ua)||'Firefox'==name&&/\bOS X (?:\d+\.){2,}/.test(os)||'IE'==name&&(os&&!/^Win/.test(os)&&5.5<version||/\bWindows XP\b/.test(os)&&8<version||8==version&&!/\bTrident\b/.test(ua)))&&!reOpera.test(data=parse.call(forOwn,ua.replace(reOpera,'')+';'))&&data.name){data='ing as '+data.name+((data=data.version)?' '+data:'');if(reOpera.test(name)){if(/\bIE\b/.test(data)&&'Mac OS'==os){os=null}data='identify'+data}else{data='mask'+data;if(operaClass){name=format(operaClass.replace(/([a-z])([A-Z])/g,'$1 $2'))}else{name='Opera'}if(/\bIE\b/.test(data)){os=null}if(!useFeatures){version=null}}layout=['Presto'];description.push(data)}if(data=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(ua)||0)[1]){data=[parseFloat(data.replace(/\.(\d)$/,'.0$1')),data];if('Safari'==name&&'+'==data[1].slice(-1)){name='WebKit Nightly';prerelease='alpha';version=data[1].slice(0,-1)}else if(version==data[1]||version==(data[2]=(/\bSafari\/([\d.]+\+?)/i.exec(ua)||0)[1])){version=null}data[1]=(/\bChrome\/([\d.]+)/i.exec(ua)||0)[1];if(537.36==data[0]&&537.36==data[2]&&28<=parseFloat(data[1])&&'WebKit'==layout){layout=['Blink']}if(!useFeatures||!likeChrome&&!data[1]){layout&&(layout[1]='like Safari');data=(data=data[0],400>data?1:500>data?2:526>data?3:533>data?4:534>data?'4+':535>data?5:537>data?6:538>data?7:601>data?8:'8')}else{layout&&(layout[1]='like Chrome');data=data[1]||(data=data[0],530>data?1:532>data?2:532.05>data?3:533>data?4:534.03>data?5:534.07>data?6:534.1>data?7:534.13>data?8:534.16>data?9:534.24>data?10:534.3>data?11:535.01>data?12:535.02>data?'13+':535.07>data?15:535.11>data?16:535.19>data?17:536.05>data?18:536.1>data?19:537.01>data?20:537.11>data?'21+':537.13>data?23:537.18>data?24:537.24>data?25:537.36>data?26:'Blink'!=layout?'27':'28')}layout&&(layout[1]+=' '+(data+='number'==typeof data?'.x':/[.+]/.test(data)?'':'+'));if('Safari'==name&&(!version||45<parseInt(version))){version=data}}if('Opera'==name&&(data=/\bzbov|zvav$/.exec(os))){name+=' ';description.unshift('desktop mode');if('zvav'==data){name+='Mini';version=null}else{name+='Mobile'}os=os.replace(RegExp(' *'+data+'$'),'')}else if('Safari'==name&&/\bChrome\b/.exec(layout&&layout[1])){description.unshift('desktop mode');name='Chrome Mobile';version=null;if(/\bOS X\b/.test(os)){manufacturer='Apple';os='iOS 4.3+'}else{os=null}}if(version&&0==version.indexOf(data=/[\d.]+$/.exec(os))&&-1<ua.indexOf('/'+data+'-')){os=trim(os.replace(data,''))}if(layout&&!/\b(?:Avant|Nook)\b/.test(name)&&(/Browser|Lunascape|Maxthon/.test(name)||'Safari'!=name&&/^iOS/.test(os)&&/\bSafari\b/.test(layout[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(name)&&layout[1])){(data=layout[layout.length-1])&&description.push(data)}if(description.length){description=['('+description.join('; ')+')']}if(manufacturer&&product&&0>product.indexOf(manufacturer)){description.push('on '+manufacturer)}if(product){description.push((/^on /.test(description[description.length-1])?'':'on ')+product)}if(os){data=/ ([\d.+]+)$/.exec(os);isSpecialCasedOS=data&&'/'==os.charAt(os.length-data[0].length-1);os={architecture:32,family:data&&!isSpecialCasedOS?os.replace(data[0],''):os,version:data?data[1]:null,toString:function(){var version=this.version;return this.family+(version&&!isSpecialCasedOS?' '+version:'')+(64==this.architecture?' 64-bit':'')}}}if((data=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(arch))&&!/\bi686\b/i.test(arch)){if(os){os.architecture=64;os.family=os.family.replace(RegExp(' *'+data),'')}if(name&&(/\bWOW64\b/i.test(ua)||useFeatures&&/\w(?:86|32)$/.test(nav.cpuClass||nav.platform)&&!/\bWin64; x64\b/i.test(ua))){description.unshift('32-bit')}}else if(os&&/^OS X/.test(os.family)&&'Chrome'==name&&39<=parseFloat(version)){os.architecture=64}ua||(ua=null);var platform={description:ua,layout:layout&&layout[0],manufacturer:manufacturer,name:name,prerelease:prerelease,product:product,ua:ua,version:name&&version,os:os||{architecture:null,family:null,version:null,toString:function(){return'null'}}};platform.parse=parse;platform.toString=function(){return this.description||''};if(platform.version){description.unshift(version)}if(platform.name){description.unshift(name)}if(os&&name&&!(os==(os+'').split(' ')[0]&&(os==name.split(' ')[0]||product))){description.push(product?'('+os+')':'on '+os)}if(description.length){platform.description=description.join(' ')}return platform}var platform=parse();root.platform=platform;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return platform}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)}).call(exports,__webpack_require__(31)(module))},function(module,__webpack_exports__){'use strict';function GetError(xhr){const statusText=xhr.statusText;let newError;if(''===statusText){newError=new Error(400)}return newError}function get(url,options={timeout:7e4}){return new Promise((_resolve,_reject)=>{const retryTimeout=3e3;let timer;const resolve=function(){clearTimeout(timer);_resolve.apply(this,arguments)},reject=function(){clearTimeout(timer);_reject.apply(this,arguments)};function _get(){const xhr=new XMLHttpRequest;xhr.open('GET',url);xhr.onload=()=>{if(200===xhr.status||0===xhr.status){resolve(xhr.response)}else if(503===xhr.status){console.warn(`503: Server is busy, retrying after ${retryTimeout} milliseconds`);clearTimeout(timer);timer=setTimeout(_get,retryTimeout)}else{reject(new Error(xhr.status))}};xhr.onerror=()=>{reject(new GetError(xhr))};xhr.ontimeout=()=>{reject(new Error(408))};xhr.timeout=options.timeout;xhr.send()}_get()})}__webpack_exports__.a={get,getJSON:function(url,options){return new Promise((resolve,reject)=>{get(url,options).then(data=>{try{resolve(JSON.parse(data))}catch(e){reject(e)}}).catch(reject)})}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__);const VSTModelCollection=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Collection;__webpack_exports__.a=VSTModelCollection},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_http__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_2_platform__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2_platform___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_platform__);let defaultFeatureFlags={},userFeatureFlags={},combinedFeatureFlags={};const isChromePackagedApp='Chrome'===__WEBPACK_IMPORTED_MODULE_2_platform___default.a.name&&window.chrome.storage,chromeLocalStorage={getFF(){return new Promise(resolve=>{window.chrome.storage.local.get('userFeatureFlags',result=>{if(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty)(result)){resolve(null)}else{resolve(result.userFeatureFlags)}})})},setFF(userFeatureFlags){return new Promise(resolve=>{window.chrome.storage.local.set({userFeatureFlags:userFeatureFlags},()=>{resolve()})})},removeFF(){return new Promise(resolve=>{window.chrome.storage.local.remove('userFeatureFlags',()=>{resolve()})})}},combineFeatureFlags=()=>{let _combinedFeatureFlags={feature:[]};if(userFeatureFlags&&userFeatureFlags.feature){defaultFeatureFlags.feature.forEach(defaultFeatureFlag=>{const crossOverFlag=userFeatureFlags.feature.find(userFeatureFlag=>{return userFeatureFlag.name===defaultFeatureFlag.name});if(crossOverFlag){_combinedFeatureFlags.feature.push(crossOverFlag)}else{_combinedFeatureFlags.feature.push(defaultFeatureFlag)}})}else{_combinedFeatureFlags=defaultFeatureFlags}combinedFeatureFlags=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep)(_combinedFeatureFlags)};(async()=>{const _defaultFeatureFlags=await __WEBPACK_IMPORTED_MODULE_1_corelib_util_http__.a.get('resources/featureflags.json'),_userFeatureFlags=isChromePackagedApp?await chromeLocalStorage.getFF():localStorage.getItem('userFeatureFlags');if(_defaultFeatureFlags){defaultFeatureFlags=JSON.parse(_defaultFeatureFlags)}if(_userFeatureFlags&&isChromePackagedApp){userFeatureFlags=JSON.parse(_userFeatureFlags)}else if(_userFeatureFlags&&!isChromePackagedApp){userFeatureFlags=JSON.parse(_userFeatureFlags)}combineFeatureFlags()})();__webpack_exports__.b=()=>{return combinedFeatureFlags};__webpack_exports__.a=()=>{return defaultFeatureFlags};__webpack_exports__.c=feature=>{const _combinedFeatureFlagsfeatures=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.fromPairs)(combinedFeatureFlags.feature.map(flag=>[flag.name,flag.enabled]));return _combinedFeatureFlagsfeatures[feature]};__webpack_exports__.d=async frontEndFeatureFlags=>{const _crossoverFeatureFlags={feature:[]};defaultFeatureFlags.feature.forEach(defaultFeatureFlag=>{const crossOverFlag=frontEndFeatureFlags.feature.find(frontEndFeatureFlag=>{return frontEndFeatureFlag.name===defaultFeatureFlag.name});if(crossOverFlag&&crossOverFlag.enabled!==defaultFeatureFlag.enabled){_crossoverFeatureFlags.feature.push(crossOverFlag)}});if(isChromePackagedApp){if(_crossoverFeatureFlags.feature.length){await chromeLocalStorage.setFF(JSON.stringify(_crossoverFeatureFlags))}else{await chromeLocalStorage.removeFF()}}else if(_crossoverFeatureFlags.feature.length){localStorage.setItem('userFeatureFlags',JSON.stringify(_crossoverFeatureFlags))}else{localStorage.removeItem('userFeatureFlags')}}},function(module,__webpack_exports__){'use strict';var _Mathabs3=Math.abs,_Mathmin=Math.min,_Mathmax2=Math.max;__webpack_exports__.b=(rgba,alphaVal)=>{if(!rgba.includes('rgba')){return rgba}rgba=rgba.replace('rgba(','');rgba=rgba.replace(')','');const[red,green,blue]=rgba.split(',');return`rgba(${red}, ${green}, ${blue}, ${alphaVal})`};__webpack_exports__.d=(a,b)=>{const absA=_Mathabs3(a),absB=_Mathabs3(b),diff=_Mathabs3(a-b),EPSILON=1e-6;if(a===b){return!0}else if(0===a*b){return diff<EPSILON*EPSILON}return diff/(absA+absB)<EPSILON};__webpack_exports__.e=unixEpoch=>{return'-1'!==unixEpoch?new Date(1e3*parseInt(unixEpoch)):null};const EMPTY_RANGE={baseMin:Infinity,baseMax:-Infinity,leftMin:Infinity,leftMax:-Infinity,valid:!1};__webpack_exports__.a=EMPTY_RANGE;__webpack_exports__.c=ranges=>{ranges.push(EMPTY_RANGE);return{baseMin:_Mathmin(...ranges.map(range=>range.baseMin)),baseMax:_Mathmax2(...ranges.map(range=>range.baseMax)),leftMin:_Mathmin(...ranges.map(range=>range.leftMin)),leftMax:_Mathmax2(...ranges.map(range=>range.leftMax)),valid:ranges.some(range=>range.valid)}}},function(module,exports,__webpack_require__){__webpack_require__(43);__webpack_require__(103);__webpack_require__(105);__webpack_require__(106);__webpack_require__(107);__webpack_require__(108);__webpack_require__(109);__webpack_require__(110);__webpack_require__(113);__webpack_require__(52);Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype;Polymer.html=Polymer.html},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';let CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/,workingURL,resolveDoc;function resolveUrl(url,baseURI){if(url&&ABS_URL.test(url)){return url}if(workingURL===void 0){workingURL=!1;try{const u=new URL('b','http://a');u.pathname='c%20d';workingURL='http://a/c%20d'===u.href}catch(e){}}if(!baseURI){baseURI=document.baseURI||window.location.href}if(workingURL){return new URL(url,baseURI).href}if(!resolveDoc){resolveDoc=document.implementation.createHTMLDocument('temp');resolveDoc.base=resolveDoc.createElement('base');resolveDoc.head.appendChild(resolveDoc.base);resolveDoc.anchor=resolveDoc.createElement('a');resolveDoc.body.appendChild(resolveDoc.anchor)}resolveDoc.base.href=baseURI;resolveDoc.anchor.href=url;return resolveDoc.anchor.href||url}Polymer.ResolveUrl={resolveCss:function(cssText,baseURI){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+'\''+resolveUrl(url.replace(/["']/g,''),baseURI)+'\''+post})},resolveUrl:resolveUrl,pathFromUrl:function(url){return url.substring(0,url.lastIndexOf('/')+1)}}})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode('');new window.MutationObserver(function(){const len=microtaskCallbacks.length;for(let i=0,cb;i<len;i++){cb=microtaskCallbacks[i];if(cb){try{cb()}catch(e){setTimeout(()=>{throw e})}}}microtaskCallbacks.splice(0,len);microtaskLastHandle+=len}).observe(microtaskNode,{characterData:!0});Polymer.Async={timeOut:{after(delay){return{run(fn){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}}},run(fn,delay){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}},animationFrame:{run(fn){return window.requestAnimationFrame(fn)},cancel(handle){window.cancelAnimationFrame(handle)}},idlePeriod:{run(fn){return window.requestIdleCallback?window.requestIdleCallback(fn):window.setTimeout(fn,16)},cancel(handle){window.cancelIdleCallback?window.cancelIdleCallback(handle):window.clearTimeout(handle)}},microTask:{run(callback){microtaskNode.textContent=microtaskNodeContent++;microtaskCallbacks.push(callback);return microtaskCurrHandle++},cancel(handle){const idx=handle-microtaskLastHandle;if(0<=idx){if(!microtaskCallbacks[idx]){throw new Error('invalid async handle: '+handle)}microtaskCallbacks[idx]=null}}}}})()},function(module,exports,__webpack_require__){__webpack_require__(9);(function(){'use strict';function mutablePropertyChange(inst,property,value,old,mutableData){let isObject;if(mutableData){isObject='object'===typeof value&&null!==value;if(isObject){old=inst.__dataTemp[property]}}let shouldChange=old!==value&&(old===old||value===value);if(isObject&&shouldChange){inst.__dataTemp[property]=value}return shouldChange}Polymer.MutableData=Polymer.dedupingMixin(superClass=>{return class extends superClass{_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}}});Polymer.OptionalMutableData=Polymer.dedupingMixin(superClass=>{class OptionalMutableData extends superClass{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}return OptionalMutableData});Polymer.MutableData._mutablePropertyChange=mutablePropertyChange})()},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(func){return new Promise(resolve=>resolve(func()))}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=(gridColumns,newLength=0)=>{let maxLength=gridColumns.reduce((highest,col)=>{const colLength=col[__WEBPACK_IMPORTED_MODULE_0__priv__.a].values.length;return colLength>highest?colLength:highest},newLength);return maxLength+1}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1__corelib_util_redux_js__=__webpack_require__(429),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const GRAPH_INIT='GRAPH_INIT';__webpack_exports__.s=GRAPH_INIT;const ANALYSIS_INIT='ANALYSIS_INIT';__webpack_exports__.b=ANALYSIS_INIT;const GRAPH_IS_DRAW_PREDICTIONS_ACTIVE_UPDATE='GRAPH_IS_DRAW_PREDICTIONS_ACTIVE_UPDATE';__webpack_exports__.t=GRAPH_IS_DRAW_PREDICTIONS_ACTIVE_UPDATE;const GRAPH_HIGHLIGHT_GRAPH_TOOLS_UPDATE='GRAPH_HIGHLIGHT_GRAPH_TOOLS_UPDATE';__webpack_exports__.r=GRAPH_HIGHLIGHT_GRAPH_TOOLS_UPDATE;const GRAPH_BASE_COLUMN_ID_UPDATE='GRAPH_BASE_COLUMN_ID_UPDATE';__webpack_exports__.m=GRAPH_BASE_COLUMN_ID_UPDATE;const GRAPH_BASE_UNITS_UPDATE='GRAPH_BASE_UNITS_UPDATE';__webpack_exports__.n=GRAPH_BASE_UNITS_UPDATE;const GRAPH_AUTOSCALE_PADDING_UPDATE='GRAPH_AUTOSCALE_PADDING_UPDATE';__webpack_exports__.l=GRAPH_AUTOSCALE_PADDING_UPDATE;const GRAPH_UDM_ID_UPDATE='GRAPH_UDM_ID_UPDATE';__webpack_exports__.y=GRAPH_UDM_ID_UPDATE;const GRAPH_OPTIONS_UPDATE='GRAPH_OPTIONS_UPDATE';__webpack_exports__.x=GRAPH_OPTIONS_UPDATE;const AXIS_SCALING_MODE_UPDATE='AXIS_SCALING_MODE_UPDATE';__webpack_exports__.g=AXIS_SCALING_MODE_UPDATE;const ACCESSIBILITY_SCALE_UPDATE='ACCESSIBILITY_SCALE_UPDATE';__webpack_exports__.a=ACCESSIBILITY_SCALE_UPDATE;const IS_SESSION_EMPTY_UPDATE='IS_SESSION_EMPTY_UPDATE';__webpack_exports__.z=IS_SESSION_EMPTY_UPDATE;const EXAMINE_POSITION_UPDATE='EXAMINE_POSITION_UPDATE';__webpack_exports__.j=EXAMINE_POSITION_UPDATE;const EXAMINE_SETTINGS_UPDATE='EXAMINE_SETTINGS_UPDATE';__webpack_exports__.k=EXAMINE_SETTINGS_UPDATE;const CREATE_SELECTION_UPDATE='CREATE_SELECTION_UPDATE';__webpack_exports__.h=CREATE_SELECTION_UPDATE;const DELETE_SELECTION_UPDATE='DELETE_SELECTION_UPDATE';__webpack_exports__.i=DELETE_SELECTION_UPDATE;const MODIFY_SELECTION_UPDATE='MODIFY_SELECTION_UPDATE';__webpack_exports__.A=MODIFY_SELECTION_UPDATE;const ANALYSIS_TRACE_UPDATES='ANALYSIS_TRACE_UPDATES';__webpack_exports__.c=ANALYSIS_TRACE_UPDATES;const GRAPH_DATA_SET_ID_ADDITION='GRAPH_DATA_SET_ID_ADDITION';__webpack_exports__.p=GRAPH_DATA_SET_ID_ADDITION;const GRAPH_DATA_SET_ID_REMOVAL='GRAPH_DATA_SET_ID_REMOVAL';__webpack_exports__.q=GRAPH_DATA_SET_ID_REMOVAL;const GRAPH_LEFT_COLUMN_GROUP_ID_ADDITION='GRAPH_LEFT_COLUMN_GROUP_ID_ADDITION';__webpack_exports__.v=GRAPH_LEFT_COLUMN_GROUP_ID_ADDITION;const GRAPH_LEFT_COLUMN_GROUP_ID_REMOVAL='GRAPH_LEFT_COLUMN_GROUP_ID_REMOVAL';__webpack_exports__.w=GRAPH_LEFT_COLUMN_GROUP_ID_REMOVAL;const GRAPH_LEFT_COLUMN_GROUP_IDS_UPDATE='GRAPH_LEFT_COLUMN_GROUP_IDS_UPDATE';__webpack_exports__.u=GRAPH_LEFT_COLUMN_GROUP_IDS_UPDATE;const GRAPH_DATA_SET_IDS_UPDATE='GRAPH_DATA_SET_IDS_UPDATE';__webpack_exports__.o=GRAPH_DATA_SET_IDS_UPDATE;const ANNOTATION_ADDITION='ANNOTATION_ADDITION';__webpack_exports__.d=ANNOTATION_ADDITION;const ANNOTATION_UPDATE='ANNOTATION_UPDATE';__webpack_exports__.f=ANNOTATION_UPDATE;const ANNOTATION_REMOVAL='ANNOTATION_REMOVAL';__webpack_exports__.e=ANNOTATION_REMOVAL;const POPOVER_ADDITION='POPOVER_ADDITION';__webpack_exports__.B=POPOVER_ADDITION;const POPOVER_REMOVAL='POPOVER_REMOVAL';__webpack_exports__.C=POPOVER_REMOVAL;const initGraph=id=>({type:GRAPH_INIT,meta:{id}}),initAnalysis=graphId=>({type:ANALYSIS_INIT,meta:{graphId}});__webpack_exports__.O=({graphId})=>({type:GRAPH_IS_DRAW_PREDICTIONS_ACTIVE_UPDATE,payload:!0,meta:{id:graphId}});__webpack_exports__.L=({graphId})=>({type:GRAPH_IS_DRAW_PREDICTIONS_ACTIVE_UPDATE,payload:!1,meta:{id:graphId}});__webpack_exports__._4=({options,entity,graphId},_uniqueId=__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)=>dispatch=>{const p2cIfExists=(name,pos)=>pos&&entity.getAxis(name).p2c(pos)||pos,annotations=options.annotations||[];annotations.forEach(annotation=>{const id=_uniqueId('annotation-');dispatch({type:ANNOTATION_ADDITION,payload:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.omit)(_extends({},annotation,{xPos:p2cIfExists('x',annotation.xPos),yPos:p2cIfExists('y',annotation.yPos),udmId:annotation.annotationId,id}),'annotationId'),meta:{id,graphId}})});const uniqueSelections={},createGraphTraceLookup={curveFits:entity.createFitTrace.bind(entity),integrals:entity.createIntegralTrace.bind(entity),statistics:void 0};Object.keys(createGraphTraceLookup).forEach(analysisType=>{if(options[analysisType]){options[analysisType].forEach(({range:{min,max}={},fitType,baseColumnId,traceColumnId,fitId,integralId,statisticId})=>{const key=`${min}-${max}-${analysisType}-${fitType}`;if(!uniqueSelections[key]){uniqueSelections[key]={autoGenerated:!0,permanent:!0,range:{min,max},analysisType,curveFitType:fitType,analysisTraceArtifacts:[]}}const trace=entity.getTrace(traceColumnId),createGraphTrace=createGraphTraceLookup[analysisType];uniqueSelections[key].analysisTraceArtifacts.push({xid:baseColumnId,yid:traceColumnId,traceColor:trace.color,udmId:fitId||integralId||statisticId,analysisGraphTraceId:createGraphTrace?createGraphTrace(trace.id).id:void 0})})}});Object.values(uniqueSelections).forEach(value=>{const id=_uniqueId('selection-');dispatch({type:CREATE_SELECTION_UPDATE,payload:_extends({},value,{id}),meta:{graphId,selectionId:id}})})};__webpack_exports__._2=(id,baseColumnId)=>({type:GRAPH_BASE_COLUMN_ID_UPDATE,payload:baseColumnId,meta:{id}});__webpack_exports__._3=(id,baseUnits)=>({type:GRAPH_BASE_UNITS_UPDATE,payload:baseUnits,meta:{id}});__webpack_exports__._5=(id,updates,actor)=>(dispatch,getState)=>{if('graph-prefs'===actor){const graphState=getState().graphs[id],applyScalingRestrictionToRangeUpdate=Object(__WEBPACK_IMPORTED_MODULE_1__corelib_util_redux_js__.a)(graphState,!1);Object.entries(updates).forEach(([key,value])=>{if('graphXRange'===key||'graphYRange'===key){updates[key]=applyScalingRestrictionToRangeUpdate(value,key)}})}dispatch({type:GRAPH_OPTIONS_UPDATE,payload:updates,meta:{id:updates.id||id}})};const automaticAutoscaleUpdate=(graphId,proposedRanges)=>(dispatch,getState)=>{const graphState=getState().graphs[graphId];dispatch({type:GRAPH_OPTIONS_UPDATE,payload:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(proposedRanges,Object(__WEBPACK_IMPORTED_MODULE_1__corelib_util_redux_js__.a)(graphState,!1)),meta:{id:graphId}})};__webpack_exports__.I=automaticAutoscaleUpdate;__webpack_exports__._8=(graphId,proposedRanges)=>(dispatch,getState)=>{const graphState=getState().graphs[graphId];dispatch({type:GRAPH_OPTIONS_UPDATE,payload:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(proposedRanges,Object(__WEBPACK_IMPORTED_MODULE_1__corelib_util_redux_js__.a)(graphState,!0)),meta:{id:graphId}})};__webpack_exports__._6=(graphId,udmId)=>({type:GRAPH_UDM_ID_UPDATE,payload:udmId,meta:{graphId}});__webpack_exports__.J=(graphId,axis,mode)=>(dispatch,getState)=>{dispatch({type:AXIS_SCALING_MODE_UPDATE,payload:mode,meta:{graphId,axis}});const rangeProp={base:'graphXRange',left:'graphYRange'}[axis],graph=getState().graphs[graphId];if('show_zero_scaling'===mode&&rangeProp&&graph){const currentRange=graph.options[rangeProp];dispatch(automaticAutoscaleUpdate(graphId,{[rangeProp]:currentRange}))}};__webpack_exports__._0=(graphId,updates)=>{return{type:EXAMINE_POSITION_UPDATE,payload:_extends({},updates),meta:{graphId}}};__webpack_exports__._1=(graphId,updates)=>{return{type:EXAMINE_SETTINGS_UPDATE,payload:_extends({},updates),meta:{graphId}}};__webpack_exports__.U=(graphId,initialSelectionUpdates,_uniqueId=__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)=>dispatch=>{const id=_uniqueId('selection-');dispatch({type:CREATE_SELECTION_UPDATE,payload:_extends({},initialSelectionUpdates,{id}),meta:{graphId,selectionId:id}})};__webpack_exports__.W=(graphId,selectionId,updates)=>(dispatch,getState)=>{const{selections:{[selectionId]:selection}}=getState();if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(selection,_extends({},selection,updates))){dispatch({type:MODIFY_SELECTION_UPDATE,payload:_extends({},updates),meta:{graphId,selectionId}});const{analysisTraceArtifacts=[]}=updates;if(analysisTraceArtifacts.length){dispatch({type:GRAPH_HIGHLIGHT_GRAPH_TOOLS_UPDATE,payload:!1,meta:{id:graphId}})}}};__webpack_exports__.V=(graphId,selectionId)=>(dispatch,getState)=>{const{selections:{[selectionId]:selection}}=getState();if(!selection.permanent){dispatch({type:GRAPH_HIGHLIGHT_GRAPH_TOOLS_UPDATE,payload:!1,meta:{id:graphId}})}dispatch({type:DELETE_SELECTION_UPDATE,meta:{graphId,selectionId}})};__webpack_exports__.M=graphId=>(dispatch,getState)=>{const{analysis:{[graphId]:{selections}},selections:selectionsById}=getState(),graphSelections=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.pick)(selectionsById,selections),tempSelection=Object.values(graphSelections).find(s=>!s.permanent);if(tempSelection){dispatch({type:GRAPH_HIGHLIGHT_GRAPH_TOOLS_UPDATE,payload:!1,meta:{id:graphId}});dispatch({type:DELETE_SELECTION_UPDATE,meta:{graphId,selectionId:tempSelection.id}})}};__webpack_exports__.N=(graphId,dragRange,_uniqueId=__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)=>(dispatch,getState)=>{const{analysis:{[graphId]:{selections}},selections:selectionsById}=getState(),graphSelections=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.pick)(selectionsById,selections),tempSelection=Object.values(graphSelections).find(s=>!s.permanent);if(!tempSelection){const id=_uniqueId('selection-');dispatch({type:CREATE_SELECTION_UPDATE,payload:{range:dragRange,permanent:!1,id},meta:{graphId,selectionId:id}});dispatch({type:GRAPH_HIGHLIGHT_GRAPH_TOOLS_UPDATE,payload:!0,meta:{id:graphId}})}if(tempSelection){dispatch({type:MODIFY_SELECTION_UPDATE,payload:{range:dragRange},meta:{graphId,selectionId:tempSelection.id}})}};__webpack_exports__.H=(selectionId,xColumnId,yColumnId,updates)=>({type:ANALYSIS_TRACE_UPDATES,payload:updates,meta:{selectionId,xColumnId,yColumnId}});__webpack_exports__.E=(id,graphId)=>({type:GRAPH_DATA_SET_ID_ADDITION,payload:{id},meta:{id,graphId}});__webpack_exports__.Q=(id,graphId)=>({type:GRAPH_DATA_SET_ID_REMOVAL,payload:{id},meta:{id,graphId}});__webpack_exports__.F=(id,graphId)=>({type:GRAPH_LEFT_COLUMN_GROUP_ID_ADDITION,payload:{id},meta:{id,graphId}});__webpack_exports__.R=(id,graphId)=>({type:GRAPH_LEFT_COLUMN_GROUP_ID_REMOVAL,meta:{id,graphId}});__webpack_exports__._7=(groupIds,graphId)=>({type:GRAPH_LEFT_COLUMN_GROUP_IDS_UPDATE,payload:groupIds,meta:{graphId}});__webpack_exports__.Z=(dataSetIds,graphId)=>({type:GRAPH_DATA_SET_IDS_UPDATE,payload:dataSetIds,meta:{graphId}});__webpack_exports__.D=({props={},graphId},_uniqueId=__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)=>dispatch=>{const id=_uniqueId('annotation-');dispatch({type:ANNOTATION_ADDITION,payload:_extends({},props,{id}),meta:{id,graphId}})};const removeAnnotation=id=>(dispatch,getState)=>{const{analysis}=getState();Object.keys(analysis).forEach(graphId=>dispatch({type:ANNOTATION_REMOVAL,meta:{id,graphId}}))};__webpack_exports__.P=removeAnnotation;__webpack_exports__.Y=({id,updates})=>dispatch=>{if(''!==updates.annotationText){dispatch({type:ANNOTATION_UPDATE,payload:_extends({},updates),meta:{id}})}else{dispatch(removeAnnotation(id))}};__webpack_exports__.K=graphId=>(dispatch,getState)=>{const{analysis:{[graphId]:analysis}}=getState();if(!analysis){return}analysis.annotations.forEach(id=>dispatch({type:ANNOTATION_REMOVAL,meta:{id,graphId}}));analysis.selections.forEach(id=>dispatch({type:DELETE_SELECTION_UPDATE,meta:{graphId,selectionId:id}}))};__webpack_exports__.X=(scale=1)=>({type:ACCESSIBILITY_SCALE_UPDATE,payload:scale});const updateIsSessionEmpty=(isEmpty=!0)=>({type:IS_SESSION_EMPTY_UPDATE,payload:isEmpty});__webpack_exports__.G=id=>({type:POPOVER_ADDITION,meta:{id}});__webpack_exports__.S=id=>({type:POPOVER_REMOVAL,meta:{id}});__webpack_exports__.T=(ids=[])=>dispatch=>{ids.forEach(id=>{dispatch(initGraph(id));dispatch(initAnalysis(id));dispatch(updateIsSessionEmpty(!0))})}},function(module,exports,__webpack_require__){var _Mathfloor=Math.floor;__webpack_require__(5);__webpack_require__(9);__webpack_require__(93);__webpack_require__(47);__webpack_require__(48);__webpack_require__(94);(function(){'use strict';const CaseMap=Polymer.CaseMap;let dedupeId=0;const TYPES={COMPUTE:'__computeEffects',REFLECT:'__reflectEffects',NOTIFY:'__notifyEffects',PROPAGATE:'__propagateEffects',OBSERVE:'__observeEffects',READ_ONLY:'__readOnly'},capitalAttributeRegex=/[A-Z]/;function ensureOwnEffectMap(model,type){let effects=model[type];if(!effects){effects=model[type]={}}else if(!model.hasOwnProperty(type)){effects=model[type]=Object.create(model[type]);for(let p in effects){let protoFx=effects[p],instFx=effects[p]=Array(protoFx.length);for(let i=0;i<protoFx.length;i++){instFx[i]=protoFx[i]}}}return effects}function runEffects(inst,effects,props,oldProps,hasPaths,extraArgs){if(effects){let ran=!1,id=dedupeId++;for(let prop in props){if(runEffectsForProperty(inst,effects,id,prop,props,oldProps,hasPaths,extraArgs)){ran=!0}}return ran}return!1}function runEffectsForProperty(inst,effects,dedupeId,prop,props,oldProps,hasPaths,extraArgs){let ran=!1,rootProperty=hasPaths?Polymer.Path.root(prop):prop,fxs=effects[rootProperty];if(fxs){for(let i=0,l=fxs.length,fx;i<l&&(fx=fxs[i]);i++){if((!fx.info||fx.info.lastRun!==dedupeId)&&(!hasPaths||pathMatchesTrigger(prop,fx.trigger))){if(fx.info){fx.info.lastRun=dedupeId}fx.fn(inst,prop,props,oldProps,fx.info,hasPaths,extraArgs);ran=!0}}}return ran}function pathMatchesTrigger(path,trigger){if(trigger){let triggerPath=trigger.name;return triggerPath==path||trigger.structured&&Polymer.Path.isAncestor(triggerPath,path)||trigger.wildcard&&Polymer.Path.isDescendant(triggerPath,path)}else{return!0}}function runObserverEffect(inst,property,props,oldProps,info){let fn='string'===typeof info.method?inst[info.method]:info.method,changedProp=info.property;if(fn){fn.call(inst,inst.__data[changedProp],oldProps[changedProp])}else if(!info.dynamicFn){console.warn('observer method `'+info.method+'` not defined')}}function runNotifyEffects(inst,notifyProps,props,oldProps,hasPaths){let fxs=inst[TYPES.NOTIFY],notified,id=dedupeId++;for(let prop in notifyProps){if(notifyProps[prop]){if(fxs&&runEffectsForProperty(inst,fxs,id,prop,props,oldProps,hasPaths)){notified=!0}else if(hasPaths&&notifyPath(inst,prop,props)){notified=!0}}}let host;if(notified&&(host=inst.__dataHost)&&host._invalidateProperties){host._invalidateProperties()}}function notifyPath(inst,path,props){let rootProperty=Polymer.Path.root(path);if(rootProperty!==path){let eventName=Polymer.CaseMap.camelToDashCase(rootProperty)+'-changed';dispatchNotifyEvent(inst,eventName,props[path],path);return!0}return!1}function dispatchNotifyEvent(inst,eventName,value,path){let detail={value:value,queueProperty:!0};if(path){detail.path=path}inst.dispatchEvent(new CustomEvent(eventName,{detail}))}function runNotifyEffect(inst,property,props,oldProps,info,hasPaths){let rootProperty=hasPaths?Polymer.Path.root(property):property,path=rootProperty!=property?property:null,value=path?Polymer.Path.get(inst,path):inst.__data[property];if(path&&value===void 0){value=props[property]}dispatchNotifyEvent(inst,info.eventName,value,path)}function handleNotification(event,inst,fromProp,toPath,negate){let value,detail=event.detail,fromPath=detail&&detail.path;if(fromPath){toPath=Polymer.Path.translate(fromProp,toPath,fromPath);value=detail&&detail.value}else{value=event.target[fromProp]}value=negate?!value:value;if(!inst[TYPES.READ_ONLY]||!inst[TYPES.READ_ONLY][toPath]){if(inst._setPendingPropertyOrPath(toPath,value,!0,!!fromPath)&&(!detail||!detail.queueProperty)){inst._invalidateProperties()}}}function runReflectEffect(inst,property,props,oldProps,info){let value=inst.__data[property];if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,info.attrName,'attribute',inst)}inst._propertyToAttribute(property,info.attrName,value)}function runComputedEffects(inst,changedProps,oldProps,hasPaths){let computeEffects=inst[TYPES.COMPUTE];if(computeEffects){let inputProps=changedProps;while(runEffects(inst,computeEffects,inputProps,oldProps,hasPaths)){Object.assign(oldProps,inst.__dataOld);Object.assign(changedProps,inst.__dataPending);inputProps=inst.__dataPending;inst.__dataPending=null}}}function runComputedEffect(inst,property,props,oldProps,info){let result=runMethodEffect(inst,property,props,oldProps,info),computedProp=info.methodInfo;if(inst.__dataHasAccessor&&inst.__dataHasAccessor[computedProp]){inst._setPendingProperty(computedProp,result,!0)}else{inst[computedProp]=result}}function computeLinkedPaths(inst,path,value){let links=inst.__dataLinkedPaths;if(links){let link;for(let a in links){let b=links[a];if(Polymer.Path.isDescendant(a,path)){link=Polymer.Path.translate(a,b,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}else if(Polymer.Path.isDescendant(b,path)){link=Polymer.Path.translate(b,a,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}}}}function addBinding(constructor,templateInfo,nodeInfo,kind,target,parts,literal){nodeInfo.bindings=nodeInfo.bindings||[];let binding={kind,target,parts,literal,isCompound:1!==parts.length};nodeInfo.bindings.push(binding);if(shouldAddListener(binding)){let{event,negate}=binding.parts[0];binding.listenerEvent=event||CaseMap.camelToDashCase(target)+'-changed';binding.listenerNegate=negate}let index=templateInfo.nodeInfoList.length;for(let i=0,part;i<binding.parts.length;i++){part=binding.parts[i];part.compoundIndex=i;addEffectForBindingPart(constructor,templateInfo,binding,part,index)}}function addEffectForBindingPart(constructor,templateInfo,binding,part,index){if(!part.literal){if('attribute'===binding.kind&&'-'===binding.target[0]){console.warn('Cannot set attribute '+binding.target+' because "-" is not a valid attribute starting character')}else{let dependencies=part.dependencies,info={index,binding,part,evaluator:constructor};for(let j=0,trigger;j<dependencies.length;j++){trigger=dependencies[j];if('string'==typeof trigger){trigger=parseArg(trigger);trigger.wildcard=!0}constructor._addTemplatePropertyEffect(templateInfo,trigger.rootProperty,{fn:runBindingEffect,info,trigger})}}}}function runBindingEffect(inst,path,props,oldProps,info,hasPaths,nodeList){let node=nodeList[info.index],binding=info.binding,part=info.part;if(hasPaths&&part.source&&path.length>part.source.length&&'property'==binding.kind&&!binding.isCompound&&node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[binding.target]){let value=props[path];path=Polymer.Path.translate(part.source,binding.target,path);if(node._setPendingPropertyOrPath(path,value,!1,!0)){inst._enqueueClient(node)}}else{let value=info.evaluator._evaluateBinding(inst,part,path,props,oldProps,hasPaths);applyBindingValue(inst,node,binding,part,value)}}function applyBindingValue(inst,node,binding,part,value){value=computeBindingValue(node,value,binding,part);if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,binding.target,binding.kind,node)}if('attribute'==binding.kind){inst._valueToNodeAttribute(node,value,binding.target)}else{let prop=binding.target;if(node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[prop]){if(!node[TYPES.READ_ONLY]||!node[TYPES.READ_ONLY][prop]){if(node._setPendingProperty(prop,value)){inst._enqueueClient(node)}}}else{inst._setUnmanagedPropertyToNode(node,prop,value)}}}function computeBindingValue(node,value,binding,part){if(binding.isCompound){let storage=node.__dataCompoundStorage[binding.target];storage[part.compoundIndex]=value;value=storage.join('')}if('attribute'!==binding.kind){if('textContent'===binding.target||'value'===binding.target&&('input'===node.localName||'textarea'===node.localName)){value=value==void 0?'':value}}return value}function shouldAddListener(binding){return!!binding.target&&'attribute'!=binding.kind&&'text'!=binding.kind&&!binding.isCompound&&'{'===binding.parts[0].mode}function setupBindings(inst,templateInfo){let{nodeList,nodeInfoList}=templateInfo;if(nodeInfoList.length){for(let i=0;i<nodeInfoList.length;i++){let info=nodeInfoList[i],node=nodeList[i],bindings=info.bindings;if(bindings){for(let i=0,binding;i<bindings.length;i++){binding=bindings[i];setupCompoundStorage(node,binding);addNotifyListener(node,inst,binding)}}node.__dataHost=inst}}}function setupCompoundStorage(node,binding){if(binding.isCompound){let storage=node.__dataCompoundStorage||(node.__dataCompoundStorage={}),parts=binding.parts,literals=Array(parts.length);for(let j=0;j<parts.length;j++){literals[j]=parts[j].literal}let target=binding.target;storage[target]=literals;if(binding.literal&&'property'==binding.kind){node[target]=binding.literal}}}function addNotifyListener(node,inst,binding){if(binding.listenerEvent){let part=binding.parts[0];node.addEventListener(binding.listenerEvent,function(e){handleNotification(e,inst,binding.target,part.source,part.negate)})}}function createMethodEffect(model,sig,type,effectFn,methodInfo,dynamicFn){dynamicFn=sig.static||dynamicFn&&('object'!==typeof dynamicFn||dynamicFn[sig.methodName]);let info={methodName:sig.methodName,args:sig.args,methodInfo,dynamicFn};for(let i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++){if(!arg.literal){model._addPropertyEffect(arg.rootProperty,type,{fn:effectFn,info:info,trigger:arg})}}if(dynamicFn){model._addPropertyEffect(sig.methodName,type,{fn:effectFn,info:info})}}function runMethodEffect(inst,property,props,oldProps,info){let context=inst._methodHost||inst,fn=context[info.methodName];if(fn){let args=marshalArgs(inst.__data,info.args,property,props);return fn.apply(context,args)}else if(!info.dynamicFn){console.warn('method `'+info.methodName+'` not defined')}}const emptyArray=[],IDENT='(?:[a-zA-Z_$][\\w.:$\\-*]*)',ARGUMENT='(?:('+IDENT+'|'+'(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)'+'|'+('(?:'+'(?:\'(?:[^\'\\\\]|\\\\.)*\')'+'|'+'(?:"(?:[^"\\\\]|\\\\.)*")'+')')+')\\s*)',bindingRegex=/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*)(?:,\s*(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*))*)?)\)\s*)?)(?:]]|}})/g;function literalFromParts(parts){let s='';for(let i=0,literal;i<parts.length;i++){literal=parts[i].literal;s+=literal||''}return s}function parseMethod(expression){let m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){let methodName=m[1],sig={methodName,static:!0,args:emptyArray};if(m[2].trim()){let args=m[2].replace(/\\,/g,'&comma;').split(',');return parseArgs(args,sig)}else{return sig}}return null}function parseArgs(argList,sig){sig.args=argList.map(function(rawArg){let arg=parseArg(rawArg);if(!arg.literal){sig.static=!1}return arg},this);return sig}function parseArg(rawArg){let arg=rawArg.trim().replace(/&comma;/g,',').replace(/\\(.)/g,'$1'),a={name:arg,value:'',literal:!1},fc=arg[0];if('-'===fc){fc=arg[1]}if('0'<=fc&&'9'>=fc){fc='#'}switch(fc){case'\'':case'"':a.value=arg.slice(1,-1);a.literal=!0;break;case'#':a.value=+arg;a.literal=!0;break;}if(!a.literal){a.rootProperty=Polymer.Path.root(arg);a.structured=Polymer.Path.isPath(arg);if(a.structured){a.wildcard='.*'==arg.slice(-2);if(a.wildcard){a.name=arg.slice(0,-2)}}}return a}function marshalArgs(data,args,path,props){let values=[];for(let i=0,l=args.length;i<l;i++){let arg=args[i],name=arg.name,v;if(arg.literal){v=arg.value}else{if(arg.structured){v=Polymer.Path.get(data,name);if(v===void 0){v=props[name]}}else{v=data[name]}}if(arg.wildcard){let baseChanged=0===name.indexOf(path+'.'),matches=0===path.indexOf(name)&&!baseChanged;values[i]={path:matches?path:name,value:matches?props[path]:v,base:v}}else{values[i]=v}}return values}function notifySplices(inst,array,path,splices){let splicesPath=path+'.splices';inst.notifyPath(splicesPath,{indexSplices:splices});inst.notifyPath(path+'.length',array.length);inst.__data[splicesPath]={indexSplices:null}}function notifySplice(inst,array,path,index,addedCount,removed){notifySplices(inst,array,path,[{index:index,addedCount:addedCount,removed:removed,object:array,type:'splice'}])}function upper(name){return name[0].toUpperCase()+name.substring(1)}Polymer.PropertyEffects=Polymer.dedupingMixin(superClass=>{const propertyEffectsBase=Polymer.TemplateStamp(Polymer.PropertyAccessors(superClass));class PropertyEffects extends propertyEffectsBase{constructor(){super();this.__isPropertyEffectsClient=!0;this.__dataCounter=0;this.__dataClientsReady;this.__dataPendingClients;this.__dataToNotify;this.__dataLinkedPaths;this.__dataHasPaths;this.__dataCompoundStorage;this.__dataHost;this.__dataTemp;this.__dataClientsInitialized;this.__data;this.__dataPending;this.__dataOld;this.__computeEffects;this.__reflectEffects;this.__notifyEffects;this.__propagateEffects;this.__observeEffects;this.__readOnly;this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return TYPES}_initializeProperties(){super._initializeProperties();hostStack.registerHost(this);this.__dataClientsReady=!1;this.__dataPendingClients=null;this.__dataToNotify=null;this.__dataLinkedPaths=null;this.__dataHasPaths=!1;this.__dataCompoundStorage=this.__dataCompoundStorage||null;this.__dataHost=this.__dataHost||null;this.__dataTemp={};this.__dataClientsInitialized=!1}_initializeProtoProperties(props){this.__data=Object.create(props);this.__dataPending=Object.create(props);this.__dataOld={}}_initializeInstanceProperties(props){let readOnly=this[TYPES.READ_ONLY];for(let prop in props){if(!readOnly||!readOnly[prop]){this.__dataPending=this.__dataPending||{};this.__dataOld=this.__dataOld||{};this.__data[prop]=this.__dataPending[prop]=props[prop]}}}_addPropertyEffect(property,type,effect){this._createPropertyAccessor(property,type==TYPES.READ_ONLY);let effects=ensureOwnEffectMap(this,type)[property];if(!effects){effects=this[type][property]=[]}effects.push(effect)}_removePropertyEffect(property,type,effect){let effects=ensureOwnEffectMap(this,type)[property],idx=effects.indexOf(effect);if(0<=idx){effects.splice(idx,1)}}_hasPropertyEffect(property,type){let effects=this[type];return!!(effects&&effects[property])}_hasReadOnlyEffect(property){return this._hasPropertyEffect(property,TYPES.READ_ONLY)}_hasNotifyEffect(property){return this._hasPropertyEffect(property,TYPES.NOTIFY)}_hasReflectEffect(property){return this._hasPropertyEffect(property,TYPES.REFLECT)}_hasComputedEffect(property){return this._hasPropertyEffect(property,TYPES.COMPUTE)}_setPendingPropertyOrPath(path,value,shouldNotify,isPathNotification){if(isPathNotification||Polymer.Path.root(Array.isArray(path)?path[0]:path)!==path){if(!isPathNotification){let old=Polymer.Path.get(this,path);path=Polymer.Path.set(this,path,value);if(!path||!super._shouldPropertyChange(path,value,old)){return!1}}this.__dataHasPaths=!0;if(this._setPendingProperty(path,value,shouldNotify)){computeLinkedPaths(this,path,value);return!0}}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[path]){return this._setPendingProperty(path,value,shouldNotify)}else{this[path]=value}}return!1}_setUnmanagedPropertyToNode(node,prop,value){if(value!==node[prop]||'object'==typeof value){node[prop]=value}}_setPendingProperty(property,value,shouldNotify){let isPath=this.__dataHasPaths&&Polymer.Path.isPath(property),prevProps=isPath?this.__dataTemp:this.__data;if(this._shouldPropertyChange(property,value,prevProps[property])){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(!(property in this.__dataOld)){this.__dataOld[property]=this.__data[property]}if(isPath){this.__dataTemp[property]=value}else{this.__data[property]=value}this.__dataPending[property]=value;if(isPath||this[TYPES.NOTIFY]&&this[TYPES.NOTIFY][property]){this.__dataToNotify=this.__dataToNotify||{};this.__dataToNotify[property]=shouldNotify}return!0}return!1}_setProperty(property,value){if(this._setPendingProperty(property,value,!0)){this._invalidateProperties()}}_invalidateProperties(){if(this.__dataReady){this._flushProperties()}}_enqueueClient(client){this.__dataPendingClients=this.__dataPendingClients||[];if(client!==this){this.__dataPendingClients.push(client)}}_flushProperties(){this.__dataCounter++;super._flushProperties();this.__dataCounter--}_flushClients(){if(!this.__dataClientsReady){this.__dataClientsReady=!0;this._readyClients();this.__dataReady=!0}else{this.__enableOrFlushClients()}}__enableOrFlushClients(){let clients=this.__dataPendingClients;if(clients){this.__dataPendingClients=null;for(let i=0,client;i<clients.length;i++){client=clients[i];if(!client.__dataEnabled){client._enableProperties()}else if(client.__dataPending){client._flushProperties()}}}}_readyClients(){this.__enableOrFlushClients()}setProperties(props,setReadOnly){for(let path in props){if(setReadOnly||!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){this._setPendingPropertyOrPath(path,props[path],!0)}}this._invalidateProperties()}ready(){this._flushProperties();if(!this.__dataClientsReady){this._flushClients()}if(this.__dataPending){this._flushProperties()}}_propertiesChanged(currentProps,changedProps,oldProps){let hasPaths=this.__dataHasPaths;this.__dataHasPaths=!1;runComputedEffects(this,changedProps,oldProps,hasPaths);let notifyProps=this.__dataToNotify;this.__dataToNotify=null;this._propagatePropertyChanges(changedProps,oldProps,hasPaths);this._flushClients();runEffects(this,this[TYPES.REFLECT],changedProps,oldProps,hasPaths);runEffects(this,this[TYPES.OBSERVE],changedProps,oldProps,hasPaths);if(notifyProps){runNotifyEffects(this,notifyProps,changedProps,oldProps,hasPaths)}if(1==this.__dataCounter){this.__dataTemp={}}}_propagatePropertyChanges(changedProps,oldProps,hasPaths){if(this[TYPES.PROPAGATE]){runEffects(this,this[TYPES.PROPAGATE],changedProps,oldProps,hasPaths)}let templateInfo=this.__templateInfo;while(templateInfo){runEffects(this,templateInfo.propertyEffects,changedProps,oldProps,hasPaths,templateInfo.nodeList);templateInfo=templateInfo.nextTemplateInfo}}linkPaths(to,from){to=Polymer.Path.normalize(to);from=Polymer.Path.normalize(from);this.__dataLinkedPaths=this.__dataLinkedPaths||{};this.__dataLinkedPaths[to]=from}unlinkPaths(path){path=Polymer.Path.normalize(path);if(this.__dataLinkedPaths){delete this.__dataLinkedPaths[path]}}notifySplices(path,splices){let info={path:''},array=Polymer.Path.get(this,path,info);notifySplices(this,array,info.path,splices)}get(path,root){return Polymer.Path.get(root||this,path)}set(path,value,root){if(root){Polymer.Path.set(root,path,value)}else{if(!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){if(this._setPendingPropertyOrPath(path,value,!0)){this._invalidateProperties()}}}}push(path,...items){let info={path:''},array=Polymer.Path.get(this,path,info),len=array.length,ret=array.push(...items);if(items.length){notifySplice(this,array,info.path,len,items.length,[])}return ret}pop(path){let info={path:''},array=Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.pop();if(hadLength){notifySplice(this,array,info.path,array.length,0,[ret])}return ret}splice(path,start,deleteCount,...items){let info={path:''},array=Polymer.Path.get(this,path,info);if(0>start){start=array.length-_Mathfloor(-start)}else if(start){start=_Mathfloor(start)}let ret;if(2===arguments.length){ret=array.splice(start)}else{ret=array.splice(start,deleteCount,...items)}if(items.length||ret.length){notifySplice(this,array,info.path,start,items.length,ret)}return ret}shift(path){let info={path:''},array=Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.shift();if(hadLength){notifySplice(this,array,info.path,0,0,[ret])}return ret}unshift(path,...items){let info={path:''},array=Polymer.Path.get(this,path,info),ret=array.unshift(...items);if(items.length){notifySplice(this,array,info.path,0,items.length,[])}return ret}notifyPath(path,value){let propPath;if(1==arguments.length){let info={path:''};value=Polymer.Path.get(this,path,info);propPath=info.path}else if(Array.isArray(path)){propPath=Polymer.Path.normalize(path)}else{propPath=path}if(this._setPendingPropertyOrPath(propPath,value,!0,!0)){this._invalidateProperties()}}_createReadOnlyProperty(property,protectedSetter){this._addPropertyEffect(property,TYPES.READ_ONLY);if(protectedSetter){this['_set'+upper(property)]=function(value){this._setProperty(property,value)}}}_createPropertyObserver(property,method,dynamicFn){let info={property,method,dynamicFn:!!dynamicFn};this._addPropertyEffect(property,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:property}});if(dynamicFn){this._addPropertyEffect(method,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:method}})}}_createMethodObserver(expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error('Malformed observer expression \''+expression+'\'')}createMethodEffect(this,sig,TYPES.OBSERVE,runMethodEffect,null,dynamicFn)}_createNotifyingProperty(property){this._addPropertyEffect(property,TYPES.NOTIFY,{fn:runNotifyEffect,info:{eventName:CaseMap.camelToDashCase(property)+'-changed',property:property}})}_createReflectedProperty(property){let attr=this.constructor.attributeNameForProperty(property);if('-'===attr[0]){console.warn('Property '+property+' cannot be reflected to attribute '+attr+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')}else{this._addPropertyEffect(property,TYPES.REFLECT,{fn:runReflectEffect,info:{attrName:attr}})}}_createComputedProperty(property,expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error('Malformed computed expression \''+expression+'\'')}createMethodEffect(this,sig,TYPES.COMPUTE,runComputedEffect,property,dynamicFn)}static addPropertyEffect(property,type,effect){this.prototype._addPropertyEffect(property,type,effect)}static createPropertyObserver(property,method,dynamicFn){this.prototype._createPropertyObserver(property,method,dynamicFn)}static createMethodObserver(expression,dynamicFn){this.prototype._createMethodObserver(expression,dynamicFn)}static createNotifyingProperty(property){this.prototype._createNotifyingProperty(property)}static createReadOnlyProperty(property,protectedSetter){this.prototype._createReadOnlyProperty(property,protectedSetter)}static createReflectedProperty(property){this.prototype._createReflectedProperty(property)}static createComputedProperty(property,expression,dynamicFn){this.prototype._createComputedProperty(property,expression,dynamicFn)}static bindTemplate(template){return this.prototype._bindTemplate(template)}_bindTemplate(template,instanceBinding){let templateInfo=this.constructor._parseTemplate(template),wasPreBound=this.__templateInfo==templateInfo;if(!wasPreBound){for(let prop in templateInfo.propertyEffects){this._createPropertyAccessor(prop)}}if(instanceBinding){templateInfo=Object.create(templateInfo);templateInfo.wasPreBound=wasPreBound;if(!wasPreBound&&this.__templateInfo){let last=this.__templateInfoLast||this.__templateInfo;this.__templateInfoLast=last.nextTemplateInfo=templateInfo;templateInfo.previousTemplateInfo=last;return templateInfo}}return this.__templateInfo=templateInfo}static _addTemplatePropertyEffect(templateInfo,prop,effect){let hostProps=templateInfo.hostProps=templateInfo.hostProps||{};hostProps[prop]=!0;let effects=templateInfo.propertyEffects=templateInfo.propertyEffects||{},propEffects=effects[prop]=effects[prop]||[];propEffects.push(effect)}_stampTemplate(template){hostStack.beginHosting(this);let dom=super._stampTemplate(template);hostStack.endHosting(this);let templateInfo=this._bindTemplate(template,!0);templateInfo.nodeList=dom.nodeList;if(!templateInfo.wasPreBound){let nodes=templateInfo.childNodes=[];for(let n=dom.firstChild;n;n=n.nextSibling){nodes.push(n)}}dom.templateInfo=templateInfo;setupBindings(this,templateInfo);if(this.__dataReady){runEffects(this,templateInfo.propertyEffects,this.__data,null,!1,templateInfo.nodeList)}return dom}_removeBoundDom(dom){let templateInfo=dom.templateInfo;if(templateInfo.previousTemplateInfo){templateInfo.previousTemplateInfo.nextTemplateInfo=templateInfo.nextTemplateInfo}if(templateInfo.nextTemplateInfo){templateInfo.nextTemplateInfo.previousTemplateInfo=templateInfo.previousTemplateInfo}if(this.__templateInfoLast==templateInfo){this.__templateInfoLast=templateInfo.previousTemplateInfo}templateInfo.previousTemplateInfo=templateInfo.nextTemplateInfo=null;let nodes=templateInfo.childNodes;for(let i=0,node;i<nodes.length;i++){node=nodes[i];node.parentNode.removeChild(node)}}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted=super._parseTemplateNode(node,templateInfo,nodeInfo);if(node.nodeType===Node.TEXT_NODE){let parts=this._parseBindings(node.textContent,templateInfo);if(parts){node.textContent=literalFromParts(parts)||' ';addBinding(this,templateInfo,nodeInfo,'text','textContent',parts);noted=!0}}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){let parts=this._parseBindings(value,templateInfo);if(parts){let origName=name,kind='property';if(capitalAttributeRegex.test(name)){kind='attribute'}else if('$'==name[name.length-1]){name=name.slice(0,-1);kind='attribute'}let literal=literalFromParts(parts);if(literal&&'attribute'==kind){node.setAttribute(name,literal)}if('input'===node.localName&&'value'===origName){node.setAttribute(origName,'')}node.removeAttribute(origName);if('property'===kind){name=Polymer.CaseMap.dashToCamelCase(name)}addBinding(this,templateInfo,nodeInfo,kind,name,parts,literal);return!0}else{return super._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value)}}static _parseTemplateNestedTemplate(node,templateInfo,nodeInfo){let noted=super._parseTemplateNestedTemplate(node,templateInfo,nodeInfo),hostProps=nodeInfo.templateInfo.hostProps;for(let source in hostProps){addBinding(this,templateInfo,nodeInfo,'property','_host_'+source,[{mode:'{',source,dependencies:[source]}])}return noted}static _parseBindings(text,templateInfo){let parts=[],lastIndex=0,m;while(null!==(m=bindingRegex.exec(text))){if(m.index>lastIndex){parts.push({literal:text.slice(lastIndex,m.index)})}let mode=m[1][0],negate=!!m[2],source=m[3].trim(),customEvent=!1,notifyEvent='',colon=-1;if('{'==mode&&0<(colon=source.indexOf('::'))){notifyEvent=source.substring(colon+2);source=source.substring(0,colon);customEvent=!0}let signature=parseMethod(source),dependencies=[];if(signature){let{args,methodName}=signature;for(let i=0,arg;i<args.length;i++){arg=args[i];if(!arg.literal){dependencies.push(arg)}}let dynamicFns=templateInfo.dynamicFns;if(dynamicFns&&dynamicFns[methodName]||signature.static){dependencies.push(methodName);signature.dynamicFn=!0}}else{dependencies.push(source)}parts.push({source,mode,negate,customEvent,signature,dependencies,event:notifyEvent});lastIndex=bindingRegex.lastIndex}if(lastIndex&&lastIndex<text.length){let literal=text.substring(lastIndex);if(literal){parts.push({literal:literal})}}if(parts.length){return parts}else{return null}}static _evaluateBinding(inst,part,path,props,oldProps,hasPaths){let value;if(part.signature){value=runMethodEffect(inst,path,props,oldProps,part.signature)}else if(path!=part.source){value=Polymer.Path.get(inst,part.source)}else{if(hasPaths&&Polymer.Path.isPath(path)){value=Polymer.Path.get(inst,path)}else{value=inst.__data[path]}}if(part.negate){value=!value}return value}}return PropertyEffects});let hostStack={stack:[],registerHost(inst){if(this.stack.length){let host=this.stack[this.stack.length-1];host._enqueueClient(inst)}},beginHosting(inst){this.stack.push(inst)},endHosting(inst){let stackLen=this.stack.length;if(stackLen&&this.stack[stackLen-1]==inst){this.stack.pop()}}}})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(9);__webpack_require__(21);(function(){'use strict';class Debouncer{constructor(){this._asyncModule=null;this._callback=null;this._timer=null}setConfig(asyncModule,callback){this._asyncModule=asyncModule;this._callback=callback;this._timer=this._asyncModule.run(()=>{this._timer=null;this._callback()})}cancel(){if(this.isActive()){this._asyncModule.cancel(this._timer);this._timer=null}}flush(){if(this.isActive()){this.cancel();this._callback()}}isActive(){return null!=this._timer}static debounce(debouncer,asyncModule,callback){if(debouncer instanceof Debouncer){debouncer.cancel()}else{debouncer=new Debouncer}debouncer.setConfig(asyncModule,callback);return debouncer}}Polymer.Debouncer=Debouncer})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';let debouncerQueue=[];Polymer.enqueueDebouncer=function(debouncer){debouncerQueue.push(debouncer)};function flushDebouncers(){const didFlush=!!debouncerQueue.length;while(debouncerQueue.length){try{debouncerQueue.shift().flush()}catch(e){setTimeout(()=>{throw e})}}return didFlush}Polymer.flush=function(){let shadyDOM,debouncers;do{shadyDOM=window.ShadyDOM&&ShadyDOM.flush();if(window.ShadyCSS&&window.ShadyCSS.ScopingShim){window.ShadyCSS.ScopingShim.flush()}debouncers=flushDebouncers()}while(shadyDOM||debouncers)}})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(26);__webpack_require__(22);(function(){'use strict';let newInstance=null;function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});const DataTemplate=Polymer.PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=Polymer.MutableData(DataTemplate);function upgradeTemplate(template,constructor){newInstance=template;Object.setPrototypeOf(template,constructor.prototype);new constructor;newInstance=null}const base=Polymer.PropertyEffects(class{});class TemplateInstanceBase extends base{constructor(props){super();this._configureProperties(props);this.root=this._stampTemplate(this.__dataHost);let children=this.children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n.__templatizeInstance=this}if(this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__){this._showHideChildren(!0)}let options=this.__templatizeOptions;if(props&&options.instanceProps||!options.instanceProps){this._enableProperties()}}_configureProperties(props){let options=this.__templatizeOptions;if(options.forwardHostProp){for(let hprop in this.__hostProps){this._setPendingProperty(hprop,this.__dataHost['_host_'+hprop])}}for(let iprop in props){this._setPendingProperty(iprop,props[iprop])}}forwardHostProp(prop,value){if(this._setPendingPropertyOrPath(prop,value,!1,!0)){this.__dataHost._enqueueClient(this)}}_addEventListenerToNode(node,eventName,handler){if(this._methodHost&&this.__templatizeOptions.parentModel){this._methodHost._addEventListenerToNode(node,eventName,e=>{e.model=this;handler(e)})}else{let templateHost=this.__dataHost.__dataHost;if(templateHost){templateHost._addEventListenerToNode(node,eventName,handler)}}}_showHideChildren(hide){let c=this.children;for(let i=0,n;i<c.length;i++){n=c[i];if(!!hide!=!!n.__hideTemplateChildren__){if(n.nodeType===Node.TEXT_NODE){if(hide){n.__polymerTextContent__=n.textContent;n.textContent=''}else{n.textContent=n.__polymerTextContent__}}else if('slot'===n.localName){if(hide){n.__polymerReplaced__=document.createComment('hidden-slot');n.parentNode.replaceChild(n.__polymerReplaced__,n)}else{const replace=n.__polymerReplaced__;if(replace){replace.parentNode.replaceChild(n,replace)}}}else if(n.style){if(hide){n.__polymerDisplay__=n.style.display;n.style.display='none'}else{n.style.display=n.__polymerDisplay__}}}n.__hideTemplateChildren__=hide;if(n._showHideChildren){n._showHideChildren(hide)}}}_setUnmanagedPropertyToNode(node,prop,value){if(node.__hideTemplateChildren__&&node.nodeType==Node.TEXT_NODE&&'textContent'==prop){node.__polymerTextContent__=value}else{super._setUnmanagedPropertyToNode(node,prop,value)}}get parentModel(){let model=this.__parentModel;if(!model){let options;model=this;do{model=model.__dataHost.__dataHost}while((options=model.__templatizeOptions)&&!options.parentModel);this.__parentModel=model}return model}dispatchEvent(){return!0}}TemplateInstanceBase.prototype.__dataHost;TemplateInstanceBase.prototype.__templatizeOptions;TemplateInstanceBase.prototype._methodHost;TemplateInstanceBase.prototype.__templatizeOwner;TemplateInstanceBase.prototype.__hostProps;const MutableTemplateInstanceBase=Polymer.MutableData(TemplateInstanceBase);function findMethodHost(template){let templateHost=template.__dataHost;return templateHost&&templateHost._methodHost||templateHost}function createTemplatizerClass(template,templateInfo,options){let base=options.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase,klass=class extends base{};klass.prototype.__templatizeOptions=options;klass.prototype._bindTemplate(template);addNotifyEffects(klass,template,templateInfo,options);return klass}function addPropagateEffects(template,templateInfo,options){let userForwardHostProp=options.forwardHostProp;if(userForwardHostProp){let klass=templateInfo.templatizeTemplateClass;if(!klass){let base=options.mutableData?MutableDataTemplate:DataTemplate;klass=templateInfo.templatizeTemplateClass=class extends base{};let hostProps=templateInfo.hostProps;for(let prop in hostProps){klass.prototype._addPropertyEffect('_host_'+prop,klass.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(prop,userForwardHostProp)});klass.prototype._createNotifyingProperty('_host_'+prop)}}upgradeTemplate(template,klass);if(template.__dataProto){Object.assign(template.__data,template.__dataProto)}template.__dataTemp={};template.__dataPending=null;template.__dataOld=null;template._enableProperties()}}function createForwardHostPropEffect(hostProp,userForwardHostProp){return function(template,prop,props){userForwardHostProp.call(template.__templatizeOwner,prop.substring(6),props[prop])}}function addNotifyEffects(klass,template,templateInfo,options){let hostProps=templateInfo.hostProps||{};for(let iprop in options.instanceProps){delete hostProps[iprop];let userNotifyInstanceProp=options.notifyInstanceProp;if(userNotifyInstanceProp){klass.prototype._addPropertyEffect(iprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(iprop,userNotifyInstanceProp)})}}if(options.forwardHostProp&&template.__dataHost){for(let hprop in hostProps){klass.prototype._addPropertyEffect(hprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}}}function createNotifyInstancePropEffect(instProp,userNotifyInstanceProp){return function(inst,prop,props){userNotifyInstanceProp.call(inst.__templatizeOwner,inst,prop,props[prop])}}function createNotifyHostPropEffect(){return function(inst,prop,props){inst.__dataHost._setPendingPropertyOrPath('_host_'+prop,props[prop],!0,!0)}}Polymer.Templatize={templatize(template,owner,options){options=options||{};if(template.__templatizeOwner){throw new Error('A <template> can only be templatized once')}template.__templatizeOwner=owner;const ctor=owner?owner.constructor:TemplateInstanceBase;let templateInfo=ctor._parseTemplate(template),baseClass=templateInfo.templatizeInstanceClass;if(!baseClass){baseClass=createTemplatizerClass(template,templateInfo,options);templateInfo.templatizeInstanceClass=baseClass}addPropagateEffects(template,templateInfo,options);let klass=class extends baseClass{};klass.prototype._methodHost=findMethodHost(template);klass.prototype.__dataHost=template;klass.prototype.__templatizeOwner=owner;klass.prototype.__hostProps=templateInfo.hostProps;klass=klass;return klass},modelForElement(template,node){let model;while(node){if(model=node.__templatizeInstance){if(model.__dataHost!=template){node=model.__dataHost}else{return model}}else{node=node.parentNode}}return null}};Polymer.TemplateInstanceBase=TemplateInstanceBase})()},function(module,exports,__webpack_require__){__webpack_require__(44);__webpack_require__(52);(function(){'use strict';const Element=Polymer.ElementMixin(HTMLElement);Polymer.Element=Element;Polymer.html=Polymer.html})()},function(module){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,'loaded',{enumerable:!0,get:function(){return module.l}});Object.defineProperty(module,'id',{enumerable:!0,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services_js__=__webpack_require__(2);const getDefaultType=()=>{const configuration=__WEBPACK_IMPORTED_MODULE_0_corelib_services_js__.a.get('configuration');let type='ambl';switch(configuration.app){case'sa':type='smbl';break;case'va':type='vmbl';break;default:type='ambl';}return type};__webpack_exports__.a=getDefaultType;const getMimeType=type=>{if('csv'===type){return'text/csv'}else if('png'===type){return'image/png'}return`application/xml`};__webpack_exports__.b=getMimeType;__webpack_exports__.d=()=>{const configuration=__WEBPACK_IMPORTED_MODULE_0_corelib_services_js__.a.get('configuration');let types=['csv'];switch(configuration.app){case'ga':types=['ambl','smbl'];break;case'sa':types=['smbl'];break;case'va':types=['vmbl'];break;default:types=['ambl'];}return types};__webpack_exports__.e=name=>{const pieces=name.split('.');let cleanName;if(1<pieces.length){pieces.pop();cleanName=pieces.join('.')}else{cleanName=name}const i18n=__WEBPACK_IMPORTED_MODULE_0_corelib_services_js__.a.get('i18n');return`${cleanName} ${i18n.getText('copy')}`};__webpack_exports__.c=(name,unique)=>{const makeUniqueId=(length=4)=>{const possible='0123456789';let id='';for(let i=0;i<length;++i){id+=possible.charAt(Math.floor(Math.random()*possible.length))}return id};let newName=`${((name,type)=>{return name.split(`.${type}`)[0]})(name,getDefaultType())}`;if(unique){newName=`${newName}_${makeUniqueId()}`}return newName}},function(module){module.exports=require('fs')},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__=__webpack_require__(16),__WEBPACK_IMPORTED_MODULE_3_corelib_services__=__webpack_require__(2);const Sensor=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.extend({defaults:{position:0,autoId:-1,sensorId:'',deviceId:'',name:'',units:'',liveValue:0,liveVoltage:0,liveSpectrum:[],wavelength:'',dataMode:null,unitInfo:null,zeroOnCollect:!1,canZeroOnCollect:!1,hasX4Mode:!1,x4Mode:!1},initialize(){if(!this.get('unitInfo')){this.set('unitInfo',[])}this.bindChangeEvent('position','position-changed');this.bindChangeEvent('name','name-changed');this.bindChangeEvent('wavelength','wavelength-changed');this.bindChangeEvent('dataMode','data-mode-changed');this._calibrationReversed=!1;this._calibrationProcesses=[];this._calibration={type:this.get('sensorInfo').calibration.type,coeffs:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.clone)(this.get('sensorInfo').calibration.coeffs)};try{this.dataCollection=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('data-collection')}catch(err){console.error(err)}},clone(propOverride){const sensor=new Sensor({id:this.id,sensorId:this.sensorId,deviceId:this.deviceId,position:this.position,name:this.name,autoId:this.autoId,units:this.units,liveValue:this.liveValue,liveSpectrum:this.liveSpectrum,wavelength:this.wavelength,zeroOnCollect:this.zeroOnCollect,canZeroOnCollect:this.canZeroOnCollect,hasX4Mode:this.hasX4Mode,x4Mode:this.x4Mode});if(propOverride){Object.keys(propOverride).forEach(key=>{sensor.set(key,propOverride[key])})}return sensor},addSamples(float64Samples){this.trigger('samples-available',float64Samples);if(0<float64Samples.length){this.liveValue=float64Samples[float64Samples.length-1]}},zero(){return new Promise((resolve,reject)=>{try{const dataCollection=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('data-collection');dataCollection.zeroSensor(this.id,this.liveValue).then(resolve,reject)}catch(e){reject(e)}})},reverse(){return new Promise((resolve,reject)=>{try{const dataCollection=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('data-collection');dataCollection.reverseSensor(this.id,this.liveValue).then(result=>{if(result.success){this._calibrationReversed=!this._calibrationReversed}resolve(result)},reject)}catch(e){reject(e)}})},calculateCalibrationCoeffs(pairs){return new Promise((resolve,reject)=>{try{const dataCollection=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('data-collection');dataCollection.calculateCalibrationCoeffs(this.id,pairs).then(resolve,reject)}catch(e){reject(e)}})},setCalibrationCoeffs(coeffs,optReverse){if(optReverse||this._calibrationReversed){coeffs.forEach((c,i)=>{coeffs[i]=-c})}return new Promise((resolve,reject)=>{try{const dataCollection=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('data-collection');dataCollection.setCalibration(this.id,coeffs).then(result=>{if(result.success){this.updateInternalCalibrationCoeffs(coeffs)}resolve({success:result.success,calibration:this.calibration})}).catch(reject)}catch(e){reject(e)}})},updateInternalCalibrationCoeffs(coeffs){this._calibration.coeffs=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.clone)(coeffs)},updateCalibrationProcesses(processes){this._calibrationProcesses=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.clone)(processes)},clearCalibrationProcesses(){this._calibrationProcesses=[]},getPrecisionForUnit(unit){const info=this.get('unitInfo').find(info=>info.unit===unit);let precision;if(info){precision=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.clone)(info.precision)}if(this.x4Mode){precision.precision+=1}return precision},setModeX4(enable){return this.dataCollection.setSensorModeX4(this.id,enable)},setZeroOnCollect(enable){return this.dataCollection.setSensorZeroOnCollect(this.id,enable)}});__webpack_exports__.a=Sensor;Object.defineProperties(Sensor.prototype,{position:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('position',!0),dataMode:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('dataMode',!0),units:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('units',!0),name:{get(){const i18n=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('i18n'),name=this.get('name');return i18n.getText(name,'sensormap')},set(name){this.set('name',name)}},wavelength:{get(){return this.get('wavelength')},set(wavelength){try{const dataCollection=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('data-collection');dataCollection.setSelectedWavelength(this.id,wavelength).then(result=>{if(result.success){this.set('wavelength',wavelength)}}).catch(e=>console.error(e))}catch(e){console.error(e)}}},autoId:{get(){let autoId=this.get('autoId');if(this.dds){autoId=this.dds.sensorNumber}return autoId}},availableUnits:{get(){return this.get('unitInfo').map(info=>info.unit)}},calibration:{get(){const c=this._calibration;return{type:c.type,coeffs:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.clone)(c.coeffs),processes:this._calibrationProcesses}}},canCalibrate:{get(){const sensorInfo=this.get('sensorInfo'),type=sensorInfo.calibration.type,canCalibrate=sensorInfo.calibration.calibrate;return canCalibrate&&('linear'===type||'power'===type||'modifiedpower'===type)}},canCalibrateGDX:{get(){return 0<this._calibrationProcesses.length}},canOnePointCalibrate:{get(){const sensorInfo=this.get('sensorInfo'),canOnePoint=sensorInfo.calibration.onePoint;return canOnePoint}},canReverse:{get(){const sensorInfo=this.get('sensorInfo');return sensorInfo.calibration.reverse}},canZero:{get(){const sensorInfo=this.get('sensorInfo'),canZero=sensorInfo.calibration.zero;return canZero&&['linear','rotary','linearposition'].includes(sensorInfo.calibration.type)}},groupId:{get(){return 100+this.id}},liveValue:{get(){return this.get('liveValue')},set(val){this.lastTimestamp=Date.now();this.set('liveValue',val);this.trigger('live-value-changed',val)}},liveVoltage:{get(){return this.get('liveVoltage')},set(val){this.set('liveVoltage',val);this.trigger('live-voltage-changed',val)}},liveVoltageFormatStr:{get(){let formatStr=this.get('sensorInfo').voltageDecimals;formatStr=`%.${formatStr}f`;return formatStr}},liveSpectrum:{get(){return this.get('liveSpectrum')},set(val){this.set('liveSpectrum',val);this.trigger('live-spectrum-changed',val)}},isReversed:{get(){return this._calibrationReversed}},isZeroEnabled:{get(){return this.canZero&&Date.now()<this.lastTimestamp+3e3}},sensorId:{get(){return this.get('sensorId')}},deviceId:{get(){return this.get('deviceId')},set(val){this.set('deviceId',val);this.trigger('device-id-changed',val)}},range:{get(){const unit=this.get('sensorInfo').calibration.baseUnit;return{min:unit.minRange,max:unit.maxRange}}},triggerable:{get(){const sensorInfo=this.get('sensorInfo');let isTriggerable=!1;if('analog'===sensorInfo.type&&'linear'===sensorInfo.calibration.type){isTriggerable=!0}return isTriggerable}},zeroOnCollect:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('zeroOnCollect',!0),canZeroOnCollect:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('canZeroOnCollect',!0),hasX4Mode:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('hasX4Mode',!0),x4Mode:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('x4Mode',!0)});Sensor.Collection=__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__.a.extend({model:Sensor})},function(module,__webpack_exports__){'use strict';const path={INFO:'/info',STATUS:'/status',COLUMNS:'/columns',START_COLLECTION:'/control/start',STOP_COLLECTION:'/control/stop'};function getColumnPath(columnID){return`${path.COLUMNS}/${columnID}`}__webpack_exports__.a={path,getInfoURL:function(serverURL){return serverURL+path.INFO},getStatusURL:function(serverURL){return serverURL+path.STATUS},getColumnURL:function(serverURL,columnID){return serverURL+getColumnPath(columnID)},getStartCollectionURL:function(serverURL){return serverURL+path.START_COLLECTION},getStopCollectionURL:function(serverURL){return serverURL+path.STOP_COLLECTION},getColumnPath,parseVersion:function(apiVers){let version=null;const match=apiVers.match(/^\s*(\d+)\.(\d+)\.(\d+)\s*$/);if(match&&4===match.length){version={major:parseInt(match[1],10),minor:parseInt(match[2],10),micro:parseInt(match[3],10)}}else{throw new Error(`Failed to parse version string: ${apiVers}`)}return version}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor(dataWorld,sessionFile){Object.defineProperties(this,{dataWorld:{value:dataWorld},sessionFile:{value:sessionFile},sessionName:{get(){return sessionFile.sessionFileName}}})}startCollection(){}stopCollection(){}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__);class KeyboardEvents{constructor(){this.init()}init(){const keyDownHandler=this._keyDownHandler.bind(this),keyUpHandler=this._keyUpHandler.bind(this);document.addEventListener('keydown',keyDownHandler);document.addEventListener('keyup',keyUpHandler);this.uninit=()=>{document.removeEventListener('keydown',keyDownHandler);document.removeEventListener('keyup',keyUpHandler)}}triggerEvent(event){this.trigger(event,{eventName:event})}_keyDownHandler(e){const key=e.key.toUpperCase(),isMetaKeyDown=e.metaKey||e.ctrlKey;if(isMetaKeyDown){switch(key){case'S':if(e.shiftKey){this.triggerEvent('save-as')}else{this.triggerEvent('save')}e.preventDefault();break;case'N':this.triggerEvent('new-file');e.preventDefault();break;case'O':this.triggerEvent('open-file');e.preventDefault();break;case'Q':case'W':this.triggerEvent('quit');e.preventDefault();break;default:}}else{switch(key){case'D':this.devKeyDown=!0;break;default:}}}_keyUpHandler(e){const key=e.key.toUpperCase();switch(key){case'D':this.devKeyDown=!1;break;default:}}}Object.assign(KeyboardEvents.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events);const keyboardEvents=new KeyboardEvents;__webpack_exports__.a=keyboardEvents},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery__);class GraphItem{constructor(box){this.graph=null;this._box=box||__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery___default()('<div>');this._parentItem=null;this.events=null}box(){return this._box}enableEvents(){if(this.events){return}this.events=this.graph._eventProto(this,this.box())}destroy(){if(this.events){this.events.unbindAll();this.events=null}this.trigger('destroy')}_setItemGraph(graph){this.graph=graph}_setItemBox(box){this._box=box}_setParentItem(parentItem){this._parentItem=parentItem}}__webpack_exports__.a=GraphItem;Object.assign(GraphItem.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,exports){var _StringfromCharCode=String.fromCharCode,_Mathmax3=Math.max,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global,factory){if('object'===typeof module&&'object'===typeof module.exports){module.exports=global.document?factory(global,!0):function(w){if(!w.document){throw new Error('jQuery requires a window with a document')}return factory(w)}}else{factory(global)}})('undefined'!==typeof window?window:this,(window,noGlobal)=>{const arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={};var document=window.document,version='2.1.1',jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:'',length:0,toArray(){return slice.call(this)},get(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack(elems){const ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each(callback,args){return jQuery.each(this,callback,args)},map(callback){return this.pushStack(jQuery.map(this,(elem,i)=>{return callback.call(elem,i,elem)}))},slice(){return this.pushStack(slice.apply(this,arguments))},first(){return this.eq(0)},last(){return this.eq(-1)},eq(i){let len=this.length,j=+i+(0>i?len:0);return this.pushStack(0<=j&&j<len?[this[j]]:[])},end(){return this.prevObject||this.constructor(null)},push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){let options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;if('boolean'===typeof target){deep=target;target=arguments[i]||{};i++}if('object'!==typeof target&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if(null!=(options=arguments[i])){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=!1;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==void 0){target[name]=copy}}}}return target};jQuery.extend({expando:`jQuery${(version+Math.random()).replace(/\D/g,'')}`,isReady:!0,error(msg){throw new Error(msg)},noop(){},isFunction(obj){return'function'===jQuery.type(obj)},isArray:Array.isArray,isWindow(obj){return null!=obj&&obj===obj.window},isNumeric(obj){return!jQuery.isArray(obj)&&0<=obj-parseFloat(obj)},isPlainObject(obj){if('object'!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)){return!1}if(obj.constructor&&!hasOwn.call(obj.constructor.prototype,'isPrototypeOf')){return!1}return!0},isEmptyObject(obj){for(var name in obj){return!1}return!0},type(obj){if(null==obj){return`${obj}`}return'object'===typeof obj||'function'===typeof obj?class2type[toString.call(obj)]||'object':typeof obj},globalEval(code){let script,indirect=eval;code=jQuery.trim(code);if(code){if(1===code.indexOf('use strict')){script=document.createElement('script');script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase(string){return string.replace(rmsPrefix,'ms-').replace(rdashAlpha,fcamelCase)},nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each(obj,callback,args){let value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(!1===value){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(!1===value){break}}}}else if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(!1===value){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(!1===value){break}}}return obj},trim(text){return null==text?'':`${text}`.replace(rtrim,'')},makeArray(arr,results){const ret=results||[];if(null!=arr){if(isArraylike(Object(arr))){jQuery.merge(ret,'string'===typeof arr?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge(first,second){let len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep(elems,callback,invert){let callbackInverse,matches=[],i=0,length=elems.length;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==!invert){matches.push(elems[i])}}return matches},map(elems,callback,arg){let value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(null!=value){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(null!=value){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy(fn,context){let tmp,args,proxy;if('string'===typeof context){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support});jQuery.each(['Boolean','Number','String','Function','Array','Date','RegExp','Object','Error'],(i,name)=>{class2type[`[object ${name}]`]=name.toLowerCase()});function isArraylike(obj){let length=obj.length,type=jQuery.type(obj);if('function'===type||jQuery.isWindow(obj)){return!1}if(1===obj.nodeType&&length){return!0}return'array'===type||0===length||'number'===typeof length&&0<length&&length-1 in obj}const Sizzle=function(window){let i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando=`sizzle${-new Date}`,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=!0}return 0},strundefined=typeof void 0,MAX_NEGATIVE=-2147483648,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){let i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i}}return-1},booleans='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',whitespace='[\\x20\\t\\r\\n\\f]',characterEncoding='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+',identifier=characterEncoding.replace('w','w#'),attributes=`\\[${whitespace}*(${characterEncoding})(?:${whitespace}*([*^$|!~]?=)${whitespace}*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(${identifier}))|)${whitespace}*\\]`,pseudos=`:(${characterEncoding})(?:\\((`+`('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|`+`((?:\\\\.|[^\\\\()[\\]]|${attributes})*)|`+`.*`+`)\\)|)`,rtrim=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,rcomma=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,rcombinators=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,rattributeQuotes=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,rpseudo=new RegExp(pseudos),ridentifier=new RegExp(`^${identifier}$`),matchExpr={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp(`^(${characterEncoding.replace('w','w*')})`),ATTR:new RegExp(`^${attributes}`),PSEUDO:new RegExp(`^${pseudos}`),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,funescape=function(_,escaped,escapedWhitespace){const high=`0x${escaped}`-65536;return high!==high||escapedWhitespace?escaped:0>high?_StringfromCharCode(high+65536):_StringfromCharCode(55296|high>>10,56320|1023&high)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){let j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){let match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;results=results||[];if(!selector||'string'!==typeof selector){return results}if(1!==(nodeType=context.nodeType)&&9!==nodeType){return[]}if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector)){if(m=match[1]){if(9===nodeType){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=9===nodeType&&selector;if(1===nodeType&&'object'!==context.nodeName.toLowerCase()){groups=tokenize(selector);if(old=context.getAttribute('id')){nid=old.replace(rescape,'\\$&')}else{context.setAttribute('id',nid)}nid=`[id='${nid}'] `;i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(',')}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(!old){context.removeAttribute('id')}}}}}return select(selector.replace(rtrim,'$1'),context,results,seed)}function createCache(){const keys=[];function cache(key,value){if(keys.push(`${key} `)>Expr.cacheLength){delete cache[keys.shift()]}return cache[`${key} `]=value}return cache}function markFunction(fn){fn[expando]=!0;return fn}function assert(fn){let div=document.createElement('div');try{return!!fn(div)}catch(e){return!1}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){let arr=attrs.split('|'),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){let cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){const name=elem.nodeName.toLowerCase();return'input'===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){const name=elem.nodeName.toLowerCase();return('input'===name||'button'===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(argument=>{argument=+argument;return markFunction((seed,matches)=>{let j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){const documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?'HTML'!==documentElement.nodeName:!1};setDocument=Sizzle.setDocument=function(node){let hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;if(doc===document||9!==doc.nodeType||!doc.documentElement){return document}document=doc;docElem=doc.documentElement;documentIsHTML=!isXML(doc);if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener('unload',()=>{setDocument()},!1)}else if(parent.attachEvent){parent.attachEvent('onunload',()=>{setDocument()})}}support.attributes=assert(div=>{div.className='i';return!div.getAttribute('className')});support.getElementsByTagName=assert(div=>{div.appendChild(doc.createComment(''));return!div.getElementsByTagName('*').length});support.getElementsByClassName=rnative.test(doc.getElementsByClassName)&&assert(div=>{div.innerHTML='<div class=\'a\'></div><div class=\'a i\'></div>';div.firstChild.className='i';return 2===div.getElementsByClassName('i').length});support.getById=assert(div=>{docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length});if(support.getById){Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){const m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter.ID=function(id){const attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute('id')===attrId}}}else{delete Expr.find.ID;Expr.filter.ID=function(id){const attrId=id.replace(runescape,funescape);return function(elem){const node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode('id');return node&&node.value===attrId}}}Expr.find.TAG=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag)}}:function(tag,context){let elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if('*'===tag){while(elem=results[i++]){if(1===elem.nodeType){tmp.push(elem)}}return tmp}return results};Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!==strundefined&&documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(doc.querySelectorAll)){assert(div=>{div.innerHTML='<select msallowclip=\'\'><option selected=\'\'></option></select>';if(div.querySelectorAll('[msallowclip^=\'\']').length){rbuggyQSA.push(`[*^$]=${whitespace}*(?:''|"")`)}if(!div.querySelectorAll('[selected]').length){rbuggyQSA.push(`\\[${whitespace}*(?:value|${booleans})`)}if(!div.querySelectorAll(':checked').length){rbuggyQSA.push(':checked')}});assert(div=>{const input=doc.createElement('input');input.setAttribute('type','hidden');div.appendChild(input).setAttribute('name','D');if(div.querySelectorAll('[name=d]').length){rbuggyQSA.push(`name${whitespace}*[*^$|!~]?=`)}if(!div.querySelectorAll(':enabled').length){rbuggyQSA.push(':enabled',':disabled')}div.querySelectorAll('*,:x');rbuggyQSA.push(',.*:')})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(div=>{support.disconnectedMatch=matches.call(div,'div');matches.call(div,'[s!=\'\']:x');rbuggyMatches.push('!=',pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join('|'));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join('|'));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){let adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&1===bup.nodeType&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return!0}}}return!1};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=!0;return 0}let compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0}return 4&compare?-1:1}:function(a,b){if(a===b){hasDuplicate=!0;return 0}let cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return doc};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,'=\'$1\']');if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{const ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType){return ret}}catch(e){}}return 0<Sizzle(expr,document,null,[elem]).length};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}let fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return val!==void 0?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error(`Syntax error, unrecognized expression: ${msg}`)};Sizzle.uniqueSort=function(results){let elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){let node,ret='',i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(1===nodeType||9===nodeType||11===nodeType){if('string'===typeof elem.textContent){return elem.textContent}for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}else if(3===nodeType||4===nodeType){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:'parentNode',first:!0}," ":{dir:'parentNode'},"+":{dir:'previousSibling',first:!0},"~":{dir:'previousSibling'}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||'').replace(runescape,funescape);if('~='===match[2]){match[3]=` ${match[3]} `}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if('nth'===match[1].slice(0,3)){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*('even'===match[3]||'odd'===match[3]));match[5]=+(match[7]+match[8]||'odd'===match[3])}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){let excess,unquoted=!match[6]&&match[2];if(matchExpr.CHILD.test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||''}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(')',unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){const nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return'*'===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){let pattern=classCache[`${className} `];return pattern||(pattern=new RegExp(`(^|${whitespace})${className}(${whitespace}|$)`))&&classCache(className,elem=>{return pattern.test('string'===typeof elem.className&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute('class')||'')})},ATTR:function(name,operator,check){return function(elem){let result=Sizzle.attr(elem,name);if(null==result){return'!='===operator}if(!operator){return!0}result+='';return'='===operator?result===check:'!='===operator?result!==check:'^='===operator?check&&0===result.indexOf(check):'*='===operator?check&&-1<result.indexOf(check):'$='===operator?check&&result.slice(-check.length)===check:'~='===operator?-1<` ${result} `.indexOf(check):'|='===operator?result===check||`${check}-`===result.slice(0,check.length+1):!1}},CHILD:function(type,what,argument,first,last){let simple='nth'!==type.slice(0,3),forward='last'!==type.slice(-4),ofType='of-type'===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){let cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?'nextSibling':'previousSibling',parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType){return!1}}start=dir='only'===type&&!start&&'nextSibling'}return!0}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}if(node===elem){break}}}}diff-=last;return diff===first||0===diff%first&&0<=diff/first}}},PSEUDO:function(pseudo,argument){let args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error(`unsupported pseudo: ${pseudo}`);if(fn[expando]){return fn(argument)}if(1<fn.length){args=[pseudo,pseudo,'',argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction((seed,matches)=>{let idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(selector=>{let input=[],results=[],matcher=compile(selector.replace(rtrim,'$1'));return matcher[expando]?markFunction((seed,matches,context,xml)=>{let elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop()}}),has:markFunction(selector=>{return function(elem){return 0<Sizzle(selector,elem).length}}),contains:markFunction(text=>{return function(elem){return-1<(elem.textContent||elem.innerText||getText(elem)).indexOf(text)}}),lang:markFunction(lang=>{if(!ridentifier.test(lang||'')){Sizzle.error(`unsupported lang: ${lang}`)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){let elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute('xml:lang')||elem.getAttribute('lang')){elemLang=elemLang.toLowerCase();return elemLang===lang||0===elemLang.indexOf(`${lang}-`)}}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){const hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return!1===elem.disabled},disabled:function(elem){return!0===elem.disabled},checked:function(elem){const nodeName=elem.nodeName.toLowerCase();return'input'===nodeName&&!!elem.checked||'option'===nodeName&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(6>elem.nodeType){return!1}}return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){const name=elem.nodeName.toLowerCase();return'input'===name&&'button'===elem.type||'button'===name},text:function(elem){let attr;return'input'===elem.nodeName.toLowerCase()&&'text'===elem.type&&(null==(attr=elem.getAttribute('type'))||'text'===attr.toLowerCase())},first:createPositionalPseudo(()=>{return[0]}),last:createPositionalPseudo((matchIndexes,length)=>{return[length-1]}),eq:createPositionalPseudo((matchIndexes,length,argument)=>{return[0>argument?argument+length:argument]}),even:createPositionalPseudo((matchIndexes,length)=>{let i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo((matchIndexes,length)=>{let i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo((matchIndexes,length,argument)=>{let i=0>argument?argument+length:argument;for(;0<=--i;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo((matchIndexes,length,argument)=>{let i=0>argument?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:!0,reset:!0}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){let matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[`${selector} `];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=!1;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim,' ')});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){let i=0,len=tokens.length,selector='';for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){let dir=combinator.dir,checkNonElements=base&&'parentNode'===dir,doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(1===elem.nodeType||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){let oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(1===elem.nodeType||checkNonElements){if(matcher(elem,context,xml)){return!0}}}}else{while(elem=elem[dir]){if(1===elem.nodeType||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}outerCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return!0}}}}}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){let i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return!1}}return!0}:matchers[0]}function multipleContexts(selector,contexts,results){let i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){let elem,newUnmatched=[],i=0,len=unmatched.length;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(null!=map){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction((seed,results,context,xml)=>{let temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||'*',context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&-1<(temp=postFinder?indexOf.call(seed,elem):preMap[i])){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){let checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[' '],i=leadingRelative?1:0,matchContext=addCombinator(elem=>{return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(elem=>{return-1<indexOf.call(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(1<i&&elementMatcher(matchers),1<i&&toSelector(tokens.slice(0,i-1).concat({value:' '===tokens[i-2].type?'*':''})).replace(rtrim,'$1'),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){let bySet=0<setMatchers.length,byElement=0<elementMatchers.length,superMatcher=function(seed,context,xml,results,outermost){let elem,j,matcher,matchedCount=0,i='0',unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG('*',outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||0.1,len=elems.length;if(outermost){outermostContext=context!==document&&context}for(;i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){j=0;while(matcher=elementMatchers[j++]){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(0<matchedCount){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){let i,setMatchers=[],elementMatchers=[],cached=compilerCache[`${selector} `];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){let i,tokens,token,type,find,compiled='function'===typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(1===match.length){tokens=match[0]=match[0].slice(0);if(2<tokens.length&&'ID'===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr.needsContext.test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split('').sort(sortOrder).join('')===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(div1=>{return 1&div1.compareDocumentPosition(document.createElement('div'))});if(!assert(div=>{div.innerHTML='<a href=\'#\'></a>';return'#'===div.firstChild.getAttribute('href')})){addHandle('type|href|height|width',(elem,name,isXML)=>{if(!isXML){return elem.getAttribute(name,'type'===name.toLowerCase()?1:2)}})}if(!support.attributes||!assert(div=>{div.innerHTML='<input/>';div.firstChild.setAttribute('value','');return''===div.firstChild.getAttribute('value')})){addHandle('value',(elem,name,isXML)=>{if(!isXML&&'input'===elem.nodeName.toLowerCase()){return elem.defaultValue}})}if(!assert(div=>{return null==div.getAttribute('disabled')})){addHandle(booleans,(elem,name,isXML)=>{let val;if(!isXML){return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[':']=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;const rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,(elem,i)=>{return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,elem=>{return elem===qualifier!==not})}if('string'===typeof qualifier){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,elem=>{return 0<=indexOf.call(qualifier,elem)!==not})}jQuery.filter=function(expr,elems,not){const elem=elems[0];if(not){expr=`:not(${expr})`}return 1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,elem=>{return 1===elem.nodeType}))};jQuery.fn.extend({find(selector){let i,len=this.length,ret=[],self=this;if('string'!==typeof selector){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return!0}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(1<len?jQuery.unique(ret):ret);ret.selector=this.selector?`${this.selector} ${selector}`:selector;return ret},filter(selector){return this.pushStack(winnow(this,selector||[],!1))},not(selector){return this.pushStack(winnow(this,selector||[],!0))},is(selector){return!!winnow(this,'string'===typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});let rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){let match,elem;if(!selector){return this}if('string'===typeof selector){if('<'===selector[0]&&'>'===selector[selector.length-1]&&3<=selector.length){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}return this.constructor(context).find(selector)}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return'undefined'!==typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery)}if(selector.selector!==void 0){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);let rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir(elem,dir,until){let matched=[];while((elem=elem[dir])&&9!==elem.nodeType){if(1===elem.nodeType){if(until!==void 0&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched},sibling(n,elem){const matched=[];for(;n;n=n.nextSibling){if(1===n.nodeType&&n!==elem){matched.push(n)}}return matched}});jQuery.fn.extend({has(target){let targets=jQuery(target,this),l=targets.length;return this.filter(function(){let i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return!0}}})},closest(selectors,context){let cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||'string'!==typeof selectors?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(11>cur.nodeType&&(pos?-1<pos.index(cur):1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(1<matched.length?jQuery.unique(matched):matched)},index(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if('string'===typeof elem){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&1!==cur.nodeType){}return cur}jQuery.each({parent(elem){const parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents(elem){return jQuery.dir(elem,'parentNode')},parentsUntil(elem,i,until){return jQuery.dir(elem,'parentNode',until)},next(elem){return sibling(elem,'nextSibling')},prev(elem){return sibling(elem,'previousSibling')},nextAll(elem){return jQuery.dir(elem,'nextSibling')},prevAll(elem){return jQuery.dir(elem,'previousSibling')},nextUntil(elem,i,until){return jQuery.dir(elem,'nextSibling',until)},prevUntil(elem,i,until){return jQuery.dir(elem,'previousSibling',until)},siblings(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children(elem){return jQuery.sibling(elem.firstChild)},contents(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},(name,fn)=>{jQuery.fn[name]=function(until,selector){let matched=jQuery.map(this,fn,until);if('Until'!==name.slice(-5)){selector=until}if(selector&&'string'===typeof selector){matched=jQuery.filter(selector,matched)}if(1<this.length){if(!guaranteedUnique[name]){jQuery.unique(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});const rnotwhite=/\S+/g,optionsCache={};function createOptions(options){const object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],(_,flag)=>{object[flag]=!0});return object}jQuery.Callbacks=function(options){options='string'===typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=!0;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=!0;for(;list&&firingIndex<firingLength;firingIndex++){if(!1===list[firingIndex].apply(data[0],data[1])&&options.stopOnFalse){memory=!1;break}}firing=!1;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add(){if(list){const start=list.length;(function add(args){jQuery.each(args,(_,arg)=>{const type=jQuery.type(arg);if('function'===type){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&'string'!==type){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}return this},remove(){if(list){jQuery.each(arguments,(_,arg)=>{let index;while(-1<(index=jQuery.inArray(arg,list,index))){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has(fn){return fn?-1<jQuery.inArray(fn,list):!!(list&&list.length)},empty(){list=[];firingLength=0;return this},disable(){list=stack=memory=void 0;return this},disabled(){return!list},lock(){stack=void 0;if(!memory){self.disable()}return this},locked(){return!stack},fireWith(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args)}else{fire(args)}}return this},fire(){self.fireWith(this,arguments);return this},fired(){return!!fired}};return self};jQuery.extend({Deferred(func){var tuples=[['resolve','done',jQuery.Callbacks('once memory'),'resolved'],['reject','fail',jQuery.Callbacks('once memory'),'rejected'],['notify','progress',jQuery.Callbacks('memory')]],state='pending',promise={state(){return state},always(){deferred.done(arguments).fail(arguments);return this},then(){let fns=arguments;return jQuery.Deferred(newDefer=>{jQuery.each(tuples,(i,tuple)=>{const fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){const returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[`${tuple[0]}With`](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,(i,tuple)=>{let list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(()=>{state=stateString},tuples[1^i][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[`${tuple[0]}With`](this===deferred?promise:this,arguments);return this};deferred[`${tuple[0]}With`]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when(subordinate){let i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=1<arguments.length?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(! --remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(1<length){progressValues=Array(length);progressContexts=Array(length);resolveContexts=Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});let readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:!1,readyWait:1,holdReady(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(!0)}},ready(wait){if(!0===wait?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=!0;if(!0!==wait&&0<--jQuery.readyWait){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler('ready');jQuery(document).off('ready')}}});function completed(){document.removeEventListener('DOMContentLoaded',completed,!1);window.removeEventListener('load',completed,!1);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if('complete'===document.readyState){setTimeout(jQuery.ready)}else{document.addEventListener('DOMContentLoaded',completed,!1);window.addEventListener('load',completed,!1)}}return readyList.promise(obj)};jQuery.ready.promise();const access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){let i=0,len=elems.length,bulk=null==key;if('object'===jQuery.type(key)){chainable=!0;for(i in key){jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}}else if(value!==void 0){chainable=!0;if(!jQuery.isFunction(value)){raw=!0}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};function Data(){Object.defineProperty(this.cache={},0,{get(){return{}}});this.expando=jQuery.expando+Math.random()}Data.uid=1;Data.accepts=jQuery.acceptData;Data.prototype={key(owner){if(!Data.accepts(owner)){return 0}let descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock};Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock;jQuery.extend(owner,descriptor)}}if(!this.cache[unlock]){this.cache[unlock]={}}return unlock},set(owner,data,value){let prop,unlock=this.key(owner),cache=this.cache[unlock];if('string'===typeof data){cache[data]=value}else{if(jQuery.isEmptyObject(cache)){jQuery.extend(this.cache[unlock],data)}else{for(prop in data){cache[prop]=data[prop]}}}return cache},get(owner,key){const cache=this.cache[this.key(owner)];return key===void 0?cache:cache[key]},access(owner,key,value){let stored;if(key===void 0||key&&'string'===typeof key&&value===void 0){stored=this.get(owner,key);return stored!==void 0?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==void 0?value:key},remove(owner,key){let i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(key===void 0){this.cache[unlock]={}}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:name.match(rnotwhite)||[]}}i=name.length;while(i--){delete cache[name[i]]}}},hasData(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard(owner){if(owner[this.expando]){delete this.cache[owner[this.expando]]}}};const data_priv=new Data,data_user=new Data;let rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){let name;if(data===void 0&&1===elem.nodeType){name=`data-${key.replace(rmultiDash,'-$1').toLowerCase()}`;data=elem.getAttribute(name);if('string'===typeof data){try{data='true'===data?!0:'false'===data?!1:'null'===data?null:`${+data}`===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else{data=void 0}}return data}jQuery.extend({hasData(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data(elem,name,data){return data_user.access(elem,name,data)},removeData(elem,name){data_user.remove(elem,name)},_data(elem,name,data){return data_priv.access(elem,name,data)},_removeData(elem,name){data_priv.remove(elem,name)}});jQuery.fn.extend({data(key,value){let i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===void 0){if(this.length){data=data_user.get(elem);if(1===elem.nodeType&&!data_priv.get(elem,'hasDataAttrs')){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(0===name.indexOf('data-')){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}data_priv.set(elem,'hasDataAttrs',!0)}}return data}if('object'===typeof key){return this.each(function(){data_user.set(this,key)})}return access(this,function(value){let data,camelKey=jQuery.camelCase(key);if(elem&&value===void 0){data=data_user.get(elem,key);if(data!==void 0){return data}data=data_user.get(elem,camelKey);if(data!==void 0){return data}data=dataAttr(elem,camelKey,void 0);if(data!==void 0){return data}return}this.each(function(){const data=data_user.get(this,camelKey);data_user.set(this,camelKey,value);if(-1!==key.indexOf('-')&&data!==void 0){data_user.set(this,key,value)}})},null,value,1<arguments.length,null,!0)},removeData(key){return this.each(function(){data_user.remove(this,key)})}});jQuery.extend({queue(elem,type,data){let queue;if(elem){type=`${type||'fx'}queue`;queue=data_priv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=data_priv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue(elem,type){type=type||'fx';let queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if('inprogress'===fn){fn=queue.shift();startLength--}if(fn){if('fx'===type){queue.unshift('inprogress')}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks(elem,type){const key=`${type}queueHooks`;return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks('once memory').add(()=>{data_priv.remove(elem,[`${type}queue`,key])})})}});jQuery.fn.extend({queue(type,data){let setter=2;if('string'!==typeof type){data=type;type='fx';setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===void 0?this:this.each(function(){const queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if('fx'===type&&'inprogress'!==queue[0]){jQuery.dequeue(this,type)}})},dequeue(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue(type){return this.queue(type||'fx',[])},promise(type,obj){let tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(! --count){defer.resolveWith(elements,[elements])}};if('string'!==typeof type){obj=type;type=void 0}type=type||'fx';while(i--){tmp=data_priv.get(elements[i],`${type}queueHooks`);if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});const pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=['Top','Right','Bottom','Left'],isHidden=function(elem,el){elem=el||elem;return'none'===jQuery.css(elem,'display')||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){let fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement('div')),input=document.createElement('input');input.setAttribute('type','radio');input.setAttribute('checked','checked');input.setAttribute('name','t');div.appendChild(input);support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked;div.innerHTML='<textarea>x</textarea>';support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue})();const strundefined=typeof void 0;support.focusinBubbles='onfocusin'in window;let rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}jQuery.event={global:{},add(elem,types,handler,data,selector){let handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}}types=(types||'').match(rnotwhite)||[''];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||'').split('.').sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type,origType,data,handler,guid:handler.guid,selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join('.')},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||!1===special.setup.call(elem,data,namespaces,eventHandle)){if(elem.addEventListener){elem.addEventListener(type,eventHandle,!1)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=!0}},remove(elem,types,handler,selector,mappedTypes){let j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||'').match(rnotwhite)||[''];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||'').split('.').sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,!0)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp(`(^|\\.)${namespaces.join('\\.(?:.*\\.|)')}(\\.|$)`);origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||'**'===selector&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||!1===special.teardown.call(elem,namespaces,elemData.handle)){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;data_priv.remove(elem,'events')}},trigger(event,data,elem,onlyHandlers){let i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,'type')?event.type:event,namespaces=hasOwn.call(event,'namespace')?event.namespace.split('.'):[];cur=tmp=elem=elem||document;if(3===elem.nodeType||8===elem.nodeType){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(0<=type.indexOf('.')){namespaces=type.split('.');type=namespaces.shift();namespaces.sort()}ontype=0>type.indexOf(':')&&`on${type}`;event=event[jQuery.expando]?event:new jQuery.Event(type,'object'===typeof event&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join('.');event.namespace_re=event.namespace?new RegExp(`(^|\\.)${namespaces.join('\\.(?:.*\\.|)')}(\\.|$)`):null;event.result=void 0;if(!event.target){event.target=elem}data=null==data?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&!1===special.trigger.apply(elem,data)){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=1<i?bubbleType:special.bindType||type;handle=(data_priv.get(cur,'events')||{})[event.type]&&data_priv.get(cur,'handle');if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(!1===event.result){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||!1===special._default.apply(eventPath.pop(),data))&&jQuery.acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=void 0;if(tmp){elem[ontype]=tmp}}}}return event.result},dispatch(event){event=jQuery.event.fix(event);let i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,'events')||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&!1===special.preDispatch.call(this,event)){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==void 0){if(!1===(event.result=ret)){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers(event,handlers){let i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||'click'!==event.type)){for(;cur!==this;cur=cur.parentNode||this){if(!0!==cur.disabled||'click'!==event.type){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=`${handleObj.selector} `;if(matches[sel]===void 0){matches[sel]=handleObj.needsContext?0<=jQuery(sel,this).index(cur):jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:['altKey','bubbles','cancelable','ctrlKey','currentTarget','eventPhase','metaKey','relatedTarget','shiftKey','target','timeStamp','view','which'],fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter(event,original){if(null==event.which){event.which=null!=original.charCode?original.charCode:original.keyCode}return event}},mouseHooks:{props:['button','buttons','clientX','clientY','offsetX','offsetY','pageX','pageY','screenX','screenY','toElement'],filter(event,original){let eventDoc,doc,body,button=original.button;if(null==event.pageX&&null!=original.clientX){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==void 0){event.which=1&button?1:2&button?3:4&button?2:0}return event}},fix(event){if(event[jQuery.expando]){return event}let i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(3===event.target.nodeType){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger(){if(this!==safeActiveElement()&&this.focus){this.focus();return!1}},delegateType:'focusin'},blur:{trigger(){if(this===safeActiveElement()&&this.blur){this.blur();return!1}},delegateType:'focusout'},click:{trigger(){if('checkbox'===this.type&&this.click&&jQuery.nodeName(this,'input')){this.click();return!1}},_default(event){return jQuery.nodeName(event.target,'a')}},beforeunload:{postDispatch(event){if(event.result!==void 0&&event.originalEvent){event.originalEvent.returnValue=event.result}}}},simulate(type,elem,event,bubble){const e=jQuery.extend(new jQuery.Event,event,{type,isSimulated:!0,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,!1)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===void 0&&!1===src.returnValue?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=!0};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault(){const e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&e.preventDefault){e.preventDefault()}},stopPropagation(){const e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&e.stopPropagation){e.stopPropagation()}},stopImmediatePropagation(){const e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},(orig,fix)=>{jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle(event){let ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!support.focusinBubbles){jQuery.each({focus:'focusin',blur:'focusout'},(orig,fix)=>{const handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup(){let doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,!0)}data_priv.access(doc,fix,(attaches||0)+1)},teardown(){let doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,!0);data_priv.remove(doc,fix)}else{data_priv.access(doc,fix,attaches)}}}})}jQuery.fn.extend({on(types,selector,data,fn,one){let origFn,type;if('object'===typeof types){if('string'!==typeof selector){data=data||selector;selector=void 0}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(null==data&&null==fn){fn=selector;data=selector=void 0}else if(null==fn){if('string'===typeof selector){fn=data;data=void 0}else{fn=data;data=selector;selector=void 0}}if(!1===fn){fn=returnFalse}else if(!fn){return this}if(1===one){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off(types,selector,fn){let handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?`${handleObj.origType}.${handleObj.namespace}`:handleObj.origType,handleObj.selector,handleObj.handler);return this}if('object'===typeof types){for(type in types){this.off(type,selector,types[type])}return this}if(!1===selector||'function'===typeof selector){fn=selector;selector=void 0}if(!1===fn){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler(type,data){const elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,!0)}}});let rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,'<select multiple=\'multiple\'>','</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'','']};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function manipulationTarget(elem,content){return jQuery.nodeName(elem,'table')&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,'tr')?elem.getElementsByTagName('tbody')[0]||elem.appendChild(elem.ownerDocument.createElement('tbody')):elem}function disableScript(elem){elem.type=`${null!==elem.getAttribute('type')}/${elem.type}`;return elem}function restoreScript(elem){const match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute('type')}return elem}function setGlobalEval(elems,refElements){let i=0,l=elems.length;for(;i<l;i++){data_priv.set(elems[i],'globalEval',!refElements||data_priv.get(refElements[i],'globalEval'))}}function cloneCopyEvent(src,dest){let i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1!==dest.nodeType){return}if(data_priv.hasData(src)){pdataOld=data_priv.access(src);pdataCur=data_priv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(data_user.hasData(src)){udataOld=data_user.access(src);udataCur=jQuery.extend({},udataOld);data_user.set(dest,udataCur)}}function getAll(context,tag){const ret=context.getElementsByTagName?context.getElementsByTagName(tag||'*'):context.querySelectorAll?context.querySelectorAll(tag||'*'):[];return tag===void 0||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){const nodeName=dest.nodeName.toLowerCase();if('input'===nodeName&&rcheckableType.test(src.type)){dest.checked=src.checked}else if('input'===nodeName||'textarea'===nodeName){dest.defaultValue=src.defaultValue}}jQuery.extend({clone(elem,dataAndEvents,deepDataAndEvents){let i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(1===elem.nodeType||11===elem.nodeType)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,'script');if(0<destElements.length){setGlobalEval(destElements,!inPage&&getAll(elem,'script'))}return clone},buildFragment(elems,context,scripts,selection){let elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||0===elem){if('object'===jQuery.type(elem)){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement('div'));tag=(rtagName.exec(elem)||['',''])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,'<$1></$2>')+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=''}}}fragment.textContent='';i=0;while(elem=nodes[i++]){if(selection&&-1!==jQuery.inArray(elem,selection)){continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),'script');if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||'')){scripts.push(elem)}}}}return fragment},cleanData(elems){let data,elem,type,key,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==void 0;i++){if(jQuery.acceptData(elem)){key=elem[data_priv.expando];if(key&&(data=data_priv.cache[key])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(data_priv.cache[key]){delete data_priv.cache[key]}}}delete data_user.cache[elem[data_user.expando]]}}});jQuery.fn.extend({text(value){return access(this,function(value){return value===void 0?jQuery.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){this.textContent=value}})},null,value,arguments.length)},append(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){const target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){const target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove(selector,keepData){let elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;null!=(elem=elems[i]);i++){if(!keepData&&1===elem.nodeType){jQuery.cleanData(getAll(elem))}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,'script'))}elem.parentNode.removeChild(elem)}}return this},empty(){let elem,i=0;for(;null!=(elem=this[i]);i++){if(1===elem.nodeType){jQuery.cleanData(getAll(elem,!1));elem.textContent=''}}return this},clone(dataAndEvents,deepDataAndEvents){dataAndEvents=null==dataAndEvents?!1:dataAndEvents;deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html(value){return access(this,function(value){let elem=this[0]||{},i=0,l=this.length;if(value===void 0&&1===elem.nodeType){return elem.innerHTML}if('string'===typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||['',''])[1].toLowerCase()]){value=value.replace(rxhtmlTag,'<$1></$2>');try{for(;i<l;i++){elem=this[i]||{};if(1===elem.nodeType){jQuery.cleanData(getAll(elem,!1));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith(){let arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this)}});return arg&&(arg.length||arg.nodeType)?this:this.remove()},detach(selector){return this.remove(selector,!0)},domManip(args,callback){args=concat.apply([],args);let fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||1<l&&'string'===typeof value&&!support.checkClone&&rchecked.test(value)){return this.each(function(index){const self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}self.domManip(args,callback)})}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this);first=fragment.firstChild;if(1===fragment.childNodes.length){fragment=first}if(first){scripts=jQuery.map(getAll(fragment,'script'),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==l-1){node=jQuery.clone(node,!0,!0);if(hasScripts){jQuery.merge(scripts,getAll(node,'script'))}}callback.call(this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||'')&&!data_priv.access(node,'globalEval')&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,''))}}}}}}return this}});jQuery.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},(name,original)=>{jQuery.fn[name]=function(selector){let elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(!0);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});let iframe,elemdisplay={};function actualDisplay(name,doc){let style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],'display');elem.detach();return display}function defaultDisplay(nodeName){let doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if('none'===display||!display){iframe=(iframe||jQuery('<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>')).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}const rmargin=/^margin/,rnumnonpx=new RegExp(`^(${pnum})(?!px)[a-z%]+$`,'i'),getStyles=function(elem){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)};function curCSS(elem,name,computed){let width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);if(computed){ret=computed.getPropertyValue(name)||computed[name]}if(computed){if(''===ret&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==void 0?`${ret}`:ret}function addGetHookIf(conditionFn,hookFn){return{get(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}(function(){let pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement('div'),div=document.createElement('div');if(!div.style){return}div.style.backgroundClip='content-box';div.cloneNode(!0).style.backgroundClip='';support.clearCloneStyle='content-box'===div.style.backgroundClip;container.style.cssText='border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute';container.appendChild(div);function computePixelPositionAndBoxSizingReliable(){div.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute';div.innerHTML='';docElem.appendChild(container);const divStyle=window.getComputedStyle(div,null);pixelPositionVal='1%'!==divStyle.top;boxSizingReliableVal='4px'===divStyle.width;docElem.removeChild(container)}if(window.getComputedStyle){jQuery.extend(support,{pixelPosition(){computePixelPositionAndBoxSizingReliable();return pixelPositionVal},boxSizingReliable(){if(null==boxSizingReliableVal){computePixelPositionAndBoxSizingReliable()}return boxSizingReliableVal},reliableMarginRight(){let ret,marginDiv=div.appendChild(document.createElement('div'));marginDiv.style.cssText=div.style.cssText='-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0';marginDiv.style.marginRight=marginDiv.style.width='0';div.style.width='1px';docElem.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight);docElem.removeChild(container);return ret}})}})();jQuery.swap=function(elem,options,callback,args){let ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};let rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp(`^(${pnum})(.*)$`,'i'),rrelNum=new RegExp(`^([+-])=(${pnum})`,'i'),cssShow={position:'absolute',visibility:'hidden',display:'block'},cssNormalTransform={letterSpacing:'0',fontWeight:'400'},cssPrefixes=['Webkit','O','Moz','ms'];function vendorPropName(style,name){if(name in style){return name}let capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function setPositiveNumber(elem,value,subtract){const matches=rnumsplit.exec(value);return matches?_Mathmax3(0,matches[1]-(subtract||0))+(matches[2]||'px'):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){let i=extra===(isBorderBox?'border':'content')?4:'width'===name?1:0,val=0;for(;4>i;i+=2){if('margin'===extra){val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)}if(isBorderBox){if('content'===extra){val-=jQuery.css(elem,`padding${cssExpand[i]}`,!0,styles)}if('margin'!==extra){val-=jQuery.css(elem,`border${cssExpand[i]}Width`,!0,styles)}}else{val+=jQuery.css(elem,`padding${cssExpand[i]}`,!0,styles);if('padding'!==extra){val+=jQuery.css(elem,`border${cssExpand[i]}Width`,!0,styles)}}}return val}function getWidthOrHeight(elem,name,extra){let valueIsBorderBox=!0,val='width'===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox='border-box'===jQuery.css(elem,'boxSizing',!1,styles);if(0>=val||null==val){val=curCSS(elem,name,styles);if(0>val||null==val){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return`${val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?'border':'content'),valueIsBorderBox,styles)}px`}function showHide(elements,show){let display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=data_priv.get(elem,'olddisplay');display=elem.style.display;if(show){if(!values[index]&&'none'===display){elem.style.display=''}if(''===elem.style.display&&isHidden(elem)){values[index]=data_priv.access(elem,'olddisplay',defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if('none'!==display||!hidden){data_priv.set(elem,'olddisplay',hidden?display:jQuery.css(elem,'display'))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||'none'===elem.style.display||''===elem.style.display){elem.style.display=show?values[index]||'':'none'}}return elements}jQuery.extend({cssHooks:{opacity:{get(elem,computed){if(computed){const ret=curCSS(elem,'opacity');return''===ret?'1':ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:'cssFloat'},style(elem,name,value,extra){if(!elem||3===elem.nodeType||8===elem.nodeType||!elem.style){return}let ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==void 0){type=typeof value;if('string'===type&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type='number'}if(null==value||value!==value){return}if('number'===type&&!jQuery.cssNumber[origName]){value+='px'}if(!support.clearCloneStyle&&''===value&&0===name.indexOf('background')){style[name]='inherit'}if(!hooks||!('set'in hooks)||(value=hooks.set(elem,value,extra))!==void 0){style[name]=value}}else{if(hooks&&'get'in hooks&&(ret=hooks.get(elem,!1,extra))!==void 0){return ret}return style[name]}},css(elem,name,extra,styles){let val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&'get'in hooks){val=hooks.get(elem,!0,extra)}if(val===void 0){val=curCSS(elem,name,styles)}if('normal'===val&&name in cssNormalTransform){val=cssNormalTransform[name]}if(''===extra||extra){num=parseFloat(val);return!0===extra||jQuery.isNumeric(num)?num||0:val}return val}});jQuery.each(['height','width'],(i,name)=>{jQuery.cssHooks[name]={get(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,'display'))&&0===elem.offsetWidth?jQuery.swap(elem,cssShow,()=>{return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set(elem,value,extra){const styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,'border-box'===jQuery.css(elem,'boxSizing',!1,styles),styles):0)}}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,(elem,computed)=>{if(computed){return jQuery.swap(elem,{display:'inline-block'},curCSS,[elem,'marginRight'])}});jQuery.each({margin:'',padding:'',border:'Width'},(prefix,suffix)=>{jQuery.cssHooks[prefix+suffix]={expand(value){let i=0,expanded={},parts='string'===typeof value?value.split(' '):[value];for(;4>i;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css(name,value){return access(this,(elem,name,value)=>{let styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],!1,styles)}return map}return value!==void 0?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,1<arguments.length)},show(){return showHide(this,!0)},hide(){return showHide(this)},toggle(state){if('boolean'===typeof state){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||'swing';this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?'':'px')},cur(){const hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run(percent){let eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get(tween){let result;if(null!=tween.elem[tween.prop]&&(!tween.elem.style||null==tween.elem.style[tween.prop])){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,'');return!result||'auto'===result?0:result},set(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear(p){return p},swing(p){return 0.5-Math.cos(p*Math.PI)/2}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};let fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp(`^(?:([+-])=|)(${pnum})([a-z%]*)$`,'i'),rrun=/queueHooks$/,animationPrefilters=[function(elem,props,opts){let prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,'fxshow');if(!opts.queue){hooks=jQuery._queueHooks(elem,'fx');if(null==hooks.unqueued){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(()=>{anim.always(()=>{hooks.unqueued--;if(!jQuery.queue(elem,'fx').length){hooks.empty.fire()}})})}if(1===elem.nodeType&&('height'in props||'width'in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,'display');checkDisplay='none'===display?data_priv.get(elem,'olddisplay')||defaultDisplay(elem.nodeName):display;if('inline'===checkDisplay&&'none'===jQuery.css(elem,'float')){style.display='inline-block'}}if(opts.overflow){style.overflow='hidden';anim.always(()=>{style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||'toggle'===value;if(value===(hidden?'hide':'show')){if('show'===value&&dataShow&&dataShow[prop]!==void 0){hidden=!0}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=void 0}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if('hidden'in dataShow){hidden=dataShow.hidden}}else{dataShow=data_priv.access(elem,'fxshow',{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(()=>{jQuery(elem).hide()})}anim.done(()=>{data_priv.remove(elem,'fxshow');for(var prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start='width'===prop||'height'===prop?1:0}}}}else if('inline'===('none'===display?defaultDisplay(elem.nodeName):display)){style.display=display}}],tweeners={"*":[function(prop,value){let tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?'':'px'),start=(jQuery.cssNumber[prop]||'px'!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||'.5';start/=scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]}return tween}]};function createFxNow(){setTimeout(()=>{fxNow=void 0});return fxNow=jQuery.now()}function genFx(type,includeWidth){let which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;4>i;i+=2-includeWidth){which=cssExpand[i];attrs[`margin${which}`]=attrs[`padding${which}`]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){let tween,collection=(tweeners[prop]||[]).concat(tweeners['*']),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function propFilter(props,specialEasing){let index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&'expand'in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(()=>{delete tick.elem}),tick=function(){if(stopped){return!1}let currentTime=fxNow||createFxNow(),remaining=_Mathmax3(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(1>percent&&length){return remaining}deferred.resolveWith(elem,[animation]);return!1},animation=deferred.promise({elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween(prop,end){const tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop(gotoEnd){let index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=!0;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweener(props,callback){if(jQuery.isFunction(props)){callback=props;props=['*']}else{props=props.split(' ')}let prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){const opt=speed&&'object'===typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:'number'===typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(null==opt.queue||!0===opt.queue){opt.queue='fx'}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo(speed,to,easing,callback){return this.filter(isHidden).css('opacity',0).show().end().animate({opacity:to},speed,easing,callback)},animate(prop,speed,easing,callback){let empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){const anim=Animation(this,jQuery.extend({},prop),optall);if(empty||data_priv.get(this,'finish')){anim.stop(!0)}};doAnimation.finish=doAnimation;return empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop(type,clearQueue,gotoEnd){const stopQueue=function(hooks){const stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if('string'!==typeof type){gotoEnd=clearQueue;clearQueue=type;type=void 0}if(clearQueue&&!1!==type){this.queue(type||'fx',[])}return this.each(function(){let dequeue=!0,index=null!=type&&`${type}queueHooks`,timers=jQuery.timers,data=data_priv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(null==type||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=!1;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish(type){if(!1!==type){type=type||'fx'}return this.each(function(){let index,data=data_priv.get(this),queue=data[`${type}queue`],hooks=data[`${type}queueHooks`],timers=jQuery.timers,length=queue?queue.length:0;data.finish=!0;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,!0)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(!0);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(['toggle','show','hide'],(i,name)=>{const cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||'boolean'===typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}});jQuery.each({slideDown:genFx('show'),slideUp:genFx('hide'),slideToggle:genFx('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},(name,props)=>{jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){let timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=void 0};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||'fx';return this.queue(type,(next,hooks)=>{const timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})};(function(){let input=document.createElement('input'),select=document.createElement('select'),opt=select.appendChild(document.createElement('option'));input.type='checkbox';support.checkOn=''!==input.value;support.optSelected=opt.selected;select.disabled=!0;support.optDisabled=!opt.disabled;input=document.createElement('input');input.value='t';input.type='radio';support.radioValue='t'===input.value})();let nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr(name,value){return access(this,jQuery.attr,name,value,1<arguments.length)},removeAttr(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr(elem,name,value){let hooks,ret,nType=elem.nodeType;if(!elem||3===nType||8===nType||2===nType){return}if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value)}if(1!==nType||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)}if(value!==void 0){if(null===value){jQuery.removeAttr(elem,name)}else if(hooks&&'set'in hooks&&(ret=hooks.set(elem,value,name))!==void 0){return ret}else{elem.setAttribute(name,`${value}`);return value}}else if(hooks&&'get'in hooks&&null!==(ret=hooks.get(elem,name))){return ret}else{ret=jQuery.find.attr(elem,name);return null==ret?void 0:ret}},removeAttr(elem,value){let name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=!1}elem.removeAttribute(name)}}},attrHooks:{type:{set(elem,value){if(!support.radioValue&&'radio'===value&&jQuery.nodeName(elem,'input')){const val=elem.value;elem.setAttribute('type',value);if(val){elem.value=val}return value}}}}});boolHook={set(elem,value,name){if(!1===value){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),(i,name)=>{const getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){let ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=null!=getter(elem,name,isXML)?name.toLowerCase():null;attrHandle[name]=handle}return ret}});const rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop(name,value){return access(this,jQuery.prop,name,value,1<arguments.length)},removeProp(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({propFix:{for:'htmlFor',class:'className'},prop(elem,name,value){let ret,hooks,notxml,nType=elem.nodeType;if(!elem||3===nType||8===nType||2===nType){return}notxml=1!==nType||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==void 0){return hooks&&'set'in hooks&&(ret=hooks.set(elem,value,name))!==void 0?ret:elem[name]=value}return hooks&&'get'in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get(elem){return elem.hasAttribute('tabindex')||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}});if(!support.optSelected){jQuery.propHooks.selected={get(elem){const parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null}}}jQuery.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){jQuery.propFix[this.toLowerCase()]=this});const rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass(value){let classes,elem,cur,clazz,j,finalValue,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if('string'===typeof value&&value){classes=(value||'').match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=1===elem.nodeType&&(elem.className?` ${elem.className} `.replace(rclass,' '):' ');if(cur){j=0;while(clazz=classes[j++]){if(0>cur.indexOf(` ${clazz} `)){cur+=`${clazz} `}}finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue}}}}return this},removeClass(value){let classes,elem,cur,clazz,j,finalValue,proceed=0===arguments.length||'string'===typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(proceed){classes=(value||'').match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=1===elem.nodeType&&(elem.className?` ${elem.className} `.replace(rclass,' '):'');if(cur){j=0;while(clazz=classes[j++]){while(0<=cur.indexOf(` ${clazz} `)){cur=cur.replace(` ${clazz} `,' ')}}finalValue=value?jQuery.trim(cur):'';if(elem.className!==finalValue){elem.className=finalValue}}}}return this},toggleClass(value,stateVal){const type=typeof value;if('boolean'===typeof stateVal&&'string'===type){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if('string'===type){let className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(type===strundefined||'boolean'===type){if(this.className){data_priv.set(this,'__className__',this.className)}this.className=this.className||!1===value?'':data_priv.get(this,'__className__')||''}})},hasClass(selector){let className=` ${selector} `,i=0,l=this.length;for(;i<l;i++){if(1===this[i].nodeType&&0<=` ${this[i].className} `.replace(rclass,' ').indexOf(className)){return!0}}return!1}});const rreturn=/\r/g;jQuery.fn.extend({val(value){let hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&'get'in hooks&&(ret=hooks.get(elem,'value'))!==void 0){return ret}ret=elem.value;return'string'===typeof ret?ret.replace(rreturn,''):null==ret?'':ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){let val;if(1!==this.nodeType){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(null==val){val=''}else if('number'===typeof val){val+=''}else if(jQuery.isArray(val)){val=jQuery.map(val,value=>{return null==value?'':`${value}`})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!('set'in hooks)||hooks.set(this,val,'value')===void 0){this.value=val}})}});jQuery.extend({valHooks:{option:{get(elem){const val=jQuery.find.attr(elem,'value');return null!=val?val:jQuery.trim(jQuery.text(elem))}},select:{get(elem){let value,option,options=elem.options,index=elem.selectedIndex,one='select-one'===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute('disabled'))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,'optgroup'))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set(elem,value){let optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=0<=jQuery.inArray(option.value,values)){optionSet=!0}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(['radio','checkbox'],function(){jQuery.valHooks[this]={set(elem,value){if(jQuery.isArray(value)){return elem.checked=0<=jQuery.inArray(jQuery(elem).val(),value)}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute('value')?'on':elem.value}}});jQuery.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),(i,name)=>{jQuery.fn[name]=function(data,fn){return 0<arguments.length?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind(types,data,fn){return this.on(types,null,data,fn)},unbind(types,fn){return this.off(types,null,fn)},delegate(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate(selector,types,fn){return 1===arguments.length?this.off(selector,'**'):this.off(types,selector||'**',fn)}});let nonce=jQuery.now();const rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(`${data}`)};jQuery.parseXML=function(data){let xml,tmp;if(!data||'string'!==typeof data){return null}try{tmp=new DOMParser;xml=tmp.parseFromString(data,'text/xml')}catch(e){xml=void 0}if(!xml||xml.getElementsByTagName('parsererror').length){jQuery.error(`Invalid XML: ${data}`)}return xml};let ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes='*/'.concat('*');try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement('a');ajaxLocation.href='';ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if('string'!==typeof dataTypeExpression){func=dataTypeExpression;dataTypeExpression='*'}let dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if('+'===dataType[0]){dataType=dataType.slice(1)||'*';(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){let inspected={},seekingTransport=structure===transports;function inspect(dataType){let selected;inspected[dataType]=!0;jQuery.each(structure[dataType]||[],(_,prefilterOrFactory)=>{const dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if('string'===typeof dataTypeOrTransport&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return!1}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected['*']&&inspect('*')}function ajaxExtend(target,src){let key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==void 0){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(!0,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){let ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while('*'===dataTypes[0]){dataTypes.shift();if(ct===void 0){ct=s.mimeType||jqXHR.getResponseHeader('Content-Type')}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[`${type} ${dataTypes[0]}`]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){let conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if('*'===current){current=prev}else if('*'!==prev&&prev!==current){conv=converters[`${prev} ${current}`]||converters[`* ${current}`];if(!conv){for(conv2 in converters){tmp=conv2.split(' ');if(tmp[1]===current){conv=converters[`${prev} ${tmp[0]}`]||converters[`* ${tmp[0]}`];if(conv){if(!0===conv){conv=converters[conv2]}else if(!0!==converters[conv2]){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(!0!==conv){if(conv&&s.throws){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:'parsererror',error:conv?e:`No conversion from ${prev} to ${current}`}}}}}}}return{state:'success',data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:'GET',isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{"*":allTypes,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax(url,options){if('object'===typeof url){options=url;url=void 0}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks('once memory'),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort='canceled',jqXHR={readyState:0,getResponseHeader(key){let match;if(2===state){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders(){return 2===state?responseHeadersString:null},setRequestHeader(name,value){const lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType(type){if(!state){s.mimeType=type}return this},statusCode(map){if(map){if(2>state){for(var code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort(statusText){const finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=`${url||s.url||ajaxLocation}`.replace(rhash,'').replace(rprotocol,`${ajaxLocParts[1]}//`);s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||'*').toLowerCase().match(rnotwhite)||[''];if(null==s.crossDomain){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||('http:'===parts[1]?'80':'443'))!==(ajaxLocParts[3]||('http:'===ajaxLocParts[1]?'80':'443'))))}if(s.data&&s.processData&&'string'!==typeof s.data){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(2===state){return jqXHR}fireGlobals=s.global;if(fireGlobals&&0===jQuery.active++){jQuery.event.trigger('ajaxStart')}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?'&':'?')+s.data;delete s.data}if(!1===s.cache){s.url=rts.test(cacheURL)?cacheURL.replace(rts,`$1_=${nonce++}`):`${cacheURL+(rquery.test(cacheURL)?'&':'?')}_=${nonce++}`}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader('If-Modified-Since',jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader('If-None-Match',jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&!1!==s.contentType||options.contentType){jqXHR.setRequestHeader('Content-Type',s.contentType)}jqXHR.setRequestHeader('Accept',s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+('*'!==s.dataTypes[0]?`, ${allTypes}; q=0.01`:''):s.accepts['*']);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||2===state)){return jqXHR.abort()}strAbort='abort';for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,'No Transport')}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger('ajaxSend',[jqXHR,s])}if(s.async&&0<s.timeout){timeoutTimer=setTimeout(()=>{jqXHR.abort('timeout')},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(2>state){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){let isSuccess,success,error,response,modified,statusText=nativeStatusText;if(2===state){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=void 0;responseHeadersString=headers||'';jqXHR.readyState=0<status?4:0;isSuccess=200<=status&&300>status||304===status;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader('Last-Modified');if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader('etag');if(modified){jQuery.etag[cacheURL]=modified}}if(204===status||'HEAD'===s.type){statusText='nocontent'}else if(304===status){statusText='notmodified'}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText='error';if(0>status){status=0}}}jqXHR.status=status;jqXHR.statusText=`${nativeStatusText||statusText}`;if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=void 0;if(fireGlobals){globalEventContext.trigger(isSuccess?'ajaxSuccess':'ajaxError',[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger('ajaxComplete',[jqXHR,s]);if(! --jQuery.active){jQuery.event.trigger('ajaxStop')}}}return jqXHR},getJSON(url,data,callback){return jQuery.get(url,data,callback,'json')},getScript(url,callback){return jQuery.get(url,void 0,callback,'script')}});jQuery.each(['get','post'],(i,method)=>{jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=void 0}return jQuery.ajax({url,type:method,dataType:type,data,success:callback})}});jQuery.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],(i,type)=>{jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery._evalUrl=function(url){return jQuery.ajax({url,type:'GET',dataType:'script',async:!1,global:!1,throws:!0})};jQuery.fn.extend({wrapAll(html){let wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){let elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){let self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap(html){const isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap(){return this.parent().each(function(){if(!jQuery.nodeName(this,'body')){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return 0>=elem.offsetWidth&&0>=elem.offsetHeight};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};let r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj)){jQuery.each(obj,(i,v)=>{if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(`${prefix}[${'object'===typeof v?i:''}]`,v,traditional,add)}})}else if(!traditional&&'object'===jQuery.type(obj)){for(var name in obj){buildParams(`${prefix}[${name}]`,obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){let prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?'':value;s[s.length]=`${encodeURIComponent(key)}=${encodeURIComponent(value)}`};if(traditional===void 0){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join('&').replace(r20,'+')};jQuery.fn.extend({serialize(){return jQuery.param(this.serializeArray())},serializeArray(){return this.map(function(){const elements=jQuery.prop(this,'elements');return elements?jQuery.makeArray(elements):this}).filter(function(){const type=this.type;return this.name&&!jQuery(this).is(':disabled')&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){const val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,val=>{return{name:elem.name,value:val.replace(rCRLF,'\r\n')}}):{name:elem.name,value:val.replace(rCRLF,'\r\n')}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};let xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();if(window.ActiveXObject){jQuery(window).on('unload',()=>{for(const key in xhrCallbacks){xhrCallbacks[key]()}})}support.cors=!!xhrSupported&&'withCredentials'in xhrSupported;support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(options=>{let callback;if(support.cors||xhrSupported&&!options.crossDomain){return{send(headers,complete){let i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers['X-Requested-With']){headers['X-Requested-With']='XMLHttpRequest'}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){delete xhrCallbacks[id];callback=xhr.onload=xhr.onerror=null;if('abort'===type){xhr.abort()}else if('error'===type){complete(xhr.status,xhr.statusText)}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,'string'===typeof xhr.responseText?{text:xhr.responseText}:void 0,xhr.getAllResponseHeaders())}}}};xhr.onload=callback();xhr.onerror=callback('error');callback=xhrCallbacks[id]=callback('abort');try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter('script',s=>{if(s.cache===void 0){s.cache=!1}if(s.crossDomain){s.type='GET'}});jQuery.ajaxTransport('script',s=>{if(s.crossDomain){let script,callback;return{send(_,complete){script=jQuery('<script>').prop({async:!0,charset:s.scriptCharset,src:s.url}).on('load error',callback=function(evt){script.remove();callback=null;if(evt){complete('error'===evt.type?404:200,evt.type)}});document.head.appendChild(script[0])},abort(){if(callback){callback()}}}}});let oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:'callback',jsonpCallback(){const callback=oldCallbacks.pop()||`${jQuery.expando}_${nonce++}`;this[callback]=!0;return callback}});jQuery.ajaxPrefilter('json jsonp',(s,originalSettings,jqXHR)=>{let callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?'url':'string'===typeof s.data&&!(s.contentType||'').indexOf('application/x-www-form-urlencoded')&&rjsonp.test(s.data)&&'data');if(jsonProp||'jsonp'===s.dataTypes[0]){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,`$1${callbackName}`)}else if(!1!==s.jsonp){s.url+=`${(rquery.test(s.url)?'&':'?')+s.jsonp}=${callbackName}`}s.converters['script json']=function(){if(!responseContainer){jQuery.error(`${callbackName} was not called`)}return responseContainer[0]};s.dataTypes[0]='json';overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(()=>{window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=void 0});return'script'}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||'string'!==typeof data){return null}if('boolean'===typeof context){keepScripts=context;context=!1}context=context||document;let parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};const _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if('string'!==typeof url&&_load){return _load.apply(this,arguments)}let selector,type,response,self=this,off=url.indexOf(' ');if(0<=off){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=void 0}else if(params&&'object'===typeof params){type='POST'}if(0<self.length){jQuery.ajax({url,type,dataType:'html',data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery('<div>').append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&((jqXHR,status)=>{self.each(callback,response||[jqXHR.responseText,status,jqXHR])}))}return this};jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,fn=>{return elem===fn.elem}).length};const docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}jQuery.offset={setOffset(elem,options,i){let curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,'position'),curElem=jQuery(elem),props={};if('static'===position){elem.style.position='relative'}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,'top');curCSSLeft=jQuery.css(elem,'left');calculatePosition=('absolute'===position||'fixed'===position)&&-1<(curCSSTop+curCSSLeft).indexOf('auto');if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(null!=options.top){props.top=options.top-curOffset.top+curTop}if(null!=options.left){props.left=options.left-curOffset.left+curLeft}if('using'in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset(options){if(arguments.length){return options===void 0?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}let docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect()}win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position(){if(!this[0]){return}let offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if('fixed'===jQuery.css(elem,'position')){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],'html')){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],'borderTopWidth',!0);parentOffset.left+=jQuery.css(offsetParent[0],'borderLeftWidth',!0)}return{top:offset.top-parentOffset.top-jQuery.css(elem,'marginTop',!0),left:offset.left-parentOffset.left-jQuery.css(elem,'marginLeft',!0)}},offsetParent(){return this.map(function(){let offsetParent=this.offsetParent||docElem;while(offsetParent&&!jQuery.nodeName(offsetParent,'html')&&'static'===jQuery.css(offsetParent,'position')){offsetParent=offsetParent.offsetParent}return offsetParent||docElem})}});jQuery.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},(method,prop)=>{const top='pageYOffset'===prop;jQuery.fn[method]=function(val){return access(this,(elem,method,val)=>{const win=getWindow(elem);if(val===void 0){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:window.pageXOffset,top?val:window.pageYOffset)}else{elem[method]=val}},method,val,arguments.length,null)}});jQuery.each(['top','left'],(i,prop)=>{jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,(elem,computed)=>{if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?`${jQuery(elem).position()[prop]}px`:computed}})});jQuery.each({Height:'height',Width:'width'},(name,type)=>{jQuery.each({padding:`inner${name}`,content:type,"":`outer${name}`},(defaultExtra,funcName)=>{jQuery.fn[funcName]=function(margin,value){let chainable=arguments.length&&(defaultExtra||'boolean'!==typeof margin),extra=defaultExtra||(!0===margin||!0===value?'margin':'border');return access(this,(elem,type,value)=>{let doc;if(jQuery.isWindow(elem)){return elem.document.documentElement[`client${name}`]}if(9===elem.nodeType){doc=elem.documentElement;return _Mathmax3(elem.body[`scroll${name}`],doc[`scroll${name}`],elem.body[`offset${name}`],doc[`offset${name}`],doc[`client${name}`])}return value===void 0?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})});jQuery.fn.size=function(){return this.length};jQuery.fn.andSelf=jQuery.fn.addBack;!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=(()=>{return jQuery}).apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));let _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery}return jQuery})},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=superclass=>class extends superclass{enteringView(){this.dispatchEvent(new CustomEvent('entering-view'))}enteredView(options){this.hidden=!1;this.dispatchEvent(new CustomEvent('entered-view',options))}exitedView(){this.hidden=!0;this.dispatchEvent(new CustomEvent('exited-view'))}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=(target,...sources)=>{sources.forEach(source=>{let descriptors=Object.keys(source).reduce((descriptors,key)=>{descriptors[key]=Object.getOwnPropertyDescriptor(source,key);return descriptors},{});Object.getOwnPropertySymbols(source).forEach(sym=>{let descriptor=Object.getOwnPropertyDescriptor(source,sym);if(descriptor.enumerable){descriptors[sym]=descriptor}});Object.defineProperties(target,descriptors)});return target}},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0__createStore__=__webpack_require__(79),__WEBPACK_IMPORTED_MODULE_1__combineReducers__=__webpack_require__(424),__WEBPACK_IMPORTED_MODULE_2__bindActionCreators__=__webpack_require__(425),__WEBPACK_IMPORTED_MODULE_3__applyMiddleware__=__webpack_require__(426),__WEBPACK_IMPORTED_MODULE_4__compose__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_5__utils_warning__=__webpack_require__(82);__webpack_require__.d(__webpack_exports__,'createStore',function(){return __WEBPACK_IMPORTED_MODULE_0__createStore__.b});__webpack_require__.d(__webpack_exports__,'combineReducers',function(){return __WEBPACK_IMPORTED_MODULE_1__combineReducers__.a});__webpack_require__.d(__webpack_exports__,'bindActionCreators',function(){return __WEBPACK_IMPORTED_MODULE_2__bindActionCreators__.a});__webpack_require__.d(__webpack_exports__,'applyMiddleware',function(){return __WEBPACK_IMPORTED_MODULE_3__applyMiddleware__.a});__webpack_require__.d(__webpack_exports__,'compose',function(){return __WEBPACK_IMPORTED_MODULE_4__compose__.a});function isCrushed(){}if('production'!==process.env.NODE_ENV&&'string'===typeof isCrushed.name&&'isCrushed'!==isCrushed.name){Object(__WEBPACK_IMPORTED_MODULE_5__utils_warning__.a)('You are currently using minified code outside of NODE_ENV === \'production\'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build.')}},function(module,exports,__webpack_require__){__webpack_require__(90);__webpack_require__(44);__webpack_require__(50);__webpack_require__(97);__webpack_require__(9);__webpack_require__(98);__webpack_require__(99);__webpack_require__(100);__webpack_require__(101);(function(){'use strict';let styleInterface=window.ShadyCSS;Polymer.LegacyElementMixin=Polymer.dedupingMixin(base=>{const legacyElementBase=Polymer.DirMixin(Polymer.GestureEventListeners(Polymer.ElementMixin(base))),DIRECTION_MAP={x:'pan-x',y:'pan-y',none:'none',all:'auto'};class LegacyElement extends legacyElementBase{constructor(){super();this.isAttached;this.__boundListeners;this._debouncers;this._applyListeners()}created(){}connectedCallback(){super.connectedCallback();this.isAttached=!0;this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback();this.isAttached=!1;this.detached()}detached(){}attributeChangedCallback(name,old,value){if(old!==value){super.attributeChangedCallback(name,old,value);this.attributeChanged(name,old,value)}}attributeChanged(){}_initializeProperties(){let proto=Object.getPrototypeOf(this);if(!proto.hasOwnProperty('__hasRegisterFinished')){proto.__hasRegisterFinished=!0;this._registered()}super._initializeProperties();this.root=this;this.created()}_registered(){}ready(){this._ensureAttributes();super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(value){return this._serializeValue(value)}deserialize(value,type){return this._deserializeValue(value,type)}reflectPropertyToAttribute(property,attribute,value){this._propertyToAttribute(property,attribute,value)}serializeValueToAttribute(value,attribute,node){this._valueToNodeAttribute(node||this,value,attribute)}extend(prototype,api){if(!(prototype&&api)){return prototype||api}let n$=Object.getOwnPropertyNames(api);for(let i=0,n,pd;i<n$.length&&(n=n$[i]);i++){pd=Object.getOwnPropertyDescriptor(api,n);if(pd){Object.defineProperty(prototype,n,pd)}}return prototype}mixin(target,source){for(let i in source){target[i]=source[i]}return target}chainObject(object,prototype){if(object&&prototype&&object!==prototype){object.__proto__=prototype}return object}instanceTemplate(template){let content=this.constructor._contentForTemplate(template),dom=document.importNode(content,!0);return dom}fire(type,detail,options){options=options||{};detail=null===detail||detail===void 0?{}:detail;let event=new Event(type,{bubbles:options.bubbles===void 0?!0:options.bubbles,cancelable:!!options.cancelable,composed:options.composed===void 0?!0:options.composed});event.detail=detail;let node=options.node||this;node.dispatchEvent(event);return event}listen(node,eventName,methodName){node=node||this;let hbl=this.__boundListeners||(this.__boundListeners=new WeakMap),bl=hbl.get(node);if(!bl){bl={};hbl.set(node,bl)}let key=eventName+methodName;if(!bl[key]){bl[key]=this._addMethodEventListenerToNode(node,eventName,methodName,this)}}unlisten(node,eventName,methodName){node=node||this;let bl=this.__boundListeners&&this.__boundListeners.get(node),key=eventName+methodName,handler=bl&&bl[key];if(handler){this._removeEventListenerFromNode(node,eventName,handler);bl[key]=null}}setScrollDirection(direction,node){Polymer.Gestures.setTouchAction(node||this,DIRECTION_MAP[direction]||'auto')}$$(slctr){return this.root.querySelector(slctr)}get domHost(){let root=this.getRootNode();return root instanceof DocumentFragment?root.host:root}distributeContent(){if(window.ShadyDOM&&this.shadowRoot){ShadyDOM.flush()}}getEffectiveChildNodes(){const thisEl=this,domApi=Polymer.dom(thisEl);return domApi.getEffectiveChildNodes()}queryDistributedElements(selector){const thisEl=this,domApi=Polymer.dom(thisEl);return domApi.queryDistributedElements(selector)}getEffectiveChildren(){let list=this.getEffectiveChildNodes();return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let cn=this.getEffectiveChildNodes(),tc=[];for(let i=0,c;c=cn[i];i++){if(c.nodeType!==Node.COMMENT_NODE){tc.push(c.textContent)}}return tc.join('')}queryEffectiveChildren(selector){let e$=this.queryDistributedElements(selector);return e$&&e$[0]}queryAllEffectiveChildren(selector){return this.queryDistributedElements(selector)}getContentChildNodes(slctr){let content=this.root.querySelector(slctr||'slot');return content?Polymer.dom(content).getDistributedNodes():[]}getContentChildren(slctr){let children=this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE});return children}isLightDescendant(node){const thisNode=this;return thisNode!==node&&thisNode.contains(node)&&thisNode.getRootNode()===node.getRootNode()}isLocalDescendant(node){return this.root===node.getRootNode()}scopeSubtree(){}getComputedStyleValue(property){return styleInterface.getComputedStyleValue(this,property)}debounce(jobName,callback,wait){this._debouncers=this._debouncers||{};return this._debouncers[jobName]=Polymer.Debouncer.debounce(this._debouncers[jobName],0<wait?Polymer.Async.timeOut.after(wait):Polymer.Async.microTask,callback.bind(this))}isDebouncerActive(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.isActive())}flushDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.flush()}}cancelDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.cancel()}}async(callback,waitTime){return 0<waitTime?Polymer.Async.timeOut.run(callback.bind(this),waitTime):~Polymer.Async.microTask.run(callback.bind(this))}cancelAsync(handle){0>handle?Polymer.Async.microTask.cancel(~handle):Polymer.Async.timeOut.cancel(handle)}create(tag,props){let elt=document.createElement(tag);if(props){if(elt.setProperties){elt.setProperties(props)}else{for(let n in props){elt[n]=props[n]}}}return elt}importHref(href,onload,onerror,optAsync){let loadFn=onload?onload.bind(this):null,errorFn=onerror?onerror.bind(this):null;return Polymer.importHref(href,loadFn,errorFn,optAsync)}elementMatches(selector,node){return Polymer.dom.matchesSelector(node||this,selector)}toggleAttribute(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.hasAttribute(name)}if(bool){node.setAttribute(name,'')}else{node.removeAttribute(name)}}toggleClass(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.classList.contains(name)}if(bool){node.classList.add(name)}else{node.classList.remove(name)}}transform(transformText,node){node=node||this;node.style.webkitTransform=transformText;node.style.transform=transformText}translate3d(x,y,z,node){node=node||this;this.transform('translate3d('+x+','+y+','+z+')',node)}arrayDelete(arrayOrPath,item){let index;if(Array.isArray(arrayOrPath)){index=arrayOrPath.indexOf(item);if(0<=index){return arrayOrPath.splice(index,1)}}else{let arr=Polymer.Path.get(this,arrayOrPath);index=arr.indexOf(item);if(0<=index){return this.splice(arrayOrPath,index,1)}}return null}_logger(level,args){if(Array.isArray(args)&&1===args.length&&Array.isArray(args[0])){args=args[0]}switch(level){case'log':case'warn':case'error':console[level](...args);}}_log(...args){this._logger('log',args)}_warn(...args){this._logger('warn',args)}_error(...args){this._logger('error',args)}_logf(methodName,...args){return['[%s::%s]',this.is,methodName,...args]}}LegacyElement.prototype.is='';return LegacyElement})})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(45);__webpack_require__(9);__webpack_require__(46);__webpack_require__(20);__webpack_require__(92);__webpack_require__(26);__webpack_require__(95);(function(){'use strict';Polymer.ElementMixin=Polymer.dedupingMixin(base=>{const polymerElementBase=Polymer.PropertiesMixin(Polymer.PropertyEffects(base));function propertyDefaults(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty('__propertyDefaults',constructor))){constructor.__propertyDefaults=null;let props=constructor._properties;for(let p in props){let info=props[p];if('value'in info){constructor.__propertyDefaults=constructor.__propertyDefaults||{};constructor.__propertyDefaults[p]=info}}}return constructor.__propertyDefaults}function ownObservers(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty('__ownObservers',constructor))){constructor.__ownObservers=constructor.hasOwnProperty(JSCompiler_renameProperty('observers',constructor))?constructor.observers:null}return constructor.__ownObservers}function createPropertyFromConfig(proto,name,info,allProps){if(info.computed){info.readOnly=!0}if(info.computed&&!proto._hasReadOnlyEffect(name)){proto._createComputedProperty(name,info.computed,allProps)}if(info.readOnly&&!proto._hasReadOnlyEffect(name)){proto._createReadOnlyProperty(name,!info.computed)}if(info.reflectToAttribute&&!proto._hasReflectEffect(name)){proto._createReflectedProperty(name)}if(info.notify&&!proto._hasNotifyEffect(name)){proto._createNotifyingProperty(name)}if(info.observer){proto._createPropertyObserver(name,info.observer,allProps[info.observer])}proto._addPropertyToAttributeMap(name)}function processElementStyles(klass,template,is,baseURI){const templateStyles=template.content.querySelectorAll('style'),stylesWithImports=Polymer.StyleGather.stylesFromTemplate(template),linkedStyles=Polymer.StyleGather.stylesFromModuleImports(is),firstTemplateChild=template.content.firstElementChild;for(let idx=0,s;idx<linkedStyles.length;idx++){s=linkedStyles[idx];s.textContent=klass._processStyleText(s.textContent,baseURI);template.content.insertBefore(s,firstTemplateChild)}let templateStyleIndex=0;for(let i=0;i<stylesWithImports.length;i++){let s=stylesWithImports[i],templateStyle=templateStyles[templateStyleIndex];if(templateStyle!==s){s=s.cloneNode(!0);templateStyle.parentNode.insertBefore(s,templateStyle)}else{templateStyleIndex++}s.textContent=klass._processStyleText(s.textContent,baseURI)}if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,is)}}class PolymerElement extends polymerElementBase{static _finalizeClass(){super._finalizeClass();if(this.hasOwnProperty(JSCompiler_renameProperty('is',this))&&this.is){Polymer.telemetry.register(this.prototype)}const observers=ownObservers(this);if(observers){this.createObservers(observers,this._properties)}let template=this.template;if(template){if('string'===typeof template){let t=document.createElement('template');t.innerHTML=template;template=t}else{template=template.cloneNode(!0)}}this.prototype._template=template}static createProperties(props){for(let p in props){createPropertyFromConfig(this.prototype,p,props[p],props)}}static createObservers(observers,dynamicFns){const proto=this.prototype;for(let i=0;i<observers.length;i++){proto._createMethodObserver(observers[i],dynamicFns)}}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty('_template',this))){this._template=Polymer.DomModule&&Polymer.DomModule.import(this.is,'template')||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty('_importPath',this))){const module=Polymer.DomModule&&Polymer.DomModule.import(this.is);this._importPath=module?module.assetpath:Object.getPrototypeOf(this.prototype).constructor.importPath}return this._importPath}constructor(){super();this._template;this._importPath;this.rootPath;this.importPath;this.root;this.$}_initializeProperties(){Polymer.telemetry.instanceCount++;this.constructor.finalize();const importPath=this.constructor.importPath;this.constructor._finalizeTemplate(this.localName);super._initializeProperties();this.rootPath=Polymer.rootPath;this.importPath=importPath;let p$=propertyDefaults(this.constructor);if(!p$){return}for(let p in p$){let info=p$[p];if(!this.hasOwnProperty(p)){let value='function'==typeof info.value?info.value.call(this):info.value;if(this._hasAccessor(p)){this._setPendingProperty(p,value,!0)}else{this[p]=value}}}}static _processStyleText(cssText,baseURI){return Polymer.ResolveUrl.resolveCss(cssText,baseURI)}static _finalizeTemplate(is){const template=this.prototype._template;if(template&&!template.__polymerFinalized){template.__polymerFinalized=!0;const importPath=this.importPath,baseURI=importPath?Polymer.ResolveUrl.resolveUrl(importPath):'';processElementStyles(this,template,is,baseURI);this.prototype._bindTemplate(template)}}connectedCallback(){if(window.ShadyCSS&&this._template){window.ShadyCSS.styleElement(this)}super.connectedCallback()}ready(){if(this._template){this.root=this._stampTemplate(this._template);this.$=this.root.$}super.ready()}_readyClients(){if(this._template){this.root=this._attachDom(this.root)}super._readyClients()}_attachDom(dom){if(this.attachShadow){if(dom){if(!this.shadowRoot){this.attachShadow({mode:'open'})}this.shadowRoot.appendChild(dom);return this.shadowRoot}return null}else{throw new Error('ShadowDOM not available. Polymer.Element can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.')}}updateStyles(properties){if(window.ShadyCSS){window.ShadyCSS.styleSubtree(this,properties)}}resolveUrl(url,base){if(!base&&this.importPath){base=Polymer.ResolveUrl.resolveUrl(this.importPath)}return Polymer.ResolveUrl.resolveUrl(url,base)}static _parseTemplateContent(template,templateInfo,nodeInfo){templateInfo.dynamicFns=templateInfo.dynamicFns||this._properties;return super._parseTemplateContent(template,templateInfo,nodeInfo)}}return PolymerElement});Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function(prototype){console.log('['+prototype.is+']: registered')},register:function(prototype){this.registrations.push(prototype);Polymer.log&&this._regLog(prototype)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Polymer.updateStyles=function(props){if(window.ShadyCSS){window.ShadyCSS.styleDocument(props)}}})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(20);(function(){'use strict';Polymer.Settings=Polymer.Settings||{};Polymer.Settings.useShadow=!window.ShadyDOM;Polymer.Settings.useNativeCSSProperties=!!(!window.ShadyCSS||window.ShadyCSS.nativeCss);Polymer.Settings.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;let rootPath=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href);Polymer.rootPath=rootPath;Polymer.setRootPath=function(path){Polymer.rootPath=path};let sanitizeDOMValue=Polymer.sanitizeDOMValue;Polymer.sanitizeDOMValue=sanitizeDOMValue;Polymer.setSanitizeDOMValue=function(newSanitizeDOMValue){Polymer.sanitizeDOMValue=newSanitizeDOMValue};Polymer.passiveTouchGestures=!1;Polymer.setPassiveTouchGestures=function(usePassive){Polymer.passiveTouchGestures=usePassive}})()},function(module,exports,__webpack_require__){__webpack_require__(20);(function(){'use strict';const SHADY_UNSCOPED_ATTR='shady-unscoped';function importModule(moduleId){const PolymerDomModule=customElements.get('dom-module');if(!PolymerDomModule){return null}return PolymerDomModule.import(moduleId)}function styleForImport(importDoc){let container=importDoc.body?importDoc.body:importDoc;const importCss=Polymer.ResolveUrl.resolveCss(container.textContent,importDoc.baseURI),style=document.createElement('style');style.textContent=importCss;return style}const StyleGather={stylesFromModules(moduleIds){const modules=moduleIds.trim().split(/\s+/),styles=[];for(let i=0;i<modules.length;i++){styles.push(...this.stylesFromModule(modules[i]))}return styles},stylesFromModule(moduleId){const m=importModule(moduleId);if(!m){console.warn('Could not find style data in module named',moduleId);return[]}if(m._styles===void 0){const styles=[...this._stylesFromModuleImports(m)],template=m.querySelector('template');if(template){styles.push(...this.stylesFromTemplate(template,m.assetpath))}m._styles=styles}return m._styles},stylesFromTemplate(template,baseURI){if(!template._styles){const styles=[],e$=template.content.querySelectorAll('style');for(let i=0;i<e$.length;i++){let e=e$[i],include=e.getAttribute('include');if(include){styles.push(...this.stylesFromModules(include).filter(function(item,index,self){return self.indexOf(item)===index}))}if(baseURI){e.textContent=Polymer.ResolveUrl.resolveCss(e.textContent,baseURI)}styles.push(e)}template._styles=styles}return template._styles},stylesFromModuleImports(moduleId){let m=importModule(moduleId);return m?this._stylesFromModuleImports(m):[]},_stylesFromModuleImports(module){const styles=[],p$=module.querySelectorAll('link[rel=import][type~=css]');for(let i=0,p;i<p$.length;i++){p=p$[i];if(p.import){const importDoc=p.import,unscoped=p.hasAttribute(SHADY_UNSCOPED_ATTR);if(unscoped&&!importDoc._unscopedStyle){const style=styleForImport(importDoc);style.setAttribute(SHADY_UNSCOPED_ATTR,'');importDoc._unscopedStyle=style}else if(!importDoc._style){importDoc._style=styleForImport(importDoc)}styles.push(unscoped?importDoc._unscopedStyle:importDoc._style)}}return styles},cssFromModules(moduleIds){let modules=moduleIds.trim().split(/\s+/),cssText='';for(let i=0;i<modules.length;i++){cssText+=this.cssFromModule(modules[i])}return cssText},cssFromModule(moduleId){let m=importModule(moduleId);if(m&&m._cssText===void 0){let cssText=this._cssFromModuleImports(m),t=m.querySelector('template');if(t){cssText+=this.cssFromTemplate(t,m.assetpath)}m._cssText=cssText||null}if(!m){console.warn('Could not find style data in module named',moduleId)}return m&&m._cssText||''},cssFromTemplate(template,baseURI){let cssText='';const e$=this.stylesFromTemplate(template,baseURI);for(let i=0,e;i<e$.length;i++){e=e$[i];if(e.parentNode){e.parentNode.removeChild(e)}cssText+=e.textContent}return cssText},cssFromModuleImports(moduleId){let m=importModule(moduleId);return m?this._cssFromModuleImports(m):''},_cssFromModuleImports(module){let cssText='',styles=this._stylesFromModuleImports(module);for(let i=0;i<styles.length;i++){cssText+=styles[i].textContent}return cssText}};Polymer.StyleGather=StyleGather})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';const caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g,CaseMap={dashToCamelCase(dash){return caseMap[dash]||(caseMap[dash]=0>dash.indexOf('-')?dash:dash.replace(DASH_TO_CAMEL,m=>m[1].toUpperCase()))},camelToDashCase(camel){return caseMap[camel]||(caseMap[camel]=camel.replace(CAMEL_TO_DASH,'-$1').toLowerCase())}};Polymer.CaseMap=CaseMap})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(9);__webpack_require__(47);__webpack_require__(49);(function(){'use strict';let caseMap=Polymer.CaseMap;const nativeProperties={};let proto=HTMLElement.prototype;while(proto){let props=Object.getOwnPropertyNames(proto);for(let i=0;i<props.length;i++){nativeProperties[props[i]]=!0}proto=Object.getPrototypeOf(proto)}function saveAccessorValue(model,property){if(!nativeProperties[property]){let value=model[property];if(value!==void 0){if(model.__data){model._setPendingProperty(property,value)}else{if(!model.__dataProto){model.__dataProto={}}else if(!model.hasOwnProperty(JSCompiler_renameProperty('__dataProto',model))){model.__dataProto=Object.create(model.__dataProto)}model.__dataProto[property]=value}}}}Polymer.PropertyAccessors=Polymer.dedupingMixin(superClass=>{const base=Polymer.PropertiesChanged(superClass);return class extends base{static createPropertiesForAttributes(){let a$=this.observedAttributes;for(let i=0;i<a$.length;i++){this.prototype._createPropertyAccessor(caseMap.dashToCamelCase(a$[i]))}}static attributeNameForProperty(property){return caseMap.camelToDashCase(property)}_initializeProperties(){if(this.__dataProto){this._initializeProtoProperties(this.__dataProto);this.__dataProto=null}super._initializeProperties()}_initializeProtoProperties(props){for(let p in props){this._setProperty(p,props[p])}}_ensureAttribute(attribute,value){const el=this;if(!el.hasAttribute(attribute)){this._valueToNodeAttribute(el,value,attribute)}}_serializeValue(value){switch(typeof value){case'object':if(value instanceof Date){return value.toString()}else if(value){try{return JSON.stringify(value)}catch(x){return''}}default:return super._serializeValue(value);}}_deserializeValue(value,type){let outValue;switch(type){case Object:try{outValue=JSON.parse(value)}catch(x){outValue=value}break;case Array:try{outValue=JSON.parse(value)}catch(x){outValue=null;console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`)}break;case Date:outValue=isNaN(value)?value+'':+value;outValue=new Date(outValue);break;default:outValue=super._deserializeValue(value,type);break;}return outValue}_definePropertyAccessor(property,readOnly){saveAccessorValue(this,property);super._definePropertyAccessor(property,readOnly)}_hasAccessor(property){return this.__dataHasAccessor&&this.__dataHasAccessor[property]}_isPropertyPending(prop){return!!(this.__dataPending&&prop in this.__dataPending)}}})})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(9);__webpack_require__(21);(function(){'use strict';const microtask=Polymer.Async.microTask;Polymer.PropertiesChanged=Polymer.dedupingMixin(superClass=>{return class extends superClass{static createProperties(props){const proto=this.prototype;for(let prop in props){if(!(prop in proto)){proto._createPropertyAccessor(prop)}}}static attributeNameForProperty(property){return property.toLowerCase()}static typeForProperty(){}_createPropertyAccessor(property,readOnly){this._addPropertyToAttributeMap(property);if(!this.hasOwnProperty('__dataHasAccessor')){this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)}if(!this.__dataHasAccessor[property]){this.__dataHasAccessor[property]=!0;this._definePropertyAccessor(property,readOnly)}}_addPropertyToAttributeMap(property){if(!this.hasOwnProperty('__dataAttributes')){this.__dataAttributes=Object.assign({},this.__dataAttributes)}if(!this.__dataAttributes[property]){const attr=this.constructor.attributeNameForProperty(property);this.__dataAttributes[attr]=property}}_definePropertyAccessor(property,readOnly){Object.defineProperty(this,property,{get(){return this._getProperty(property)},set:readOnly?function(){}:function(value){this._setProperty(property,value)}})}constructor(){super();this.__dataEnabled=!1;this.__dataReady=!1;this.__dataInvalid=!1;this.__data={};this.__dataPending=null;this.__dataOld=null;this.__dataInstanceProps=null;this.__serializing=!1;this._initializeProperties()}ready(){this.__dataReady=!0;this._flushProperties()}_initializeProperties(){for(let p in this.__dataHasAccessor){if(this.hasOwnProperty(p)){this.__dataInstanceProps=this.__dataInstanceProps||{};this.__dataInstanceProps[p]=this[p];delete this[p]}}}_initializeInstanceProperties(props){Object.assign(this,props)}_setProperty(property,value){if(this._setPendingProperty(property,value)){this._invalidateProperties()}}_getProperty(property){return this.__data[property]}_setPendingProperty(property,value){let old=this.__data[property],changed=this._shouldPropertyChange(property,value,old);if(changed){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(this.__dataOld&&!(property in this.__dataOld)){this.__dataOld[property]=old}this.__data[property]=value;this.__dataPending[property]=value}return changed}_invalidateProperties(){if(!this.__dataInvalid&&this.__dataReady){this.__dataInvalid=!0;microtask.run(()=>{if(this.__dataInvalid){this.__dataInvalid=!1;this._flushProperties()}})}}_enableProperties(){if(!this.__dataEnabled){this.__dataEnabled=!0;if(this.__dataInstanceProps){this._initializeInstanceProperties(this.__dataInstanceProps);this.__dataInstanceProps=null}this.ready()}}_flushProperties(){const props=this.__data,changedProps=this.__dataPending,old=this.__dataOld;if(this._shouldPropertiesChange(props,changedProps,old)){this.__dataPending=null;this.__dataOld=null;this._propertiesChanged(props,changedProps,old)}}_shouldPropertiesChange(currentProps,changedProps){return!!changedProps}_propertiesChanged(){}_shouldPropertyChange(property,value,old){return old!==value&&(old===old||value===value)}attributeChangedCallback(name,old,value){if(old!==value){this._attributeToProperty(name,value)}if(super.attributeChangedCallback){super.attributeChangedCallback(name,old,value)}}_attributeToProperty(attribute,value,type){if(!this.__serializing){const map=this.__dataAttributes,property=map&&map[attribute]||attribute;this[property]=this._deserializeValue(value,type||this.constructor.typeForProperty(property))}}_propertyToAttribute(property,attribute,value){this.__serializing=!0;value=3>arguments.length?this[property]:value;this._valueToNodeAttribute(this,value,attribute||this.constructor.attributeNameForProperty(property));this.__serializing=!1}_valueToNodeAttribute(node,value,attribute){const str=this._serializeValue(value);if(str===void 0){node.removeAttribute(attribute)}else{node.setAttribute(attribute,str)}}_serializeValue(value){switch(typeof value){case'boolean':return value?'':void 0;default:return null!=value?value.toString():void 0;}}_deserializeValue(value,type){switch(type){case Boolean:return null!==value;case Number:return+value;default:return value;}}}})})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(9);__webpack_require__(96);(function(){'use strict';const gestures=Polymer.Gestures;Polymer.GestureEventListeners=Polymer.dedupingMixin(superClass=>{return class extends superClass{_addEventListenerToNode(node,eventName,handler){if(!gestures.addListener(node,eventName,handler)){super._addEventListenerToNode(node,eventName,handler)}}_removeEventListenerFromNode(node,eventName,handler){if(!gestures.removeListener(node,eventName,handler)){super._removeEventListenerFromNode(node,eventName,handler)}}}})})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}const EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;function calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd){let rowCount=oldEnd-oldStart+1,columnCount=currentEnd-currentStart+1,distances=Array(rowCount);for(let i=0;i<rowCount;i++){distances[i]=Array(columnCount);distances[i][0]=i}for(let j=0;j<columnCount;j++)distances[0][j]=j;for(let i=1;i<rowCount;i++){for(let j=1;j<columnCount;j++){if(equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{let north=distances[i-1][j]+1,west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}}}return distances}function spliceOperationsFromEditDistances(distances){let i=distances.length-1,j=distances[0].length-1,current=distances[i][j],edits=[];while(0<i||0<j){if(0==i){edits.push(EDIT_ADD);j--;continue}if(0==j){edits.push(EDIT_DELETE);i--;continue}let northWest=distances[i-1][j-1],west=distances[i-1][j],north=distances[i][j-1],min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current){edits.push(EDIT_LEAVE)}else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits}function calcSplices(current,currentStart,currentEnd,old,oldStart,oldEnd){let prefixCount=0,suffixCount=0,splice,minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(0==currentStart&&0==oldStart)prefixCount=sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(0==currentEnd-currentStart&&0==oldEnd-oldStart)return[];if(currentStart==currentEnd){splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];let ops=spliceOperationsFromEditDistances(calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=void 0;let splices=[],index=currentStart,oldIndex=oldStart;for(let i=0;i<ops.length;i++){switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);splice=void 0}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break;}}if(splice){splices.push(splice)}return splices}function sharedPrefix(current,old,searchLength){for(let i=0;i<searchLength;i++)if(!equals(current[i],old[i]))return i;return searchLength}function sharedSuffix(current,old,searchLength){let index1=current.length,index2=old.length,count=0;while(count<searchLength&&equals(current[--index1],old[--index2]))count++;return count}function equals(currentValue,previousValue){return currentValue===previousValue}Polymer.ArraySplice={calculateSplices:function(current,previous){return calcSplices(current,0,current.length,previous,0,previous.length)}}})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';class LiteralString{constructor(string){this.value=string.toString()}toString(){return this.value}}function literalValue(value){if(value instanceof LiteralString){return value.value}else{throw new Error(`non-literal value passed to Polymer.htmlLiteral: ${value}`)}}function htmlValue(value){if(value instanceof HTMLTemplateElement){return value.innerHTML}else if(value instanceof LiteralString){return literalValue(value)}else{throw new Error(`non-template value passed to Polymer.html: ${value}`)}}Polymer.html=function(strings,...values){const template=document.createElement('template');template.innerHTML=values.reduce((acc,v,idx)=>acc+htmlValue(v)+strings[idx+1],strings[0]);return template};Polymer.htmlLiteral=function(strings,...values){return new LiteralString(values.reduce((acc,v,idx)=>acc+literalValue(v)+strings[idx+1],strings[0]))}})()},function(module){module.exports=require('path')},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_dataShareViewPrefs__=__webpack_require__(147),__WEBPACK_IMPORTED_MODULE_2_corelib_datashare_DataShareClient__=__webpack_require__(148),__WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4_corelib_util_http__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_6_corelib_session_Session__=__webpack_require__(36);function bindColumn(dw,dsColumn,column){function bindColumnProps(key1,key2){if(!key2){key2=key1}column[key1]=dsColumn.get(key2);dsColumn.on(`change:${key2}`,(model,value)=>{if(['name','units','formatStr'].includes(key1)){const props={};props[key1]=value;dw.updateColumnGroupByColumn(column.id,props)}else{column[key1]=value}})}bindColumnProps('position');bindColumnProps('name');bindColumnProps('units');bindColumnProps('formatStr');bindColumnProps('liveValue');bindColumnProps('values')}function bindDataSet(dw,dsDataSet,dataSet){function bindDataSetProps(key1,key2){if(!key2){key2=key1}dataSet[key1]=dsDataSet.get(key2);dsDataSet.on(`change:${key2}`,(model,value)=>{dataSet[key1]=value})}bindDataSetProps('position');bindDataSetProps('name');function updateColumnIDs(columnIDs){const foreignIds=dataSet.columnIDs.map(id=>{const column=dw.getColumn(id);if(column&&column.foreignId){return`${column.foreignId}`}}),removed=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.difference)(foreignIds,columnIDs);removed.forEach(colId=>{dw.removeInternalColumn(colId)})}updateColumnIDs(dsDataSet.get('colIDs'));dsDataSet.on('change:colIDs',(model,columnIDs)=>{updateColumnIDs(columnIDs)})}class DataShareSession extends __WEBPACK_IMPORTED_MODULE_6_corelib_session_Session__.a{constructor(dataWorld,sessionFile){super(dataWorld,sessionFile);this.client=null;this.clientEventBinder=null;this.dwEventBinder=null;this.serverSessionID=null;this.collection={}}async start(opts){console.assert(!this.client);const dataWorld=__WEBPACK_IMPORTED_MODULE_5_corelib_services__.a.get('data-world');this.client=new __WEBPACK_IMPORTED_MODULE_2_corelib_datashare_DataShareClient__.a(__WEBPACK_IMPORTED_MODULE_4_corelib_util_http__.a,opts);this.dwEventBinder=new __WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__.a;const client=this.client;this.dwEventBinder.on(dataWorld,'dataset-added',dataSet=>{const foreignId=`${dataSet.foreignId}`,dataSets=client.getDataSets();let dsDataSet;dataSets.forEach(ds=>{if(ds.id===foreignId){dsDataSet=ds;dsDataSet.nativeId=dataSet.id}});if(dsDataSet){bindDataSet(dataWorld,dsDataSet,dataSet)}else{console.debug('Failed to locate dataset')}});this.dwEventBinder.on(dataWorld,'column-added',column=>{const foreignId=`${column.foreignId}`,columns=client.getColumns();let dsColumn;console.debug('DS on column-added');columns.some(col=>{if(col.id===foreignId){dsColumn=col;dsColumn.nativeId=column.id;dsColumn.nativeGroupId=column.groupID;return!0}return!1});if(dsColumn){bindColumn(dataWorld,dsColumn,column);this.client.emitUdmColumnAdded(dsColumn)}else{console.warn('Failed to locate column')}});if(!opts.imported){const sessionParams={empty:!0,sessionType:'DataShare',sourceURI:opts.sourceURI,sourceName:opts.sourceName};console.debug('DataShare: session-starting');dataWorld.rpc.sendRequest('session-starting',sessionParams)}this.clientEventBinder=this._bindClientEvents();dataWorld.trigger('collection-keep-changed',!1);console.debug('DataShare: new session opts: ');console.dir(opts);this.sourceName=opts.sourceName;this.sourceURI=opts.sourceURI;if(opts.imported){dataWorld.trigger('collection-control-changed',!1);this.client.sourceName=this.sourceName}try{await this.client.start(this.sourceURI,opts.imported);this.dataWorld.trigger('after-session-started')}catch(err){console.error(err)}}setupSessionFile(){console.warn('store this.sourceName and this.sourceURI in UDM')}stop(){console.assert(this.client);const dataWorld=__WEBPACK_IMPORTED_MODULE_5_corelib_services__.a.get('data-world');this.dwEventBinder.unbindAll();dataWorld.rpc.sendRequest('session-closing');return new Promise((_resolve,_reject)=>{this.clientEventBinder.unbindAll();this.clientEventBinder=null;this.client.stop().then(()=>{this.client=null;_resolve.apply(this,arguments)},()=>{_reject.apply(this,arguments);this.client=null})})}startCollection(){return new Promise((resolve,reject)=>{if(this.client){this.client.requestStartCollection().then(()=>{}).catch(error=>{console.error('Failed to start collection on DataShareClient');console.dir(error);reject(error)})}else{reject()}})}stopCollection(){if(this.client){this.client.requestStopCollection().then(()=>{},error=>{console.error('Failed to stop collection on DataShareClient');console.dir(error)})}}_bindClientEvents(){const dsClient=this.client,dw=this.dataWorld,eventBinder=__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_dataShareViewPrefs__.a.bindClientViewPrefs(dsClient,dw.getViewPrefs()),DATASHARE_EVENT_HANDLERS={connect:function(){dw.trigger('after-session-started')},disconnect:function(){dw.trigger('session-connection-disconnected')},restored:function(){dw.trigger('session-source-name-changed',dw.sessionSourceName);dw.trigger('after-session-started')},error:function(error){dw.trigger('session-connection-error',error)},"server-session-changed":function(serverSession){if(null===this.serverSessionID){this.serverSessionID=serverSession.id}else if(this.serverSessionID!==serverSession.id){eventBinder.unbindAll();dw.trigger('session-remote-id-changed');dw.trigger('session-connection-disconnected');this.client.stop().then(()=>{},error=>{console.error('Failed to stop client:');console.dir(error)})}},"server-collection-changed":function(collection){const controlChanged=this.collection.canControl!==collection.canControl,collectingChanged=this.collection.isCollecting!==collection.isCollecting;this.collection=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.clone)(collection);if(controlChanged){dw.trigger('collection-control-changed',collection.canControl)}if(collectingChanged){if(collection.isCollecting){dw._notifyCollectionPreparing();dw._notifyCollectionStarted()}else{dw._notifyCollectionStopped()}}},"dataset-added":function(dsDataSet){console.debug(`DS dataset added ${dsDataSet.id} /  ${dsDataSet.get('dsId')}`);console.dir(dsDataSet);dw.createNewDataSet({foreignId:dsDataSet.id,name:dsDataSet.attributes.name})},"dataset-removed":function(dsDataSet){const nativeId=dsDataSet.nativeId||dsDataSet.id;dw.removeInternalDataSet(nativeId)},"column-added":function(dsColumn){console.debug(`DS column added ${dsColumn.id}`);const params={},keys=['formatStr','liveValue','liveValueTimeStamp','name','position','units'];Object.keys(dsColumn.attributes).forEach(key=>{if(keys.includes(key)){params[key]=dsColumn.attributes[key]}});params.foreignId=dsColumn.id;params.foreignGroupId=parseInt(dsColumn.attributes.groupID);params.foreignSetId=parseInt(dsColumn.attributes.setID);params.editable=!1;params.deletable=!1;dw.createNewColumn(params)},"column-removed":function(dsColumn){const nativeId=dsColumn.nativeId||dsColumn.id;dw.removeInternalColumn(nativeId)},"column-values-changed":function(dsColumn,dsColumnValues){const nativeId=dsColumn.nativeId||dsColumn.id,column=dw.getColumn(nativeId);console.assert(column);const rowIndexes=dsColumnValues.map((_,i)=>i);column.setValuesByRow(rowIndexes,dsColumnValues)},"column-updated-rows-changed":function(dsColumn,dsRowValues){const nativeId=dsColumn.nativeId||dsColumn.id,column=dw.getColumn(nativeId);console.assert(column);column.updatedRows=dsRowValues}};Object.keys(DATASHARE_EVENT_HANDLERS).forEach(eventName=>{const handler=DATASHARE_EVENT_HANDLERS[eventName];eventBinder.bind(dsClient,eventName,handler.bind(this))});return eventBinder}}__webpack_exports__.a=DataShareSession},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2_corelib_session_Session__=__webpack_require__(36);class DataCollectionSession extends __WEBPACK_IMPORTED_MODULE_2_corelib_session_Session__.a{constructor(dataWorld,sessionFile,sessionConfig){super(dataWorld,sessionFile,sessionConfig);this.sensorWorld=dataWorld.sensorWorld;this.dataCollection=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('data-collection');this.restoredSession=!1;if(sessionConfig.graphUpdates){this.setSessionConfig(sessionConfig)}}start(options){return new Promise((resolve,reject)=>{if(options&&options.imported){this.dataCollection.sessionRestoring(options).then(()=>{this.restoredSession=!0;__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.init(options);this.dataWorld.trigger('after-session-started');resolve()},reject)}else{__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.init(options);this.dataCollection.sessionStarting(options).then(()=>{this.dataWorld.trigger('after-session-started');resolve()},reject)}})}stop(){return new Promise((resolve,reject)=>{this.stopCollection(!0).then(()=>{this.dataCollection.sessionClosing().then(()=>{__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.uninit();resolve()},reject)},reject)})}startCollection({appendToDataSet}={}){const{dataWorld,dataCollection}=this,skipCreateNewRun=dataWorld.currentDataSet&&dataWorld.isCurrentDataSetEmpty(!0)||appendToDataSet;return new Promise((resolve,reject)=>{const startNewCollection=()=>{dataWorld.prepareCollection().then(()=>{dataCollection.startMeasurements().then(()=>{dataWorld._notifyCollectionStarted();resolve()},reject)},reject)};if(!dataWorld.isCollecting){if(!skipCreateNewRun){dataWorld.createNewDataSet().then(()=>{startNewCollection()},reject)}else{startNewCollection()}}else{reject(new Error('Collection is already running'))}})}stopCollection(force){const{dataWorld,dataCollection}=this;return new Promise((resolve,reject)=>{if(dataWorld.isCollecting){dataCollection.stopMeasurements(force).then(()=>{dataWorld._notifyCollectionStopped();resolve()},reject)}else{resolve()}})}setupSessionFile(){const dataCollection=this.dataCollection,saveAsModeName=dataCollection.mode,collectionParams=dataCollection.paramsLookup[saveAsModeName]||{};collectionParams.continuous=!0;dataCollection.setCollectionParams(saveAsModeName,collectionParams)}restore(sessionFile){return new Promise((resolve,reject)=>{sessionFile.readChunk('dc-settings').then(config=>{try{this.dataCollection.mode=config.stateName;this.dataCollection.paramsLookup[config.stateName]=config.stateParams;this.dataCollection.collectionParamsChanged();resolve()}catch(error){reject(error)}},reject)})}setSessionConfig(config){__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.setSessionConfig(config)}}__webpack_exports__.a=DataCollectionSession},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutPrefs__=__webpack_require__(152),__WEBPACK_IMPORTED_MODULE_2_corelib_services__=__webpack_require__(2);let eventBinder,sessionConfig={};function _bindEvents(opts){const dw=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('data-world'),sw=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('sensor-world'),dc=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('data-collection');let settings;function updateControlAndKeep(checkCollect){const mode=dc.mode;let canCollect=!0,canKeep=!1;const dw=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('data-world');if(mode.match('events')){canKeep=!0}else if(mode.match('drop-counting')&&2>sw.sensors.length||'ManualEntry'===dw.sessionType){canCollect=!1}if(checkCollect){if(sw.ignoreSensors||1>sw.sensors.length){canCollect=!1}dw.trigger('collection-control-changed',canCollect);dw.canCollect=canCollect}dw.trigger('collection-keep-changed',canKeep)}eventBinder=new __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__.a;let queueTimer=null,updateMeters=!1;const defaultGraphUpdates={columns:!0,ranges:!0,appearance:!0};let graphUpdates={};graphUpdates=Object.assign(graphUpdates,defaultGraphUpdates);const _queueUpdateLayoutPrefs=(queueGraphUpdates,queueMeters,executeNow)=>{const restored=dw.getSession()&&dw.getSession().restoredSession;if(restored&&!queueMeters){return}graphUpdates=Object.assign(graphUpdates,queueGraphUpdates,sessionConfig.graphUpdates);updateMeters=queueMeters||updateMeters;function setConfig(){if(dw.currentDataSet&&settings){__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutPrefs__.a.configureLayoutPrefs(dw.currentDataSet,settings,{graphUpdates:restored?!1:graphUpdates,meters:updateMeters});updateMeters=!1;graphUpdates=Object.assign(graphUpdates,defaultGraphUpdates)}}if(queueTimer){clearTimeout(queueTimer);queueTimer=null}if(executeNow){setConfig()}else{queueTimer=setTimeout(()=>{setConfig();queueTimer=null},300)}},_queueUpdateGraphsPrefsIfSessionEmpty=()=>{if(dw.isSessionEmpty){_queueUpdateLayoutPrefs({columns:!1},!1)}},_resetTimeUnits=()=>{if(dw.isSessionEmpty&&'s'!==dc.timeUnits){dc.timeUnits='s'}},dcParams=dc.getCollectionParams();settings=Object.assign({},dcParams);updateControlAndKeep(!0);_queueUpdateLayoutPrefs(defaultGraphUpdates,!0);if(opts&&(opts.restored||opts.imported)){updateControlAndKeep(!0)}else{_queueUpdateLayoutPrefs({},!0)}eventBinder.on(dw,'graph-match-added',()=>{_queueUpdateLayoutPrefs({columns:!1},!1)});eventBinder.on(dw,'dataset-added',dataSet=>{if(!dataSet.type||'regular'===dataSet.type){_queueUpdateLayoutPrefs(defaultGraphUpdates,!1)}});eventBinder.on(dw,'column-added',column=>{const dataSet=dw.getDataSetByID(column.setID);if(!dataSet.type||'regular'===dataSet.type){_queueUpdateLayoutPrefs(defaultGraphUpdates,!0);eventBinder.on(column,'range-changed',_queueUpdateGraphsPrefsIfSessionEmpty)}});eventBinder.on(dw,'column-removed',column=>{_queueUpdateLayoutPrefs(defaultGraphUpdates,!0);eventBinder.off(column,'range-changed',_queueUpdateGraphsPrefsIfSessionEmpty)});eventBinder.on(sw,'sensor-added',()=>{updateControlAndKeep(!0);_queueUpdateLayoutPrefs({},!0);_resetTimeUnits()});eventBinder.on(sw,'sensor-removed',()=>{updateControlAndKeep(!0);_queueUpdateLayoutPrefs({},!0);_resetTimeUnits()});eventBinder.on(dc,'collection-params-changed',params=>{settings=Object.assign(settings,params);_queueUpdateLayoutPrefs(defaultGraphUpdates,!1,!0)});eventBinder.on(dc,'collection-mode-changed',mode=>{const withinEvents=mode.from.match('events')&&mode.to.match('events');updateControlAndKeep(!withinEvents);_queueUpdateLayoutPrefs(defaultGraphUpdates,!1)});const valuesChanged=eventBinder.bind(dw,'column-values-changed',()=>{if('DataCollection'===dw.sessionType&&0===sw.sensors.length){sw.setIgnoreSensors(!0).then(()=>{dw.trigger('user-set-manual',!0)})}valuesChanged.unbind()})}__webpack_exports__.a={init:function(opts){_bindEvents(opts)},uninit:function(){eventBinder.unbindAll()},setSessionConfig:function(config){sessionConfig=config}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2_corelib_session_Session__=__webpack_require__(36);class ManualSession extends __WEBPACK_IMPORTED_MODULE_2_corelib_session_Session__.a{constructor(dataWorld,sessionFile,sessionConfig){super(dataWorld,sessionFile);this.sensorWorld=dataWorld.sensorWorld;this.dataCollection=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('data-collection');this.restoredSession=!1;if(sessionConfig.graphUpdates){this.setSessionConfig(sessionConfig)}}start(opts){return new Promise((resolve,reject)=>{if(!opts||!opts.restored&&!opts.imported){this.dataCollection.sessionStarting(opts).then(()=>{this.dataWorld.trigger('after-session-started');__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.init(opts);resolve()}).catch(e=>{reject(e)})}else{this.dataCollection.sessionRestoring(opts).then(()=>{this.restoredSession=!0;__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.init(opts);resolve()}).catch(e=>{reject(e)})}})}stop(){const{dataCollection}=this;return new Promise((resolve,reject)=>{dataCollection.sessionClosing().then(()=>{__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.uninit();resolve()},reject)})}restore(sessionFile){return new Promise((resolve,reject)=>{sessionFile.readChunk('dc-settings').then(config=>{try{this.dataCollection.mode=config.stateName;this.dataCollection.paramsLookup[config.stateName]=config.stateParams;this.dataCollection.collectionParamsChanged();resolve()}catch(error){reject(error)}},reject)})}setSessionConfig(config){__WEBPACK_IMPORTED_MODULE_1_corelib_datacollection_modeLayoutManager__.a.setSessionConfig(config)}}__webpack_exports__.a=ManualSession},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__=__webpack_require__(12);const ViewPrefsBase=__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.extend({defaults:{enabled:!0},initialize(){this.on('change:enabled',(model,value)=>{this.trigger(value?'enabled':'disabled')})}});__webpack_exports__.a=ViewPrefsBase;Object.defineProperties(ViewPrefsBase.prototype,{enabled:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('enabled',!0)})},function(module,__webpack_exports__){'use strict';__webpack_exports__.a={NONE:0,PROPORTIONAL:1,LINEAR:2,QUADRATIC:3,POWER:5,INVERSE:7,INVERSE_SQUARED:8,NATURAL_EXPONENT:10,NATURAL_LOG:11,SINE:14,COSINE_SQUARED:15,COSINE:18}},function(module){module.exports=require('events')},function(module){module.exports=require('util')},function(module){var _Mathround=Math.round,_Mathmin2=Math.min,_Mathmax4=Math.max,require,require;/*! ally.js - v1.4.1 - https://allyjs.io/ - MIT License */!function(e){module.exports=e()}(function(){var e;return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){if(!u&&'function'==typeof require&&require)return require(a,!0);if(o)return o(a,!0);var l=new Error('Cannot find module \''+a+'\'');throw l.code='MODULE_NOT_FOUND',l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o='function'==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e){return e&&'object'===('undefined'==typeof e?'undefined':ft(e))&&'default'in e?e['default']:e}function i(){var e={activeElement:document.activeElement,windowScrollTop:window.scrollTop,windowScrollLeft:window.scrollLeft,bodyScrollTop:document.body.scrollTop,bodyScrollLeft:document.body.scrollLeft},t=document.createElement('iframe');t.setAttribute('style','position:absolute; position:fixed; top:0; left:-2px; width:1px; height:1px; overflow:hidden;'),t.setAttribute('aria-live','off'),t.setAttribute('aria-busy','true'),t.setAttribute('aria-hidden','true'),document.body.appendChild(t);var n=t.contentWindow,r=n.document;r.open(),r.close();var i=r.createElement('div');return r.body.appendChild(i),e.iframe=t,e.wrapper=i,e.window=n,e.document=r,e}function o(e,t){e.wrapper.innerHTML='';var n='string'==typeof t.element?e.document.createElement(t.element):t.element(e.wrapper,e.document),r=t.mutate&&t.mutate(n,e.wrapper,e.document);return r||!1===r||(r=n),!n.parentNode&&e.wrapper.appendChild(n),r&&r.focus&&r.focus(),t.validate?t.validate(n,r,e.document):e.document.activeElement===r}function a(e){e.activeElement===document.body?(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),Et.is.IE10&&document.body.focus()):e.activeElement&&e.activeElement.focus&&e.activeElement.focus(),document.body.removeChild(e.iframe),window.scrollTop=e.windowScrollTop,window.scrollLeft=e.windowScrollLeft,document.body.scrollTop=e.bodyScrollTop,document.body.scrollLeft=e.bodyScrollLeft}function s(e,t){if(document.hasFocus())try{window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))}catch(n){}else try{window.localStorage&&window.localStorage.removeItem(e)}catch(n){}}function l(){var e=document.createElement('div');return e.innerHTML='<svg><foreignObject width="30" height="30">\n      <input type="text"/>\n  </foreignObject></svg>',e.firstChild.firstChild}function c(e){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+'</svg>'}function d(e){if(!e.focus)try{HTMLElement.prototype.focus.call(e)}catch(t){xn(e)}}function f(e,t,n){return d(t),n.activeElement===t}function m(){var e=Ft(Pn);return Object.keys(_n).forEach(function(t){e[t]=_n[t]()}),e}function b(){zn.warn('trying to focus inert element',this)}function v(e,t){if(t){var n=jn(e);$n({element:e,attribute:'tabindex',temporaryValue:'-1',saveValue:null!==n?n:''})}else $n({element:e,attribute:'tabindex'})}function h(e,t){Zn({element:e,attribute:'controls',remove:t})}function g(e,t){$n({element:e,attribute:'focusable',temporaryValue:t?'false':void 0})}function p(e,t){Zn({element:e,attribute:'xlink:href',remove:t})}function x(e,t){$n({element:e,attribute:'aria-disabled',temporaryValue:t?'true':void 0})}function y(e,t){t?e.focus=b:delete e.focus}function w(e,t){if(t){var n=e.style.pointerEvents||'';e.setAttribute('data-inert-pointer-events',n),e.style.pointerEvents='none'}else{var r=e.getAttribute('data-inert-pointer-events');e.removeAttribute('data-inert-pointer-events'),e.style.pointerEvents=r}}function E(e,t){x(e,t),v(e,t),y(e,t),w(e,t);var n=e.nodeName.toLowerCase();('video'===n||'audio'===n)&&h(e,t),('svg'===n||e.ownerSVGElement)&&(Jn.focusSvgFocusableAttribute?g(e,t):Jn.focusSvgTabindexAttribute||'a'!==n||p(e,t)),t?e.setAttribute('data-ally-disabled','true'):e.removeAttribute('data-ally-disabled')}function S(e){er.some(function(t){return e[t]?(tr=t,!0):!1})}function T(e,t){return tr||S(e),e[tr](t)}function A(e){var t=e.webkitUserModify||'';return!!(t&&-1!==t.indexOf('write'))}function O(e){return[e.getPropertyValue('overflow'),e.getPropertyValue('overflow-x'),e.getPropertyValue('overflow-y')].some(function(e){return'auto'===e||'scroll'===e})}function C(e){return-1<e.display.indexOf('flex')}function I(e,t,n,r){return'div'!==t&&'span'!==t?!1:n&&'div'!==n&&'span'!==n&&!O(r)?!1:e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth}function L(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,r=void 0===n?{flexbox:!1,scrollable:!1,shadow:!1}:n;nr||(nr=Bn());var i=ht({label:'is/focus-relevant',resolveDocument:!0,context:t});if(!r.shadow&&i.shadowRoot)return!0;var o=i.nodeName.toLowerCase();if('input'===o&&'hidden'===i.type)return!1;if('input'===o||'select'===o||'button'===o||'textarea'===o)return!0;if('legend'===o&&nr.focusRedirectLegend)return!0;if('label'===o)return!0;if('area'===o)return!0;if('a'===o&&i.hasAttribute('href'))return!0;if('object'===o&&i.hasAttribute('usemap'))return!1;if('object'===o){var a=i.getAttribute('type');if(!nr.focusObjectSvg&&'image/svg+xml'===a)return!1;if(!nr.focusObjectSwf&&'application/x-shockwave-flash'===a)return!1}if('iframe'===o||'object'===o)return!0;if('embed'===o||'keygen'===o)return!0;if(i.hasAttribute('contenteditable'))return!0;if('audio'===o&&(nr.focusAudioWithoutControls||i.hasAttribute('controls')))return!0;if('video'===o&&(nr.focusVideoWithoutControls||i.hasAttribute('controls')))return!0;if(nr.focusSummary&&'summary'===o)return!0;var u=Hn(i);if('img'===o&&i.hasAttribute('usemap'))return u&&nr.focusImgUsemapTabindex||nr.focusRedirectImgUsemap;if(nr.focusTable&&('table'===o||'td'===o))return!0;if(nr.focusFieldset&&'fieldset'===o)return!0;var s='svg'===o,l=i.ownerSVGElement,c=i.getAttribute('focusable'),d=jn(i);if('use'===o&&null!==d&&!nr.focusSvgUseTabindex)return!1;if('foreignobject'===o)return null!==d&&nr.focusSvgForeignobjectTabindex;if(T(i,'svg a')&&i.hasAttribute('xlink:href'))return!0;if((s||l)&&i.focus&&!nr.focusSvgNegativeTabindexAttribute&&0>d)return!1;if(s)return u||nr.focusSvg||nr.focusSvgInIframe||!!(nr.focusSvgFocusableAttribute&&c&&'true'===c);if(l){if(nr.focusSvgTabindexAttribute&&u)return!0;if(nr.focusSvgFocusableAttribute)return'true'===c}if(u)return!0;var f=window.getComputedStyle(i,null);if(A(f))return!0;if(nr.focusImgIsmap&&'img'===o&&i.hasAttribute('ismap')){var m=Yn({context:i}).some(function(e){return'a'===e.nodeName.toLowerCase()&&e.hasAttribute('href')});if(m)return!0}if(!r.scrollable&&nr.focusScrollContainer)if(nr.focusScrollContainerWithoutOverflow){if(I(i,o))return!0}else if(O(f))return!0;if(!r.flexbox&&nr.focusFlexboxContainer&&C(f))return!0;var b=i.parentElement;if(!r.scrollable&&b){var v=b.nodeName.toLowerCase(),h=window.getComputedStyle(b,null);if(nr.focusScrollBody&&I(b,o,v,h))return!0;if(nr.focusChildrenOfFocusableFlexbox&&C(h))return!0}return!1}function N(e,t){if(e.findIndex)return e.findIndex(t);var n=e.length;if(0===n)return-1;for(var r=0;n>r;r++)if(t(e[r],r,e))return r;return-1}function M(e){if(ur||(ur=ar('object, iframe')),void 0!==e._frameElement)return e._frameElement;e._frameElement=null;var t=e.parent.document.querySelectorAll(ur);return[].some.call(t,function(t){var n=ir(t);return n!==e.document?!1:(e._frameElement=t,!0)}),e._frameElement}function k(e){var t=yt(e);if(!t.parent||t.parent===t)return null;try{return t.frameElement||M(t)}catch(n){return null}}function _(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function P(e){return e.some(function(e){return'none'===_(e,'display')})}function F(e){var t=N(e,function(e){var t=_(e,'visibility');return'hidden'===t||'collapse'===t});if(-1===t)return!1;var n=N(e,function(e){return'visible'===_(e,'visibility')});return-1===n?!0:n>t?!0:!1}function B(e){var t=1;return'summary'===e[0].nodeName.toLowerCase()&&(t=2),e.slice(t).some(function(e){return'details'===e.nodeName.toLowerCase()&&!1===e.open})}function D(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,r=void 0===n?{notRendered:!1,cssDisplay:!1,cssVisibility:!1,detailsElement:!1,browsingContext:!1}:n,i=ht({label:'is/visible',resolveDocument:!0,context:t}),o=i.nodeName.toLowerCase();if(!r.notRendered&&sr.test(o))return!0;var a=Yn({context:i}),u='audio'===o&&!i.hasAttribute('controls');if(!r.cssDisplay&&P(u?a.slice(1):a))return!1;if(!r.cssVisibility&&F(a))return!1;if(!r.detailsElement&&B(a))return!1;if(!r.browsingContext){var s=k(i),l=D.except(r);if(s&&!l(s))return!1}return!0}function R(e,t){var n=t.querySelector('map[name="'+bt(e)+'"]');return n||null}function W(e){var t=e.getAttribute('usemap');if(!t)return null;var n=pt(e);return R(t.slice(1),n)}function H(e){var t=e.parentElement;if(!t.name||'map'!==t.nodeName.toLowerCase())return null;var n=pt(e);return n.querySelector('img[usemap="#'+bt(t.name)+'"]')||null}function j(e){var t=e.nodeName.toLowerCase();return'fieldset'===t&&e.disabled}function q(e){var t=e.nodeName.toLowerCase();return'form'===t&&e.disabled}function G(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,r=void 0===n?{onlyFocusableBrowsingContext:!1,visible:!1}:n,i=ht({label:'is/only-tabbable',resolveDocument:!0,context:t});if(!r.visible&&!lr(i))return!1;if(!r.onlyFocusableBrowsingContext&&(Et.is.GECKO||Et.is.TRIDENT||Et.is.EDGE)){var o=k(i);if(o&&0>jn(o))return!1}var a=i.nodeName.toLowerCase(),u=jn(i);return'label'===a&&Et.is.GECKO?null!==u&&0<=u:Et.is.GECKO&&i.ownerSVGElement&&!i.focus&&'a'===a&&i.hasAttribute('xlink:href')&&Et.is.GECKO?!0:!1}function K(e){var t=e.nodeName.toLowerCase();if('embed'===t||'keygen'===t)return!0;var n=jn(e);if(e.shadowRoot&&null===n)return!0;if('label'===t)return!vr.focusLabelTabindex||null===n;if('legend'===t)return null===n;if(vr.focusSvgFocusableAttribute&&(e.ownerSVGElement||'svg'===t)){var r=e.getAttribute('focusable');return r&&'false'===r}return'img'===t&&e.hasAttribute('usemap')?null===n||!vr.focusImgUsemapTabindex:'area'===t?!dr(e):!1}function V(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,r=void 0===n?{disabled:!1,visible:!1,onlyTabbable:!1}:n;vr||(vr=Bn());var i=br.rules.except({onlyFocusableBrowsingContext:!0,visible:r.visible}),o=ht({label:'is/focusable',resolveDocument:!0,context:t}),a=rr.rules({context:o,except:r});if(!a||K(o))return!1;if(!r.disabled&&mr(o))return!1;if(!r.onlyTabbable&&i(o))return!1;if(!r.visible){var u={context:o,except:{}};if(vr.focusInHiddenIframe&&(u.except.browsingContext=!0),vr.focusObjectSvgHidden){var s=o.nodeName.toLowerCase();'object'===s&&(u.except.cssVisibility=!0)}if(!lr.rules(u))return!1}var l=k(o);if(l){var c=l.nodeName.toLowerCase();if(!('object'!==c||vr.focusInZeroDimensionObject||l.offsetWidth&&l.offsetHeight))return!1}var d=o.nodeName.toLowerCase();return'svg'===d&&vr.focusSvgInIframe&&!l&&null===o.getAttribute('tabindex')?!1:!0}function Z(e){var t=function(t){return t.shadowRoot?NodeFilter.FILTER_ACCEPT:e(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};return t.acceptNode=t,t}function $(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=e.strategy;t||(t=document.documentElement);for(var o=hr.rules.except({onlyTabbable:r}),a=pt(t),u=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,'all'===i?gr:Z(o),!1),s=[];u.nextNode();)u.currentNode.shadowRoot?(o(u.currentNode)&&s.push(u.currentNode),s=s.concat($({context:u.currentNode.shadowRoot,includeOnlyTabbable:r,strategy:i}))):s.push(u.currentNode);return n&&('all'===i?rr(t)&&s.unshift(t):o(t)&&s.unshift(t)),s}function U(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=yr(),o=t.querySelectorAll(i),a=hr.rules.except({onlyTabbable:r}),u=[].filter.call(o,a);return n&&a(t)&&u.unshift(t),u}function X(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,r=void 0===n?{flexbox:!1,scrollable:!1,shadow:!1,visible:!1,onlyTabbable:!1}:n;Er||(Er=Bn());var i=ht({label:'is/tabbable',resolveDocument:!0,context:t});if(Et.is.BLINK&&Et.is.ANDROID&&42<Et.majorVersion)return!1;var o=k(i);if(o){if(Et.is.WEBKIT&&Et.is.IOS)return!1;if(0>jn(o))return!1;if(!r.visible&&(Et.is.BLINK||Et.is.WEBKIT)&&!lr(o))return!1;var a=o.nodeName.toLowerCase();if('object'===a){var u='Chrome'===Et.name&&54<=Et.majorVersion||'Opera'===Et.name&&41<=Et.majorVersion;if(Et.is.WEBKIT||Et.is.BLINK&&!u)return!1}}var s=i.nodeName.toLowerCase(),l=jn(i),c=null===l?null:0<=l;if(Et.is.EDGE&&14<=Et.majorVersion&&o&&i.ownerSVGElement&&0>l)return!0;var d=!1!==c,f=null!==l&&0<=l;if(i.hasAttribute('contenteditable'))return d;if(Sr.test(s)&&!0!==c)return!1;if(Et.is.WEBKIT&&Et.is.IOS){var m='input'===s&&'text'===i.type||'password'===i.type||'select'===s||'textarea'===s||i.hasAttribute('contenteditable');if(!m){var b=window.getComputedStyle(i,null);m=A(b)}if(!m)return!1}if('use'===s&&null!==l&&(Et.is.BLINK||Et.is.WEBKIT&&9===Et.majorVersion))return!0;if(T(i,'svg a')&&i.hasAttribute('xlink:href')){if(d)return!0;if(i.focus&&!Er.focusSvgNegativeTabindexAttribute)return!0}if('svg'===s&&Er.focusSvgInIframe&&d)return!0;if(Et.is.TRIDENT||Et.is.EDGE){if('svg'===s)return Er.focusSvg?!0:i.hasAttribute('focusable')||f;if(i.ownerSVGElement)return Er.focusSvgTabindexAttribute&&f?!0:i.hasAttribute('focusable')}if(void 0===i.tabIndex)return!!r.onlyTabbable;if('audio'===s){if(!i.hasAttribute('controls'))return!1;if(Et.is.BLINK)return!0}if('video'===s)if(i.hasAttribute('controls')){if(Et.is.BLINK||Et.is.GECKO)return!0}else if(Et.is.TRIDENT||Et.is.EDGE)return!1;if('object'===s&&(Et.is.BLINK||Et.is.WEBKIT))return!1;if('iframe'===s)return!1;if(!r.scrollable&&Et.is.GECKO){var v=window.getComputedStyle(i,null);if(O(v))return d}if(Et.is.TRIDENT||Et.is.EDGE){if('area'===s){var h=H(i);if(h&&0>jn(h))return!1}var g=window.getComputedStyle(i,null);if(A(g))return 0<=i.tabIndex;if(!r.flexbox&&C(g))return null!==l?f:Tr(i)&&Ar(i);if(I(i,s))return!1;var p=i.parentElement;if(p){var x=p.nodeName.toLowerCase(),y=window.getComputedStyle(p,null);if(I(p,s,x,y))return!1;if(C(y))return f}}return 0<=i.tabIndex}function z(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function J(e,t){return N(e,function(e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING})}function Q(e,t,n){var r=[];return t.forEach(function(t){var i=!0,o=e.indexOf(t);-1===o&&(o=J(e,t),i=!1),-1===o&&(o=e.length);var a=vt(n?n(t):t);a.length&&r.push({offset:o,replace:i,elements:a})}),r}function Y(e,t){var n=0;t.sort(function(e,t){return e.offset-t.offset}),t.forEach(function(t){var r=t.replace?1:0,i=[t.offset+n,r].concat(t.elements);e.splice.apply(e,i),n+=t.elements.length-r})}function ee(e){var t=e.nodeName.toLowerCase();return'input'===t||'textarea'===t||'select'===t||'button'===t}function te(e,t){var n=e.getAttribute('for');return n?t.getElementById(n):e.querySelector('input, select, textarea')}function ne(e){var t=e.parentNode,n=wr({context:t,strategy:'strict'});return n.filter(ee)[0]||null}function re(e,t){var n=Cr({context:t.body,strategy:'strict'});if(!n.length)return null;var r=Lr({list:n,elements:[e]}),i=r.indexOf(e);return i===r.length-1?null:r[i+1]}function ie(e,t){if(!Nr.focusRedirectLegend)return null;var n=e.parentNode;return'fieldset'!==n.nodeName.toLowerCase()?null:'tabbable'===Nr.focusRedirectLegend?re(e,t):ne(e,t)}function oe(e){if(!Nr.focusRedirectImgUsemap)return null;var t=W(e);return t&&t.querySelector('area')||null}function ae(e){var t=Yn({context:e}),n=t.slice(1).map(function(e){return{element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}});return function(){n.forEach(function(e){e.element.scrollTop=e.scrollTop,e.element.scrollLeft=e.scrollLeft})}}function ue(e){if(e.focus)return e.focus(),xt(e)?e:null;var t=yt(e);try{return t.HTMLElement.prototype.focus.call(e),xt(e)?e:null}catch(n){var r=xn(e);return r&&xt(e)?e:null}}function se(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.force;t?this.instances=0:this.instances--,this.instances||(this.disengage(),this._result=null)}function le(){return this.instances?(this.instances++,this._result):(this.instances++,this._result=this.engage()||{},this._result.disengage=se.bind(this),this._result)}function ce(){}function de(){if(document.activeElement){if(document.activeElement!==Wr){var e=new Dr('active-element',{bubbles:!1,cancelable:!1,detail:{focus:document.activeElement,blur:Wr}});document.dispatchEvent(e),Wr=document.activeElement}}else document.body.focus();!1!==Hr&&(Hr=requestAnimationFrame(de))}function be(){for(var e=[document.activeElement];e[0]&&e[0].shadowRoot;)e.unshift(e[0].shadowRoot.activeElement);return e}function ve(){var e=Gr({context:document.activeElement});return[document.activeElement].concat(e)}function he(){this.context&&(this.context.forEach(this.disengage),this.context=null,this.engage=null,this.disengage=null)}function ge(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context;return this.context=vt(t||document),this.context.forEach(this.engage),{disengage:he.bind(this)}}function pe(){}function xe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.parent,n=e.element,r=e.includeSelf;if(t)return function(e){return!!(r&&e===t||t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)};if(n)return function(e){return!!(r&&n===e||e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)};throw new TypeError('util/compare-position#getParentComparator required either options.parent or options.element')}function ye(e){var t=e.context,n=e.filter,r=function(e){var t=xe({parent:e});return n.some(t)},i=[],o=function(e){return n.some(function(t){return e===t})?NodeFilter.FILTER_REJECT:r(e)?NodeFilter.FILTER_ACCEPT:(i.push(e),NodeFilter.FILTER_REJECT)};o.acceptNode=o;for(var a=pt(t),u=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,o,!1);u.nextNode(););return i}function we(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=ht({label:'query/shadow-hosts',resolveDocument:!0,defaultToDocument:!0,context:t}),r=pt(t),i=r.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,mi,!1),o=[];for(n.shadowRoot&&(o.push(n),o=o.concat(we({context:n.shadowRoot})));i.nextNode();)o.push(i.currentNode),o=o.concat(we({context:i.currentNode.shadowRoot}));return o}function Ee(e){return Qn(e,!0)}function Se(e){return Qn(e,!1)}function Te(e){$n({element:e,attribute:'aria-hidden',temporaryValue:'true'})}function Ae(e){$n({element:e,attribute:'aria-hidden'})}function Oe(e,t){var n=e.indexOf(t);if(0<n){var r=e.splice(n,1);return r.concat(e)}return e}function Ce(e,t){return Ii.tabsequenceAreaAtImgPosition&&(e=Ti(e,t)),e=Ci(e)}function Ie(e){var t=e?null:!1;return{altKey:t,ctrlKey:t,metaKey:t,shiftKey:t}}function Le(e){var t=-1!==e.indexOf('*'),n=Ie(t);return e.forEach(function(e){if('*'!==e){var t=!0,r=e.slice(0,1);'?'===r?t=null:'!'===r&&(t=!1),!0!==t&&(e=e.slice(1));var i=Ri[e];if(!i)throw new TypeError('Unknown modifier "'+e+'"');n[i]=t}}),n}function Ne(e){var t=Ni[e]||parseInt(e,10);if(!t||'number'!=typeof t||isNaN(t))throw new TypeError('Unknown key "'+e+'"');return[t].concat(Ni._alias[t]||[])}function Me(e,t){return!Wi.some(function(n){return'boolean'==typeof e[n]&&!!t[n]!==e[n]})}function ke(){Zi=0,$i=0}function _e(e){!1!==e.isPrimary&&Zi++}function Pe(e){return!1!==e.isPrimary?e.touches?void(Zi=e.touches.length):void(window.setImmediate||window.setTimeout)(function(){Zi=_Mathmax4(Zi-1,0)}):void 0}function Fe(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return;}$i++}function Be(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return;}(window.setImmediate||window.setTimeout)(function(){$i=_Mathmax4($i-1,0)})}function De(){return{pointer:!!Zi,key:!!$i}}function He(e){return e.hasAttribute('autofocus')}function je(e){return 0>=e.tabIndex}function qe(e){var t=e.getAttribute&&e.getAttribute('class')||'';return''===t?[]:t.split(' ')}function Ge(e,t,n){var r=qe(e),i=r.indexOf(t),o=-1!==i,a=void 0!==n?n:!o;a!==o&&(a||r.splice(i,1),a&&r.push(t),e.setAttribute('class',r.join(' ')))}function Ke(e,t){return Ge(e,t,!1)}function Ve(e,t){return Ge(e,t,!0)}function Ze(e){var t='';if(e.type===to||'shadow-focus'===e.type){var n=ro.get();t=ao||n.pointer&&'pointer'||n.key&&'key'||'script'}else'initial'===e.type&&(t='initial');document.documentElement.setAttribute('data-focus-source',t),e.type!==no&&(uo[t]||Ve(document.documentElement,'focus-source-'+t),uo[t]=!0,oo=t)}function $e(){return oo}function Ue(e){return uo[e]}function Xe(e){ao=e}function ze(){ao=!1}function Ye(e){var t=e||Kr();lo.cssShadowPiercingDeepCombinator||(t=t.slice(-1));var n=[].slice.call(document.querySelectorAll(vo),0),r=t.map(function(e){return Yn({context:e})}).reduce(function(e,t){return t.concat(e)},[]);n.forEach(function(e){-1===r.indexOf(e)&&Ke(e,bo)}),r.forEach(function(e){-1===n.indexOf(e)&&Ve(e,bo)})}function et(){ho=(window.setImmediate||window.setTimeout)(function(){Ye()})}function tt(){(window.clearImmediate||window.clearTimeout)(ho),Ye()}function nt(e){Ye(e.detail.elements)}function ot(e,t){var n=_Mathmax4(e.top,t.top),r=_Mathmax4(e.left,t.left),i=_Mathmax4(_Mathmin2(e.right,t.right),r),o=_Mathmax4(_Mathmin2(e.bottom,t.bottom),n);return{top:n,right:i,bottom:o,left:r,width:i-r,height:o-n}}function at(){var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{top:0,right:e,bottom:t,left:0,width:e,height:t}}function ut(e){var t=e.getBoundingClientRect(),n=e.offsetWidth-e.clientWidth,r=e.offsetHeight-e.clientHeight,i={top:t.top,left:t.left,right:t.right-n,bottom:t.bottom-r,width:t.width-n,height:t.height-r,area:0};return i.area=i.width*i.height,i}function st(e){var t=window.getComputedStyle(e,null),n='visible';return t.getPropertyValue('overflow-x')!==n&&t.getPropertyValue('overflow-y')!==n}function lt(e){return st(e)?e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth:!1}function ct(e){var t=Yn({context:e}).slice(1).filter(lt);return t.length?t.reduce(function(e,t){var n=ut(t),r=ot(n,e);return r.area=_Mathmin2(n.area,e.area),r},ut(t[0])):null}var dt=function(){function e(e,t){for(var n=0,r;n<t.length;n++){r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ft='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},mt=r(e('platform')),bt=r(e('css.escape')),vt=function(e){if(!e)return[];if(Array.isArray(e))return e;if(void 0!==e.nodeType)return[e];if('string'==typeof e&&(e=document.querySelectorAll(e)),void 0!==e.length)return[].slice.call(e,0);throw new TypeError('unexpected input '+(e+''))},ht=function(e){var t=e.context,n=e.label,r=void 0===n?'context-to-element':n,i=e.resolveDocument,o=e.defaultToDocument,a=vt(t)[0];if(i&&a&&a.nodeType===Node.DOCUMENT_NODE&&(a=a.documentElement),!a&&o)return document.documentElement;if(!a)throw new TypeError(r+' requires valid options.context');if(a.nodeType!==Node.ELEMENT_NODE&&a.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)throw new TypeError(r+' requires options.context to be an Element');return a},gt=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=ht({label:'get/shadow-host',context:t}),r=null;n;)r=n,n=n.parentNode;return r.nodeType===r.DOCUMENT_FRAGMENT_NODE&&r.host?r.host:null},pt=function(e){return e?e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument||document:document},xt=function(e){var t=ht({label:'is/active-element',resolveDocument:!0,context:e}),n=pt(t);if(n.activeElement===t)return!0;var r=gt({context:t});return r&&r.shadowRoot.activeElement===t?!0:!1},yt=function(e){var t=pt(e);return t.defaultView||window},Et=JSON.parse(JSON.stringify(mt)),St=Et.os.family||'',At='Windows'===St.slice(0,7),It='Blink'===Et.layout,Lt='Gecko'===Et.layout,Nt='Trident'===Et.layout,Mt='EdgeHTML'===Et.layout,kt='WebKit'===Et.layout,_t=parseFloat(Et.version),Pt=Math.floor(_t);Et.majorVersion=Pt,Et.is={ANDROID:'Android'===St,WINDOWS:At,OSX:'OS X'===St,IOS:'iOS'===St,BLINK:It,GECKO:Lt,TRIDENT:Nt,EDGE:Mt,WEBKIT:kt,IE9:Nt&&9===Pt,IE10:Nt&&10===Pt,IE11:Nt&&11===Pt};var Ft=function(e){var t=i(),n={};return Object.keys(e).map(function(r){n[r]=o(t,e[r])}),a(t),n},Bt='1.4.1',Dt='undefined'!=typeof window&&window.navigator.userAgent||'',Rt='ally-supports-cache',Wt=function(e){var t;try{t=window.localStorage&&window.localStorage.getItem(e),t=t?JSON.parse(t):{}}catch(n){t={}}return t}(Rt);(Wt.userAgent!==Dt||Wt.version!==Bt)&&(Wt={}),Wt.userAgent=Dt,Wt.version=Bt;var Ht={get:function(){return Wt},set:function(e){Object.keys(e).forEach(function(t){Wt[t]=e[t]}),Wt.time=new Date().toISOString(),s(Rt,Wt)}},jt=function(){var e;try{document.querySelector('html >>> :first-child'),e='>>>'}catch(t){try{document.querySelector('html /deep/ :first-child'),e='/deep/'}catch(n){e=''}}return e},qt='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',rn=!Et.is.WEBKIT,sn='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==',dn=!Et.is.IE9,xn=function(e){var t=e.ownerSVGElement||'svg'===e.nodeName.toLowerCase();if(!t)return!1;var n=l();e.appendChild(n);var r=n.querySelector('input');return r.focus(),r.disabled=!0,e.removeChild(n),!0},An=!!(Et.is.GECKO&&'undefined'!=typeof SVGElement&&SVGElement.prototype.focus),Mn=Et.is.GECKO||Et.is.TRIDENT||Et.is.EDGE,_n={cssShadowPiercingDeepCombinator:jt,focusInZeroDimensionObject:function(){return rn},focusObjectSwf:function(){return dn},focusSvgInIframe:function(){return An},tabsequenceAreaAtImgPosition:function(){return Mn}},Pn={focusAreaImgTabindex:{element:'div',mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+qt+'">',e.querySelector('area')}},focusAreaTabindex:{element:'div',mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" tabindex="-1" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" alt="" src="'+qt+'">',!1},validate:function(e,t,n){if(Et.is.GECKO)return!0;var r=e.querySelector('area');return r.focus(),n.activeElement===r}},focusAreaWithoutHref:{element:'div',mutate:function(e){return e.innerHTML='<map name="image-map-area-href-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-area-href-test" alt="" src="'+qt+'">',e.querySelector('area')},validate:function(e,t,n){return Et.is.GECKO?!0:n.activeElement===t}},focusAudioWithoutControls:{name:'can-focus-audio-without-controls',element:'audio',mutate:function(e){try{e.setAttribute('src',qt)}catch(t){}}},focusBrokenImageMap:{element:'div',mutate:function(e){return e.innerHTML='<map name="broken-image-map-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#broken-image-map-test" alt="" src="'+'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ'+'">',e.querySelector('area')}},focusChildrenOfFocusableFlexbox:{element:'div',mutate:function(e){return e.setAttribute('tabindex','-1'),e.setAttribute('style','display: -webkit-flex; display: -ms-flexbox; display: flex;'),e.innerHTML='<span style="display: block;">hello</span>',e.querySelector('span')}},focusFieldsetDisabled:{element:'fieldset',mutate:function(e){e.setAttribute('tabindex',0),e.setAttribute('disabled','disabled')}},focusFieldset:{element:'fieldset',mutate:function(e){e.innerHTML='<legend>legend</legend><p>content</p>'}},focusFlexboxContainer:{element:'span',mutate:function(e){e.setAttribute('style','display: -webkit-flex; display: -ms-flexbox; display: flex;'),e.innerHTML='<span style="display: block;">hello</span>'}},focusFormDisabled:{element:'form',mutate:function(e){e.setAttribute('tabindex',0),e.setAttribute('disabled','disabled')}},focusImgIsmap:{element:'a',mutate:function(e){return e.href='#void',e.innerHTML='<img ismap src="'+qt+'" alt="">',e.querySelector('img')}},focusImgUsemapTabindex:{element:'div',mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+qt+'">',e.querySelector('img')}},focusInHiddenIframe:{element:function(e,t){var n=t.createElement('iframe');e.appendChild(n);var r=n.contentWindow.document;return r.open(),r.close(),n},mutate:function(e){e.style.visibility='hidden';var t=e.contentWindow.document,n=t.createElement('input');return t.body.appendChild(n),n},validate:function(e){var t=e.contentWindow.document,n=t.querySelector('input');return t.activeElement===n}},focusInvalidTabindex:{element:'div',mutate:function(e){e.setAttribute('tabindex','invalid-value')}},focusLabelTabindex:{element:'label',mutate:function(e){e.setAttribute('tabindex','-1')},validate:function(e,t,n){e.offsetHeight;return e.focus(),n.activeElement===e}},focusObjectSvg:{name:'can-focus-object-svg',element:'object',mutate:function(e){e.setAttribute('type','image/svg+xml'),e.setAttribute('data',sn),e.setAttribute('width','200'),e.setAttribute('height','50')},validate:function(e,t,n){return Et.is.GECKO?!0:n.activeElement===e}},focusObjectSvgHidden:{element:'object',mutate:function(e){e.setAttribute('type','image/svg+xml'),e.setAttribute('data',sn),e.setAttribute('width','200'),e.setAttribute('height','50'),e.style.visibility='hidden'}},focusRedirectImgUsemap:{element:'div',mutate:function(e){return e.innerHTML='<map name="focus-redirect-img-usemap"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#focus-redirect-img-usemap" alt="" src="'+qt+'">',e.querySelector('img')},validate:function(e,t,n){var r=e.querySelector('area');return n.activeElement===r}},focusRedirectLegend:{element:'fieldset',mutate:function(e){return e.innerHTML='<legend>legend</legend><input tabindex="-1"><input tabindex="0">',!1},validate:function(e,t,n){var r=e.querySelector('input[tabindex="-1"]'),i=e.querySelector('input[tabindex="0"]');return e.focus(),e.querySelector('legend').focus(),n.activeElement===r&&'focusable'||n.activeElement===i&&'tabbable'||''}},focusScrollBody:{element:'div',mutate:function(e){return e.setAttribute('style','width: 100px; height: 50px; overflow: auto;'),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>',e.querySelector('div')}},focusScrollContainerWithoutOverflow:{element:'div',mutate:function(e){e.setAttribute('style','width: 100px; height: 50px;'),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusScrollContainer:{element:'div',mutate:function(e){e.setAttribute('style','width: 100px; height: 50px; overflow: auto;'),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusSummary:{element:'details',mutate:function(e){return e.innerHTML='<summary>foo</summary><p>content</p>',e.firstElementChild}},focusSvgFocusableAttribute:{element:'div',mutate:function(e){return e.innerHTML=c('<text focusable="true">a</text>'),e.querySelector('text')},validate:f},focusSvgTabindexAttribute:{element:'div',mutate:function(e){return e.innerHTML=c('<text tabindex="0">a</text>'),e.querySelector('text')},validate:f},focusSvgNegativeTabindexAttribute:{element:'div',mutate:function(e){return e.innerHTML=c('<text tabindex="-1">a</text>'),e.querySelector('text')},validate:f},focusSvgUseTabindex:{element:'div',mutate:function(e){return e.innerHTML=c('<g id="ally-test-target"><a xlink:href="#void"><text>link</text></a></g><use xlink:href="#ally-test-target" x="0" y="0" tabindex="-1" />'),e.querySelector('use')},validate:f},focusSvgForeignobjectTabindex:{element:'div',mutate:function(e){return e.innerHTML=c('<foreignObject tabindex="-1"><input type="text" /></foreignObject>'),e.querySelector('foreignObject')||e.getElementsByTagName('foreignObject')[0]},validate:f},focusSvg:{element:'div',mutate:function(e){return e.innerHTML=c(''),e.firstChild},validate:f},focusTabindexTrailingCharacters:{element:'div',mutate:function(e){e.setAttribute('tabindex','3x')}},focusTable:{element:'table',mutate:function(e,t,n){var r=n.createDocumentFragment();r.innerHTML='<tr><td>cell</td></tr>',e.appendChild(r)}},focusVideoWithoutControls:{element:'video',mutate:function(e){try{e.setAttribute('src',qt)}catch(t){}}}},Fn=null,Bn=function(){return Fn?Fn:(Fn=Ht.get(),Fn.time||(Ht.set(m()),Fn=Ht.get()),Fn)},Dn,Rn=/^\s*(-|\+)?[0-9]+\s*$/,Wn=/^\s*(-|\+)?[0-9]+.*$/,Hn=function(e){Dn||(Dn=Bn());var t=Dn.focusTabindexTrailingCharacters?Wn:Rn,n=ht({label:'is/valid-tabindex',resolveDocument:!0,context:e}),r=n.hasAttribute('tabindex'),i=n.hasAttribute('tabIndex');if(!r&&!i)return!1;var o=n.ownerSVGElement||'svg'===n.nodeName.toLowerCase();if(o&&!Dn.focusSvgTabindexAttribute)return!1;if(Dn.focusInvalidTabindex)return!0;var a=n.getAttribute(r?'tabindex':'tabIndex');return'-32768'===a?!1:!!(a&&t.test(a))},jn=function(e){if(!Hn(e))return null;var t=e.hasAttribute('tabindex'),n=t?'tabindex':'tabIndex',r=parseInt(e.getAttribute(n),10);return isNaN(r)?-1:r},qn,Gn,Kn={input:!0,select:!0,textarea:!0,button:!0,fieldset:!0,form:!0},Vn=function(e){qn||(qn=Bn(),qn.focusFieldsetDisabled&&delete Kn.fieldset,qn.focusFormDisabled&&delete Kn.form,Gn=new RegExp('^('+Object.keys(Kn).join('|')+')$'));var t=ht({label:'is/native-disabled-supported',context:e}),n=t.nodeName.toLowerCase();return!!Gn.test(n)},Zn=function(e){var t=e.element,n=e.attribute,r='data-cached-'+n,i=t.getAttribute(r);if(null===i){var o=t.getAttribute(n);if(null===o)return;t.setAttribute(r,o||''),t.removeAttribute(n)}else{var a=t.getAttribute(r);t.removeAttribute(r),t.setAttribute(n,a)}},$n=function(e){var t=e.element,n=e.attribute,r=e.temporaryValue,i=e.saveValue,o='data-cached-'+n;if(void 0!==r){var a=i||t.getAttribute(n);t.setAttribute(o,a||''),t.setAttribute(n,r)}else{var u=t.getAttribute(o);t.removeAttribute(o),''===u?t.removeAttribute(n):t.setAttribute(n,u)}},Un=function(){},zn='undefined'!=typeof console?console:{log:Un,debug:Un,info:Un,warn:Un,error:Un},Jn,Qn=function(e,t){Jn||(Jn=Bn());var n=ht({label:'element/disabled',context:e});t=!!t;var r=n.hasAttribute('data-ally-disabled'),i=1===arguments.length;return Vn(n)?i?n.disabled:(n.disabled=t,n):i?r:r===t?n:(E(n,t),n)},Yn=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=[],r=ht({label:'get/parents',context:t});r;)n.push(r),r=r.parentNode,r&&r.nodeType!==Node.ELEMENT_NODE&&(r=null);return n},er=['matches','webkitMatchesSelector','mozMatchesSelector','msMatchesSelector'],tr=null,nr=void 0;L.except=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return L({context:t,except:e})};return t.rules=L,t};var rr=L.except({}),ir=function(e){try{return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.getSVGDocument&&e.getSVGDocument()||null}catch(t){return null}},or,ar=function(e){if('string'!=typeof or){var t=jt();t&&(or=', html '+t+' ')}return or?e+or+e.replace(/\s*,\s*/g,',').split(',').join(or):e},ur=void 0,sr=/^(area)$/;D.except=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return D({context:t,except:e})};return t.rules=D,t};var lr=D.except({}),cr,dr=function(e){cr||(cr=Bn());var t=ht({label:'is/valid-area',context:e}),n=t.nodeName.toLowerCase();if('area'!==n)return!1;var r=t.hasAttribute('tabindex');if(!cr.focusAreaTabindex&&r)return!1;var i=H(t);if(!i||!lr(i))return!1;if(!cr.focusBrokenImageMap&&(!i.complete||!i.naturalHeight||0>=i.offsetWidth||0>=i.offsetHeight))return!1;if(!cr.focusAreaWithoutHref&&!t.href)return cr.focusAreaTabindex&&r||cr.focusAreaImgTabindex&&i.hasAttribute('tabindex');var o=Yn({context:i}).slice(1).some(function(e){var t=e.nodeName.toLowerCase();return'button'===t||'a'===t});return o?!1:!0},fr,mr=function(e){fr||(fr=Bn());var t=ht({label:'is/disabled',context:e});if(t.hasAttribute('data-ally-disabled'))return!0;if(!Vn(t))return!1;if(t.disabled)return!0;var n=Yn({context:t});return n.some(j)?!0:!fr.focusFormDisabled&&n.some(q)?!0:!1};G.except=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return G({context:t,except:e})};return t.rules=G,t};var br=G.except({}),vr=void 0;V.except=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return V({context:t,except:e})};return t.rules=V,t};var hr=V.except({}),gr=Z(rr),pr,xr,yr=function(){return pr||(pr=Bn()),'string'==typeof xr?xr:(xr=''+(pr.focusTable?'table, td,':'')+(pr.focusFieldset?'fieldset,':'')+'svg a,a[href],area[href],input, select, textarea, button,iframe, object, embed,keygen,'+(pr.focusAudioWithoutControls?'audio,':'audio[controls],')+(pr.focusVideoWithoutControls?'video,':'video[controls],')+(pr.focusSummary?'summary,':'')+'[tabindex],[contenteditable]',xr=ar(xr))},wr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=e.strategy,o=void 0===i?'quick':i,a=ht({label:'query/focusable',resolveDocument:!0,defaultToDocument:!0,context:t}),u={context:a,includeContext:n,includeOnlyTabbable:r,strategy:o};if('quick'===o)return U(u);if('strict'===o||'all'===o)return $(u);throw new TypeError('query/focusable requires option.strategy to be one of ["quick", "strict", "all"]')},Er=void 0,Sr=/^(fieldset|table|td|body)$/;X.except=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return X({context:t,except:e})};return t.rules=X,t};var Tr=rr.rules.except({flexbox:!0}),Ar=X.except({flexbox:!0}),Or=X.except({}),Cr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=e.strategy,o=Or.rules.except({onlyTabbable:r});return wr({context:t,includeContext:n,includeOnlyTabbable:r,strategy:i}).filter(o)},Ir=function(e){return e.sort(z)},Lr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.list,n=e.elements,r=e.resolveElement,i=t.slice(0),o=vt(n).slice(0);Ir(o);var a=Q(i,o,r);return Y(i,a),i},Nr,Mr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.skipFocusable;Nr||(Nr=Bn());var r=ht({label:'get/focus-redirect-target',context:t});if(!n&&hr(r))return null;var i=r.nodeName.toLowerCase(),o=pt(r);return'label'===i?te(r,o):'legend'===i?ie(r,o):'img'===i?oe(r,o):null},kr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.except,r=ht({label:'get/focus-target',context:t}),i=null,o=function(e){var t=hr.rules({context:e,except:n});return t?(i=e,!0):(i=Mr({context:e,skipFocusable:!0}),!!i)};return o(r)?i:(Yn({context:r}).slice(1).some(o),i)},_r={flexbox:!0,scrollable:!0,onlyTabbable:!0};'undefined'!=typeof window&&function(){for(var e=0,t=['ms','moz','webkit','o'],n='',r='',i=0,o=t.length;o>i;++i)n=window[t[i]+'RequestAnimationFrame'],r=window[t[i]+'CancelAnimationFrame']||window[t[i]+'CancelRequestAnimationFrame'];'function'!=typeof window.requestAnimationFrame&&(window.requestAnimationFrame=window[n]||function(t){var n=new Date().getTime(),r=_Mathmax4(0,16-(n-e)),i=window.setTimeout(function(){t(n+r)},r);return e=n+r,i}),'function'!=typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame=window[r]||function(e){clearTimeout(e)})}();var Br='undefined'!=typeof window&&window.CustomEvent||function(){};'function'!=typeof Br&&(Br=function(e,t){var n=document.createEvent('CustomEvent');return!t&&(t={bubbles:!1,cancelable:!1,detail:void 0}),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},Br.prototype=window.Event.prototype);var Dr=Br,Rr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.engage,n=e.disengage;return le.bind({engage:t||ce,disengage:n||ce,instances:0,_result:null})},Wr=void 0,Hr=void 0,jr=Rr({engage:function(){Hr=!0,Wr=document.activeElement,de()},disengage:function(){cancelAnimationFrame(Hr),Hr=!1}}),qr=function(e){var t=ht({label:'is/shadowed',resolveDocument:!0,context:e});return!!gt({context:t})},Gr=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=[],r=ht({label:'get/shadow-host-parents',context:t});r&&(r=gt({context:r}));)n.push(r);return n},Kr=function(){return null===document.activeElement&&document.body.focus(),qr(document.activeElement)?ve():be()},Vr,Zr;'undefined'!=typeof document&&document.documentElement.createShadowRoot?!function(){var e,t,n=function(){i(),(window.clearImmediate||window.clearTimeout)(e),e=(window.setImmediate||window.setTimeout)(function(){o()})},r=function(e){e.addEventListener('blur',n,!0),t=e},i=function(){t&&t.removeEventListener('blur',n,!0),t=null},o=function(){var e=Kr();if(1===e.length)return void i();r(e[0]);var t=new CustomEvent('shadow-focus',{bubbles:!1,cancelable:!1,detail:{elements:e,active:e[0],hosts:e.slice(1)}});document.dispatchEvent(t)},a=function(){(window.clearImmediate||window.clearTimeout)(e),o()};Vr=function(){document.addEventListener('focus',a,!0)},Zr=function(){(window.clearImmediate||window.clearTimeout)(e),t&&t.removeEventListener('blur',n,!0),document.removeEventListener('focus',a,!0)}}():Vr=Zr=function(){};var $r=Rr({engage:Vr,disengage:Zr}),Xr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.engage,n=e.disengage;return ge.bind({engage:t||pe,disengage:n||pe,context:null})},zr,Jr,Qr=Et.is.TRIDENT&&(Et.is.IE10||Et.is.IE11);Qr?!function(){var e=function(e){var t=kr({context:e.target,except:{flexbox:!0,scrollable:!0}});if(t&&t!==e.target){window.setImmediate(function(){t.focus()});var n=[].map.call(t.children,function(e){var t=e.style.visibility||'',n=e.style.transition||'';return e.style.visibility='hidden',e.style.transition='none',[e,t,n]});window.setImmediate(function(){n.forEach(function(e){e[0].style.visibility=e[1],e[0].style.transition=e[2]})})}};zr=function(t){t.addEventListener('mousedown',e,!0)},Jr=function(t){t.removeEventListener('mousedown',e,!0)}}():zr=function(){};var Yr=Xr({engage:zr,disengage:Jr}),ei,ti,ni=Et.is.OSX&&(Et.is.GECKO||Et.is.WEBKIT);ni?!function(){var e=function(e){if(!e.defaultPrevented&&T(e.target,'input, button, button *')){var t=kr({context:e.target});(window.setImmediate||window.setTimeout)(function(){t.focus()})}},t=function(e){if(!e.defaultPrevented&&T(e.target,'label, label *')){var t=kr({context:e.target});t&&t.focus()}};ei=function(n){n.addEventListener('mousedown',e,!1),n.addEventListener('mouseup',t,!1)},ti=function(n){n.removeEventListener('mousedown',e,!1),n.removeEventListener('mouseup',t,!1)}}():ei=function(){};var ri=Xr({engage:ei,disengage:ti}),ii,oi,ai=Et.is.WEBKIT;ai?!function(){var e=function(e){var t=kr({context:e.target});!t||t.hasAttribute('tabindex')&&Hn(t)||(t.setAttribute('tabindex',0),(window.setImmediate||window.setTimeout)(function(){t.removeAttribute('tabindex')},0))};ii=function(t){t.addEventListener('mousedown',e,!0),t.addEventListener('touchstart',e,!0)},oi=function(t){t.removeEventListener('mousedown',e,!0),t.removeEventListener('touchstart',e,!0)}}():ii=function(){};var ui=Xr({engage:ii,disengage:oi}),ci=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.filter;if(t=ht({label:'get/insignificant-branches',defaultToDocument:!0,context:t}),n=vt(n),!n.length)throw new TypeError('get/insignificant-branches requires valid options.filter');return ye({context:t,filter:n})},mi=function(e){return e.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};mi.acceptNode=mi;for(var bi={childList:!0,subtree:!0},vi=function(){function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=r.context,o=r.callback,a=r.config;n(this,e),this.config=a,this.disengage=this.disengage.bind(this),this.clientObserver=new MutationObserver(o),this.hostObserver=new MutationObserver(function(e){return e.forEach(t.handleHostMutation,t)}),this.observeContext(i),this.observeShadowHosts(i)}return dt(e,[{key:'disengage',value:function(){this.clientObserver&&this.clientObserver.disconnect(),this.clientObserver=null,this.hostObserver&&this.hostObserver.disconnect(),this.hostObserver=null}},{key:'observeShadowHosts',value:function(e){var t=this,n=we({context:e});n.forEach(function(e){return t.observeContext(e.shadowRoot)})}},{key:'observeContext',value:function(e){this.clientObserver.observe(e,this.config),this.hostObserver.observe(e,bi)}},{key:'handleHostMutation',value:function(e){if('childList'===e.type){var t=vt(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE});t.forEach(this.observeShadowHosts,this)}}}]),e}(),hi=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.callback,r=e.config;if('function'!=typeof n)throw new TypeError('observe/shadow-mutations requires options.callback to be a function');if('object'!==('undefined'==typeof r?'undefined':ft(r)))throw new TypeError('observe/shadow-mutations requires options.config to be an object');if(!window.MutationObserver)return{disengage:function(){}};var i=ht({label:'observe/shadow-mutations',resolveDocument:!0,defaultToDocument:!0,context:t}),o=new vi({context:i,callback:n,config:r});return{disengage:o.disengage}},gi={attributes:!0,childList:!0,subtree:!0,attributeFilter:['tabindex','disabled','data-ally-disabled']},pi=function(){function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=r.context,o=r.filter;n(this,e),this._context=vt(i||document.documentElement)[0],this._filter=vt(o),this._inertElementCache=[],this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.renderInert=this.renderInert.bind(this),this.filterElements=this.filterElements.bind(this),this.filterParentElements=this.filterParentElements.bind(this);var a=wr({context:this._context,includeContext:!0,strategy:'all'});this.renderInert(a),this.shadowObserver=hi({context:this._context,config:gi,callback:function(e){return e.forEach(t.handleMutation)}})}return dt(e,[{key:'disengage',value:function(){this._context&&(Se(this._context),this._inertElementCache.forEach(function(e){return Se(e)}),this._inertElementCache=null,this._filter=null,this._context=null,this.shadowObserver&&this.shadowObserver.disengage(),this.shadowObserver=null)}},{key:'listQueryFocusable',value:function(e){return e.map(function(e){return wr({context:e,includeContext:!0,strategy:'all'})}).reduce(function(e,t){return e.concat(t)},[])}},{key:'renderInert',value:function(e){var t=this;e.filter(this.filterElements).filter(this.filterParentElements).filter(function(e){return!Qn(e)}).forEach(function(e){t._inertElementCache.push(e),Ee(e)})}},{key:'filterElements',value:function(e){var t=xe({element:e,includeSelf:!0});return!this._filter.some(t)}},{key:'filterParentElements',value:function(e){var t=xe({parent:e});return!this._filter.some(t)}},{key:'handleMutation',value:function(e){if('childList'===e.type){var t=vt(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE});if(!t.length)return;var n=this.listQueryFocusable(t);this.renderInert(n)}else'attributes'===e.type&&this.renderInert([e.target])}}]),e}(),xi=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.filter,r=new pi({context:t,filter:n});return{disengage:r.disengage}},yi={attributes:!1,childList:!0,subtree:!0},wi=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.context,i=t.filter;n(this,e),this._context=vt(r||document.documentElement)[0],this._filter=vt(i),this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.isInsignificantBranch=this.isInsignificantBranch.bind(this);var o=ci({context:this._context,filter:this._filter});o.forEach(Te),this.startObserver()}return dt(e,[{key:'disengage',value:function(){this._context&&([].forEach.call(this._context.querySelectorAll('[data-cached-aria-hidden]'),Ae),this._context=null,this._filter=null,this._observer&&this._observer.disconnect(),this._observer=null)}},{key:'startObserver',value:function(){var e=this;window.MutationObserver&&(this._observer=new MutationObserver(function(t){return t.forEach(e.handleMutation)}),this._observer.observe(this._context,yi))}},{key:'handleMutation',value:function(e){'childList'===e.type&&vt(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).filter(this.isInsignificantBranch).forEach(Te)}},{key:'isInsignificantBranch',value:function(e){var t=Yn({context:e});if(t.some(function(e){return'true'===e.getAttribute('aria-hidden')}))return!1;var n=xe({element:e});return this._filter.some(n)?!1:!0}}]),e}(),Ei=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.filter,r=new wi({context:t,filter:n});return{disengage:r.disengage}},Si=function(){function e(t){n(this,e),this._document=pt(t),this.maps={}}return dt(e,[{key:'getAreasFor',value:function(e){return this.maps[e]||this.addMapByName(e),this.maps[e]}},{key:'addMapByName',value:function(e){var t=R(e,this._document);t&&(this.maps[t.name]=Cr({context:t}))}},{key:'extractAreasFromList',value:function(e){return e.filter(function(e){var t=e.nodeName.toLowerCase();if('area'!==t)return!0;var n=e.parentNode;return this.maps[n.name]||(this.maps[n.name]=[]),this.maps[n.name].push(e),!1},this)}}]),e}(),Ti=function(e,t){var n=t.querySelectorAll('img[usemap]'),r=new Si(t),i=r.extractAreasFromList(e);return n.length?Lr({list:i,elements:n,resolveElement:function(e){var t=e.getAttribute('usemap').slice(1);return r.getAreasFor(t)}}):i},Ai=function(){function e(t,r){n(this,e),this.context=t,this.sortElements=r,this.hostCounter=1,this.inHost={},this.inDocument=[],this.hosts={},this.elements={}}return dt(e,[{key:'_registerHost',value:function(e){if(!e._sortingId){e._sortingId='shadow-'+this.hostCounter++,this.hosts[e._sortingId]=e;var t=gt({context:e});t?(this._registerHost(t),this._registerHostParent(e,t)):this.inDocument.push(e)}}},{key:'_registerHostParent',value:function(e,t){this.inHost[t._sortingId]||(this.inHost[t._sortingId]=[]),this.inHost[t._sortingId].push(e)}},{key:'_registerElement',value:function(e,t){this.elements[t._sortingId]||(this.elements[t._sortingId]=[]),this.elements[t._sortingId].push(e)}},{key:'extractElements',value:function(e){return e.filter(function(e){var t=gt({context:e});return t?(this._registerHost(t),this._registerElement(e,t),!1):!0},this)}},{key:'sort',value:function(e){var t=this._injectHosts(e);return t=this._replaceHosts(t),this._cleanup(),t}},{key:'_injectHosts',value:function(e){return Object.keys(this.hosts).forEach(function(e){var t=this.elements[e],n=this.inHost[e],r=this.hosts[e].shadowRoot;this.elements[e]=this._merge(t,n,r)},this),this._merge(e,this.inDocument,this.context)}},{key:'_merge',value:function(e,t,n){var r=Lr({list:e,elements:t});return this.sortElements(r,n)}},{key:'_replaceHosts',value:function(e){return Lr({list:e,elements:this.inDocument,resolveElement:this._resolveHostElement.bind(this)})}},{key:'_resolveHostElement',value:function(e){var t=Lr({list:this.elements[e._sortingId],elements:this.inHost[e._sortingId],resolveElement:this._resolveHostElement.bind(this)}),n=jn(e);return null!==n&&-1<n?[e].concat(t):t}},{key:'_cleanup',value:function(){Object.keys(this.hosts).forEach(function(e){delete this.hosts[e]._sortingId},this)}}]),e}(),Oi=function(e,t,n){var r=new Ai(t,n),i=r.extractElements(e);return i.length===e.length?n(e):r.sort(i)},Ci=function(e){var t={},n=[],r=e.filter(function(e){var r=e.tabIndex;return void 0===r&&(r=jn(e)),0>=r||null===r||void 0===r?!0:(t[r]||(t[r]=[],n.push(r)),t[r].push(e),!1)}),i=n.sort().map(function(e){return t[e]}).reduceRight(function(e,t){return t.concat(e)},r);return i},Ii=void 0,Li=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.includeContext,r=e.includeOnlyTabbable,i=e.strategy;Ii||(Ii=Bn());var o=vt(t)[0]||document.documentElement,a=Cr({context:o,includeContext:n,includeOnlyTabbable:r,strategy:i});return a=document.body.createShadowRoot&&Et.is.BLINK?Oi(a,o,Ce):Ce(a,o),n&&(a=Oe(a,o)),a},Ni={tab:9,left:37,up:38,right:39,down:40,pageUp:33,"page-up":33,pageDown:34,"page-down":34,end:35,home:36,enter:13,escape:27,space:32,shift:16,capsLock:20,"caps-lock":20,ctrl:17,alt:18,meta:91,pause:19,insert:45,delete:46,backspace:8,_alias:{91:[92,93,224]}},Mi=1;26>Mi;Mi++)Ni['f'+Mi]=Mi+111;for(var ki=0;10>ki;ki++){var _i=ki+48,Pi=ki+96;Ni[ki]=_i,Ni['num-'+ki]=Pi,Ni._alias[_i]=[Pi]}for(var Fi=0;26>Fi;Fi++){var Bi=Fi+65,Di=String.fromCharCode(Bi).toLowerCase();Ni[Di]=Bi}var Ri={alt:'altKey',ctrl:'ctrlKey',meta:'metaKey',shift:'shiftKey'},Wi=Object.keys(Ri).map(function(e){return Ri[e]}),Hi=function(e){return e.split(/\s+/).map(function(e){var t=e.split('+'),n=Le(t.slice(0,-1)),r=Ne(t.slice(-1));return{keyCodes:r,modifiers:n,matchModifiers:Me.bind(null,n)}})},ji=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={},n=vt(e.context)[0]||document.documentElement;delete e.context;var r=vt(e.filter);delete e.filter;var i=Object.keys(e);if(!i.length)throw new TypeError('when/key requires at least one option key');var o=function(e){e.keyCodes.forEach(function(n){t[n]||(t[n]=[]),t[n].push(e)})};i.forEach(function(t){if('function'!=typeof e[t])throw new TypeError('when/key requires option["'+t+'"] to be a function');Hi(t).map(function(n){return n.callback=e[t],n}).forEach(o)});var a=function(e){if(!e.defaultPrevented){if(r.length){var i=xe({element:e.target,includeSelf:!0});if(r.some(i))return}var o=e.keyCode||e.which;t[o]&&t[o].forEach(function(t){t.matchModifiers(e)&&t.callback.call(n,e,u)})}};n.addEventListener('keydown',a,!1);var u=function(){n.removeEventListener('keydown',a,!1)};return{disengage:u}},Zi=0,$i=0,Ui=['touchstart','pointerdown','MSPointerDown','mousedown'],Xi=['touchend','touchcancel','pointerup','MSPointerUp','pointercancel','MSPointerCancel','mouseup'],zi=Rr({engage:function(){return window.addEventListener('blur',ke,!1),document.documentElement.addEventListener('keydown',Fe,!0),document.documentElement.addEventListener('keyup',Be,!0),Ui.forEach(function(e){document.documentElement.addEventListener(e,_e,!0)}),Xi.forEach(function(e){document.documentElement.addEventListener(e,Pe,!0)}),{get:De}},disengage:function(){Zi=$i=0,window.removeEventListener('blur',ke,!1),document.documentElement.removeEventListener('keydown',Fe,!0),document.documentElement.removeEventListener('keyup',Be,!0),Ui.forEach(function(e){document.documentElement.removeEventListener(e,_e,!0)}),Xi.forEach(function(e){document.documentElement.removeEventListener(e,Pe,!0)})}}),eo='undefined'!=typeof document&&'onfocusin'in document,to=eo?'focusin':'focus',no=eo?'focusout':'blur',ro=void 0,io=void 0,oo=null,ao=null,uo={pointer:!1,key:!1,script:!1,initial:!1},so=Rr({engage:function(){return io=$r(),document.addEventListener('shadow-focus',Ze,!0),document.documentElement.addEventListener(to,Ze,!0),document.documentElement.addEventListener(no,Ze,!0),ro=zi(),Ze({type:'initial'}),{used:Ue,current:$e,lock:Xe,unlock:ze}},disengage:function(){Ze({type:no}),oo=ao=null,Object.keys(uo).forEach(function(e){Ke(document.documentElement,'focus-source-'+e),uo[e]=!1}),ro.disengage(),io&&io.disengage(),document.removeEventListener('shadow-focus',Ze,!0),document.documentElement.removeEventListener(to,Ze,!0),document.documentElement.removeEventListener(no,Ze,!0),document.documentElement.removeAttribute('data-focus-source')}}),lo=void 0,co='undefined'!=typeof document&&'onfocusin'in document,fo=co?'focusin':'focus',mo=co?'focusout':'blur',bo='ally-focus-within',vo=void 0,ho=void 0,go=void 0,po=Rr({engage:function(){lo||(lo=Bn(),vo=ar('.'+bo)),go=$r(),document.addEventListener(mo,et,!0),document.addEventListener(fo,tt,!0),document.addEventListener('shadow-focus',nt,!0),Ye()},disengage:function(){go&&go.disengage(),(window.clearImmediate||window.clearTimeout)(ho),document.removeEventListener(mo,et,!0),document.removeEventListener(fo,tt,!0),document.removeEventListener('shadow-focus',nt,!0),[].forEach.call(document.querySelectorAll(vo),function(e){Ke(e,bo)})}}),yo=function(e){var t=e.getBoundingClientRect(),n=at();n.area=n.width*n.height;var r=n,i=ct(e);if(i){if(!i.width||!i.height)return 0;r=ot(i,n),r.area=i.area}var o=ot(t,r);if(!o.width||!o.height)return 0;var a=t.width*t.height,u=_Mathmin2(a,r.area),Oo=_Mathround(o.width)*_Mathround(o.height)/u,s=1e4,l=_Mathround(Oo*s)/s;return _Mathmin2(l,1)},wo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.callback,r=e.area;if('function'!=typeof n)throw new TypeError('when/visible-area requires options.callback to be a function');'number'!=typeof r&&(r=1);var i=ht({label:'when/visible-area',context:t}),o,a=null,u=function(){o&&cancelAnimationFrame(o)},s=function(){return!lr(i)||yo(i)<r||!1===n(i)},l=function(){return s()?void a():void u()};return a=function(){o=requestAnimationFrame(l)},a(),{disengage:u}},To='undefined'!=typeof window&&window.ally;t.exports={element:{blur:function(e){var t=ht({label:'element/blur',context:e});if(!xt(t))return null;var n=t.nodeName.toLowerCase();if('body'===n)return null;if(t.blur)return t.blur(),document.activeElement;var r=yt(t);try{r.HTMLElement.prototype.blur.call(t)}catch(i){var o=r.document&&r.document.body;if(!o)return null;var a=o.getAttribute('tabindex');o.setAttribute('tabindex','-1'),o.focus(),a?o.setAttribute('tabindex',a):o.removeAttribute('tabindex')}return r.document.activeElement},disabled:Qn,focus:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultToAncestor,r=t.undoScrolling,i=ht({label:'element/focus',context:e}),o=hr.rules({context:i,except:_r});if(!n&&!o)return null;var a=kr({context:i,except:_r});if(!a)return null;if(xt(a))return a;var u;r&&(u=ae(a));var s=ue(a);return u&&u(),s}},event:{activeElement:jr,shadowFocus:$r},fix:{pointerFocusChildren:Yr,pointerFocusInput:ri,pointerFocusParent:ui},get:{activeElement:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=pt(t),r;try{r=n.activeElement}catch(i){}return r&&r.nodeType||(r=n.body||n.documentElement),r},activeElements:Kr,focusRedirectTarget:Mr,focusTarget:kr,insignificantBranches:ci,parents:Yn,shadowHostParents:Gr,shadowHost:gt},is:{activeElement:xt,disabled:mr,focusRelevant:rr,focusable:hr,onlyTabbable:br,shadowed:qr,tabbable:Or,validArea:dr,validTabindex:Hn,visible:lr},maintain:{disabled:xi,hidden:Ei,tabFocus:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context;return t||(t=document.documentElement),Li(),ji({"?alt+?shift+tab":function(e){e.preventDefault();var n=Li({context:t}),r=e.shiftKey,i=n[0],o=n[n.length-1],a=r?i:o,u=r?o:i;if(xt(a))return void u.focus();var s,l=n.some(function(e,t){return xt(e)?(s=t,!0):!1});if(!l)return void i.focus();var c=r?-1:1;n[s+c].focus()}})}},map:{attribute:{"aria-busy":{default:'false',values:['true','false']},"aria-checked":{default:void 0,values:['true','false','mixed',void 0]},"aria-disabled":{default:'false',values:['true','false']},"aria-expanded":{default:void 0,values:['true','false',void 0]},"aria-grabbed":{default:void 0,values:['true','false',void 0]},"aria-hidden":{default:'false',values:['true','false']},"aria-invalid":{default:'false',values:['true','false','grammar','spelling']},"aria-pressed":{default:void 0,values:['true','false','mixed',void 0]},"aria-selected":{default:void 0,values:['true','false',void 0]},"aria-atomic":{default:'false',values:['true','false']},"aria-autocomplete":{default:'none',values:['inline','list','both','none']},"aria-dropeffect":{default:'none',multiple:!0,values:['copy','move','link','execute','popup','none']},"aria-haspopup":{default:'false',values:['true','false']},"aria-live":{default:'off',values:['off','polite','assertive']},"aria-multiline":{default:'false',values:['true','false']},"aria-multiselectable":{default:'false',values:['true','false']},"aria-orientation":{default:'horizontal',values:['vertical','horizontal']},"aria-readonly":{default:'false',values:['true','false']},"aria-relevant":{default:'additions text',multiple:!0,values:['additions','removals','text','all']},"aria-required":{default:'false',values:['true','false']},"aria-sort":{default:'none',other:!0,values:['ascending','descending','none']}},keycode:Ni},observe:{interactionType:zi,shadowMutations:hi},query:{firstTabbable:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.sequence,r=e.strategy,i=e.ignoreAutofocus,o=e.defaultToContext,a=e.includeOnlyTabbable,u=-1;n||(t=vt(t||document.body)[0],n=Cr({context:t,includeOnlyTabbable:a,strategy:r})),n.length&&!i&&(u=N(n,He)),n.length&&-1===u&&(u=N(n,je));var s=hr.rules.except({onlyTabbable:a});return-1===u&&o&&t&&s(t)?t:n[u]||null},focusable:wr,shadowHosts:we,tabbable:Cr,tabsequence:Li},style:{focusSource:so,focusWithin:po},when:{focusable:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.callback,r=e.area;if('function'!=typeof n)throw new TypeError('when/focusable requires options.callback to be a function');var i=ht({label:'when/focusable',context:t}),a=pt(i),u=wo({context:i,callback:function(e){return hr(e)?n(e):!1},area:r}),s=function l(){a.removeEventListener('focus',l,!0),u&&u.disengage()};return a.addEventListener('focus',s,!0),{disengage:s}},key:ji,visibleArea:wo},version:Bt,noConflict:function(){return'undefined'!=typeof window&&window.ally===this&&(window.ally=To),this}}},{"css.escape":2,platform:3}],2:[function(t,n,r){(function(t){!function(t,i){'object'==typeof r?n.exports=i(t):'function'==typeof e&&e.amd?e([],i.bind(t,t)):i(t)}('undefined'!=typeof t?t:this,function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError('`CSS.escape` requires an argument.');for(var t,n=e+'',r=n.length,i=-1,o='',a=n.charCodeAt(0);++i<r;)t=n.charCodeAt(i),o+=0!=t?1<=t&&31>=t||127==t||0==i&&48<=t&&57>=t||1==i&&48<=t&&57>=t&&45==a?'\\'+t.toString(16)+' ':(0!=i||1!=r||45!=t)&&(128<=t||45==t||95==t||48<=t&&57>=t||65<=t&&90>=t||97<=t&&122>=t)?n.charAt(i):'\\'+n.charAt(i):'\uFFFD';return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t})}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{}],3:[function(t,n,r){(function(t){(function(){'use strict';function i(e){return e=e+'',e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n){var r={"10.0":'10',6.4:'10 Technical Preview',6.3:'8.1',6.2:'8',6.1:'Server 2008 R2 / 7',"6.0":'Server 2008 / Vista',5.2:'Server 2003 / XP 64-bit',5.1:'XP',5.01:'2000 SP1',"5.0":'2000',"4.0":'NT',"4.90":'ME'};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e='Windows '+r),e=e+'',t&&n&&(e=e.replace(RegExp(t,'i'),n)),e=u(e.replace(/ ce$/i,' CE').replace(/\bhpw/i,'web').replace(/\bMacintosh\b/,'Mac OS').replace(/_PowerPC\b/i,' OS').replace(/\b(OS X) [^ \d]+/i,'$1').replace(/\bMac (OS X)\b/,'$1').replace(/\/(\d)/,' $1').replace(/_/g,'.').replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,'').replace(/\bx86\.64\b/gi,'x86_64').replace(/\b(Windows Phone) OS\b/,'$1').replace(/\b(Chrome OS \w+) [\d.]+\b/,'$1').split(' on ')[0])}function a(e,t){var n=-1,r=e?e.length:0;if('number'==typeof r&&-1<r&&w>=r)for(;++n<r;)t(e[n],n,e);else s(e,t)}function u(e){return e=m(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:i(e)}function s(e,t){for(var n in e)A.call(e,n)&&t(e[n],n,e)}function l(e){return null==e?i(e):O.call(e).slice(8,-1)}function c(e,t){var n=null!=e?typeof e[t]:'number';return!/^(?:boolean|number|string|undefined)$/.test(n)&&('object'==n?!!e[t]:!0)}function d(e){return(e+'').replace(/([ -])(?!$)/g,'$1?')}function f(e,t){var n=null;return a(e,function(r,i){n=t(n,r,i,e)}),n}function m(e){return(e+'').replace(/^ +| +$/g,'')}function b(e){function t(t){return f(t,function(t,n){return t||RegExp('\\b'+(n.pattern||d(n))+'\\b','i').exec(e)&&(n.label||n)})}function a(t){return f(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp('\\b'+r+' *\\d+[.\\w_]*','i').exec(e)||RegExp('\\b'+r+'(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)','i').exec(e))&&((t=((n.label&&!RegExp(r,'i').test(n.label)?n.label:t)+'').split('/'))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=' '+t[1]),n=n.label||n,t=u(t[0].replace(RegExp(r,'i'),n).replace(RegExp('; *(?:'+n+'[_-])?','i'),' ').replace(RegExp('('+n+')[-_.]?(\\w)','i'),'$1 $2'))),t})}var x=h,y=e&&'object'==typeof e&&'String'!=l(e);y&&(x=e,e=null);var w=x.navigator||{},T=w.userAgent||'';e||(e=T);var A,C,L=y?!!w.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(O.toString()),N='Object',M=y?N:'ScriptBridgingProxyObject',k=y?N:'Environment',_=y&&x.java?'JavaPackage':l(x.java),P=y?N:'RuntimeObject',F=/\bJava/.test(_)&&x.java,B=F&&l(x.environment)==k,D=F?'a':'\u03B1',R=F?'b':'\u03B2',W=x.document||{},H=x.operamini||x.opera,j=E.test(j=y&&H?H['[[Class]]']:l(H))?j:H=null,q=e,G=[],K=null,V=e==T,Z=V&&H&&'function'==typeof H.version&&H.version(),$=t([{label:'EdgeHTML',pattern:'Edge'},'Trident',{label:'WebKit',pattern:'AppleWebKit'},'iCab','Presto','NetFront','Tasman','KHTML','Gecko']),U=function(t){return f(t,function(t,n){return t||RegExp('\\b'+(n.pattern||d(n))+'\\b','i').exec(e)&&(n.label||n)})}(['Adobe AIR','Arora','Avant Browser','Breach','Camino','Epiphany','Fennec','Flock','Galeon','GreenBrowser','iCab','Iceweasel','K-Meleon','Konqueror','Lunascape','Maxthon',{label:'Microsoft Edge',pattern:'Edge'},'Midori','Nook Browser','PaleMoon','PhantomJS','Raven','Rekonq','RockMelt','SeaMonkey',{label:'Silk',pattern:'(?:Cloud9|Silk-Accelerated)'},'Sleipnir','SlimBrowser',{label:'SRWare Iron',pattern:'Iron'},'Sunrise','Swiftfox','WebPositive','Opera Mini',{label:'Opera Mini',pattern:'OPiOS'},'Opera',{label:'Opera',pattern:'OPR'},'Chrome',{label:'Chrome Mobile',pattern:'(?:CriOS|CrMo)'},{label:'Firefox',pattern:'(?:Firefox|Minefield)'},{label:'Firefox for iOS',pattern:'FxiOS'},{label:'IE',pattern:'IEMobile'},{label:'IE',pattern:'MSIE'},'Safari']),X=a([{label:'BlackBerry',pattern:'BB10'},'BlackBerry',{label:'Galaxy S',pattern:'GT-I9000'},{label:'Galaxy S2',pattern:'GT-I9100'},{label:'Galaxy S3',pattern:'GT-I9300'},{label:'Galaxy S4',pattern:'GT-I9500'},'Google TV','Lumia','iPad','iPod','iPhone','Kindle',{label:'Kindle Fire',pattern:'(?:Cloud9|Silk-Accelerated)'},'Nexus','Nook','PlayBook','PlayStation 3','PlayStation 4','PlayStation Vita','TouchPad','Transformer',{label:'Wii U',pattern:'WiiU'},'Wii','Xbox One',{label:'Xbox 360',pattern:'Xbox'},'Xoom']),z=function(t){return f(t,function(t,n,r){return t||(n[X]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(X)]||RegExp('\\b'+d(r)+'(?:\\b|\\w*\\d)','i').exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),J=function(t){return f(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp('\\b'+r+'(?:/[\\d.]+|[ \\w.]*)','i').exec(e))&&(t=o(t,r,n.label||n)),t})}(['Windows Phone','Android','CentOS',{label:'Chrome OS',pattern:'CrOS'},'Debian','Fedora','FreeBSD','Gentoo','Haiku','Kubuntu','Linux Mint','OpenBSD','Red Hat','SuSE','Ubuntu','Xubuntu','Cygwin','Symbian OS','hpwOS','webOS ','webOS','Tablet OS','Linux','Mac OS X','Macintosh','Mac','Windows 98;','Windows ']);if($&&($=[$]),z&&!X&&(X=a([z])),(A=/\bGoogle TV\b/.exec(X))&&(X=A[0]),/\bSimulator\b/i.test(e)&&(X=(X?X+' ':'')+'Simulator'),'Opera Mini'==U&&/\bOPiOS\b/.test(e)&&G.push('running in Turbo/Uncompressed mode'),'IE'==U&&/\blike iPhone OS\b/.test(e)?(A=b(e.replace(/like iPhone OS/,'')),z=A.manufacturer,X=A.product):/^iP/.test(X)?(U||(U='Safari'),J='iOS'+((A=/ OS ([\d_]+)/i.exec(e))?' '+A[1].replace(/_/g,'.'):'')):'Konqueror'!=U||/buntu/i.test(J)?z&&'Google'!=z&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(X))||/\bAndroid\b/.test(J)&&/^Chrome/.test(U)&&/\bVersion\//i.test(e)?(U='Android Browser',J=/\bAndroid\b/.test(J)?J:'Android'):'Silk'==U?(/\bMobi/i.test(e)||(J='Android',G.unshift('desktop mode')),/Accelerated *= *true/i.test(e)&&G.unshift('accelerated')):'PaleMoon'==U&&(A=/\bFirefox\/([\d.]+)\b/.exec(e))?G.push('identifying as Firefox '+A[1]):'Firefox'==U&&(A=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(J||(J='Firefox OS'),X||(X=A[1])):(!U||(A=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(U)))&&(U&&!X&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(A+'/')+8))&&(U=null),(A=X||z||J)&&(X||z||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(J))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(J)?J:A)+' Browser')):J='Kubuntu',Z||(Z=function(t){return f(t,function(t,n){return t||(RegExp(n+'(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)','i').exec(e)||0)[1]||null})}(['(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))','Version',d(U),'(?:Firefox|Minefield|NetFront)'])),(A='iCab'==$&&3<parseFloat(Z)&&'WebKit'||/\bOpera\b/.test(U)&&(/\bOPR\b/.test(e)?'Blink':'Presto')||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test($)&&'WebKit'||!$&&/\bMSIE\b/i.test(e)&&('Mac OS'==J?'Tasman':'Trident')||'WebKit'==$&&/\bPlayStation\b(?! Vita\b)/i.test(U)&&'NetFront')&&($=[A]),'IE'==U&&(A=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(U+=' Mobile',J='Windows Phone '+(/\+$/.test(A)?A:A+'.x'),G.unshift('desktop mode')):/\bWPDesktop\b/i.test(e)?(U='IE Mobile',J='Windows Phone 8.x',G.unshift('desktop mode'),Z||(Z=(/\brv:([\d.]+)/.exec(e)||0)[1])):'IE'!=U&&'Trident'==$&&(A=/\brv:([\d.]+)/.exec(e))&&(U&&G.push('identifying as '+U+(Z?' '+Z:'')),U='IE',Z=A[1]),V){if(c(x,'global')){if(F&&(A=F.lang.System,q=A.getProperty('os.arch'),J=J||A.getProperty('os.name')+' '+A.getProperty('os.version')),(y||S==g)&&c(x,'system')&&(A=[x.system])[0]){J||(J=A[0].os||null);try{A[1]=x.require('ringo/engine').version,Z=A[1].join('.'),U='RingoJS'}catch(Q){A[0].global.system==x.system&&(U='Narwhal')}}else'object'==typeof x.process&&!x.process.browser&&(A=x.process)?(U='Node.js',q=A.arch,J=A.platform,Z=/[\d.]+/.exec(A.version)[0]):B&&(U='Rhino');}else l(A=x.runtime)==M?(U='Adobe AIR',J=A.flash.system.Capabilities.os):l(A=x.phantom)==P?(U='PhantomJS',Z=(A=A.version||null)&&A.major+'.'+A.minor+'.'+A.patch):'number'==typeof W.documentMode&&(A=/\bTrident\/(\d+)/i.exec(e))&&(Z=[Z,W.documentMode],(A=+A[1]+4)!=Z[1]&&(G.push('IE '+Z[1]+' mode'),$&&($[1]=''),Z[1]=A),Z='IE'==U?Z[1].toFixed(1)+'':Z[0]);J=J&&u(J)}Z&&(A=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Z)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+';'+(V&&w.appMinorVersion))||/\bMinefield\b/i.test(e)&&'a')&&(K=/b/i.test(A)?'beta':'alpha',Z=Z.replace(RegExp(A+'\\+?$'),'')+('beta'==K?R:D)+(/\d+\+?/.exec(A)||'')),'Fennec'==U||'Firefox'==U&&/\b(?:Android|Firefox OS)\b/.test(J)?U='Firefox Mobile':'Maxthon'==U&&Z?Z=Z.replace(/\.[\d.]+/,'.x'):/\bXbox\b/i.test(X)?(J=null,'Xbox 360'==X&&/\bIEMobile\b/.test(e)&&G.unshift('mobile mode')):!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||X||/Browser|Mobi/.test(U))||'Windows CE'!=J&&!/Mobi/i.test(e)?'IE'==U&&V&&null===x.external?G.unshift('platform preview'):(/\bBlackBerry\b/.test(X)||/\bBB10\b/.test(e))&&(A=(RegExp(X.replace(/ +/g,' *')+'/([.\\d]+)','i').exec(e)||0)[1]||Z)?(A=[A,/BB10/.test(e)],J=(A[1]?(X=null,z='BlackBerry'):'Device Software')+' '+A[0],Z=null):this!=s&&'Wii'!=X&&(V&&H||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(e)||'Firefox'==U&&/\bOS X (?:\d+\.){2,}/.test(J)||'IE'==U&&(J&&!/^Win/.test(J)&&5.5<Z||/\bWindows XP\b/.test(J)&&8<Z||8==Z&&!/\bTrident\b/.test(e)))&&!E.test(A=b.call(s,e.replace(E,'')+';'))&&A.name&&(A='ing as '+A.name+((A=A.version)?' '+A:''),E.test(U)?(/\bIE\b/.test(A)&&'Mac OS'==J&&(J=null),A='identify'+A):(A='mask'+A,U=j?u(j.replace(/([a-z])([A-Z])/g,'$1 $2')):'Opera',/\bIE\b/.test(A)&&(J=null),V||(Z=null)),$=['Presto'],G.push(A)):U+=' Mobile',(A=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(A=[parseFloat(A.replace(/\.(\d)$/,'.0$1')),A],'Safari'==U&&'+'==A[1].slice(-1)?(U='WebKit Nightly',K='alpha',Z=A[1].slice(0,-1)):(Z==A[1]||Z==(A[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1]))&&(Z=null),A[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==A[0]&&537.36==A[2]&&28<=parseFloat(A[1])&&'WebKit'==$&&($=['Blink']),V&&(L||A[1])?($&&($[1]='like Chrome'),A=A[1]||(A=A[0],530>A?1:532>A?2:532.05>A?3:533>A?4:534.03>A?5:534.07>A?6:534.1>A?7:534.13>A?8:534.16>A?9:534.24>A?10:534.3>A?11:535.01>A?12:535.02>A?'13+':535.07>A?15:535.11>A?16:535.19>A?17:536.05>A?18:536.1>A?19:537.01>A?20:537.11>A?'21+':537.13>A?23:537.18>A?24:537.24>A?25:537.36>A?26:'Blink'!=$?'27':'28')):($&&($[1]='like Safari'),A=A[0],A=400>A?1:500>A?2:526>A?3:533>A?4:534>A?'4+':535>A?5:537>A?6:538>A?7:601>A?8:'8'),$&&($[1]+=' '+(A+='number'==typeof A?'.x':/[.+]/.test(A)?'':'+')),'Safari'==U&&(!Z||45<parseInt(Z))&&(Z=A)),'Opera'==U&&(A=/\bzbov|zvav$/.exec(J))?(U+=' ',G.unshift('desktop mode'),'zvav'==A?(U+='Mini',Z=null):U+='Mobile',J=J.replace(RegExp(' *'+A+'$'),'')):'Safari'==U&&/\bChrome\b/.exec($&&$[1])&&(G.unshift('desktop mode'),U='Chrome Mobile',Z=null,/\bOS X\b/.test(J)?(z='Apple',J='iOS 4.3+'):J=null),Z&&0==Z.indexOf(A=/[\d.]+$/.exec(J))&&-1<e.indexOf('/'+A+'-')&&(J=m(J.replace(A,''))),$&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||'Safari'!=U&&/^iOS/.test(J)&&/\bSafari\b/.test($[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(U)&&$[1])&&(A=$[$.length-1])&&G.push(A),G.length&&(G=['('+G.join('; ')+')']),z&&X&&0>X.indexOf(z)&&G.push('on '+z),X&&G.push((/^on /.test(G[G.length-1])?'':'on ')+X),J&&(A=/ ([\d.+]+)$/.exec(J),C=A&&'/'==J.charAt(J.length-A[0].length-1),J={architecture:32,family:A&&!C?J.replace(A[0],''):J,version:A?A[1]:null,toString:function(){var e=this.version;return this.family+(e&&!C?' '+e:'')+(64==this.architecture?' 64-bit':'')}}),(A=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(q))&&!/\bi686\b/i.test(q)?(J&&(J.architecture=64,J.family=J.family.replace(RegExp(' *'+A),'')),U&&(/\bWOW64\b/i.test(e)||V&&/\w(?:86|32)$/.test(w.cpuClass||w.platform)&&!/\bWin64; x64\b/i.test(e))&&G.unshift('32-bit')):J&&/^OS X/.test(J.family)&&'Chrome'==U&&39<=parseFloat(Z)&&(J.architecture=64),e||(e=null);var Y={};return Y.description=e,Y.layout=$&&$[0],Y.manufacturer=z,Y.name=U,Y.prerelease=K,Y.product=X,Y.ua=e,Y.version=U&&Z,Y.os=J||{architecture:null,family:null,version:null,toString:function(){return'null'}},Y.parse=b,Y.toString=function(){return this.description||''},Y.version&&G.unshift(Z),Y.name&&G.unshift(U),J&&U&&(J!=(J+'').split(' ')[0]||J!=U.split(' ')[0]&&!X)&&G.push(X?'('+J+')':'on '+J),G.length&&(Y.description=G.join(' ')),Y}var v={function:!0,object:!0},h=v[typeof window]&&window||this,g=h,p=v[typeof r]&&r,x=v[typeof n]&&n&&!n.nodeType&&n,y=p&&x&&'object'==typeof t&&t;y&&(y.global===y||y.window===y||y.self===y)&&(h=y);var w=9007199254740991,E=/\bOpera/,S=this,T=Object.prototype,A=T.hasOwnProperty,O=T.toString,C=b();'function'==typeof e&&'object'==typeof e.amd&&e.amd?(h.platform=C,e(function(){return C})):p&&x?s(C,function(e,t){p[t]=e}):h.platform=C}).call(this)}).call(this,'undefined'!=typeof global?global:'undefined'!=typeof self?self:'undefined'!=typeof window?window:{})},{}]},{},[1])(1)})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__WEBPACK_IMPORTED_MODULE_2_corelib_devicemanager_bluetoothState__=__webpack_require__(200);const priv=Symbol('priv');class Device{constructor(type='',{id=-1,name='',displayName='',serialNumber='',address='',orderCode='',firmware={},gdxMapVersion=0,channels=[],state='',battery={},canIdentify=!1,errorMessage=null,minWavelength='',maxWavelength='',wavelengthSmoothing='',temporalAveraging='',initialWarmupTime='',recalibrationTime='',noSkipTime='',calibrationProcesses=null,manufactureDate='',userCalibrationDate='',factoryCalibrationDate='',hasUserCalibration=!1,usingUserCalibration=!1,hasFactoryCalibration=!1,usingFactoryCalibration=!1}={}){this[priv]={type,id,name,displayName,serialNumber,address,orderCode,firmware,channels,gdxMapVersion,state,battery,canIdentify,errorMessage,minWavelength,maxWavelength,wavelengthSmoothing,temporalAveraging,initialWarmupTime,recalibrationTime,noSkipTime,calibrationProcesses,manufactureDate,userCalibrationDate,factoryCalibrationDate,hasUserCalibration,usingUserCalibration,hasFactoryCalibration,usingFactoryCalibration}}get type(){return this[priv].type}get id(){return this[priv].id}get deviceName(){return this[priv].name}get name(){return this[priv].name}get productName(){return this[priv].displayName}get displayName(){return this[priv].displayName}get serialNumber(){return this[priv].serialNumber}get address(){return this[priv].address}get orderCode(){return this[priv].orderCode}get firmware(){return this[priv].firmware}get gdxMapVersion(){return this[priv].gdxMapVersion}get channels(){return this[priv].channels}get connected(){return'connected'===this[priv].state}get state(){return this[priv].state}get battery(){this[priv].battery.percent=0<=this[priv].battery.percent?this[priv].battery.percent:void 0;return this[priv].battery}get canIdentify(){return this[priv].canIdentify}get errorMessage(){return this[priv].errorMessage}get minWavelength(){return this[priv].minWavelength}get maxWavelength(){return this[priv].maxWavelength}get wavelengthSmoothing(){return this[priv].wavelengthSmoothing}get temporalAveraging(){return this[priv].temporalAveraging}get initialWarmupTime(){return this[priv].initialWarmupTime}get recalibrationTime(){return this[priv].recalibrationTime}get noSkipTime(){return this[priv].noSkipTime}get calibrationProcesses(){return this[priv].calibrationProcesses}get manufactureDate(){return this[priv].manufactureDate}get userCalibrationDate(){return this[priv].userCalibrationDate}get factoryCalibrationDate(){return this[priv].factoryCalibrationDate}get hasUserCalibration(){return this[priv].hasUserCalibration}get usingUserCalibration(){return this[priv].usingUserCalibration}get hasFactoryCalibration(){return this[priv].hasFactoryCalibration}get usingFactoryCalibration(){return this[priv].usingFactoryCalibration}_update(props={}){Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.toPairs)({name:'name-changed',displayName:'display-name-changed',address:'address-changed',serialNumber:'serial-number-changed',orderCode:'order-code-changed',firmware:'firmware-changed',gdxMapVersion:'gdxmap-version-changed',channels:'channels-changed',state:'state-changed',battery:'battery-changed',canIdentify:'can-identify-changed',errorMessage:'error-message-changed',minWavelength:'min-wavelength-changed',maxWavelength:'max-wavelength-changed',wavelengthSmoothing:'wavelength-smoothing-changed',temporalAveraging:'temporal-averaging-changed',initialWarmupTime:'initial-warmup-time-changed',recalibrationTime:'recalibration-time-changed',noSkipTime:'no-skip-time-changed',calibrationProcesses:'calbibration-processes-changed',manufactureDate:'manufacture-date-changed',userCalibrationDate:'user-calibration-date',factoryCalibrationDate:'factory-calibration-date',hasUserCalibration:'has-user-calibration',usingUserCalibration:'using-user-calibration',hasFactoryCalibration:'has-factory-calibration',usingFactoryCalibration:'using-factory-calibration'}).forEach(([prop,propEvent])=>{const newValue=props[prop],currentValue=this[priv][prop];if(prop in props&&!Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.isEqual)(newValue,currentValue)){this[priv][prop]=newValue;this.trigger(propEvent,newValue)}});if(this[priv].state!==__WEBPACK_IMPORTED_MODULE_2_corelib_devicemanager_bluetoothState__.a.error){this[priv].errorMessage=null}}updateCalibrationStep(props={}){this.trigger('calibration-step-result-changed',props)}}__webpack_exports__.a=Device;Object.assign(Device.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module){module.exports=require('grpc')},function(module,exports,__webpack_require__){var jspb=__webpack_require__(207),goog=jspb,global=Function('return this')();goog.exportSymbol('proto.vstrpc.JSONRPC_Request',null,global);goog.exportSymbol('proto.vstrpc.JSONRPC_Response',null,global);proto.vstrpc.JSONRPC_Request=function(opt_data){jspb.Message.initialize(this,opt_data,0,-1,null,null)};goog.inherits(proto.vstrpc.JSONRPC_Request,jspb.Message);if(goog.DEBUG&&!COMPILED){proto.vstrpc.JSONRPC_Request.displayName='proto.vstrpc.JSONRPC_Request'}if(jspb.Message.GENERATE_TO_OBJECT){proto.vstrpc.JSONRPC_Request.prototype.toObject=function(opt_includeInstance){return proto.vstrpc.JSONRPC_Request.toObject(opt_includeInstance,this)};proto.vstrpc.JSONRPC_Request.toObject=function(includeInstance,msg){var obj={messageId:msg.getMessageId(),fragmentIndex:msg.getFragmentIndex(),fragmentCount:msg.getFragmentCount(),json:msg.getJson()};if(includeInstance){obj.$jspbMessageInstance=msg}return obj}}proto.vstrpc.JSONRPC_Request.deserializeBinary=function(bytes){var reader=new jspb.BinaryReader(bytes),msg=new proto.vstrpc.JSONRPC_Request;return proto.vstrpc.JSONRPC_Request.deserializeBinaryFromReader(msg,reader)};proto.vstrpc.JSONRPC_Request.deserializeBinaryFromReader=function(msg,reader){while(reader.nextField()){if(reader.isEndGroup()){break}var field=reader.getFieldNumber();switch(field){case 1:var value=reader.readUint32();msg.setMessageId(value);break;case 2:var value=reader.readUint32();msg.setFragmentIndex(value);break;case 3:var value=reader.readUint32();msg.setFragmentCount(value);break;case 4:var value=reader.readString();msg.setJson(value);break;default:reader.skipField();break;}}return msg};proto.vstrpc.JSONRPC_Request.serializeBinaryToWriter=function(message,writer){message.serializeBinaryToWriter(writer)};proto.vstrpc.JSONRPC_Request.prototype.serializeBinary=function(){var writer=new jspb.BinaryWriter;this.serializeBinaryToWriter(writer);return writer.getResultBuffer()};proto.vstrpc.JSONRPC_Request.prototype.serializeBinaryToWriter=function(writer){var f=this.getMessageId();if(0!==f){writer.writeUint32(1,f)}f=this.getFragmentIndex();if(0!==f){writer.writeUint32(2,f)}f=this.getFragmentCount();if(0!==f){writer.writeUint32(3,f)}f=this.getJson();if(0<f.length){writer.writeString(4,f)}};proto.vstrpc.JSONRPC_Request.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)};proto.vstrpc.JSONRPC_Request.prototype.getMessageId=function(){return jspb.Message.getFieldProto3(this,1,0)};proto.vstrpc.JSONRPC_Request.prototype.setMessageId=function(value){jspb.Message.setField(this,1,value)};proto.vstrpc.JSONRPC_Request.prototype.getFragmentIndex=function(){return jspb.Message.getFieldProto3(this,2,0)};proto.vstrpc.JSONRPC_Request.prototype.setFragmentIndex=function(value){jspb.Message.setField(this,2,value)};proto.vstrpc.JSONRPC_Request.prototype.getFragmentCount=function(){return jspb.Message.getFieldProto3(this,3,0)};proto.vstrpc.JSONRPC_Request.prototype.setFragmentCount=function(value){jspb.Message.setField(this,3,value)};proto.vstrpc.JSONRPC_Request.prototype.getJson=function(){return jspb.Message.getFieldProto3(this,4,'')};proto.vstrpc.JSONRPC_Request.prototype.setJson=function(value){jspb.Message.setField(this,4,value)};proto.vstrpc.JSONRPC_Response=function(opt_data){jspb.Message.initialize(this,opt_data,0,-1,null,null)};goog.inherits(proto.vstrpc.JSONRPC_Response,jspb.Message);if(goog.DEBUG&&!COMPILED){proto.vstrpc.JSONRPC_Response.displayName='proto.vstrpc.JSONRPC_Response'}if(jspb.Message.GENERATE_TO_OBJECT){proto.vstrpc.JSONRPC_Response.prototype.toObject=function(opt_includeInstance){return proto.vstrpc.JSONRPC_Response.toObject(opt_includeInstance,this)};proto.vstrpc.JSONRPC_Response.toObject=function(includeInstance,msg){var obj={messageId:msg.getMessageId(),fragmentIndex:msg.getFragmentIndex(),fragmentCount:msg.getFragmentCount(),json:msg.getJson()};if(includeInstance){obj.$jspbMessageInstance=msg}return obj}}proto.vstrpc.JSONRPC_Response.deserializeBinary=function(bytes){var reader=new jspb.BinaryReader(bytes),msg=new proto.vstrpc.JSONRPC_Response;return proto.vstrpc.JSONRPC_Response.deserializeBinaryFromReader(msg,reader)};proto.vstrpc.JSONRPC_Response.deserializeBinaryFromReader=function(msg,reader){while(reader.nextField()){if(reader.isEndGroup()){break}var field=reader.getFieldNumber();switch(field){case 1:var value=reader.readUint32();msg.setMessageId(value);break;case 2:var value=reader.readUint32();msg.setFragmentIndex(value);break;case 3:var value=reader.readUint32();msg.setFragmentCount(value);break;case 4:var value=reader.readString();msg.setJson(value);break;default:reader.skipField();break;}}return msg};proto.vstrpc.JSONRPC_Response.serializeBinaryToWriter=function(message,writer){message.serializeBinaryToWriter(writer)};proto.vstrpc.JSONRPC_Response.prototype.serializeBinary=function(){var writer=new jspb.BinaryWriter;this.serializeBinaryToWriter(writer);return writer.getResultBuffer()};proto.vstrpc.JSONRPC_Response.prototype.serializeBinaryToWriter=function(writer){var f=this.getMessageId();if(0!==f){writer.writeUint32(1,f)}f=this.getFragmentIndex();if(0!==f){writer.writeUint32(2,f)}f=this.getFragmentCount();if(0!==f){writer.writeUint32(3,f)}f=this.getJson();if(0<f.length){writer.writeString(4,f)}};proto.vstrpc.JSONRPC_Response.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)};proto.vstrpc.JSONRPC_Response.prototype.getMessageId=function(){return jspb.Message.getFieldProto3(this,1,0)};proto.vstrpc.JSONRPC_Response.prototype.setMessageId=function(value){jspb.Message.setField(this,1,value)};proto.vstrpc.JSONRPC_Response.prototype.getFragmentIndex=function(){return jspb.Message.getFieldProto3(this,2,0)};proto.vstrpc.JSONRPC_Response.prototype.setFragmentIndex=function(value){jspb.Message.setField(this,2,value)};proto.vstrpc.JSONRPC_Response.prototype.getFragmentCount=function(){return jspb.Message.getFieldProto3(this,3,0)};proto.vstrpc.JSONRPC_Response.prototype.setFragmentCount=function(value){jspb.Message.setField(this,3,value)};proto.vstrpc.JSONRPC_Response.prototype.getJson=function(){return jspb.Message.getFieldProto3(this,4,'')};proto.vstrpc.JSONRPC_Response.prototype.setJson=function(value){jspb.Message.setField(this,4,value)};goog.object.extend(exports,proto.vstrpc)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_controller_map__=__webpack_require__(209);const controllers={get(controllerName){const Controller=__WEBPACK_IMPORTED_MODULE_0_corelib_controller_map__.a[controllerName];if(!Controller){throw new Error(`Controller Not Found: ${controllerName}`)}return Controller}};__webpack_exports__.a=controllers},function(module,__webpack_exports__){'use strict';var _MathPI=Math.PI;const getParamsForAngularMotion=params=>{let numberOfSpokes=10;const barWidth=params.barWidth,angleUnits=params.units;if('\xB0'===angleUnits){numberOfSpokes=360/barWidth}else if('rad'===angleUnits){numberOfSpokes=2*_MathPI/barWidth}else if('rev'===angleUnits){numberOfSpokes=1/barWidth}numberOfSpokes=Math.floor(numberOfSpokes);return{numberOfSpokes,angleUnits,objectId:''}},getParamsFromAngularMotion=angularMotion=>{let barWidth=1;const numberOfSpokes=angularMotion.numberOfSpokes,units=angularMotion.angleUnits;if('\xB0'===units){barWidth=360/numberOfSpokes}else if('rad'===units){barWidth=2*_MathPI/numberOfSpokes}else if('rev'===units){barWidth=1/numberOfSpokes}return{barWidth,units,objectId:''}},photogateParamMap={backendToFrontend(inputParams){const outputParams={};if('motion'===inputParams.subMode){if('m'!==inputParams.params.units){outputParams.measurementType='angular-motion';outputParams.angularMotion=getParamsForAngularMotion(inputParams.params)}else{outputParams.measurementType='linear-motion';outputParams.linearMotion={accessory:inputParams.params.objectId||'vernier_picket_fence',spacing:inputParams.params.barWidth||0.05,numberOfFlags:-1!==inputParams.numEvents?inputParams.numEvents/2:8,endAfterTrial:-1!==inputParams.numEvents}}}else if('gate'===inputParams.subMode||'pulse'===inputParams.subMode){if('pulse'===inputParams.subMode&&0>inputParams.params.gateSeparation){outputParams.measurementType='timer';outputParams.period={timeMeasurements:'between-gates',useFirstEventAsTime0:!1}}else if('gate'===inputParams.subMode&&0>inputParams.params.flagWidth){outputParams.measurementType='gate-state'}else{outputParams.measurementType='speed-through-gate';outputParams.speedThroughGate={flagWidth:inputParams.params.flagWidth||0.05,numberOfFlags:-1!==inputParams.numEvents?inputParams.numEvents/2:1,timingMode:inputParams.subMode,gateSeparationWidth:inputParams.params.gateSeparation||0.02,showMidTime:!1}}}else if('pendulum'===inputParams.subMode){outputParams.measurementType='timer';outputParams.period={timeMeasurements:'pendulum'}}else if('projectile'===inputParams.subMode){outputParams.measurementType='projectile';outputParams.projectile={type:inputParams.params.type,gateSeparationWidth:inputParams.params.value,timeOfFlightPad:5===inputParams.numEvents}}return outputParams},frontendToBackend(inputParams){const outputParams={numEvents:-1};if('speed-through-gate'===inputParams.measurementType){if('gate'===inputParams.speedThroughGate.timingMode){outputParams.subMode='gate';outputParams.numEvents=2*parseInt(inputParams.speedThroughGate.numberOfFlags);outputParams.params={flagWidth:parseFloat(inputParams.speedThroughGate.flagWidth)}}else{outputParams.subMode='pulse';outputParams.params={gateSeparation:parseFloat(inputParams.speedThroughGate.gateSeparationWidth)}}outputParams.params.units='m'}else if('linear-motion'===inputParams.measurementType){outputParams.subMode='motion';outputParams.params={barWidth:inputParams.linearMotion.spacing,objectId:inputParams.linearMotion.accessory};outputParams.numEvents=inputParams.linearMotion.endAfterTrial?2*inputParams.linearMotion.numberOfFlags:-1;outputParams.params.units='m'}else if('angular-motion'===inputParams.measurementType){outputParams.subMode='motion';outputParams.params=getParamsFromAngularMotion(inputParams.angularMotion)}else if('timer'===inputParams.measurementType){const timeMeasurements=inputParams.period.timeMeasurements;if('between-gates'===timeMeasurements){outputParams.subMode='pulse';outputParams.params={gateSeparation:-1,units:'m'}}else if('pendulum'===timeMeasurements){outputParams.subMode='pendulum';outputParams.numEvents=-1}}else if('gate-state'===inputParams.measurementType){outputParams.subMode='gate';outputParams.params={flagWidth:-1,units:'m'}}else if('projectile'===inputParams.measurementType){outputParams.subMode='projectile';outputParams.numEvents=4+ +inputParams.projectile.timeOfFlightPad;outputParams.params={type:inputParams.projectile.type,value:parseFloat(inputParams.projectile.gateSeparationWidth),units:'m'}}return outputParams}};__webpack_exports__.a=photogateParamMap},function(module,exports,__webpack_require__){var isObject=__webpack_require__(69),now=__webpack_require__(258),toNumber=__webpack_require__(260),nativeMax=Math.max,nativeMin=Math.min;module.exports=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if('function'!=typeof func){throw new TypeError('Expected a function')}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing='maxWait'in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing='trailing'in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=void 0;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===void 0||timeSinceLastCall>=wait||0>timeSinceLastCall||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=void 0;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=void 0;return result}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===void 0){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===void 0){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=function(){if(timerId!==void 0){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=void 0};debounced.flush=function(){return timerId===void 0?result:trailingEdge(now())};return debounced}},function(module){module.exports=function(value){var type=typeof value;return null!=value&&('object'==type||'function'==type)}},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(259),freeSelf='object'==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function('return this')();module.exports=root},function(module,exports,__webpack_require__){var root=__webpack_require__(70),Symbol=root.Symbol;module.exports=Symbol},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_http__=__webpack_require__(15);const decimal=(+1.1).toLocaleString().substring(1,2),availableLangs=['ca','cs','da','de','el','en','es','et','fi','fr','id','it','ja','ko','lv','lt','nb','nl','pl','pt','ro','ru','sk','sl','sv','th','tr','uk','zh-CN','zh-TW'];let[language,locale]=navigator.language.split('-').map((value,index)=>index?value.toUpperCase():value.toLowerCase()),languageCode=`${language}-${locale}`,strings={};function getStringsFilePath(lang){return`strings/${lang}/messages.json`}__webpack_exports__.a=(key,context='general')=>{let message=key;if(strings&&strings[context][key]){message=strings[context][key].message||key}return message};(async()=>{const matchingLocales=availableLangs.filter(code=>code.startsWith(language)),languageKey=matchingLocales.find(code=>code===languageCode)||matchingLocales[0]||'en',stringsFile=getStringsFilePath(languageKey),stringResponse=await __WEBPACK_IMPORTED_MODULE_0_corelib_util_http__.a.get(stringsFile);strings=JSON.parse(stringResponse);return{source:stringsFile,strings}})()},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=()=>{let renderQueue=[];return{queueRender:renderAction=>{renderQueue.push(renderAction)},applyChanges:()=>{renderQueue.forEach(renderAction=>renderAction());renderQueue.splice(0)}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=()=>{const list=[],hash={},remove=(key,index)=>{list.splice(index,1);delete hash[key]},empty={};return{append:(key,value)=>{if(hash[key]){return}hash[key]=value;list.push({key,value})},insert:(position,key,value)=>{if(hash[key]){return}hash[key]=value;list.splice(position,0,{key,value})},hasKey:key=>{return!!hash[key]},removeByIndex:index=>{const key=empty.key;if(key){remove(key,index)}},removeByKey:key=>{const index=list.findIndex(({key:storedKey})=>storedKey===key);if(-1!==index){remove(key,index)}},clear:()=>{list.splice(0,1);Object.keys(hash).forEach(key=>{delete hash[key]})},findByIndex:index=>(list[index]||empty).value,findByKey:key=>hash[key],indexForKey:key=>list.findIndex(item=>item.key===key),keyForIndex:index=>(list[index]||empty).key,forEach:fn=>{for(let i=0;i<list.length;i++){const{key,value}=list[i];fn(value,key,i)}},reverse:fn=>{for(let i=list.length-1;0<=i;i--){const{key,value}=list[i];fn(value,key,i)}},map:fn=>list.map(({key,value},index)=>fn(value,key,index)),reduce:(fn,init)=>{return list.reduce((result,{key,value},index)=>fn(result,value,key,index),init)},every:fn=>list.every(({value,key},index)=>fn(value,key,index)),some:fn=>list.some(({value,key},index)=>fn(value,key,index)),toList:()=>list.map(item=>item.value),get length(){return list.length}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);__webpack_exports__.a=(collection,id,type)=>{if(!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(id)){throw Error(`${type} parameter id needs a string value`)}if(collection.hasKey(id)){throw Error(`a ${type} with id '${id}' already exists.`)}}},function(module,exports,__webpack_require__){'use strict';var Parser=__webpack_require__(77),Streamer=__webpack_require__(367);function reducer(item,memo,sep,prependSep){var foo='',c=new RegExp(sep,'g'),q=/"/g,n=/\n/g;if(0===item){item='0'}else if(item===void 0||null===item){item=''}if('string'!=typeof item){var s=item.toString();if('[object Object]'==s){item=JSON.stringify(item);if('{}'==item){item=''}}else{item=s}}if(memo!==void 0||prependSep){foo=memo+sep}if(0<=item.search(c)||0<=item.search(q)||0<=item.search(n)){foo+='"'+item.replace(q,'""')+'"'}else{foo+=''+item}return foo}exports.eol='\r\n';exports.separator=',';exports.detect=function(input){var idx=[',',';','|','\t'].map(function(separator){return input.indexOf(separator)}).reduce(function(prev,cur){if(-1===prev||-1!==cur&&cur<prev){return cur}else{return prev}});return input[idx]||','};exports.stringify=function(input,sep){var ret;sep=sep||exports.separator;if(Array.isArray(input)&&!Array.isArray(input[0])){for(var loop=0;loop<input.length;loop++){ret=reducer(input[loop],ret,sep,0<loop)}ret+=exports.eol}else if(Array.isArray(input)&&Array.isArray(input[0])){ret='';input.forEach(function(item){ret+=exports.stringify(item,sep)})}else if('object'==typeof input){for(var key in input){if(input.hasOwnProperty(key)){ret=reducer(input[key],ret,sep)}}ret+=exports.eol}else{ret=reducer(input,ret,sep)+exports.eol}return ret};exports.parse=function(input,sep){if(sep===void 0){sep=exports.detect(input)}var csv=new Parser(input,sep);return csv.File()};exports.forEach=function(input,sep,callback){if(3>arguments.length){callback=sep;sep=','}var i=0,s=0,r;while(r=exports.read(input.slice(s),sep,function(fields){callback(fields,i++)})){s+=r}};exports.read=function(input,sep,callback){if(3>arguments.length){callback=sep;sep=','}var csv=new Parser(input,sep),fields=csv.Row();callback(fields);return csv.pointer};exports.readAll=function(input,sep,callback){if(3>arguments.length){callback=sep;sep=','}var csv=new Parser(input,sep),rows=csv.File();callback(rows);return csv.pointer};exports.readChunk=function(input,sep,callback){if(3>arguments.length){callback=sep;sep=','}var csv=new Parser(input,sep),rows=csv.File(),ret=0;if(csv.pointer<input.length){ret=csv.pointer}else{rows.pop();ret=csv.linePointer}callback(rows);return ret};exports.fetch=function(input,sep){var output;exports.read(input,sep,function(fields){output=fields});return output};exports.createStream=function(options){return new Streamer(options)}},function(module){'use strict';function Parser(input,comma){if(!(this instanceof Parser)){return new Parser(input,comma)}this.input=input;this.pointer=0;this.linePointer=0;this.comma=comma||','}Parser.prototype.File=function(){var files=[],row,eof;while(1){var tempointer=this.pointer;row=this.Row();if(0<row.length){this.linePointer=tempointer;files.push(row)}else{if(this.linePointer&&this.pointer!==this.input.length){files.pop();this.pointer=this.linePointer}break}eof=this.EOF();if(eof){if(this.linePointer&&this.pointer!==this.input.length){files.pop();this.pointer=this.linePointer}break}}return files};Parser.prototype.Row=function(){var value,comma,linebreak,eof,row=[];while(1){value=this.Value();if(!value){row.push('')}else{row.push(value)}comma=this.Comma();if(comma){continue}linebreak=this.LineBreak();eof=this.EOF();if(linebreak||eof){return row}else{row.pop();return row}}};Parser.prototype.Value=function(){var simplevalue,quotedvalue,residue;residue=this.Residue();quotedvalue=this.QuotedValue();if(quotedvalue){var value=quotedvalue.slice(1,-1).replace(/\"\"/g,'"');this.Residue();return value}simplevalue=this.SimpleValue();if(simplevalue&&residue){return residue+simplevalue}else if(simplevalue&&!residue){return simplevalue}};Parser.prototype.Comma=function(){if(this.input.slice(this.pointer,this.pointer+this.comma.length)===this.comma){this.pointer+=this.comma.length;return this.comma}};Parser.prototype.LineBreak=function(){if('\r\n'===this.input.slice(this.pointer,this.pointer+2)){this.pointer+=2;return'\r\n'}if('\n'===this.input.charAt(this.pointer)){this.pointer+=1;return'\n'}if('\r'===this.input.charAt(this.pointer)){this.pointer+=1;return'\r'}};Parser.prototype.SimpleValue=function(){var value='',index=this.input.slice(this.pointer).search(new RegExp('['+this.comma+'\r\n]'));if('"'===this.input.charAt(this.pointer)){return}else if(-1===index){value=this.input.slice(this.pointer)}else if(0===index){return}else{value=this.input.slice(this.pointer,this.pointer+index)}this.pointer+=value.length;return value};Parser.prototype.QuotedValue=function(){if('"'===this.input.charAt(this.pointer)){var searchIndex,index=1;while(1){searchIndex=this.input.slice(this.pointer+index).search('"');if(-1===searchIndex){return}if('"'===this.input.charAt(this.pointer+index+searchIndex+1)){index+=searchIndex+2;continue}var value=this.input.slice(this.pointer,this.pointer+index+searchIndex+1);this.pointer+=value.length;return value}}};Parser.prototype.EOF=function(){return this.pointer>=this.input.length};Parser.prototype.Residue=function(){var value='',chars=' \f\x0B\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000';if('\t'!==this.comma){chars+='\t'}var index=this.input.slice(this.pointer).search(new RegExp('[^'+chars+']'));if(-1===index){value=this.input.slice(this.pointer)}else if(0===index){return}else{value=this.input.slice(this.pointer,this.pointer+index)}this.pointer+=value.length;return value};module.exports=Parser},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_polymer_redux__=__webpack_require__(409),__WEBPACK_IMPORTED_MODULE_1__common_configureStore__=__webpack_require__(412),__WEBPACK_IMPORTED_MODULE_2__reducers__=__webpack_require__(430);const ReduxMixin=Object(__WEBPACK_IMPORTED_MODULE_0_polymer_redux__.a)(Object(__WEBPACK_IMPORTED_MODULE_1__common_configureStore__.a)(__WEBPACK_IMPORTED_MODULE_2__reducers__.a));__webpack_exports__.a=ReduxMixin},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_require__.d(__webpack_exports__,'a',function(){return ActionTypes});__webpack_exports__.b=createStore;var __WEBPACK_IMPORTED_MODULE_0_lodash_es_isPlainObject__=__webpack_require__(80),__WEBPACK_IMPORTED_MODULE_1_symbol_observable__=__webpack_require__(421),__WEBPACK_IMPORTED_MODULE_1_symbol_observable___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_symbol_observable__),ActionTypes={INIT:'@@redux/INIT'};function createStore(reducer,preloadedState,enhancer){var _ref2;if('function'===typeof preloadedState&&'undefined'===typeof enhancer){enhancer=preloadedState;preloadedState=void 0}if('undefined'!==typeof enhancer){if('function'!==typeof enhancer){throw new Error('Expected the enhancer to be a function.')}return enhancer(createStore)(reducer,preloadedState)}if('function'!==typeof reducer){throw new Error('Expected the reducer to be a function.')}var currentReducer=reducer,currentState=preloadedState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;function ensureCanMutateNextListeners(){if(nextListeners===currentListeners){nextListeners=currentListeners.slice()}}function getState(){return currentState}function subscribe(listener){if('function'!==typeof listener){throw new Error('Expected listener to be a function.')}var isSubscribed=!0;ensureCanMutateNextListeners();nextListeners.push(listener);return function(){if(!isSubscribed){return}isSubscribed=!1;ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}function dispatch(action){if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash_es_isPlainObject__.a)(action)){throw new Error('Actions must be plain objects. Use custom middleware for async actions.')}if('undefined'===typeof action.type){throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}if(isDispatching){throw new Error('Reducers may not dispatch actions.')}try{isDispatching=!0;currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0,listener;i<listeners.length;i++){listener=listeners[i];listener()}return action}dispatch({type:ActionTypes.INIT});return _ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function(nextReducer){if('function'!==typeof nextReducer){throw new Error('Expected the nextReducer to be a function.')}currentReducer=nextReducer;dispatch({type:ActionTypes.INIT})}},_ref2[__WEBPACK_IMPORTED_MODULE_1_symbol_observable___default.a]=function(){var _ref,outerSubscribe=subscribe;return _ref={subscribe:function(observer){if('object'!==typeof observer){throw new TypeError('Expected the observer to be an object.')}function observeState(){if(observer.next){observer.next(getState())}}observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}},_ref[__WEBPACK_IMPORTED_MODULE_1_symbol_observable___default.a]=function(){return this},_ref},_ref2}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__baseGetTag_js__=__webpack_require__(413),__WEBPACK_IMPORTED_MODULE_1__getPrototype_js__=__webpack_require__(418),__WEBPACK_IMPORTED_MODULE_2__isObjectLike_js__=__webpack_require__(420),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);__webpack_exports__.a=function(value){if(!Object(__WEBPACK_IMPORTED_MODULE_2__isObjectLike_js__.a)(value)||Object(__WEBPACK_IMPORTED_MODULE_0__baseGetTag_js__.a)(value)!='[object Object]'){return!1}var proto=Object(__WEBPACK_IMPORTED_MODULE_1__getPrototype_js__.a)(value);if(null===proto){return!0}var Ctor=hasOwnProperty.call(proto,'constructor')&&proto.constructor;return'function'==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__root_js__=__webpack_require__(414),Symbol=__WEBPACK_IMPORTED_MODULE_0__root_js__.a.Symbol;__webpack_exports__.a=Symbol},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(message){if('undefined'!==typeof console&&'function'===typeof console.error){console.error(message)}try{throw new Error(message)}catch(e){}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key]}if(0===funcs.length){return function(arg){return arg}}if(1===funcs.length){return funcs[0]}return funcs.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}},function(module,exports){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});exports.batchActions=function(actions){var type=1<arguments.length&&arguments[1]!==void 0?arguments[1]:BATCH;return{type:type,meta:{batch:!0},payload:actions}};exports.enableBatching=function(reduce){return function batchingReducer(state,action){if(action&&action.meta&&action.meta.batch){return action.payload.reduce(batchingReducer,state)}return reduce(state,action)}};exports.batchDispatchMiddleware=function(store){function dispatchChildActions(store,action){if(action.meta&&action.meta.batch){action.payload.forEach(function(childAction){dispatchChildActions(store,childAction)})}else{store.dispatch(action)}}return function(next){return function(action){if(action&&action.meta&&action.meta.batch){dispatchChildActions(store,action)}return next(action)}}};var BATCH=exports.BATCH='BATCHING_REDUCER.BATCH'},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1__actions__=__webpack_require__(25);const servicesRef={services:{get:()=>void 0}};__webpack_exports__.a=services=>{servicesRef.services=services};const traceAnalysisMiddleware=(servicesReference=>store=>nextDispatch=>action=>{const{services}=servicesReference,dataAnalysis=services.get('data-analysis'),dataWorld=services.get('data-world'),udmRoutinesLookup={curveFits:{add:dataWorld.addGraphCurveFit.bind(dataWorld),remove:dataWorld.removeGraphCurveFit.bind(dataWorld)},integrals:{add:dataWorld.addGraphIntegral.bind(dataWorld),remove:dataWorld.removeGraphIntegral.bind(dataWorld)},statistics:{add:dataWorld.addGraphStats.bind(dataWorld),remove:dataWorld.removeGraphStats.bind(dataWorld)}},getUdmProps=({xid,yid,udmId,coeffs,rmse,correlation},range,isCurveFit,{numOfCoeffs,curveFitType}={})=>{const props={fitId:udmId,integralId:udmId,statsId:udmId,baseColumnId:xid,traceColumnId:yid,xMin:range.min,xMax:range.max};if(isCurveFit){props.coeffs=coeffs||Array(numOfCoeffs);props.rmse=rmse;props.correlation=correlation;props.fitType=curveFitType}return props},oldState=store.getState(),dispatchResult=nextDispatch(action),newState=store.getState(),{meta:{graphId,selectionId}={}}=action,{graphs:{[graphId]:{udmId:graphUdmId}={}}}=newState,[newSelection,oldSelection]=[newState,oldState].map(({selections:{[selectionId]:sel}})=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.pick)(sel,['analysisTraceArtifacts','analysisType','curveFitType','range'])),analysisType=newSelection.analysisType||oldSelection.analysisType,udmRoutines=udmRoutinesLookup[analysisType];if(!udmRoutines){return dispatchResult}const selectionUpdateTypes=[__WEBPACK_IMPORTED_MODULE_1__actions__.h,__WEBPACK_IMPORTED_MODULE_1__actions__.i,__WEBPACK_IMPORTED_MODULE_1__actions__.A];if(selectionUpdateTypes.includes(action.type)){if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newSelection,oldSelection)&&graphUdmId){const{analysisTraceArtifacts:newArtifacts=[],range}=newSelection,{analysisTraceArtifacts:oldArtifacts=[]}=oldSelection;if(newSelection.analysisType!==oldSelection.analysisType||!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newArtifacts,oldArtifacts)){oldArtifacts.filter(artifact=>artifact.udmId).forEach(({udmId})=>{udmRoutines.remove(graphUdmId,udmId).catch(err=>console.error(err))})}newArtifacts.forEach(artifact=>{const fitInfo=dataAnalysis.getSupportedFits().find(item=>item.id===newSelection.curveFitType)||{},fitProps={numOfCoeffs:fitInfo.numOfCoeffs,curveFitType:newSelection.curveFitType},props=getUdmProps(artifact,range,'curveFits'===analysisType,fitProps);udmRoutines.add(graphUdmId,props).then(({fitId,integralId,statsId}={})=>{const returnedId=fitId||integralId||statsId;if(returnedId){if(returnedId!==artifact.udmId){store.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions__.H)(selectionId,artifact.xid,artifact.yid,{udmId:returnedId}))}if('curveFits'===analysisType&&!artifact.udmId){const{selections:{[selectionId]:{analysisTraceArtifacts}}}=store.getState(),currentArtifact=analysisTraceArtifacts.find(a=>a.xid===artifact.xid&&a.yid===artifact.yid);if(currentArtifact&&currentArtifact.coeffs){udmRoutines.add(graphUdmId,getUdmProps(currentArtifact,range,!0,fitProps)).catch(err=>console.error(err))}}}}).catch(err=>console.error(err))})}}else if(action.type===__WEBPACK_IMPORTED_MODULE_1__actions__.c){if('curveFits'===analysisType&&!Object.keys(action.payload).includes('udmId')){const{xColumnId,yColumnId}=action.meta,currentArtifact=newSelection.analysisTraceArtifacts.find(a=>a.xid===xColumnId&&a.yid===yColumnId);if(currentArtifact&&currentArtifact.coeffs&&currentArtifact.udmId){const{curveFitType,range}=newSelection;udmRoutines.add(graphUdmId,getUdmProps(currentArtifact,range,!0,{curveFitType})).catch(err=>console.error(err))}}}return dispatchResult})(servicesRef);__webpack_exports__.b=traceAnalysisMiddleware},function(module){'use strict';function set(obj,prop,value){prop='number'===typeof prop?propToArray(prop.toString()):'string'===typeof prop?propToArray(prop):prop;var setPropImmutableRec=function(obj,prop,value,i){var clone,head=prop[i];if(prop.length>i){if(Array.isArray(obj)){head=getArrayIndex(head,obj);clone=obj.slice()}else{clone=Object.assign({},obj)}clone[head]=setPropImmutableRec(obj[head]!==void 0?obj[head]:{},prop,value,i+1);return clone}return'function'===typeof value?value(obj):value};return setPropImmutableRec(obj,prop,value,0)}function get(obj,prop,value){prop='number'===typeof prop?propToArray(prop.toString()):'string'===typeof prop?propToArray(prop):prop;for(var i=0;i<prop.length;i++){if('object'!==typeof obj){return value}var head=prop[i];if(Array.isArray(obj)&&'$end'===head){head=obj.length-1}obj=obj[head]}return obj}function getArrayIndex(head,obj){if('$end'===head){head=Math.max(obj.length-1,0)}if(!/^\+?\d+$/.test(head)){throw new Error('Array index \''+head+'\' has to be an integer')}return parseInt(head)}function propToArray(prop){return prop.split('.').reduce(function(ret,el,index,list){var last=0<index&&list[index-1];if(last&&/(?:^|[^\\])\\$/.test(last)){ret.pop();ret.push(last.slice(0,-1)+'.'+el)}else{ret.push(el)}return ret},[])}module.exports={set:set,get:get,delete:function(obj,prop){prop='number'===typeof prop?propToArray(prop.toString()):'string'===typeof prop?propToArray(prop):prop;var deletePropImmutableRec=function(obj,prop,i){var clone,head=prop[i];if('object'!==typeof obj||!Array.isArray(obj)&&obj[head]===void 0){return obj}if(prop.length-1>i){if(Array.isArray(obj)){head=getArrayIndex(head,obj);clone=obj.slice()}else{clone=Object.assign({},obj)}clone[head]=deletePropImmutableRec(obj[head],prop,i+1);return clone}if(Array.isArray(obj)){head=getArrayIndex(head,obj);clone=[].concat(obj.slice(0,head),obj.slice(head+1))}else{clone=Object.assign({},obj);delete clone[head]}return clone};return deletePropImmutableRec(obj,prop,0)},toggle:function(obj,prop){var curVal=get(obj,prop);return set(obj,prop,!!!curVal)},merge:function(obj,prop,val){var curVal=get(obj,prop);if('object'===typeof curVal){if(Array.isArray(curVal)){return set(obj,prop,curVal.concat(val))}else if(null===curVal){return set(obj,prop,val)}else{var merged=Object.assign({},curVal,val);return set(obj,prop,merged)}}else if('undefined'===typeof curVal){return set(obj,prop,val)}else{return obj}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__common_actions__=__webpack_require__(25);__webpack_require__.d(__webpack_exports__,'a',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.D});__webpack_require__.d(__webpack_exports__,'b',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.E});__webpack_require__.d(__webpack_exports__,'c',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.F});__webpack_require__.d(__webpack_exports__,'d',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.G});__webpack_require__.d(__webpack_exports__,'e',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.H});__webpack_require__.d(__webpack_exports__,'f',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.I});__webpack_require__.d(__webpack_exports__,'g',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.J});__webpack_require__.d(__webpack_exports__,'h',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.K});__webpack_require__.d(__webpack_exports__,'i',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.L});__webpack_require__.d(__webpack_exports__,'j',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.M});__webpack_require__.d(__webpack_exports__,'k',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.N});__webpack_require__.d(__webpack_exports__,'l',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.O});__webpack_require__.d(__webpack_exports__,'m',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.P});__webpack_require__.d(__webpack_exports__,'n',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.Q});__webpack_require__.d(__webpack_exports__,'o',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.R});__webpack_require__.d(__webpack_exports__,'p',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.S});__webpack_require__.d(__webpack_exports__,'q',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.T});__webpack_require__.d(__webpack_exports__,'r',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.U});__webpack_require__.d(__webpack_exports__,'s',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.V});__webpack_require__.d(__webpack_exports__,'t',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.W});__webpack_require__.d(__webpack_exports__,'u',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.X});__webpack_require__.d(__webpack_exports__,'v',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.Y});__webpack_require__.d(__webpack_exports__,'w',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__.Z});__webpack_require__.d(__webpack_exports__,'x',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._0});__webpack_require__.d(__webpack_exports__,'y',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._1});__webpack_require__.d(__webpack_exports__,'z',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._2});__webpack_require__.d(__webpack_exports__,'A',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._3});__webpack_require__.d(__webpack_exports__,'B',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._4});__webpack_require__.d(__webpack_exports__,'C',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._5});__webpack_require__.d(__webpack_exports__,'D',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._6});__webpack_require__.d(__webpack_exports__,'E',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._7});__webpack_require__.d(__webpack_exports__,'F',function(){return __WEBPACK_IMPORTED_MODULE_0__common_actions__._8})},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});__webpack_require__(89)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__bower_components_polymer_polymer_html__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__bower_components_polymer_polymer_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__bower_components_polymer_polymer_html__),__WEBPACK_IMPORTED_MODULE_1__bower_components_paper_spinner_paper_spinner_html__=__webpack_require__(114),__WEBPACK_IMPORTED_MODULE_1__bower_components_paper_spinner_paper_spinner_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__bower_components_paper_spinner_paper_spinner_html__),__WEBPACK_IMPORTED_MODULE_2__core_vst_core_startup_vst_core_startup_html__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_2__core_vst_core_startup_vst_core_startup_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__core_vst_core_startup_vst_core_startup_html__),__WEBPACK_IMPORTED_MODULE_3__core_vst_core_popover_vst_core_popover_html__=__webpack_require__(240),__WEBPACK_IMPORTED_MODULE_3__core_vst_core_popover_vst_core_popover_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__core_vst_core_popover_vst_core_popover_html__),__WEBPACK_IMPORTED_MODULE_4__core_vst_core_content_layout_vst_core_content_layout_html__=__webpack_require__(242),__WEBPACK_IMPORTED_MODULE_4__core_vst_core_content_layout_vst_core_content_layout_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__core_vst_core_content_layout_vst_core_content_layout_html__),__WEBPACK_IMPORTED_MODULE_5__core_vst_core_graph_vst_core_graph_html__=__webpack_require__(244),__WEBPACK_IMPORTED_MODULE_5__core_vst_core_graph_vst_core_graph_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__core_vst_core_graph_vst_core_graph_html__),__WEBPACK_IMPORTED_MODULE_6__core_vst_core_graph_analysis_vst_core_graph_analysis_html__=__webpack_require__(271),__WEBPACK_IMPORTED_MODULE_6__core_vst_core_graph_analysis_vst_core_graph_analysis_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__core_vst_core_graph_analysis_vst_core_graph_analysis_html__),__WEBPACK_IMPORTED_MODULE_7__core_vst_core_bottombar_vst_core_bottombar_html__=__webpack_require__(274),__WEBPACK_IMPORTED_MODULE_7__core_vst_core_bottombar_vst_core_bottombar_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__core_vst_core_bottombar_vst_core_bottombar_html__),__WEBPACK_IMPORTED_MODULE_8__core_vst_core_graph_predictions_vst_core_graph_predictions_html__=__webpack_require__(276),__WEBPACK_IMPORTED_MODULE_8__core_vst_core_graph_predictions_vst_core_graph_predictions_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__core_vst_core_graph_predictions_vst_core_graph_predictions_html__),__WEBPACK_IMPORTED_MODULE_9__core_vst_core_curvefit_selector_vst_core_curvefit_selector_html__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_9__core_vst_core_curvefit_selector_vst_core_curvefit_selector_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__core_vst_core_curvefit_selector_vst_core_curvefit_selector_html__),__WEBPACK_IMPORTED_MODULE_10__core_vst_core_autoupdate_vst_core_autoupdate_html__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_10__core_vst_core_autoupdate_vst_core_autoupdate_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__core_vst_core_autoupdate_vst_core_autoupdate_html__),__WEBPACK_IMPORTED_MODULE_11__core_vst_core_battery_vst_core_battery_html__=__webpack_require__(282),__WEBPACK_IMPORTED_MODULE_11__core_vst_core_battery_vst_core_battery_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__core_vst_core_battery_vst_core_battery_html__),__WEBPACK_IMPORTED_MODULE_12__core_vst_core_calc_functions_vst_core_calc_functions_html__=__webpack_require__(284),__WEBPACK_IMPORTED_MODULE_12__core_vst_core_calc_functions_vst_core_calc_functions_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__core_vst_core_calc_functions_vst_core_calc_functions_html__),__WEBPACK_IMPORTED_MODULE_13__core_vst_core_clipboard_vst_core_clipboard_html__=__webpack_require__(286),__WEBPACK_IMPORTED_MODULE_13__core_vst_core_clipboard_vst_core_clipboard_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13__core_vst_core_clipboard_vst_core_clipboard_html__),__WEBPACK_IMPORTED_MODULE_14__core_vst_core_column_group_options_vst_core_column_group_options_html__=__webpack_require__(288),__WEBPACK_IMPORTED_MODULE_14__core_vst_core_column_group_options_vst_core_column_group_options_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14__core_vst_core_column_group_options_vst_core_column_group_options_html__),__WEBPACK_IMPORTED_MODULE_15__core_vst_core_data_collection_settings_vst_core_data_collection_settings_html__=__webpack_require__(290),__WEBPACK_IMPORTED_MODULE_15__core_vst_core_data_collection_settings_vst_core_data_collection_settings_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__core_vst_core_data_collection_settings_vst_core_data_collection_settings_html__),__WEBPACK_IMPORTED_MODULE_16__core_vst_core_graph_plot_manager_vst_core_graph_plot_manager_html__=__webpack_require__(292),__WEBPACK_IMPORTED_MODULE_16__core_vst_core_graph_plot_manager_vst_core_graph_plot_manager_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16__core_vst_core_graph_plot_manager_vst_core_graph_plot_manager_html__),__WEBPACK_IMPORTED_MODULE_17__core_vst_core_infobox_vst_core_infobox_html__=__webpack_require__(294),__WEBPACK_IMPORTED_MODULE_17__core_vst_core_infobox_vst_core_infobox_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17__core_vst_core_infobox_vst_core_infobox_html__),__WEBPACK_IMPORTED_MODULE_18__core_vst_core_graph_selection_vst_core_graph_selection_html__=__webpack_require__(296),__WEBPACK_IMPORTED_MODULE_18__core_vst_core_graph_selection_vst_core_graph_selection_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18__core_vst_core_graph_selection_vst_core_graph_selection_html__),__WEBPACK_IMPORTED_MODULE_19__core_vst_core_datashare_connect_vst_core_datashare_connect_html__=__webpack_require__(299),__WEBPACK_IMPORTED_MODULE_19__core_vst_core_datashare_connect_vst_core_datashare_connect_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19__core_vst_core_datashare_connect_vst_core_datashare_connect_html__),__WEBPACK_IMPORTED_MODULE_20__core_vst_core_device_info_vst_core_device_info_html__=__webpack_require__(301),__WEBPACK_IMPORTED_MODULE_20__core_vst_core_device_info_vst_core_device_info_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20__core_vst_core_device_info_vst_core_device_info_html__),__WEBPACK_IMPORTED_MODULE_21__core_vst_core_device_manager_vst_core_device_manager_html__=__webpack_require__(303),__WEBPACK_IMPORTED_MODULE_21__core_vst_core_device_manager_vst_core_device_manager_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21__core_vst_core_device_manager_vst_core_device_manager_html__),__WEBPACK_IMPORTED_MODULE_22__core_vst_core_download_data_vst_core_download_data_html__=__webpack_require__(305),__WEBPACK_IMPORTED_MODULE_22__core_vst_core_download_data_vst_core_download_data_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22__core_vst_core_download_data_vst_core_download_data_html__),__WEBPACK_IMPORTED_MODULE_23__core_vst_core_ewe_entry_vst_core_ewe_entry_html__=__webpack_require__(307),__WEBPACK_IMPORTED_MODULE_23__core_vst_core_ewe_entry_vst_core_ewe_entry_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_23__core_vst_core_ewe_entry_vst_core_ewe_entry_html__),__WEBPACK_IMPORTED_MODULE_24__core_vst_core_toast_vst_core_toast_html__=__webpack_require__(309),__WEBPACK_IMPORTED_MODULE_24__core_vst_core_toast_vst_core_toast_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_24__core_vst_core_toast_vst_core_toast_html__),__WEBPACK_IMPORTED_MODULE_25__core_vst_core_graph_options_vst_core_graph_options_html__=__webpack_require__(311),__WEBPACK_IMPORTED_MODULE_25__core_vst_core_graph_options_vst_core_graph_options_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_25__core_vst_core_graph_options_vst_core_graph_options_html__),__WEBPACK_IMPORTED_MODULE_26__core_vst_core_graph_annotation_vst_core_graph_annotation_html__=__webpack_require__(313),__WEBPACK_IMPORTED_MODULE_26__core_vst_core_graph_annotation_vst_core_graph_annotation_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_26__core_vst_core_graph_annotation_vst_core_graph_annotation_html__),__WEBPACK_IMPORTED_MODULE_27__core_vst_core_meter_vst_core_meter_html__=__webpack_require__(315),__WEBPACK_IMPORTED_MODULE_27__core_vst_core_meter_vst_core_meter_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_27__core_vst_core_meter_vst_core_meter_html__),__WEBPACK_IMPORTED_MODULE_28__core_vst_core_meter_container_vst_core_meter_container_html__=__webpack_require__(317),__WEBPACK_IMPORTED_MODULE_28__core_vst_core_meter_container_vst_core_meter_container_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_28__core_vst_core_meter_container_vst_core_meter_container_html__),__WEBPACK_IMPORTED_MODULE_29__core_vst_core_sensor_actions_vst_core_sensor_actions_html__=__webpack_require__(319),__WEBPACK_IMPORTED_MODULE_29__core_vst_core_sensor_actions_vst_core_sensor_actions_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_29__core_vst_core_sensor_actions_vst_core_sensor_actions_html__),__WEBPACK_IMPORTED_MODULE_30__core_vst_core_sparklines_vst_core_sparklines_html__=__webpack_require__(321),__WEBPACK_IMPORTED_MODULE_30__core_vst_core_sparklines_vst_core_sparklines_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_30__core_vst_core_sparklines_vst_core_sparklines_html__),__WEBPACK_IMPORTED_MODULE_31__core_vst_core_rename_vst_core_rename_html__=__webpack_require__(323),__WEBPACK_IMPORTED_MODULE_31__core_vst_core_rename_vst_core_rename_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_31__core_vst_core_rename_vst_core_rename_html__),__WEBPACK_IMPORTED_MODULE_32__core_vst_core_icon_vst_core_icon_html__=__webpack_require__(325),__WEBPACK_IMPORTED_MODULE_32__core_vst_core_icon_vst_core_icon_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_32__core_vst_core_icon_vst_core_icon_html__),__WEBPACK_IMPORTED_MODULE_33__core_vst_core_icon_icons_icon_graph_tools_html__=__webpack_require__(327),__WEBPACK_IMPORTED_MODULE_33__core_vst_core_icon_icons_icon_graph_tools_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_33__core_vst_core_icon_icons_icon_graph_tools_html__),__WEBPACK_IMPORTED_MODULE_34__core_vst_core_message_box_vst_core_message_box_html__=__webpack_require__(329),__WEBPACK_IMPORTED_MODULE_34__core_vst_core_message_box_vst_core_message_box_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_34__core_vst_core_message_box_vst_core_message_box_html__),__WEBPACK_IMPORTED_MODULE_35__core_vst_core_wait_vst_core_wait_html__=__webpack_require__(331),__WEBPACK_IMPORTED_MODULE_35__core_vst_core_wait_vst_core_wait_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_35__core_vst_core_wait_vst_core_wait_html__),__WEBPACK_IMPORTED_MODULE_36__core_vst_core_toolbar_vst_core_toolbar_html__=__webpack_require__(333),__WEBPACK_IMPORTED_MODULE_36__core_vst_core_toolbar_vst_core_toolbar_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_36__core_vst_core_toolbar_vst_core_toolbar_html__),__WEBPACK_IMPORTED_MODULE_37__core_vst_core_table_vst_core_table_html__=__webpack_require__(335),__WEBPACK_IMPORTED_MODULE_37__core_vst_core_table_vst_core_table_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_37__core_vst_core_table_vst_core_table_html__),__WEBPACK_IMPORTED_MODULE_38__core_vst_core_progress_vst_core_progress_html__=__webpack_require__(374),__WEBPACK_IMPORTED_MODULE_38__core_vst_core_progress_vst_core_progress_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_38__core_vst_core_progress_vst_core_progress_html__),__WEBPACK_IMPORTED_MODULE_39__core_vst_core_experiment_collection_vst_core_experiment_collection_html__=__webpack_require__(376),__WEBPACK_IMPORTED_MODULE_39__core_vst_core_experiment_collection_vst_core_experiment_collection_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_39__core_vst_core_experiment_collection_vst_core_experiment_collection_html__),__WEBPACK_IMPORTED_MODULE_40__core_vst_core_experiment_tile_vst_core_experiment_tile_html__=__webpack_require__(378),__WEBPACK_IMPORTED_MODULE_40__core_vst_core_experiment_tile_vst_core_experiment_tile_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_40__core_vst_core_experiment_tile_vst_core_experiment_tile_html__),__WEBPACK_IMPORTED_MODULE_41__core_vst_core_style_vst_core_style_html__=__webpack_require__(380),__WEBPACK_IMPORTED_MODULE_41__core_vst_core_style_vst_core_style_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_41__core_vst_core_style_vst_core_style_html__),__WEBPACK_IMPORTED_MODULE_42__core_vst_core_calibration_vst_core_calibration_html__=__webpack_require__(381),__WEBPACK_IMPORTED_MODULE_42__core_vst_core_calibration_vst_core_calibration_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_42__core_vst_core_calibration_vst_core_calibration_html__),__WEBPACK_IMPORTED_MODULE_43__core_vst_core_calibration_gdx_vst_core_calibration_gdx_html__=__webpack_require__(383),__WEBPACK_IMPORTED_MODULE_43__core_vst_core_calibration_gdx_vst_core_calibration_gdx_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_43__core_vst_core_calibration_gdx_vst_core_calibration_gdx_html__),__WEBPACK_IMPORTED_MODULE_44__core_vst_core_calibration_drop_counter_vst_core_calibration_drop_counter_html__=__webpack_require__(385),__WEBPACK_IMPORTED_MODULE_44__core_vst_core_calibration_drop_counter_vst_core_calibration_drop_counter_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_44__core_vst_core_calibration_drop_counter_vst_core_calibration_drop_counter_html__),__WEBPACK_IMPORTED_MODULE_45__core_vst_core_form_vst_core_form_html__=__webpack_require__(387),__WEBPACK_IMPORTED_MODULE_45__core_vst_core_form_vst_core_form_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_45__core_vst_core_form_vst_core_form_html__),__WEBPACK_IMPORTED_MODULE_46__core_vst_core_accessibility_vst_core_accessibility_html__=__webpack_require__(389),__WEBPACK_IMPORTED_MODULE_46__core_vst_core_accessibility_vst_core_accessibility_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_46__core_vst_core_accessibility_vst_core_accessibility_html__),__WEBPACK_IMPORTED_MODULE_47__core_vst_core_feature_flags_vst_core_feature_flags_html__=__webpack_require__(391),__WEBPACK_IMPORTED_MODULE_47__core_vst_core_feature_flags_vst_core_feature_flags_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_47__core_vst_core_feature_flags_vst_core_feature_flags_html__),__WEBPACK_IMPORTED_MODULE_48__ui_vst_ui_listbox_vst_ui_listbox_html__=__webpack_require__(393),__WEBPACK_IMPORTED_MODULE_48__ui_vst_ui_listbox_vst_ui_listbox_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_48__ui_vst_ui_listbox_vst_ui_listbox_html__),__WEBPACK_IMPORTED_MODULE_49__ui_vst_ui_switch_vst_ui_switch_html__=__webpack_require__(395),__WEBPACK_IMPORTED_MODULE_49__ui_vst_ui_switch_vst_ui_switch_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_49__ui_vst_ui_switch_vst_ui_switch_html__),__WEBPACK_IMPORTED_MODULE_50__ui_vst_ui_tooltip_vst_ui_tooltip_html__=__webpack_require__(397),__WEBPACK_IMPORTED_MODULE_50__ui_vst_ui_tooltip_vst_ui_tooltip_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_50__ui_vst_ui_tooltip_vst_ui_tooltip_html__),__WEBPACK_IMPORTED_MODULE_51__ui_vst_ui_input_dialog_vst_ui_input_dialog_html__=__webpack_require__(399),__WEBPACK_IMPORTED_MODULE_51__ui_vst_ui_input_dialog_vst_ui_input_dialog_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_51__ui_vst_ui_input_dialog_vst_ui_input_dialog_html__),__WEBPACK_IMPORTED_MODULE_52__ga_vst_ga_app_vst_ga_app_html__=__webpack_require__(401),__WEBPACK_IMPORTED_MODULE_52__ga_vst_ga_app_vst_ga_app_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_52__ga_vst_ga_app_vst_ga_app_html__),__WEBPACK_IMPORTED_MODULE_53__ga_vst_ga_main_content_vst_ga_main_content_html__=__webpack_require__(435),__WEBPACK_IMPORTED_MODULE_53__ga_vst_ga_main_content_vst_ga_main_content_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_53__ga_vst_ga_main_content_vst_ga_main_content_html__),__WEBPACK_IMPORTED_MODULE_54__ga_vst_ga_graph_container_vst_ga_graph_container_html__=__webpack_require__(440),__WEBPACK_IMPORTED_MODULE_54__ga_vst_ga_graph_container_vst_ga_graph_container_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_54__ga_vst_ga_graph_container_vst_ga_graph_container_html__),__WEBPACK_IMPORTED_MODULE_55__ga_vst_ga_welcome_vst_ga_welcome_html__=__webpack_require__(443),__WEBPACK_IMPORTED_MODULE_55__ga_vst_ga_welcome_vst_ga_welcome_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_55__ga_vst_ga_welcome_vst_ga_welcome_html__),__WEBPACK_IMPORTED_MODULE_56__ga_vst_ga_about_vst_ga_about_html__=__webpack_require__(445),__WEBPACK_IMPORTED_MODULE_56__ga_vst_ga_about_vst_ga_about_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_56__ga_vst_ga_about_vst_ga_about_html__),__WEBPACK_IMPORTED_MODULE_57__ga_vst_ga_changelog_vst_ga_changelog_html__=__webpack_require__(447),__WEBPACK_IMPORTED_MODULE_57__ga_vst_ga_changelog_vst_ga_changelog_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_57__ga_vst_ga_changelog_vst_ga_changelog_html__),__WEBPACK_IMPORTED_MODULE_58__ga_vst_gaw_keep_wait_vst_gaw_keep_wait_html__=__webpack_require__(449),__WEBPACK_IMPORTED_MODULE_58__ga_vst_gaw_keep_wait_vst_gaw_keep_wait_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_58__ga_vst_gaw_keep_wait_vst_gaw_keep_wait_html__),__WEBPACK_IMPORTED_MODULE_59__ga_vst_gaw_logo_vst_gaw_logo_html__=__webpack_require__(451),__WEBPACK_IMPORTED_MODULE_59__ga_vst_gaw_logo_vst_gaw_logo_html___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_59__ga_vst_gaw_logo_vst_gaw_logo_html__)},function(module,exports,__webpack_require__){__webpack_require__(91)},function(){(function(){'use strict';var k=!(window.ShadyDOM&&window.ShadyDOM.inUse),n;function p(a){n=a&&a.shimcssproperties?!1:k||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports('box-shadow','0 0 0 var(--foo)'))}window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?n=window.ShadyCSS.nativeCss:window.ShadyCSS?(p(window.ShadyCSS),window.ShadyCSS=void 0):p(window.WebComponents&&window.WebComponents.flags);var r=n;function t(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText='';this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=''}function u(a){a=a.replace(aa,'').replace(ba,'');var c=a,d=new t;d.start=0;d.end=c.length;for(var e=d,f=0,h=c.length;f<h;f++)if('{'===c[f]){e.rules||(e.rules=[]);var g=e,m=g.rules[g.rules.length-1]||null;e=new t;e.start=f+1;e.parent=g;e.previous=m;g.rules.push(e)}else'}'===c[f]&&(e.end=f+1,e=e.parent||d);return v(d,a)}function v(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=ca(c),c=c.replace(x,' '),c=c.substring(c.lastIndexOf(';')+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf('@'),a.atRule?0===c.indexOf('@media')?a.type=y:c.match(da)&&(a.type=z,a.keyframesName=a.selector.split(x).pop()):a.type=0===c.indexOf('--')?A:B);if(c=a.rules)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)v(f,b);return a}function ca(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a='0'+a;return'\\'+a})}function C(a,b,c){c=void 0===c?'':c;var d='';if(a.cssText||a.rules){var e=a.rules,f;if(f=e)f=e[0],f=!(f&&f.selector&&0===f.selector.indexOf('--'));if(f){f=0;for(var h=e.length,g;f<h&&(g=e[f]);f++)d=C(g,b,d)}else b?b=a.cssText:(b=a.cssText,b=b.replace(ea,'').replace(fa,''),b=b.replace(ha,'').replace(ia,'')),(d=b.trim())&&(d='  '+d+'\n')}d&&(a.selector&&(c+=a.selector+' {\n'),c+=d,a.selector&&(c+='}\n\n'));return c}var B=1,z=7,y=4,A=1E3,aa=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,ba=/@import[^;]*;/gim,ea=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,fa=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,ha=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,ia=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,da=/^@[^\s]*keyframes/,x=/\s+/g,E=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,F=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,ja=/@media\s(.*)/,G=new Set;function H(a){if(!a)return'';'string'===typeof a&&(a=u(a));return C(a,r)}function I(a){!a.__cssRules&&a.textContent&&(a.__cssRules=u(a.textContent));return a.__cssRules||null}function J(a,b,c,d){if(a){var e=!1,f=a.type;if(d&&f===y){var h=a.selector.match(ja);h&&(window.matchMedia(h[1]).matches||(e=!0))}f===B?b(a):c&&f===z?c(a):f===A&&(e=!0);if((a=a.rules)&&!e){e=0;f=a.length;for(var g;e<f&&(g=a[e]);e++)J(g,b,c,d)}}}function K(a,b){var c=a.indexOf('var(');if(-1===c)return b(a,'','','');a:{for(var d=0,e=c+3,f=a.length;e<f;e++)if('('===a[e])d++;else if(')'===a[e]&&0===--d)break a;e=-1}d=a.substring(c+4,e);c=a.substring(0,c);a=K(a.substring(e+1),b);e=d.indexOf(',');return-1===e?b(c,d.trim(),'',a):b(c,d.substring(0,e).trim(),d.substring(e+1).trim(),a)}function L(a){if(void 0===a.a){var b=a.getAttribute('css-build');if(b)a.a=b;else{a:{b='template'===a.localName?a.content.firstChild:a.firstChild;if(b instanceof Comment&&(b=b.textContent.trim().split(':'),'css-build'===b[0])){b=b[1];break a}b=''}if(''!==b){var c='template'===a.localName?a.content.firstChild:a.firstChild;c.parentNode.removeChild(c)}a.a=b}}return a.a||''}var ka=/;\s*/m,la=/^\s*(initial)|(inherit)\s*$/,M=/\s*!important/;function N(){this.a={}}N.prototype.set=function(a,b){a=a.trim();this.a[a]={h:b,i:{}}};N.prototype.get=function(a){a=a.trim();return this.a[a]||null};var O=null;function P(){this.b=this.c=null;this.a=new N}P.prototype.o=function(a){a=F.test(a)||E.test(a);F.lastIndex=0;E.lastIndex=0;return a};P.prototype.m=function(a,b){if(void 0===a.b){for(var c=[],d=a.content.querySelectorAll('style'),e=0,f;e<d.length;e++){f=d[e];if(f.hasAttribute('shady-unscoped')){if(!k){var h=f.textContent;G.has(h)||(G.add(h),h=f.cloneNode(!0),document.head.appendChild(h));f.parentNode.removeChild(f)}}else c.push(f.textContent),f.parentNode.removeChild(f)}(c=c.join('').trim())?(d=document.createElement('style'),d.textContent=c,a.content.insertBefore(d,a.content.firstChild),c=d):c=null;a.b=c}return(a=a.b)?this.j(a,b):null};P.prototype.j=function(a,b){b=void 0===b?'':b;var c=I(a);this.l(c,b);a.textContent=H(c);return c};P.prototype.f=function(a){var b=this,c=I(a);J(c,function(a){':root'===a.selector&&(a.selector='html');b.g(a)});a.textContent=H(c);return c};P.prototype.l=function(a,b){var c=this;this.c=b;J(a,function(a){c.g(a)});this.c=null};P.prototype.g=function(a){a.cssText=ma(this,a.parsedCssText);':root'===a.selector&&(a.selector=':host > *')};function ma(a,b){b=b.replace(E,function(b,d,e,f){return na(a,b,d,e,f)});return Q(a,b)}function Q(a,b){for(var c;c=F.exec(b);){var d=c[0],e=c[1];c=c.index;var f=b.slice(0,c+d.indexOf('@apply'));b=b.slice(c+d.length);var h=R(a,f);d=void 0;var g=a;e=e.replace(ka,'');var m=[],l=g.a.get(e);l||(g.a.set(e,{}),l=g.a.get(e));if(l){g.c&&(l.i[g.c]=!0);var q=l.h;for(d in q)g=h&&h[d],l=[d,': var(',e,'_-_',d],g&&l.push(',',g.replace(M,'')),l.push(')'),M.test(q[d])&&l.push(' !important'),m.push(l.join(''))}d=m.join('; ');b=f+d+b;F.lastIndex=c+d.length}return b}function R(a,b){b=b.split(';');for(var c,d,e={},f=0,h;f<b.length;f++)if(c=b[f])if(h=c.split(':'),1<h.length){c=h[0].trim();var g=a;d=c;h=h.slice(1).join(':');var m=la.exec(h);m&&(m[1]?(g.b||(g.b=document.createElement('meta'),g.b.setAttribute('apply-shim-measure',''),g.b.style.all='initial',document.head.appendChild(g.b)),d=window.getComputedStyle(g.b).getPropertyValue(d)):d='apply-shim-inherit',h=d);d=h;e[c]=d}return e}function oa(a,b){if(O)for(var c in b.i)c!==a.c&&O(c)}function na(a,b,c,d,e){d&&K(d,function(b,c){c&&a.a.get(c)&&(e='@apply '+c+';')});if(!e)return b;var f=Q(a,''+e),h=b.slice(0,b.indexOf('--')),g=f=R(a,f),m=a.a.get(c),l=m&&m.h;l?g=Object.assign(Object.create(l),f):a.a.set(c,g);var q=[],w,X=!1;for(w in g){var D=f[w];void 0===D&&(D='initial');!l||w in l||(X=!0);q.push(c+'_-_'+w+': '+D)}X&&oa(a,m);m&&(m.h=g);d&&(h=b+';'+h);return h+q.join('; ')+';'}P.prototype.detectMixin=P.prototype.o;P.prototype.transformStyle=P.prototype.j;P.prototype.transformCustomStyle=P.prototype.f;P.prototype.transformRules=P.prototype.l;P.prototype.transformRule=P.prototype.g;P.prototype.transformTemplate=P.prototype.m;P.prototype._separator='_-_';Object.defineProperty(P.prototype,'invalidCallback',{get:function(){return O},set:function(a){O=a}});var S={},pa=Promise.resolve();function qa(a){if(a=S[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function T(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function ra(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a.c||(a.c=!0,pa.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a.c=!1}))}var U=new P;function V(){this.a=null;U.invalidCallback=qa}function W(a){a.a||(a.a=window.ShadyCSS.CustomStyleInterface,a.a&&(a.a.transformCallback=function(a){U.f(a)},a.a.validateCallback=function(){requestAnimationFrame(function(){a.a.enqueued&&a.flushCustomStyles()})}))}V.prototype.prepareTemplate=function(a,b){W(this);''===L(a)&&(S[b]=a,b=U.m(a,b),a._styleAst=b)};V.prototype.flushCustomStyles=function(){W(this);if(this.a){var a=this.a.processStyles();if(this.a.enqueued){for(var b=0,c;b<a.length;b++){c=this.a.getStyleForCustomStyle(a[b]);c&&U.f(c)}this.a.enqueued=!1}}};V.prototype.styleSubtree=function(a,b){W(this);if(b)for(var c in b)null===c?a.style.removeProperty(c):a.style.setProperty(c,b[c]);if(a.shadowRoot)for(this.styleElement(a),a=a.shadowRoot.children||a.shadowRoot.childNodes,b=0;b<a.length;b++)this.styleSubtree(a[b]);else for(a=a.children||a.childNodes,b=0;b<a.length;b++)this.styleSubtree(a[b])};V.prototype.styleElement=function(a){W(this);var b=a.localName,c;b?-1<b.indexOf('-')?c=b:c=a.getAttribute&&a.getAttribute('is')||'':c=a.is;b=S[c];if(!(b&&''!==L(b)||!b||T(b))){if(T(b)||b._applyShimValidatingVersion!==b._applyShimNextVersion)this.prepareTemplate(b,c),ra(b);if(a=a.shadowRoot)if(a=a.querySelector('style'))a.__cssRules=b._styleAst,a.textContent=H(b._styleAst)}};V.prototype.styleDocument=function(a){W(this);this.styleSubtree(document.body,a)};if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var Y=new V,Z=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function(a,b){Y.flushCustomStyles();Y.prepareTemplate(a,b)},prepareTemplateStyles:function(a,b,c){this.prepareTemplate(a,b,c)},prepareTemplateDom:function(){},styleSubtree:function(a,b){Y.flushCustomStyles();Y.styleSubtree(a,b)},styleElement:function(a){Y.flushCustomStyles();Y.styleElement(a)},styleDocument:function(a){Y.flushCustomStyles();Y.styleDocument(a)},getComputedStyleValue:function(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():''},flushCustomStyles:function(){Y.flushCustomStyles()},nativeCss:r,nativeShadow:k};Z&&(window.ShadyCSS.CustomStyleInterface=Z)}window.ShadyCSS.ApplyShim=U}).call(this)},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(20);(function(){'use strict';let modules={},lcModules={};function findModule(id){return modules[id]||lcModules[id.toLowerCase()]}function styleOutsideTemplateCheck(inst){if(inst.querySelector('style')){console.warn('dom-module %s has style outside template',inst.id)}}class DomModule extends HTMLElement{static get observedAttributes(){return['id']}static import(id,selector){if(id){let m=findModule(id);if(m&&selector){return m.querySelector(selector)}return m}return null}attributeChangedCallback(name,old,value){if(old!==value){this.register()}}get assetpath(){if(!this.__assetpath){const owner=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,url=Polymer.ResolveUrl.resolveUrl(this.getAttribute('assetpath')||'',owner.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(url)}return this.__assetpath}register(id){id=id||this.id;if(id){this.id=id;modules[id]=this;lcModules[id.toLowerCase()]=this;styleOutsideTemplateCheck(this)}}}DomModule.prototype.modules=modules;customElements.define('dom-module',DomModule);Polymer.DomModule=DomModule})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';const Path={isPath:function(path){return 0<=path.indexOf('.')},root:function(path){let dotIndex=path.indexOf('.');if(-1===dotIndex){return path}return path.slice(0,dotIndex)},isAncestor:function(base,path){return 0===base.indexOf(path+'.')},isDescendant:function(base,path){return 0===path.indexOf(base+'.')},translate:function(base,newBase,path){return newBase+path.slice(base.length)},matches:function(base,path){return base===path||this.isAncestor(base,path)||this.isDescendant(base,path)},normalize:function(path){if(Array.isArray(path)){let parts=[];for(let i=0,args;i<path.length;i++){args=path[i].toString().split('.');for(let j=0;j<args.length;j++){parts.push(args[j])}}return parts.join('.')}else{return path}},split:function(path){if(Array.isArray(path)){return this.normalize(path).split('.')}return path.toString().split('.')},get:function(root,path,info){let prop=root,parts=this.split(path);for(let i=0;i<parts.length;i++){if(!prop){return}let part=parts[i];prop=prop[part]}if(info){info.path=parts.join('.')}return prop},set:function(root,path,value){let prop=root,parts=this.split(path),last=parts[parts.length-1];if(1<parts.length){for(let i=0,part;i<parts.length-1;i++){part=parts[i];prop=prop[part];if(!prop){return}}prop[last]=value}else{prop[path]=value}return parts.join('.')}};Path.isDeep=Path.isPath;Polymer.Path=Path})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(9);(function(){'use strict';const templateExtensions={"dom-if":!0,"dom-repeat":!0};function wrapTemplateExtension(node){let is=node.getAttribute('is');if(is&&templateExtensions[is]){let t=node;t.removeAttribute('is');node=t.ownerDocument.createElement(is);t.parentNode.replaceChild(node,t);node.appendChild(t);while(t.attributes.length){node.setAttribute(t.attributes[0].name,t.attributes[0].value);t.removeAttribute(t.attributes[0].name)}}return node}function findTemplateNode(root,nodeInfo){let parent=nodeInfo.parentInfo&&findTemplateNode(root,nodeInfo.parentInfo);if(parent){for(let n=parent.firstChild,i=0;n;n=n.nextSibling){if(nodeInfo.parentIndex===i++){return n}}}else{return root}}function applyIdToMap(inst,map,node,nodeInfo){if(nodeInfo.id){map[nodeInfo.id]=node}}function applyEventListener(inst,node,nodeInfo){if(nodeInfo.events&&nodeInfo.events.length){for(let j=0,e$=nodeInfo.events,e;j<e$.length&&(e=e$[j]);j++){inst._addMethodEventListenerToNode(node,e.name,e.value,inst)}}}function applyTemplateContent(inst,node,nodeInfo){if(nodeInfo.templateInfo){node._templateInfo=nodeInfo.templateInfo}}function createNodeEventHandler(context,eventName,methodName){context=context._methodHost||context;return function(e){if(context[methodName]){context[methodName](e,e.detail)}else{console.warn('listener method `'+methodName+'` not defined')}}}Polymer.TemplateStamp=Polymer.dedupingMixin(superClass=>{return class extends superClass{static _parseTemplate(template,outerTemplateInfo){if(!template._templateInfo){let templateInfo=template._templateInfo={};templateInfo.nodeInfoList=[];templateInfo.stripWhiteSpace=outerTemplateInfo&&outerTemplateInfo.stripWhiteSpace||template.hasAttribute('strip-whitespace');this._parseTemplateContent(template,templateInfo,{parent:null})}return template._templateInfo}static _parseTemplateContent(template,templateInfo,nodeInfo){return this._parseTemplateNode(template.content,templateInfo,nodeInfo)}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted,element=node;if('template'==element.localName&&!element.hasAttribute('preserve-content')){noted=this._parseTemplateNestedTemplate(element,templateInfo,nodeInfo)||noted}else if('slot'===element.localName){templateInfo.hasInsertionPoint=!0}if(element.firstChild){noted=this._parseTemplateChildNodes(element,templateInfo,nodeInfo)||noted}if(element.hasAttributes&&element.hasAttributes()){noted=this._parseTemplateNodeAttributes(element,templateInfo,nodeInfo)||noted}return noted}static _parseTemplateChildNodes(root,templateInfo,nodeInfo){if('script'===root.localName||'style'===root.localName){return}for(let node=root.firstChild,parentIndex=0,next;node;node=next){if('template'==node.localName){node=wrapTemplateExtension(node)}next=node.nextSibling;if(node.nodeType===Node.TEXT_NODE){let n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=n.nextSibling;root.removeChild(n);n=next}if(templateInfo.stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);continue}}let childInfo={parentIndex,parentInfo:nodeInfo};if(this._parseTemplateNode(node,templateInfo,childInfo)){childInfo.infoIndex=templateInfo.nodeInfoList.push(childInfo)-1}if(node.parentNode){parentIndex++}}}static _parseTemplateNestedTemplate(node,outerTemplateInfo,nodeInfo){let templateInfo=this._parseTemplate(node,outerTemplateInfo),content=templateInfo.content=node.content.ownerDocument.createDocumentFragment();content.appendChild(node.content);nodeInfo.templateInfo=templateInfo;return!0}static _parseTemplateNodeAttributes(node,templateInfo,nodeInfo){let noted=!1,attrs=Array.from(node.attributes);for(let i=attrs.length-1,a;a=attrs[i];i--){noted=this._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,a.name,a.value)||noted}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){if('on-'===name.slice(0,3)){node.removeAttribute(name);nodeInfo.events=nodeInfo.events||[];nodeInfo.events.push({name:name.slice(3),value});return!0}else if('id'===name){nodeInfo.id=value;return!0}return!1}static _contentForTemplate(template){let templateInfo=template._templateInfo;return templateInfo&&templateInfo.content||template.content}_stampTemplate(template){if(template&&!template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate){HTMLTemplateElement.decorate(template)}let templateInfo=this.constructor._parseTemplate(template),nodeInfo=templateInfo.nodeInfoList,content=templateInfo.content||template.content,dom=document.importNode(content,!0);dom.__noInsertionPoint=!templateInfo.hasInsertionPoint;let nodes=dom.nodeList=Array(nodeInfo.length);dom.$={};for(let i=0,l=nodeInfo.length,info,node;i<l&&(info=nodeInfo[i]);i++){node=nodes[i]=findTemplateNode(dom,info);applyIdToMap(this,dom.$,node,info);applyTemplateContent(this,node,info);applyEventListener(this,node,info)}dom=dom;return dom}_addMethodEventListenerToNode(node,eventName,methodName,context){context=context||node;let handler=createNodeEventHandler(context,eventName,methodName);this._addEventListenerToNode(node,eventName,handler);return handler}_addEventListenerToNode(node,eventName,handler){node.addEventListener(eventName,handler)}_removeEventListenerFromNode(node,eventName,handler){node.removeEventListener(eventName,handler)}}})})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(9);__webpack_require__(49);(function(){'use strict';function normalizeProperties(props){const output={};for(let p in props){const o=props[p];output[p]='function'===typeof o?{type:o}:o}return output}Polymer.PropertiesMixin=Polymer.dedupingMixin(superClass=>{const base=Polymer.PropertiesChanged(superClass);function superPropertiesClass(constructor){const superCtor=Object.getPrototypeOf(constructor);return superCtor.prototype instanceof PropertiesMixin?superCtor:null}function ownProperties(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty('__ownProperties',constructor))){let props=null;if(constructor.hasOwnProperty(JSCompiler_renameProperty('properties',constructor))&&constructor.properties){props=normalizeProperties(constructor.properties)}constructor.__ownProperties=props}return constructor.__ownProperties}class PropertiesMixin extends base{static get observedAttributes(){const props=this._properties;return props?Object.keys(props).map(p=>this.attributeNameForProperty(p)):[]}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__finalized',this))){const superCtor=superPropertiesClass(this);if(superCtor){superCtor.finalize()}this.__finalized=!0;this._finalizeClass()}}static _finalizeClass(){const props=ownProperties(this);if(props){this.createProperties(props)}}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__properties',this))){const superCtor=superPropertiesClass(this);this.__properties=Object.assign({},superCtor&&superCtor._properties,ownProperties(this))}return this.__properties}static typeForProperty(name){const info=this._properties[name];return info&&info.type}_initializeProperties(){this.constructor.finalize();super._initializeProperties()}connectedCallback(){if(super.connectedCallback){super.connectedCallback()}this._enableProperties()}disconnectedCallback(){if(super.disconnectedCallback){super.disconnectedCallback()}}}return PropertiesMixin})})()},function(module,exports,__webpack_require__){var _Mathabs4=Math.abs;__webpack_require__(5);__webpack_require__(21);__webpack_require__(27);(function(){'use strict';let HAS_NATIVE_TA='string'===typeof document.head.style.touchAction,GESTURE_KEY='__polymerGestures',HANDLED_OBJ='__polymerGesturesHandled',TOUCH_ACTION='__polymerGesturesTouchAction',TAP_DISTANCE=25,TRACK_DISTANCE=5,MOUSE_EVENTS=['mousedown','mousemove','mouseup','click'],MOUSE_WHICH_TO_BUTTONS=[0,1,4,2],MOUSE_HAS_BUTTONS=function(){try{return 1===new MouseEvent('test',{buttons:1}).buttons}catch(e){return!1}}();function isMouseEvent(name){return-1<MOUSE_EVENTS.indexOf(name)}let SUPPORTS_PASSIVE=!1;(function(){try{let opts=Object.defineProperty({},'passive',{get(){SUPPORTS_PASSIVE=!0}});window.addEventListener('test',null,opts);window.removeEventListener('test',null,opts)}catch(e){}})();function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||'touchend'===eventName){return}if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&Polymer.passiveTouchGestures){return{passive:!0}}else{}}let IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),GestureRecognizer=function(){};GestureRecognizer.prototype.reset;GestureRecognizer.prototype.mousedown;GestureRecognizer.prototype.mousemove;GestureRecognizer.prototype.mouseup;GestureRecognizer.prototype.touchstart;GestureRecognizer.prototype.touchmove;GestureRecognizer.prototype.touchend;GestureRecognizer.prototype.click;const clickedLabels=[],labellable={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0};function canBeLabelled(el){return labellable[el.localName]||!1}function matchingLabels(el){let labels=[...(el.labels||[])];if(!labels.length){labels=[];let root=el.getRootNode();if(el.id){let matching=root.querySelectorAll(`label[for = ${el.id}]`);for(let i=0;i<matching.length;i++){labels.push(matching[i])}}}return labels}let mouseCanceller=function(mouseEvent){let sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents){return}mouseEvent[HANDLED_OBJ]={skip:!0};if('click'===mouseEvent.type){let clickFromLabel=!1,path=mouseEvent.composedPath&&mouseEvent.composedPath();if(path){for(let i=0;i<path.length;i++){if(path[i].nodeType===Node.ELEMENT_NODE){if('label'===path[i].localName){clickedLabels.push(path[i])}else if(canBeLabelled(path[i])){let ownerLabels=matchingLabels(path[i]);for(let j=0;j<ownerLabels.length;j++){clickFromLabel=clickFromLabel||-1<clickedLabels.indexOf(ownerLabels[j])}}}if(path[i]===POINTERSTATE.mouse.target){return}}}if(clickFromLabel){return}mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){let events=IS_TOUCH_ONLY?['click']:MOUSE_EVENTS;for(let i=0,en;i<events.length;i++){en=events[i];if(setup){clickedLabels.length=0;document.addEventListener(en,mouseCanceller,!0)}else{document.removeEventListener(en,mouseCanceller,!0)}}}function hasLeftMouseButton(ev){let type=ev.type;if(!isMouseEvent(type)){return!1}if('mousemove'===type){let buttons=ev.buttons===void 0?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS){buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0}return!!(1&buttons)}else{let button=ev.button===void 0?0:ev.button;return 0===button}}function isSyntheticClick(ev){if('click'===ev.type){if(0===ev.detail){return!0}let t=Gestures._findOriginalTarget(ev);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE){return!0}let bcr=t.getBoundingClientRect(),x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&y>=bcr.top&&y<=bcr.bottom)}return!1}let POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function firstTouchAction(ev){let ta='auto',path=ev.composedPath&&ev.composedPath();if(path){for(let i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener('mousemove',movefn);document.addEventListener('mouseup',upfn)}function untrackDocument(stateObj){document.removeEventListener('mousemove',stateObj.movefn);document.removeEventListener('mouseup',stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener('touchend',function(e){if(!POINTERSTATE.mouse.mouseIgnoreJob){setupTeardownMouseCanceller(!0)}POINTERSTATE.mouse.target=e.composedPath()[0];POINTERSTATE.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(POINTERSTATE.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null})},SUPPORTS_PASSIVE?{passive:!0}:!1);const Gestures={gestures:{},recognizers:[],deepTargetFind:function(x,y){let node=document.elementFromPoint(x,y),next=node;while(next&&next.shadowRoot&&!window.ShadyDOM){let oldNext=next;next=next.shadowRoot.elementFromPoint(x,y);if(oldNext===next){break}if(next){node=next}}return node},_findOriginalTarget:function(ev){if(ev.composedPath){const targets=ev.composedPath();return 0<targets.length?targets[0]:ev.target}return ev.target},_handleNative:function(ev){let handled,type=ev.type,node=ev.currentTarget,gobj=node[GESTURE_KEY];if(!gobj){return}let gs=gobj[type];if(!gs){return}if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if('touch'===type.slice(0,5)){ev=ev;let t=ev.changedTouches[0];if('touchstart'===type){if(1===ev.touches.length){POINTERSTATE.touch.id=t.identifier}}if(POINTERSTATE.touch.id!==t.identifier){return}if(!HAS_NATIVE_TA){if('touchstart'===type||'touchmove'===type){Gestures._handleTouchAction(ev)}}}}handled=ev[HANDLED_OBJ];if(handled.skip){return}for(let i=0,r;i<Gestures.recognizers.length;i++){r=Gestures.recognizers[i];if(gs[r.name]&&!handled[r.name]){if(r.flow&&-1<r.flow.start.indexOf(ev.type)&&r.reset){r.reset()}}}for(let i=0,r;i<Gestures.recognizers.length;i++){r=Gestures.recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=!0;r[type](ev)}}},_handleTouchAction:function(ev){let t=ev.changedTouches[0],type=ev.type;if('touchstart'===type){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=!1}else if('touchmove'===type){if(POINTERSTATE.touch.scrollDecided){return}POINTERSTATE.touch.scrollDecided=!0;let ta=firstTouchAction(ev),prevent=!1,dx=_Mathabs4(POINTERSTATE.touch.x-t.clientX),dy=_Mathabs4(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable){}else if('none'===ta){prevent=!0}else if('pan-x'===ta){prevent=dy>dx}else if('pan-y'===ta){prevent=dx>dy}if(prevent){ev.preventDefault()}else{Gestures.prevent('track')}}},addListener:function(node,evType,handler){if(this.gestures[evType]){this._add(node,evType,handler);return!0}return!1},removeListener:function(node,evType,handler){if(this.gestures[evType]){this._remove(node,evType,handler);return!0}return!1},_add:function(node,evType,handler){let recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(!gobj){node[GESTURE_KEY]=gobj={}}for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&'click'!==dep){continue}gd=gobj[dep];if(!gd){gobj[dep]=gd={_count:0}}if(0===gd._count){node.addEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction){this.setTouchAction(node,recognizer.touchAction)}},_remove:function(node,evType,handler){let recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(gobj){for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(0===gd._count){node.removeEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}}}}node.removeEventListener(evType,handler)},register:function(recog){this.recognizers.push(recog);for(let i=0;i<recog.emits.length;i++){this.gestures[recog.emits[i]]=recog}},_findRecognizerByEvent:function(evName){for(let i=0,r;i<this.recognizers.length;i++){r=this.recognizers[i];for(let j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName){return r}}}return null},setTouchAction:function(node,value){if(HAS_NATIVE_TA){Polymer.Async.microTask.run(()=>{node.style.touchAction=value})}node[TOUCH_ACTION]=value},_fire:function(target,type,detail){let ev=new Event(type,{bubbles:!0,cancelable:!0,composed:!0});ev.detail=detail;target.dispatchEvent(ev);if(ev.defaultPrevented){let preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault){preventer.preventDefault()}}},prevent:function(evName){let recognizer=this._findRecognizerByEvent(evName);if(recognizer.info){recognizer.info.prevent=!0}},resetMouseCanceller:function(){if(POINTERSTATE.mouse.mouseIgnoreJob){POINTERSTATE.mouse.mouseIgnoreJob.flush()}}};Gestures.register({name:'downup',deps:['mousedown','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['down','up'],info:{movefn:null,upfn:null},reset:function(){untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=Gestures._findOriginalTarget(e),self=this;trackDocument(this.info,function(e){if(!hasLeftMouseButton(e)){self._fire('up',t,e);untrackDocument(self.info)}},function(e){if(hasLeftMouseButton(e)){self._fire('up',t,e)}untrackDocument(self.info)});this._fire('down',t,e)},touchstart:function(e){this._fire('down',Gestures._findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this._fire('up',Gestures._findOriginalTarget(e),e.changedTouches[0],e)},_fire:function(type,target,event,preventer){Gestures._fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return Gestures.prevent(e)}})}});Gestures.register({name:'track',touchAction:'none',deps:['mousedown','touchstart','touchmove','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['track'],info:{x:0,y:0,state:'start',started:!1,moves:[],addMove:function(move){if(this.moves.length>2){this.moves.shift()}this.moves.push(move)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state='start';this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;untrackDocument(this.info)},hasMovedEnough:function(x,y){if(this.info.prevent){return!1}if(this.info.started){return!0}let dx=_Mathabs4(this.info.x-x),dy=_Mathabs4(this.info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=Gestures._findOriginalTarget(e),self=this,movefn=function(e){let x=e.clientX,y=e.clientY;if(self.hasMovedEnough(x,y)){self.info.state=self.info.started?'mouseup'===e.type?'end':'track':'start';if('start'===self.info.state){Gestures.prevent('tap')}self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state='end';untrackDocument(self.info)}self._fire(t,e);self.info.started=!0}};trackDocument(this.info,movefn,function(e){if(self.info.started){movefn(e)}untrackDocument(self.info)});this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function(e){let ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function(e){let t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0],x=ct.clientX,y=ct.clientY;if(this.hasMovedEnough(x,y)){if('start'===this.info.state){Gestures.prevent('tap')}this.info.addMove({x:x,y:y});this._fire(t,ct);this.info.state='track';this.info.started=!0}},touchend:function(e){let t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0];if(this.info.started){this.info.state='end';this.info.addMove({x:ct.clientX,y:ct.clientY});this._fire(t,ct,e)}},_fire:function(target,touch){let secondlast=this.info.moves[this.info.moves.length-2],lastmove=this.info.moves[this.info.moves.length-1],dx=lastmove.x-this.info.x,dy=lastmove.y-this.info.y,ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}Gestures._fire(target,'track',{state:this.info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,hover:function(){return Gestures.deepTargetFind(touch.clientX,touch.clientY)}})}});Gestures.register({name:'tap',deps:['mousedown','click','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['click','touchend']},emits:['tap'],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},save:function(e){this.info.x=e.clientX;this.info.y=e.clientY},mousedown:function(e){if(hasLeftMouseButton(e)){this.save(e)}},click:function(e){if(hasLeftMouseButton(e)){this.forward(e)}},touchstart:function(e){this.save(e.changedTouches[0],e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,preventer){let dx=_Mathabs4(e.clientX-this.info.x),dy=_Mathabs4(e.clientY-this.info.y),t=Gestures._findOriginalTarget(preventer||e);if(!t||t.disabled){return}if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e)){if(!this.info.prevent){Gestures._fire(t,'tap',{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}}}});Gestures.findOriginalTarget=Gestures._findOriginalTarget;Gestures.add=Gestures.addListener;Gestures.remove=Gestures.removeListener;Polymer.Gestures=Gestures})()},function(module,exports,__webpack_require__){__webpack_require__(48);(function(){'use strict';const HOST_DIR=/:host\(:dir\((ltr|rtl)\)\)/g,EL_DIR=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,DIR_INSTANCES=[];let observer=null,DOCUMENT_DIR='';function getRTL(){DOCUMENT_DIR=document.documentElement.getAttribute('dir')}function setRTL(instance){if(!instance.__autoDirOptOut){instance.setAttribute('dir',DOCUMENT_DIR)}}function updateDirection(){getRTL();DOCUMENT_DIR=document.documentElement.getAttribute('dir');for(let i=0;i<DIR_INSTANCES.length;i++){setRTL(DIR_INSTANCES[i])}}function takeRecords(){if(observer&&observer.takeRecords().length){updateDirection()}}Polymer.DirMixin=Polymer.dedupingMixin(base=>{if(!observer){getRTL();observer=new MutationObserver(updateDirection);observer.observe(document.documentElement,{attributes:!0,attributeFilter:['dir']})}const elementBase=Polymer.PropertyAccessors(base);class Dir extends elementBase{static _processStyleText(cssText,baseURI){cssText=super._processStyleText(cssText,baseURI);cssText=this._replaceDirInCssText(cssText);return cssText}static _replaceDirInCssText(text){let replacedText=text;replacedText=replacedText.replace(HOST_DIR,':host([dir="$1"])');replacedText=replacedText.replace(EL_DIR,':host([dir="$2"]) $1');if(text!==replacedText){this.__activateDir=!0}return replacedText}constructor(){super();this.__autoDirOptOut=!1}ready(){super.ready();this.__autoDirOptOut=this.hasAttribute('dir')}connectedCallback(){if(elementBase.prototype.connectedCallback){super.connectedCallback()}if(this.constructor.__activateDir){takeRecords();DIR_INSTANCES.push(this);setRTL(this)}}disconnectedCallback(){if(elementBase.prototype.disconnectedCallback){super.disconnectedCallback()}if(this.constructor.__activateDir){const idx=DIR_INSTANCES.indexOf(this);if(-1<idx){DIR_INSTANCES.splice(idx,1)}}}}Dir.__activateDir=!1;return Dir})})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';function whenImportsReady(cb){if(window.HTMLImports){HTMLImports.whenReady(cb)}else{cb()}}Polymer.importHref=function(href,onload,onerror,optAsync){let link=document.head.querySelector('link[href="'+href+'"][import-href]');if(!link){link=document.createElement('link');link.rel='import';link.href=href;link.setAttribute('import-href','')}if(optAsync){link.setAttribute('async','')}let cleanup=function(){link.removeEventListener('load',loadListener);link.removeEventListener('error',errorListener)},loadListener=function(event){cleanup();link.__dynamicImportLoaded=!0;if(onload){whenImportsReady(()=>{onload(event)})}},errorListener=function(event){cleanup();if(link.parentNode){link.parentNode.removeChild(link)}if(onerror){whenImportsReady(()=>{onerror(event)})}};link.addEventListener('load',loadListener);link.addEventListener('error',errorListener);if(null==link.parentNode){document.head.appendChild(link)}else if(link.__dynamicImportLoaded){link.dispatchEvent(new Event('load'))}return link}})()},function(module,exports,__webpack_require__){__webpack_require__(5);(function(){'use strict';let scheduled=!1,beforeRenderQueue=[],afterRenderQueue=[];function schedule(){scheduled=!0;requestAnimationFrame(function(){scheduled=!1;flushQueue(beforeRenderQueue);setTimeout(function(){runQueue(afterRenderQueue)})})}function flushQueue(queue){while(queue.length){callMethod(queue.shift())}}function runQueue(queue){for(let i=0,l=queue.length;i<l;i++){callMethod(queue.shift())}}function callMethod(info){const context=info[0],callback=info[1],args=info[2];try{callback.apply(context,args)}catch(e){setTimeout(()=>{throw e})}}Polymer.RenderStatus={beforeNextRender:function(context,callback,args){if(!scheduled){schedule()}beforeRenderQueue.push([context,callback,args])},afterNextRender:function(context,callback,args){if(!scheduled){schedule()}afterRenderQueue.push([context,callback,args])},flush:function(){while(beforeRenderQueue.length||afterRenderQueue.length){flushQueue(beforeRenderQueue);flushQueue(afterRenderQueue)}scheduled=!1}}})()},function(){(function(){'use strict';function resolve(){document.body.removeAttribute('unresolved')}if(window.WebComponents){window.addEventListener('WebComponentsReady',resolve)}else{if('interactive'===document.readyState||'complete'===document.readyState){resolve()}else{window.addEventListener('DOMContentLoaded',resolve)}}})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(45);__webpack_require__(102);__webpack_require__(28);(function(){'use strict';const p=Element.prototype,normalizedMatchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,matchesSelector=function(node,selector){return normalizedMatchesSelector.call(node,selector)};class DomApi{constructor(node){this.node=node}observeNodes(callback){return new Polymer.FlattenedNodesObserver(this.node,callback)}unobserveNodes(observerHandle){observerHandle.disconnect()}notifyObserver(){}deepContains(node){if(this.node.contains(node)){return!0}let n=node,doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node){n=n.parentNode||n.host}return n===this.node}getOwnerRoot(){return this.node.getRootNode()}getDistributedNodes(){return'slot'===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let ip$=[],n=this.node.assignedSlot;while(n){ip$.push(n);n=n.assignedSlot}return ip$}importNode(node,deep){let doc=this.node instanceof Document?this.node:this.node.ownerDocument;return doc.importNode(node,deep)}getEffectiveChildNodes(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}queryDistributedElements(selector){let c$=this.getEffectiveChildNodes(),list=[];for(let i=0,l=c$.length,c;i<l&&(c=c$[i]);i++){if(c.nodeType===Node.ELEMENT_NODE&&matchesSelector(c,selector)){list.push(c)}}return list}get activeElement(){let node=this.node;return node._activeElement!==void 0?node._activeElement:node.activeElement}}(function(proto,methods){for(let i=0,method;i<methods.length;i++){method=methods[i];proto[method]=function(){return this.node[method].apply(this.node,arguments)}}})(DomApi.prototype,['cloneNode','appendChild','insertBefore','removeChild','replaceChild','setAttribute','removeAttribute','querySelector','querySelectorAll']);(function(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=this;return domApi.node[name]},configurable:!0})}})(DomApi.prototype,['parentNode','firstChild','lastChild','nextSibling','previousSibling','firstElementChild','lastElementChild','nextElementSibling','previousElementSibling','childNodes','children','classList']);(function(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=this;return domApi.node[name]},set:function(value){this.node[name]=value},configurable:!0})}})(DomApi.prototype,['textContent','innerHTML']);class EventApi{constructor(event){this.event=event}get rootTarget(){return this.event.composedPath()[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}Polymer.DomApi=DomApi;Polymer.DomApi.prototype.cloneNode;Polymer.DomApi.prototype.appendChild;Polymer.DomApi.prototype.insertBefore;Polymer.DomApi.prototype.removeChild;Polymer.DomApi.prototype.replaceChild;Polymer.DomApi.prototype.setAttribute;Polymer.DomApi.prototype.removeAttribute;Polymer.DomApi.prototype.querySelector;Polymer.DomApi.prototype.querySelectorAll;Polymer.dom=function(obj){obj=obj||document;if(!obj.__domApi){let helper;if(obj instanceof Event){helper=new EventApi(obj)}else{helper=new DomApi(obj)}obj.__domApi=helper}return obj.__domApi};Polymer.dom.matchesSelector=matchesSelector;Polymer.dom.flush=Polymer.flush;Polymer.dom.addDebouncer=Polymer.enqueueDebouncer})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(51);__webpack_require__(21);(function(){'use strict';function isSlot(node){return'slot'===node.localName}Polymer.FlattenedNodesObserver=class{static getFlattenedNodes(node){if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return Array.from(node.childNodes).map(node=>{if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return[node]}}).reduce((a,b)=>a.concat(b),[])}}constructor(target,callback){this._shadyChildrenObserver=null;this._nativeChildrenObserver=null;this._connected=!1;this._target=target;this.callback=callback;this._effectiveNodes=[];this._observer=null;this._scheduled=!1;this._boundSchedule=()=>{this._schedule()};this.connect();this._schedule()}connect(){if(isSlot(this._target)){this._listenSlots([this._target])}else if(this._target.children){this._listenSlots(this._target.children);if(window.ShadyDOM){this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,mutations=>{this._processMutations(mutations)})}else{this._nativeChildrenObserver=new MutationObserver(mutations=>{this._processMutations(mutations)});this._nativeChildrenObserver.observe(this._target,{childList:!0})}}this._connected=!0}disconnect(){if(isSlot(this._target)){this._unlistenSlots([this._target])}else if(this._target.children){this._unlistenSlots(this._target.children);if(window.ShadyDOM&&this._shadyChildrenObserver){ShadyDOM.unobserveChildren(this._shadyChildrenObserver);this._shadyChildrenObserver=null}else if(this._nativeChildrenObserver){this._nativeChildrenObserver.disconnect();this._nativeChildrenObserver=null}}this._connected=!1}_schedule(){if(!this._scheduled){this._scheduled=!0;Polymer.Async.microTask.run(()=>this.flush())}}_processMutations(mutations){this._processSlotMutations(mutations);this.flush()}_processSlotMutations(mutations){if(mutations){for(let i=0,mutation;i<mutations.length;i++){mutation=mutations[i];if(mutation.addedNodes){this._listenSlots(mutation.addedNodes)}if(mutation.removedNodes){this._unlistenSlots(mutation.removedNodes)}}}}flush(){if(!this._connected){return!1}if(window.ShadyDOM){ShadyDOM.flush()}if(this._nativeChildrenObserver){this._processSlotMutations(this._nativeChildrenObserver.takeRecords())}else if(this._shadyChildrenObserver){this._processSlotMutations(this._shadyChildrenObserver.takeRecords())}this._scheduled=!1;let info={target:this._target,addedNodes:[],removedNodes:[]},newNodes=this.constructor.getFlattenedNodes(this._target),splices=Polymer.ArraySplice.calculateSplices(newNodes,this._effectiveNodes);for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){info.removedNodes.push(n)}}for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=s.index;j<s.index+s.addedCount;j++){info.addedNodes.push(newNodes[j])}}this._effectiveNodes=newNodes;let didFlush=!1;if(info.addedNodes.length||info.removedNodes.length){didFlush=!0;this.callback.call(this._target,info)}return didFlush}_listenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.addEventListener('slotchange',this._boundSchedule)}}}_unlistenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.removeEventListener('slotchange',this._boundSchedule)}}}}})()},function(module,exports,__webpack_require__){__webpack_require__(104);(function(){'use strict';window.Polymer._polymerFn=function(info){let klass;if('function'===typeof info){klass=info}else{klass=Polymer.Class(info)}customElements.define(klass.is,klass);return klass}})()},function(module,exports,__webpack_require__){__webpack_require__(43);(function(){'use strict';let metaProps={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};function mixinBehaviors(behaviors,klass){if(!behaviors){klass=klass;return klass}klass=Polymer.LegacyElementMixin(klass);if(!Array.isArray(behaviors)){behaviors=[behaviors]}let superBehaviors=klass.prototype.behaviors;behaviors=flattenBehaviors(behaviors,null,superBehaviors);klass=_mixinBehaviors(behaviors,klass);if(superBehaviors){behaviors=superBehaviors.concat(behaviors)}klass.prototype.behaviors=behaviors;return klass}function _mixinBehaviors(behaviors,klass){for(let i=0,b;i<behaviors.length;i++){b=behaviors[i];if(b){klass=Array.isArray(b)?_mixinBehaviors(b,klass):GenerateClassFromInfo(b,klass)}}return klass}function flattenBehaviors(behaviors,list,exclude){list=list||[];for(let i=behaviors.length-1,b;0<=i;i--){b=behaviors[i];if(b){if(Array.isArray(b)){flattenBehaviors(b,list)}else{if(0>list.indexOf(b)&&(!exclude||0>exclude.indexOf(b))){list.unshift(b)}}}else{console.warn('behavior is null, check for missing or 404 import')}}return list}function GenerateClassFromInfo(info,Base){class PolymerGenerated extends Base{static get properties(){return info.properties}static get observers(){return info.observers}static get template(){return info._template||Polymer.DomModule&&Polymer.DomModule.import(this.is,'template')||Base.template||this.prototype._template||null}created(){super.created();if(info.created){info.created.call(this)}}_registered(){super._registered();if(info.beforeRegister){info.beforeRegister.call(Object.getPrototypeOf(this))}if(info.registered){info.registered.call(Object.getPrototypeOf(this))}}_applyListeners(){super._applyListeners();if(info.listeners){for(let l in info.listeners){this._addMethodEventListenerToNode(this,l,info.listeners[l])}}}_ensureAttributes(){if(info.hostAttributes){for(let a in info.hostAttributes){this._ensureAttribute(a,info.hostAttributes[a])}}super._ensureAttributes()}ready(){super.ready();if(info.ready){info.ready.call(this)}}attached(){super.attached();if(info.attached){info.attached.call(this)}}detached(){super.detached();if(info.detached){info.detached.call(this)}}attributeChanged(name,old,value){super.attributeChanged(name,old,value);if(info.attributeChanged){info.attributeChanged.call(this,name,old,value)}}}PolymerGenerated.generatedFrom=info;for(let p in info){if(!(p in metaProps)){let pd=Object.getOwnPropertyDescriptor(info,p);if(pd){Object.defineProperty(PolymerGenerated.prototype,p,pd)}}}return PolymerGenerated}Polymer.Class=function(info){if(!info){console.warn('Polymer.Class requires `info` argument')}let klass=GenerateClassFromInfo(info,info.behaviors?mixinBehaviors(info.behaviors,HTMLElement):Polymer.LegacyElementMixin(HTMLElement));klass.is=info.is;return klass};Polymer.mixinBehaviors=mixinBehaviors})()},function(module,exports,__webpack_require__){__webpack_require__(29);(function(){'use strict';let TemplateInstanceBase=Polymer.TemplateInstanceBase;Polymer.Templatizer={templatize(template,mutableData){this._templatizerTemplate=template;this.ctor=Polymer.Templatize.templatize(template,this,{mutableData:!!mutableData,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(model){return new this.ctor(model)},modelForElement(el){return Polymer.Templatize.modelForElement(this._templatizerTemplate,el)}}})()},function(module,exports,__webpack_require__){__webpack_require__(5);__webpack_require__(26);__webpack_require__(22);__webpack_require__(50);(function(){'use strict';const domBindBase=Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement)));class DomBind extends domBindBase{static get observedAttributes(){return['mutable-data']}constructor(){super();this.root=null;this.$=null;this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.style.display='none';this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children){for(let i=0;i<this.__children.length;i++){this.root.appendChild(this.__children[i])}}}render(){let template;if(!this.__children){template=template||this.querySelector('template');if(!template){let observer=new MutationObserver(()=>{template=this.querySelector('template');if(template){observer.disconnect();this.render()}else{throw new Error('dom-bind requires a <template> child')}});observer.observe(this,{childList:!0});return}this.root=this._stampTemplate(template);this.$=this.root.$;this.__children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){this.__children[this.__children.length]=n}this._enableProperties()}this.__insertChildren();this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0}))}}customElements.define('dom-bind',DomBind);Polymer.DomBind=DomBind})()},function(module,exports,__webpack_require__){__webpack_require__(30);__webpack_require__(29);__webpack_require__(27);__webpack_require__(28);__webpack_require__(22);(function(){'use strict';Polymer.TemplateInstanceBase;const domRepeatBase=Polymer.OptionalMutableData(Polymer.Element);class DomRepeat extends domRepeatBase{static get is(){return'dom-repeat'}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:'item'},indexAs:{type:String,value:'index'},itemsIndexAs:{type:String,value:'itemsIndex'},sort:{type:Function,observer:'__sortChanged'},filter:{type:Function,observer:'__filterChanged'},observe:{type:String,observer:'__observeChanged'},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:'__initializeChunking'},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:'__computeFrameTime(targetFramerate)'}}}static get observers(){return['__itemsChanged(items.*)']}constructor(){super();this.__instances=[];this.__limit=Infinity;this.__pool=[];this.__renderDebouncer=null;this.__itemsIdxToInstIdx={};this.__chunkCount=null;this.__lastChunkTime=null;this.__sortFn=null;this.__filterFn=null;this.__observePaths=null;this.__ctor=null;this.__isDetached=!0;this.template=null}disconnectedCallback(){super.disconnectedCallback();this.__isDetached=!0;for(let i=0;i<this.__instances.length;i++){this.__detachInstance(i)}}connectedCallback(){super.connectedCallback();this.style.display='none';if(this.__isDetached){this.__isDetached=!1;let parent=this.parentNode;for(let i=0;i<this.__instances.length;i++){this.__attachInstance(i,parent)}}}__ensureTemplatized(){if(!this.__ctor){let template=this.template=this.querySelector('template');if(!template){let observer=new MutationObserver(()=>{if(this.querySelector('template')){observer.disconnect();this.__render()}else{throw new Error('dom-repeat requires a <template> child')}});observer.observe(this,{childList:!0});return!1}let instanceProps={};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.itemsIndexAs]=!0;this.__ctor=Polymer.Templatize.templatize(template,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:instanceProps,forwardHostProp:function(prop,value){let i$=this.__instances;for(let i=0,inst;i<i$.length&&(inst=i$[i]);i++){inst.forwardHostProp(prop,value)}},notifyInstanceProp:function(inst,prop,value){if(Polymer.Path.matches(this.as,prop)){let idx=inst[this.itemsIndexAs];if(prop==this.as){this.items[idx]=value}let path=Polymer.Path.translate(this.as,'items.'+idx,prop);this.notifyPath(path,value)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(functionOrMethodName){if('string'===typeof functionOrMethodName){let obj=this.__getMethodHost();return function(){return obj[functionOrMethodName].apply(obj,arguments)}}return functionOrMethodName}__sortChanged(sort){this.__sortFn=this.__functionFromPropertyValue(sort);if(this.items){this.__debounceRender(this.__render)}}__filterChanged(filter){this.__filterFn=this.__functionFromPropertyValue(filter);if(this.items){this.__debounceRender(this.__render)}}__computeFrameTime(rate){return Math.ceil(1e3/rate)}__initializeChunking(){if(this.initialCount){this.__limit=this.initialCount;this.__chunkCount=this.initialCount;this.__lastChunkTime=performance.now()}}__tryRenderChunk(){if(this.items&&this.__limit<this.items.length){this.__debounceRender(this.__requestRenderChunk)}}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let currChunkTime=performance.now(),ratio=this._targetFrameTime/(currChunkTime-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*ratio)||1;this.__limit+=this.__chunkCount;this.__lastChunkTime=currChunkTime;this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace('.*','.').split(' ')}__itemsChanged(change){if(this.items&&!Array.isArray(this.items)){console.warn('dom-repeat expected array for `items`, found',this.items)}if(!this.__handleItemPath(change.path,change.value)){this.__initializeChunking();this.__debounceRender(this.__render)}}__handleObservedPaths(path){if(this.__sortFn||this.__filterFn){if(!path){this.__debounceRender(this.__render,this.delay)}else if(this.__observePaths){let paths=this.__observePaths;for(let i=0;i<paths.length;i++){if(0===path.indexOf(paths[i])){this.__debounceRender(this.__render,this.delay)}}}}}__debounceRender(fn,delay=0){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<delay?Polymer.Async.timeOut.after(delay):Polymer.Async.microTask,fn.bind(this));Polymer.enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render);Polymer.flush()}__render(){if(!this.__ensureTemplatized()){return}this.__applyFullRefresh();this.__pool.length=0;this._setRenderedItemCount(this.__instances.length);this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0}));this.__tryRenderChunk()}__applyFullRefresh(){let items=this.items||[],isntIdxToItemsIdx=Array(items.length);for(let i=0;i<items.length;i++){isntIdxToItemsIdx[i]=i}if(this.__filterFn){isntIdxToItemsIdx=isntIdxToItemsIdx.filter((i,idx,array)=>this.__filterFn(items[i],idx,array))}if(this.__sortFn){isntIdxToItemsIdx.sort((a,b)=>this.__sortFn(items[a],items[b]))}const itemsIdxToInstIdx=this.__itemsIdxToInstIdx={};let instIdx=0;const limit=Math.min(isntIdxToItemsIdx.length,this.__limit);for(;instIdx<limit;instIdx++){let inst=this.__instances[instIdx],itemIdx=isntIdxToItemsIdx[instIdx],item=items[itemIdx];itemsIdxToInstIdx[itemIdx]=instIdx;if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{this.__insertInstance(item,instIdx,itemIdx)}}for(let i=this.__instances.length-1;i>=instIdx;i--){this.__detachAndRemoveInstance(i)}}__detachInstance(idx){let inst=this.__instances[idx];for(let i=0,el;i<inst.children.length;i++){el=inst.children[i];inst.root.appendChild(el)}return inst}__attachInstance(idx,parent){let inst=this.__instances[idx];parent.insertBefore(inst.root,this)}__detachAndRemoveInstance(idx){let inst=this.__detachInstance(idx);if(inst){this.__pool.push(inst)}this.__instances.splice(idx,1)}__stampInstance(item,instIdx,itemIdx){let model={};model[this.as]=item;model[this.indexAs]=instIdx;model[this.itemsIndexAs]=itemIdx;return new this.__ctor(model)}__insertInstance(item,instIdx,itemIdx){let inst=this.__pool.pop();if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{inst=this.__stampInstance(item,instIdx,itemIdx)}let beforeRow=this.__instances[instIdx+1],beforeNode=beforeRow?beforeRow.children[0]:this;this.parentNode.insertBefore(inst.root,beforeNode);this.__instances[instIdx]=inst;return inst}_showHideChildren(hidden){for(let i=0;i<this.__instances.length;i++){this.__instances[i]._showHideChildren(hidden)}}__handleItemPath(path,value){let itemsPath=path.slice(6),dot=itemsPath.indexOf('.'),itemsIdx=0>dot?itemsPath:itemsPath.substring(0,dot);if(itemsIdx==parseInt(itemsIdx,10)){let itemSubPath=0>dot?'':itemsPath.substring(dot+1);this.__handleObservedPaths(itemSubPath);let instIdx=this.__itemsIdxToInstIdx[itemsIdx],inst=this.__instances[instIdx];if(inst){let itemPath=this.as+(itemSubPath?'.'+itemSubPath:'');inst._setPendingPropertyOrPath(itemPath,value,!1,!0);inst._flushProperties()}return!0}}itemForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.as]}indexForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.indexAs]}modelForElement(el){return Polymer.Templatize.modelForElement(this.template,el)}}customElements.define(DomRepeat.is,DomRepeat);Polymer.DomRepeat=DomRepeat})()},function(module,exports,__webpack_require__){__webpack_require__(30);__webpack_require__(29);__webpack_require__(27);__webpack_require__(28);(function(){'use strict';class DomIf extends Polymer.Element{static get is(){return'dom-if'}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:'__debounceRender'},restamp:{type:Boolean,observer:'__debounceRender'}}}constructor(){super();this.__renderDebouncer=null;this.__invalidProps=null;this.__instance=null;this._lastIf=!1;this.__ctor=null}__debounceRender(){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,()=>this.__render());Polymer.enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();if(!this.parentNode||this.parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&!this.parentNode.host){this.__teardownInstance()}}connectedCallback(){super.connectedCallback();this.style.display='none';if(this.if){this.__debounceRender()}}render(){Polymer.flush()}__render(){if(this.if){if(!this.__ensureInstance()){return}this._showHideChildren()}else if(this.restamp){this.__teardownInstance()}if(!this.restamp&&this.__instance){this._showHideChildren()}if(this.if!=this._lastIf){this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0}));this._lastIf=this.if}}__ensureInstance(){let parentNode=this.parentNode;if(parentNode){if(!this.__ctor){let template=this.querySelector('template');if(!template){let observer=new MutationObserver(()=>{if(this.querySelector('template')){observer.disconnect();this.__render()}else{throw new Error('dom-if requires a <template> child')}});observer.observe(this,{childList:!0});return!1}this.__ctor=Polymer.Templatize.templatize(template,this,{mutableData:!0,forwardHostProp:function(prop,value){if(this.__instance){if(this.if){this.__instance.forwardHostProp(prop,value)}else{this.__invalidProps=this.__invalidProps||Object.create(null);this.__invalidProps[Polymer.Path.root(prop)]=!0}}}})}if(!this.__instance){this.__instance=new this.__ctor;parentNode.insertBefore(this.__instance.root,this)}else{this.__syncHostProperties();let c$=this.__instance.children;if(c$&&c$.length){let lastChild=this.previousSibling;if(lastChild!==c$[c$.length-1]){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parentNode.insertBefore(n,this)}}}}}return!0}__syncHostProperties(){let props=this.__invalidProps;if(props){for(let prop in props){this.__instance._setPendingProperty(prop,this.__dataHost[prop])}this.__invalidProps=null;this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let c$=this.__instance.children;if(c$&&c$.length){let parent=c$[0].parentNode;for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parent.removeChild(n)}}this.__instance=null;this.__invalidProps=null}}_showHideChildren(){let hidden=this.__hideTemplateChildren__||!this.if;if(this.__instance){this.__instance._showHideChildren(hidden)}}}customElements.define(DomIf.is,DomIf);Polymer.DomIf=DomIf})()},function(module,exports,__webpack_require__){__webpack_require__(30);__webpack_require__(9);__webpack_require__(51);(function(){'use strict';let ArraySelectorMixin=Polymer.dedupingMixin(superClass=>{let elementBase=Polymer.ElementMixin(superClass);class ArraySelectorMixin extends elementBase{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return['__updateSelection(multi, items.*)']}constructor(){super();this.__lastItems=null;this.__lastMulti=null;this.__selectedMap=null}__updateSelection(multi,itemsInfo){let path=itemsInfo.path;if('items'==path){let newItems=itemsInfo.base||[],lastItems=this.__lastItems,lastMulti=this.__lastMulti;if(multi!==lastMulti){this.clearSelection()}if(lastItems){let splices=Polymer.ArraySplice.calculateSplices(newItems,lastItems);this.__applySplices(splices)}this.__lastItems=newItems;this.__lastMulti=multi}else if('items.splices'==itemsInfo.path){this.__applySplices(itemsInfo.value.indexSplices)}else{let part=path.slice(6),idx=parseInt(part,10);if(0>part.indexOf('.')&&part==idx){this.__deselectChangedIdx(idx)}}}__applySplices(splices){let selected=this.__selectedMap;for(let i=0,s;i<splices.length;i++){s=splices[i];selected.forEach((idx,item)=>{if(idx<s.index){}else if(idx>=s.index+s.removed.length){selected.set(item,idx+s.addedCount-s.removed.length)}else{selected.set(item,-1)}});for(let j=0,idx;j<s.addedCount;j++){idx=s.index+j;if(selected.has(this.items[idx])){selected.set(this.items[idx],idx)}}}this.__updateLinks();let sidx=0;selected.forEach((idx,item)=>{if(0>idx){if(this.multi){this.splice('selected',sidx,1)}else{this.selected=this.selectedItem=null}selected.delete(item)}else{sidx++}})}__updateLinks(){this.__dataLinkedPaths={};if(this.multi){let sidx=0;this.__selectedMap.forEach(idx=>{if(0<=idx){this.linkPaths('items.'+idx,'selected.'+sidx++)}})}else{this.__selectedMap.forEach(idx=>{this.linkPaths('selected','items.'+idx);this.linkPaths('selectedItem','items.'+idx)})}}clearSelection(){this.__dataLinkedPaths={};this.__selectedMap=new Map;this.selected=this.multi?[]:null;this.selectedItem=null}isSelected(item){return this.__selectedMap.has(item)}isIndexSelected(idx){return this.isSelected(this.items[idx])}__deselectChangedIdx(idx){let sidx=this.__selectedIndexForItemIndex(idx);if(0<=sidx){let i=0;this.__selectedMap.forEach((idx,item)=>{if(sidx==i++){this.deselect(item)}})}}__selectedIndexForItemIndex(idx){let selected=this.__dataLinkedPaths['items.'+idx];if(selected){return parseInt(selected.slice(9),10)}}deselect(item){let idx=this.__selectedMap.get(item);if(0<=idx){this.__selectedMap.delete(item);let sidx;if(this.multi){sidx=this.__selectedIndexForItemIndex(idx)}this.__updateLinks();if(this.multi){this.splice('selected',sidx,1)}else{this.selected=this.selectedItem=null}}}deselectIndex(idx){this.deselect(this.items[idx])}select(item){this.selectIndex(this.items.indexOf(item))}selectIndex(idx){let item=this.items[idx];if(!this.isSelected(item)){if(!this.multi){this.__selectedMap.clear()}this.__selectedMap.set(item,idx);this.__updateLinks();if(this.multi){this.push('selected',item)}else{this.selected=this.selectedItem=item}}else if(this.toggle){this.deselectIndex(idx)}}}return ArraySelectorMixin});Polymer.ArraySelectorMixin=ArraySelectorMixin;let baseArraySelector=ArraySelectorMixin(Polymer.Element);class ArraySelector extends baseArraySelector{static get is(){return'array-selector'}}customElements.define(ArraySelector.is,ArraySelector);Polymer.ArraySelector=ArraySelector})()},function(module,exports,__webpack_require__){__webpack_require__(111);__webpack_require__(46);(function(){'use strict';const attr='include',CustomStyleInterface=window.ShadyCSS.CustomStyleInterface;class CustomStyle extends HTMLElement{constructor(){super();this._style=null;CustomStyleInterface.addCustomStyle(this)}getStyle(){if(this._style){return this._style}const style=this.querySelector('style');if(!style){return null}this._style=style;const include=style.getAttribute(attr);if(include){style.removeAttribute(attr);style.textContent=Polymer.StyleGather.cssFromModules(include)+style.textContent}if(this.ownerDocument!==window.document){window.document.head.appendChild(this)}return this._style}}window.customElements.define('custom-style',CustomStyle);Polymer.CustomStyle=CustomStyle})()},function(module,exports,__webpack_require__){__webpack_require__(112)},function(){(function(){'use strict';var c=null,f=window.HTMLImports&&window.HTMLImports.whenReady||null,g;function h(a){requestAnimationFrame(function(){f?f(a):(c||(c=new Promise(function(a){g=a}),'complete'===document.readyState?g():document.addEventListener('readystatechange',function(){'complete'===document.readyState&&g()})),c.then(function(){a&&a()}))})}var k=null,l=null;function m(){this.customStyles=[];this.enqueued=!1;h(function(){window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}function n(a){!a.enqueued&&l&&(a.enqueued=!0,h(l))}m.prototype.c=function(a){a.__seenByShadyCSS||(a.__seenByShadyCSS=!0,this.customStyles.push(a),n(this))};m.prototype.b=function(a){if(a.__shadyCSSCachedStyle)return a.__shadyCSSCachedStyle;var b;a.getStyle?b=a.getStyle():b=a;return b};m.prototype.a=function(){for(var a=this.customStyles,b=0,d;b<a.length;b++){d=a[b];if(!d.__shadyCSSCachedStyle){var e=this.b(d);e&&(e=e.__appliedElement||e,k&&k(e),d.__shadyCSSCachedStyle=e)}}return a};m.prototype.addCustomStyle=m.prototype.c;m.prototype.getStyleForCustomStyle=m.prototype.b;m.prototype.processStyles=m.prototype.a;Object.defineProperties(m.prototype,{transformCallback:{get:function(){return k},set:function(a){k=a}},validateCallback:{get:function(){return l},set:function(a){var b=!1;l||(b=!0);l=a;b&&n(this)}}});function p(a,b){for(var d in b)null===d?a.style.removeProperty(d):a.style.setProperty(d,b[d])}var q=!(window.ShadyDOM&&window.ShadyDOM.inUse),r;function t(a){r=a&&a.shimcssproperties?!1:q||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports('box-shadow','0 0 0 var(--foo)'))}window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?r=window.ShadyCSS.nativeCss:window.ShadyCSS?(t(window.ShadyCSS),window.ShadyCSS=void 0):t(window.WebComponents&&window.WebComponents.flags);var u=r,v=new m;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(){},prepareTemplateDom:function(){},prepareTemplateStyles:function(){},styleSubtree:function(a,b){v.a();p(a,b)},styleElement:function(){v.a()},styleDocument:function(a){v.a();p(document.body,a)},getComputedStyleValue:function(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():''},flushCustomStyles:function(){},nativeCss:u,nativeShadow:q});window.ShadyCSS.CustomStyleInterface=v}).call(this)},function(module,exports,__webpack_require__){__webpack_require__(22);(function(){'use strict';let mutablePropertyChange;(()=>{mutablePropertyChange=Polymer.MutableData._mutablePropertyChange})();Polymer.MutableDataBehavior={_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}};Polymer.OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}})()},function(module,exports,__webpack_require__){__webpack_require__(19);__webpack_require__(115);__webpack_require__(116);__webpack_require__(117);const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=paper-spinner> <template strip-whitespace=""> <style include=paper-spinner-styles></style> <div id=spinnerContainer class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend=__reset on-webkit-animation-end=__reset> <div class="spinner-layer layer-1"> <div class="circle-clipper left"></div> <div class="circle-clipper right"></div> </div> <div class="spinner-layer layer-2"> <div class="circle-clipper left"></div> <div class="circle-clipper right"></div> </div> <div class="spinner-layer layer-3"> <div class="circle-clipper left"></div> <div class="circle-clipper right"></div> </div> <div class="spinner-layer layer-4"> <div class="circle-clipper left"></div> <div class="circle-clipper right"></div> </div> </div> </template> </dom-module>');Polymer({is:'paper-spinner',behaviors:[Polymer.PaperSpinnerBehavior]})},function(module,exports,__webpack_require__){__webpack_require__(19);const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.toBody('<custom-style> <style is=custom-style>html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0}</style> </custom-style>')},function(module,exports,__webpack_require__){__webpack_require__(19);Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:'__activeChanged'},alt:{type:String,value:'loading',observer:'__altChanged'},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(active,coolingDown){return[active||coolingDown?'active':'',coolingDown?'cooldown':''].join(' ')},__activeChanged:function(active,old){this.__setAriaHidden(!active);this.__coolingDown=!active&&old},__altChanged:function(alt){if('loading'===alt){this.alt=this.getAttribute('aria-label')||alt}else{this.__setAriaHidden(''===alt);this.setAttribute('aria-label',alt)}},__setAriaHidden:function(hidden){var attr='aria-hidden';if(hidden){this.setAttribute(attr,'true')}else{this.removeAttribute(attr)}},__reset:function(){this.active=!1;this.__coolingDown=!1}}},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=paper-spinner-styles> <template> <style>:host{display:inline-block;position:relative;width:28px;height:28px;--paper-spinner-container-rotation-duration:1568ms;--paper-spinner-expand-contract-duration:1333ms;--paper-spinner-full-cycle-duration:5332ms;--paper-spinner-cooldown-duration:400ms}#spinnerContainer{width:100%;height:100%;direction:ltr}#spinnerContainer.active{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg)}}@keyframes container-rotate{to{transform:rotate(360deg)}}.spinner-layer{position:absolute;width:100%;height:100%;opacity:0;white-space:nowrap;color:var(--paper-spinner-color,var(--google-blue-500))}.layer-1{color:var(--paper-spinner-layer-1-color,var(--google-blue-500))}.layer-2{color:var(--paper-spinner-layer-2-color,var(--google-red-500))}.layer-3{color:var(--paper-spinner-layer-3-color,var(--google-yellow-500))}.layer-4{color:var(--paper-spinner-layer-4-color,var(--google-green-500))}.active .spinner-layer{-webkit-animation-name:fill-unfill-rotate;-webkit-animation-duration:var(--paper-spinner-full-cycle-duration);-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-iteration-count:infinite;animation-name:fill-unfill-rotate;animation-duration:var(--paper-spinner-full-cycle-duration);animation-timing-function:cubic-bezier(.4,0,.2,1);animation-iteration-count:infinite;opacity:1}.active .spinner-layer.layer-1{-webkit-animation-name:fill-unfill-rotate,layer-1-fade-in-out;animation-name:fill-unfill-rotate,layer-1-fade-in-out}.active .spinner-layer.layer-2{-webkit-animation-name:fill-unfill-rotate,layer-2-fade-in-out;animation-name:fill-unfill-rotate,layer-2-fade-in-out}.active .spinner-layer.layer-3{-webkit-animation-name:fill-unfill-rotate,layer-3-fade-in-out;animation-name:fill-unfill-rotate,layer-3-fade-in-out}.active .spinner-layer.layer-4{-webkit-animation-name:fill-unfill-rotate,layer-4-fade-in-out;animation-name:fill-unfill-rotate,layer-4-fade-in-out}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg)}to{-webkit-transform:rotate(1080deg)}}@keyframes fill-unfill-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(1080deg)}}@-webkit-keyframes layer-1-fade-in-out{0%{opacity:1}25%{opacity:1}26%{opacity:0}89%{opacity:0}90%{opacity:1}to{opacity:1}}@keyframes layer-1-fade-in-out{0%{opacity:1}25%{opacity:1}26%{opacity:0}89%{opacity:0}90%{opacity:1}to{opacity:1}}@-webkit-keyframes layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@keyframes layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@-webkit-keyframes layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@keyframes layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@-webkit-keyframes layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:1}90%{opacity:1}to{opacity:0}}@keyframes layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:1}90%{opacity:1}to{opacity:0}}.circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden}.spinner-layer::after{left:45%;width:10%;border-top-style:solid}.circle-clipper::after,.spinner-layer::after{content:\'\';box-sizing:border-box;position:absolute;top:0;border-width:var(--paper-spinner-stroke-width,3px);border-radius:50%}.circle-clipper::after{bottom:0;width:200%;border-style:solid;border-bottom-color:transparent!important}.circle-clipper.left::after{left:0;border-right-color:transparent!important;-webkit-transform:rotate(129deg);transform:rotate(129deg)}.circle-clipper.right::after{left:-100%;border-left-color:transparent!important;-webkit-transform:rotate(-129deg);transform:rotate(-129deg)}.active .circle-clipper::after,.active .gap-patch::after{-webkit-animation-duration:var(--paper-spinner-expand-contract-duration);-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-iteration-count:infinite;animation-duration:var(--paper-spinner-expand-contract-duration);animation-timing-function:cubic-bezier(.4,0,.2,1);animation-iteration-count:infinite}.active .circle-clipper.left::after{-webkit-animation-name:left-spin;animation-name:left-spin}.active .circle-clipper.right::after{-webkit-animation-name:right-spin;animation-name:right-spin}@-webkit-keyframes left-spin{0%{-webkit-transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg)}}@keyframes left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}to{transform:rotate(130deg)}}@-webkit-keyframes right-spin{0%{-webkit-transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg)}}@keyframes right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}to{transform:rotate(-130deg)}}#spinnerContainer.cooldown{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite,fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(.4,0,.2,1);animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite,fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(.4,0,.2,1)}@-webkit-keyframes fade-out{0%{opacity:1}to{opacity:0}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}</style> </template> </dom-module>')},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-startup> <template> <slot name=progress></slot> </template> </dom-module>');__webpack_require__(119)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_util_polyfill_array_includes__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_0_corelib_util_polyfill_array_includes___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_util_polyfill_array_includes__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_polyfill_promise_finally__=__webpack_require__(121),__WEBPACK_IMPORTED_MODULE_1_corelib_util_polyfill_promise_finally___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_corelib_util_polyfill_promise_finally__),__WEBPACK_IMPORTED_MODULE_2_platform__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2_platform___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_platform__),__WEBPACK_IMPORTED_MODULE_3_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4_corelib_controllers__=__webpack_require__(66),__WEBPACK_IMPORTED_MODULE_5_corelib_services_core_init_services__=__webpack_require__(236);class VstCoreStartup extends Polymer.Element{static get is(){return'vst-core-startup'}static get properties(){return{startupController:{type:String},appendTo:{type:String}}}connectedCallback(){super.connectedCallback();console.debug('vst-core-startup connectedCallback');this.controllers=__WEBPACK_IMPORTED_MODULE_4_corelib_controllers__.a;this.services=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a;document.addEventListener('close-app',this._closeWindow);setTimeout(()=>{this.progressEl=this.querySelector('vst-core-progress');if('Chrome'===__WEBPACK_IMPORTED_MODULE_2_platform___default.a.name&&window.chrome.runtime.id&&(__WEBPACK_IMPORTED_MODULE_2_platform___default.a.os.family.includes('OS X')||__WEBPACK_IMPORTED_MODULE_2_platform___default.a.os.family.includes('Windows'))){this._showChromeOnMacWinDialog()}else{this.loadApp()}})}loadApp(){const{progressEl}=this,coreServices=Object(__WEBPACK_IMPORTED_MODULE_5_corelib_services_core_init_services__.a)();__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.start(progressEl,coreServices).then(result=>{progressEl.classList.add('transition-out');window.services=result;window.controllers=__WEBPACK_IMPORTED_MODULE_4_corelib_controllers__.a;this.startupSuccess(coreServices);progressEl.addEventListener('transitionend',event=>{if('background-color'===event.propertyName){this.removeChild(progressEl)}},!1)}).catch(error=>{console.error(`Services Failed to Startup: ${error}`);console.dir(error);let i18n=null;try{i18n=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('i18n')}catch(e){console.log(e)}function getText(message){if(i18n){return i18n.getText(message)}return message}const errorWrapperEl=progressEl.shadowRoot.querySelector('.progress-wrapper');let errorMessageTitleText=getText(`There was a problem encountered while starting the application. <br> ${error.message}`);if(progressEl.serviceLoading){errorMessageTitleText=`${errorMessageTitleText} <br>Service Loading: ${progressEl.serviceLoading}`}let errorDetailsExtendedText=`App Version: ${window.chrome?window.chrome.runtime.getManifest().version:'xxx'}`;errorDetailsExtendedText=`${errorDetailsExtendedText} <br> OS: ${navigator.appVersion}`;if(progressEl.serviceLoading){errorDetailsExtendedText=`${errorDetailsExtendedText}' <br> Service Loading: ${progressEl.serviceLoading}`}if(error.stack){errorDetailsExtendedText=`${errorDetailsExtendedText} <br> Stack: ${error.stack}`}const helpTextEmail=`<a target="_blank" href="mailto:gac@vernier.com?subject=Graphical%20Analysis%20for%20Chrome%20error%20report&body=Support%20Information:%0AGA%20Version: ${window.chrome?window.chrome.runtime.getManifest().version:'xxx'}%0AService:%20${progressEl.serviceLoading}%0AOS:%20${navigator.appVersion}%0AError:%20${encodeURIComponent(error.message)}%0AStack:%20${encodeURIComponent(error.stack)}">gac@vernier.com</a>`,helpText=`<p>${getText('Contact us at')} ${helpTextEmail} ${getText('for assistance.')} </p>`,errorMessage=document.createElement('div'),errorMessageTitle=document.createElement('p'),errorMessageExtended=document.createElement('div');errorMessage.classList.add('error-message');errorMessageTitle.classList.add('error-message-title');errorMessageExtended.classList.add('error-message-extended');errorMessageTitle.innerHTML=errorMessageTitleText;errorMessageExtended.innerHTML=helpText;errorMessage.appendChild(errorMessageTitle);errorMessage.appendChild(errorMessageExtended);errorWrapperEl.appendChild(errorMessage);const errorDetails=document.createElement('details'),errorDetailsSummary=document.createElement('summary'),errorDetailsExtended=document.createElement('div');errorDetails.classList.add('error-message-details');errorDetailsSummary.textContent=getText('Error details');errorDetailsExtended.innerHTML=`<p>${errorDetailsExtendedText}</p>`;errorDetails.appendChild(errorDetailsSummary);errorDetails.appendChild(errorDetailsExtended);errorMessageExtended.appendChild(errorDetails);this.startupFailed(error)})}startupSuccess(coreServices){const template=this.querySelector('template'),appEl=document.importNode(template.content.children[0],!0);appEl.coreServices=coreServices;if(this.startupController){appEl.controllerType=this.startupController}if(this.appendTo){const appendToElement=document.querySelector(this.appendTo);appendToElement.appendChild(appEl)}else{document.body.appendChild(appEl)}const configuration=__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a.get('configuration');if('Chrome'===configuration.platform.name&&window.chrome.runtime.id){appEl.updateStyles({"--chrome-menubar-height":'32px'})}if(this.progressEl){this.progressEl.remove()}this.remove()}_showChromeOnMacWinDialog(){const{progressEl}=this;let simpleOSName;if(__WEBPACK_IMPORTED_MODULE_2_platform___default.a.os.family.includes('OS X')){simpleOSName='macOS'}else if(__WEBPACK_IMPORTED_MODULE_2_platform___default.a.os.family.includes('Windows')){simpleOSName='Windows'}progressEl.errorMsg=`You are running Graphical Analysis as a Chrome Packaged App. Please download the native app for ${simpleOSName}.`;const wrapperEl=progressEl.shadowRoot.querySelector('.progress-wrapper'),downloadBtnEl=document.createElement('button');downloadBtnEl.innerText='Download';downloadBtnEl.classList.add('download-btn');downloadBtnEl.addEventListener('click',()=>{window.open('https://www.vernier.com/products/software/graphical-analysis/','_blank');document.dispatchEvent(new CustomEvent('close-app',{bubbles:!0,composed:!0}))});wrapperEl.appendChild(downloadBtnEl);progressEl.shadowRoot.querySelector('.progress-bar').hidden=!0;document.onkeydown=e=>{const isMetaKeyDown=e.metaKey||e.ctrlKey;if(isMetaKeyDown&&'D'===e.key.toUpperCase()){downloadBtnEl.remove();progressEl.errorMsg='';progressEl.shadowRoot.querySelector('.progress-bar').hidden=!1;this.loadApp()}}}startupFailed(error){console.error(`Error: ${error}`)}_closeWindow(){window.close()}disconnectedCallback(){document.removeEventListener('close-app',this._closeWindow)}}customElements.define(VstCoreStartup.is,VstCoreStartup)},function(){if(!Array.prototype.includes){Array.prototype.includes=function(searchElement){if(null===this){throw new TypeError('Array.prototype.includes called on null or undefined')}const Obj=Object(this),len=parseInt(Obj.length,10)||0;if(0===len){return!1}const n=parseInt(arguments[1],10)||0;let k;if(0<=n){k=n}else{k=len+n;if(0>k){k=0}}let currentElement;while(k<len){currentElement=Obj[k];if(searchElement===currentElement||searchElement!==searchElement&&currentElement!==currentElement){return!0}k++}return!1}}},function(){if(!Promise.prototype.finally){Promise.prototype.finally=function(callback){const p=this.constructor;return this.then(value=>p.resolve(callback()).then(()=>value),reason=>p.resolve(callback()).then(()=>{throw reason}))}}},function(module,__webpack_exports__){'use strict';let timer=window.performance;if(!timer){timer=Date}__webpack_exports__.a=class{constructor(name){this.name=name;this.startTime=0}start(){this.startTime=timer.now()}getTime(){const curTime=timer.now();return curTime-this.startTime}logCurrentTime(){}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services_electron_manifest__=__webpack_require__(124),__WEBPACK_IMPORTED_MODULE_1_corelib_services_ga_configuration__=__webpack_require__(125),__WEBPACK_IMPORTED_MODULE_2_corelib_services_web_i18n__=__webpack_require__(126),__WEBPACK_IMPORTED_MODULE_3_corelib_services_electron_startup_file_handler__=__webpack_require__(128),__WEBPACK_IMPORTED_MODULE_4_corelib_services_ga_sensor_map__=__webpack_require__(131),__WEBPACK_IMPORTED_MODULE_5_corelib_services_ga_sensor_world__=__webpack_require__(132),__WEBPACK_IMPORTED_MODULE_6_corelib_services_ga_data_world__=__webpack_require__(136),__WEBPACK_IMPORTED_MODULE_7_corelib_services_core_toast__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_8_corelib_services_core_viewprefs__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_9_corelib_services_core_vstanalysis__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_10_corelib_services_ga_data_analysis__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_11_corelib_services_core_dc_rpc__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_12_corelib_services_core_datacollection__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_13_corelib_services_core_datacollection_init__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_14_corelib_services_electron_filesystem__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_15_corelib_services_electron_file_io__=__webpack_require__(176),__WEBPACK_IMPORTED_MODULE_16_corelib_services_ga_session_file_manager__=__webpack_require__(179),__WEBPACK_IMPORTED_MODULE_17_corelib_services_electron_power__=__webpack_require__(183),__WEBPACK_IMPORTED_MODULE_18_corelib_services_electron_app_metadata__=__webpack_require__(184),__WEBPACK_IMPORTED_MODULE_19_corelib_services_electron_ds_source_discovery__=__webpack_require__(185),__WEBPACK_IMPORTED_MODULE_20_corelib_services_core_ally__=__webpack_require__(186),__WEBPACK_IMPORTED_MODULE_21_corelib_services_core_enabled_content__=__webpack_require__(187),__WEBPACK_IMPORTED_MODULE_22_corelib_services_electron_usb__=__webpack_require__(189),__WEBPACK_IMPORTED_MODULE_23_corelib_services_core_popover_manager__=__webpack_require__(190),__WEBPACK_IMPORTED_MODULE_24_corelib_services_core_view_manager__=__webpack_require__(194),__WEBPACK_IMPORTED_MODULE_25_corelib_services_core_device_manager__=__webpack_require__(196),__WEBPACK_IMPORTED_MODULE_26_corelib_services_electron_app_update__=__webpack_require__(202),__WEBPACK_IMPORTED_MODULE_27_corelib_services_electron_background_page_comm__=__webpack_require__(204),__WEBPACK_IMPORTED_MODULE_28_corelib_services_electron_accessibility__=__webpack_require__(205),__WEBPACK_IMPORTED_MODULE_29_corelib_services_electron_grpc_service__=__webpack_require__(206);const serviceMap={startUp:[{"app-manifest":__WEBPACK_IMPORTED_MODULE_0_corelib_services_electron_manifest__.a},{configuration:__WEBPACK_IMPORTED_MODULE_1_corelib_services_ga_configuration__.a},{i18n:__WEBPACK_IMPORTED_MODULE_2_corelib_services_web_i18n__.a},{toast:__WEBPACK_IMPORTED_MODULE_7_corelib_services_core_toast__.a},{"app-metadata":__WEBPACK_IMPORTED_MODULE_18_corelib_services_electron_app_metadata__.a},{"startup-file-handler":__WEBPACK_IMPORTED_MODULE_3_corelib_services_electron_startup_file_handler__.a},{"file-io":__WEBPACK_IMPORTED_MODULE_15_corelib_services_electron_file_io__.a},{filesystem:__WEBPACK_IMPORTED_MODULE_14_corelib_services_electron_filesystem__.a},{"grpc-service":__WEBPACK_IMPORTED_MODULE_29_corelib_services_electron_grpc_service__.a},{"dc-rpc":__WEBPACK_IMPORTED_MODULE_11_corelib_services_core_dc_rpc__.a},{analysis:__WEBPACK_IMPORTED_MODULE_9_corelib_services_core_vstanalysis__.a},{"data-collection":__WEBPACK_IMPORTED_MODULE_12_corelib_services_core_datacollection__.a},{viewprefs:__WEBPACK_IMPORTED_MODULE_8_corelib_services_core_viewprefs__.a},{"session-file-manager":__WEBPACK_IMPORTED_MODULE_16_corelib_services_ga_session_file_manager__.a},{"sensor-map":__WEBPACK_IMPORTED_MODULE_4_corelib_services_ga_sensor_map__.a},{power:__WEBPACK_IMPORTED_MODULE_17_corelib_services_electron_power__.a},{"sensor-world":__WEBPACK_IMPORTED_MODULE_5_corelib_services_ga_sensor_world__.a},{"data-world":__WEBPACK_IMPORTED_MODULE_6_corelib_services_ga_data_world__.a},{"data-analysis":__WEBPACK_IMPORTED_MODULE_10_corelib_services_ga_data_analysis__.a},{"ds-source-discovery":__WEBPACK_IMPORTED_MODULE_19_corelib_services_electron_ds_source_discovery__.a},{"device-manager":__WEBPACK_IMPORTED_MODULE_25_corelib_services_core_device_manager__.a},{"data-collection_init":__WEBPACK_IMPORTED_MODULE_13_corelib_services_core_datacollection_init__.a},{ally:__WEBPACK_IMPORTED_MODULE_20_corelib_services_core_ally__.a},{"enabled-content":__WEBPACK_IMPORTED_MODULE_21_corelib_services_core_enabled_content__.a},{usb:__WEBPACK_IMPORTED_MODULE_22_corelib_services_electron_usb__.a},{"popover-manager":__WEBPACK_IMPORTED_MODULE_23_corelib_services_core_popover_manager__.a},{"app-update":__WEBPACK_IMPORTED_MODULE_26_corelib_services_electron_app_update__.a},{"background-page-comm":__WEBPACK_IMPORTED_MODULE_27_corelib_services_electron_background_page_comm__.a},{"view-manager":__WEBPACK_IMPORTED_MODULE_24_corelib_services_core_view_manager__.a},{accessibility:__WEBPACK_IMPORTED_MODULE_28_corelib_services_electron_accessibility__.a}],weights:{analysis:90,"dc-rpc":100}};__webpack_exports__.a=serviceMap},function(module,__webpack_exports__,__webpack_require__){'use strict';const{app}=__webpack_require__(10).remote;class Manifest{getManifest(){throw new Error('getManifest() not implemented on electron')}get defaultLocale(){return app.getLocale()}get appVersion(){return app.getVersion()}get appName(){return app.getName()}get appShortName(){const nameParts=app.getName().match(/.*(Vernier.*?)([a-zA-Z].*)(Analysis.*)/),appShortName=nameParts&&0<nameParts.length?nameParts[2].trim():app.getName();return appShortName}}const manifest={async start(){return new Manifest},async stop(){return!0}};__webpack_exports__.a=manifest},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_platform__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_0_platform___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_platform__);const configObj={get platform(){return __WEBPACK_IMPORTED_MODULE_0_platform___default.a},get app(){return'ga'}},configuration={start(){return new Promise((resolve,reject)=>{try{resolve(configObj)}catch(error){reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=configuration},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_i18n_i18n_vst__=__webpack_require__(127);const i18n={start(){return new Promise((resolve,reject)=>{__WEBPACK_IMPORTED_MODULE_0_corelib_i18n_i18n_vst__.a.setLanguageToBrowserLang().then(()=>{resolve(__WEBPACK_IMPORTED_MODULE_0_corelib_i18n_i18n_vst__.a)},reject)})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=i18n},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_http__=__webpack_require__(15);const decimal=(+1.1).toLocaleString().substring(1,2),availableLangs=['ca','cs','da','de','el','en','es','et','fi','fr','id','it','ja','ko','lv','lt','nb','nl','pl','pt','ro','ru','sk','sl','sv','th','tr','uk','zh-CN','zh-TW'];let[language,locale]=navigator.language.split('-').map((value,index)=>index?value.toUpperCase():value.toLowerCase()),languageCode=`${language}-${locale}`,strings={};function getStringsFilePath(lang){return`strings/${lang}/messages.json`}__webpack_exports__.a={setLanguageToBrowserLang:()=>{const matchingLocales=availableLangs.filter(code=>code.startsWith(language)),languageKey=matchingLocales.find(code=>code===languageCode)||matchingLocales[0]||'en',stringsFile=getStringsFilePath(languageKey);return __WEBPACK_IMPORTED_MODULE_0_corelib_util_http__.a.get(stringsFile).then(response=>{strings=JSON.parse(response);return{source:stringsFile,strings}})},getLanguage:()=>{return language},getLocale:()=>{return locale},getLanguageCode:()=>{return languageCode},getText:(key,context='general')=>{let message=key;if(strings&&strings[context][key]){message=strings[context][key].message||key}return message},getDecimalSeparator:()=>{return decimal},parseFloatLocale:value=>{if('string'===typeof value&&'.'!==decimal){value=value.replace(decimal,'.')}return parseFloat(value)}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_fileio_fileio_helpers__=__webpack_require__(32);const{ipcRenderer}=__webpack_require__(10),fs=__webpack_require__(33),path=__webpack_require__(53);let _startFileData=null;class StartupFileHandler{constructor(){ipcRenderer.send('check-start-file');ipcRenderer.on('startup-filepath',(event,message)=>{this.processStartFile(message)})}processStartFile(filepath){if(filepath){fs.readFile(filepath,'utf-8',(err,data)=>{if(err){console.error(err)}else{const name=path.basename(filepath),file=new File([data],name,{type:Object(__WEBPACK_IMPORTED_MODULE_1_corelib_fileio_fileio_helpers__.b)()});_startFileData={file,filepath};this.trigger('new-start-file',_startFileData)}})}}get startFileData(){return _startFileData}}Object.assign(StartupFileHandler.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events);const startupFileHandler={start(){return new Promise(resolve=>{resolve(new StartupFileHandler)})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=startupFileHandler},function(module,exports){var _Mathmax5=Math.max,_Mathfloor2=Math.floor,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){var root=this,previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create,Ctor=function(){},_=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};if('undefined'!==typeof module&&module.exports){exports=module.exports=_}exports._=_;_.VERSION='1.8.3';var optimizeCb=function(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)};}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){if(null==value)return _.identity;if(_.isFunction(value))return optimizeCb(value,context,argCount);if(_.isObject(value))return _.matcher(value);return _.property(value)};_.iteratee=function(value,context){return cb(value,context,Infinity)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(2>length||null==obj)return obj;for(var index=1;index<length;index++){for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0,key;i<l;i++){key=keys[i];if(!undefinedOnly||void 0===obj[key])obj[key]=source[key]}}return obj}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;Ctor.prototype=null;return result},property=function(key){return function(obj){return null==obj?void 0:obj[key]}},getLength=property('length'),isArrayLike=function(collection){var length=getLength(collection);return'number'==typeof length&&0<=length&&length<=9007199254740991};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj)){for(i=0,length=obj.length;i<length;i++){iteratee(obj[i],i,obj)}}else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++){iteratee(obj[keys[i]],keys[i],obj)}}return obj};_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length),index=0,currentKey;index<length;index++){currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results};function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;0<=index&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0<dir?0:length-1;if(3>arguments.length){memo=obj[keys?keys[index]:index];index+=dir}return iterator(obj,iteratee,memo,keys,index,length)}}_.reduce=_.foldl=_.inject=createReduce(1);_.reduceRight=_.foldr=createReduce(-1);_.find=_.detect=function(obj,predicate,context){var key;if(isArrayLike(obj)){key=_.findIndex(obj,predicate,context)}else{key=_.findKey(obj,predicate,context)}if(void 0!==key&&-1!==key)return obj[key]};_.filter=_.select=function(obj,predicate,context){var results=[];predicate=cb(predicate,context);_.each(obj,function(value,index,list){if(predicate(value,index,list))results.push(value)});return results};_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)};_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0,currentKey;index<length;index++){currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0};_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0,currentKey;index<length;index++){currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1};_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){if(!isArrayLike(obj))obj=_.values(obj);if('number'!=typeof fromIndex||guard)fromIndex=0;return 0<=_.indexOf(obj,item,fromIndex)};_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return null==func?func:func.apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,_.property(key))};_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))};_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))};_.max=function(obj,iteratee,context){var result=-Infinity,lastComputed=-Infinity,value,computed;if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value>result){result=value}}}else{iteratee=cb(iteratee,context);_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed>lastComputed||computed===-Infinity&&result===-Infinity){result=value;lastComputed=computed}})}return result};_.min=function(obj,iteratee,context){var result=Infinity,lastComputed=Infinity,value,computed;if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value<result){result=value}}}else{iteratee=cb(iteratee,context);_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed<lastComputed||computed===Infinity&&result===Infinity){result=value;lastComputed=computed}})}return result};_.shuffle=function(obj){for(var set=isArrayLike(obj)?obj:_.values(obj),length=set.length,shuffled=Array(length),index=0,rand;index<length;index++){rand=_.random(0,index);if(rand!==index)shuffled[index]=shuffled[rand];shuffled[rand]=set[index]}return shuffled};_.sample=function(obj,n,guard){if(null==n||guard){if(!isArrayLike(obj))obj=_.values(obj);return obj[_.random(obj.length-1)]}return _.shuffle(obj).slice(0,_Mathmax5(0,n))};_.sortBy=function(obj,iteratee,context){iteratee=cb(iteratee,context);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),'value')};var group=function(behavior){return function(obj,iteratee,context){var result={};iteratee=cb(iteratee,context);_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)});return result}};_.groupBy=group(function(result,value,key){if(_.has(result,key))result[key].push(value);else result[key]=[value]});_.indexBy=group(function(result,value,key){result[key]=value});_.countBy=group(function(result,value,key){if(_.has(result,key))result[key]++;else result[key]=1});_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(isArrayLike(obj))return _.map(obj,_.identity);return _.values(obj)};_.size=function(obj){if(null==obj)return 0;return isArrayLike(obj)?obj.length:_.keys(obj).length};_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];_.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)});return[pass,fail]};_.first=_.head=_.take=function(array,n,guard){if(null==array)return;if(null==n||guard)return array[0];return _.initial(array,array.length-n)};_.initial=function(array,n,guard){return slice.call(array,0,_Mathmax5(0,array.length-(null==n||guard?1:n)))};_.last=function(array,n,guard){if(null==array)return;if(null==n||guard)return array[array.length-1];return _.rest(array,_Mathmax5(0,array.length-n))};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)};_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){for(var output=[],idx=0,i=startIndex||0,length=getLength(input),value;i<length;i++){value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){if(!shallow)value=flatten(value,shallow,strict);var j=0,len=value.length;output.length+=len;while(j<len){output[idx++]=value[j++]}}else if(!strict){output[idx++]=value}}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iteratee,context){if(!_.isBoolean(isSorted)){context=iteratee;iteratee=isSorted;isSorted=!1}if(null!=iteratee)iteratee=cb(iteratee,context);for(var result=[],seen=[],i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;if(isSorted){if(!i||seen!==computed)result.push(value);seen=computed}else if(iteratee){if(!_.contains(seen,computed)){seen.push(computed);result.push(value)}}else if(!_.contains(result,value)){result.push(value)}}return result};_.union=function(){return _.uniq(flatten(arguments,!0,!0))};_.intersection=function(array){for(var result=[],argsLength=arguments.length,i=0,length=getLength(array),item;i<length;i++){item=array[i];if(_.contains(result,item))continue;for(var j=1;j<argsLength;j++){if(!_.contains(arguments[j],item))break}if(j===argsLength)result.push(item)}return result};_.difference=function(array){var rest=flatten(arguments,!0,!0,1);return _.filter(array,function(value){return!_.contains(rest,value)})};_.zip=function(){return _.unzip(arguments)};_.unzip=function(array){for(var length=array&&_.max(array,getLength).length||0,result=Array(length),index=0;index<length;index++){result[index]=_.pluck(array,index)}return result};_.object=function(list,values){for(var result={},i=0,length=getLength(list);i<length;i++){if(values){result[list[i]]=values[i]}else{result[list[i][0]]=list[i][1]}}return result};function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);var length=getLength(array),index=0<dir?0:length-1;for(;0<=index&&index<length;index+=dir){if(predicate(array[index],index,array))return index}return-1}}_.findIndex=createPredicateIndexFinder(1);_.findLastIndex=createPredicateIndexFinder(-1);_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);var value=iteratee(obj),low=0,high=getLength(array);while(low<high){var mid=_Mathfloor2((low+high)/2);if(iteratee(array[mid])<value)low=mid+1;else high=mid}return low};function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if('number'==typeof idx){if(0<dir){i=0<=idx?idx:_Mathmax5(idx+length,i)}else{length=0<=idx?Math.min(idx+1,length):idx+length+1}}else if(sortedIndex&&idx&&length){idx=sortedIndex(array,item);return array[idx]===item?idx:-1}if(item!==item){idx=predicateFind(slice.call(array,i,length),_.isNaN);return 0<=idx?idx+i:-1}for(idx=0<dir?i:length-1;0<=idx&&idx<length;idx+=dir){if(array[idx]===item)return idx}return-1}}_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex);_.lastIndexOf=createIndexFinder(-1,_.findLastIndex);_.range=function(start,stop,step){if(null==stop){stop=start||0;start=0}step=step||1;for(var length=_Mathmax5(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;idx<length;idx++,start+=step){range[idx]=start}return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);if(_.isObject(result))return result;return self};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError('Bind must be called on a function');var args=slice.call(arguments,2),bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound};_.partial=function(func){var boundArgs=slice.call(arguments,1),bound=function(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;i<length;i++){args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i]}while(position<arguments.length)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound};_.bindAll=function(obj){var i,length=arguments.length,key;if(1>=length)throw new Error('bindAll must be passed function names');for(i=1;i<length;i++){key=arguments[i];obj[key]=_.bind(obj[key],obj)}return obj};_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=''+(hasher?hasher.apply(this,arguments):key);if(!_.has(cache,address))cache[address]=func.apply(this,arguments);return cache[address]};memoize.cache={};return memoize};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=_.partial(_.delay,_,1);_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;if(!options)options={};var later=function(){previous=!1===options.leading?0:_.now();timeout=null;result=func.apply(context,args);if(!timeout)context=args=null};return function(){var now=_.now();if(!previous&&!1===options.leading)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(0>=remaining||remaining>wait){if(timeout){clearTimeout(timeout);timeout=null}previous=now;result=func.apply(context,args);if(!timeout)context=args=null}else if(!timeout&&!1!==options.trailing){timeout=setTimeout(later,remaining)}return result}};_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;if(last<wait&&0<=last){timeout=setTimeout(later,wait-last)}else{timeout=null;if(!immediate){result=func.apply(context,args);if(!timeout)context=args=null}}};return function(){context=this;args=arguments;timestamp=_.now();var callNow=immediate&&!timeout;if(!timeout)timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args);context=args=null}return result}};_.wrap=function(func,wrapper){return _.partial(wrapper,func)};_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}};_.compose=function(){var args=arguments,start=args.length-1;return function(){var i=start,result=args[start].apply(this,arguments);while(i--)result=args[i].call(this,result);return result}};_.after=function(times,func){return function(){if(1>--times){return func.apply(this,arguments)}}};_.before=function(times,func){var memo;return function(){if(0<--times){memo=func.apply(this,arguments)}if(1>=times)func=null;return memo}};_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable('toString'),nonEnumerableProps=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'];function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop='constructor';if(_.has(obj,prop)&&!_.contains(keys,prop))keys.push(prop);while(nonEnumIdx--){prop=nonEnumerableProps[nonEnumIdx];if(prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)){keys.push(prop)}}}_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)if(_.has(obj,key))keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys};_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys};_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;i<length;i++){values[i]=obj[keys[i]]}return values};_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=_.keys(obj),length=keys.length,results={},currentKey,index=0;index<length;index++){currentKey=keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj)}return results};_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;i<length;i++){pairs[i]=[keys[i],obj[keys[i]]]}return pairs};_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++){result[obj[keys[i]]]=keys[i]}return result};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=createAssigner(_.allKeys);_.extendOwn=_.assign=createAssigner(_.keys);_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=_.keys(obj),key,i=0,length=keys.length;i<length;i++){key=keys[i];if(predicate(obj[key],key,obj))return key}};_.pick=function(object,oiteratee,context){var result={},obj=object,iteratee,keys;if(null==obj)return result;if(_.isFunction(oiteratee)){keys=_.allKeys(obj);iteratee=optimizeCb(oiteratee,context)}else{keys=flatten(arguments,!1,!1,1);iteratee=function(value,key,obj){return key in obj};obj=Object(obj)}for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];if(iteratee(value,key,obj))result[key]=value}return result};_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee)){iteratee=_.negate(iteratee)}else{var keys=_.map(flatten(arguments,!1,!1,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)};_.defaults=createAssigner(_.allKeys,!0);_.create=function(prototype,props){var result=baseCreate(prototype);if(props)_.extendOwn(result,props);return result};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(null==object)return!length;for(var obj=Object(object),i=0,key;i<length;i++){key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case'[object RegExp]':case'[object String]':return''+a===''+b;case'[object Number]':if(+a!==+a)return+b!==+b;return 0===+a?1/+a===1/b:+a===+b;case'[object Date]':case'[object Boolean]':return+a===+b;}var areArrays='[object Array]'===className;if(!areArrays){if('object'!=typeof a||'object'!=typeof b)return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&'constructor'in a&&'constructor'in b){return!1}}aStack=aStack||[];bStack=bStack||[];var length=aStack.length;while(length--){if(aStack[length]===a)return bStack[length]===b}aStack.push(a);bStack.push(b);if(areArrays){length=a.length;if(length!==b.length)return!1;while(length--){if(!eq(a[length],b[length],aStack,bStack))return!1}}else{var keys=_.keys(a),key;length=keys.length;if(_.keys(b).length!==length)return!1;while(length--){key=keys[length];if(!(_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))return!1}}aStack.pop();bStack.pop();return!0};_.isEqual=function(a,b){return eq(a,b)};_.isEmpty=function(obj){if(null==obj)return!0;if(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj)))return 0===obj.length;return 0===_.keys(obj).length};_.isElement=function(obj){return!!(obj&&1===obj.nodeType)};_.isArray=nativeIsArray||function(obj){return'[object Array]'===toString.call(obj)};_.isObject=function(obj){var type=typeof obj;return'function'===type||'object'===type&&!!obj};_.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(name){_['is'+name]=function(obj){return toString.call(obj)==='[object '+name+']'}});if(!_.isArguments(arguments)){_.isArguments=function(obj){return _.has(obj,'callee')}}if('function'!=typeof /./&&'object'!=typeof Int8Array){_.isFunction=function(obj){return'function'==typeof obj||!1}}_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))};_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj};_.isBoolean=function(obj){return!0===obj||!1===obj||'[object Boolean]'===toString.call(obj)};_.isNull=function(obj){return null===obj};_.isUndefined=function(obj){return void 0===obj};_.has=function(obj,key){return null!=obj&&hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.constant=function(value){return function(){return value}};_.noop=function(){};_.property=property;_.propertyOf=function(obj){return null==obj?function(){}:function(key){return obj[key]}};_.matcher=_.matches=function(attrs){attrs=_.extendOwn({},attrs);return function(obj){return _.isMatch(obj,attrs)}};_.times=function(n,iteratee,context){var accum=Array(_Mathmax5(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum};_.random=function(min,max){if(null==max){max=min;min=0}return min+_Mathfloor2(Math.random()*(max-min+1))};_.now=Date.now||function(){return new Date().getTime()};var escapeMap={"&":'&amp;',"<":'&lt;',">":'&gt;','"':'&quot;',"'":'&#x27;',"`":'&#x60;'},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source='(?:'+_.keys(map).join('|')+')',testRegexp=RegExp(source),replaceRegexp=RegExp(source,'g');return function(string){string=null==string?'':''+string;return testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap);_.unescape=createEscaper(unescapeMap);_.result=function(object,property,fallback){var value=null==object?void 0:object[property];if(void 0===value){value=fallback}return _.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+'';return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":'\'',"\\":'\\',"\r":'r',"\n":'n',"\u2028":'u2028',"\u2029":'u2029'},escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return'\\'+escapes[match]};_.template=function(text,settings,oldSettings){if(!settings&&oldSettings)settings=oldSettings;settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join('|')+'|$','g'),index=0,source='__p+=\'';text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,escapeChar);index=offset+match.length;if(escape){source+='\'+\n((__t=('+escape+'))==null?\'\':_.escape(__t))+\n\''}else if(interpolate){source+='\'+\n((__t=('+interpolate+'))==null?\'\':__t)+\n\''}else if(evaluate){source+='\';\n'+evaluate+'\n__p+=\''}return match});source+='\';\n';if(!settings.variable)source='with(obj||{}){\n'+source+'}\n';source='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+source+'return __p;\n';try{var render=new Function(settings.variable||'obj','_',source)}catch(e){e.source=source;throw e}var template=function(data){return render.call(this,data,_)},argument=settings.variable||'obj';template.source='function('+argument+'){\n'+source+'}';return template};_.chain=function(obj){var instance=_(obj);instance._chain=!0;return instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result(this,func.apply(_,args))}})};_.mixin(_);_.each(['pop','push','reverse','shift','sort','splice','unshift'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if(('shift'===name||'splice'===name)&&0===obj.length)delete obj[0];return result(this,obj)}});_.each(['concat','join','slice'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}});_.prototype.value=function(){return this._wrapped};_.prototype.valueOf=_.prototype.toJSON=_.prototype.value;_.prototype.toString=function(){return''+this._wrapped};!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)},function(module,exports){var _StringfromCharCode2=String.fromCharCode,_Mathmax6=Math.max,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */(function(global,factory){if('object'===typeof module&&'object'===typeof module.exports){module.exports=global.document?factory(global,!0):function(w){if(!w.document){throw new Error('jQuery requires a window with a document')}return factory(w)}}else{factory(global)}})('undefined'!==typeof window?window:this,function(window,noGlobal){var arr=[],document=window.document,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},version='2.2.4',jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:'',length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(0<=j&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;if('boolean'===typeof target){deep=target;target=arguments[i]||{};i++}if('object'!==typeof target&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if(null!=(options=arguments[i])){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=!1;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==void 0){target[name]=copy}}}}return target};jQuery.extend({expando:'jQuery'+(version+Math.random()).replace(/\D/g,''),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return'function'===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&0<=realStringObj-parseFloat(realStringObj)+1},isPlainObject:function(obj){if('object'!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)){return!1}if(obj.constructor&&!hasOwn.call(obj,'constructor')&&!hasOwn.call(obj.constructor.prototype||{},'isPrototypeOf')){return!1}for(var key in obj){}return key===void 0||hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return!1}return!0},type:function(obj){if(null==obj){return obj+''}return'object'===typeof obj||'function'===typeof obj?class2type[toString.call(obj)]||'object':typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(1===code.indexOf('use strict')){script=document.createElement('script');script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,'ms-').replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(!1===callback.call(obj[i],i,obj[i])){break}}}else{for(i in obj){if(!1===callback.call(obj[i],i,obj[i])){break}}}return obj},trim:function(text){return null==text?'':(text+'').replace(rtrim,'')},makeArray:function(arr,results){var ret=results||[];if(null!=arr){if(isArrayLike(Object(arr))){jQuery.merge(ret,'string'===typeof arr?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==!invert){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(null!=value){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(null!=value){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if('string'===typeof context){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});if('function'===typeof Symbol){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]}jQuery.each(['Boolean','Number','String','Function','Array','Date','RegExp','Object','Error','Symbol'],function(i,name){class2type['[object '+name+']']=name.toLowerCase()});function isArrayLike(obj){var length=!!obj&&'length'in obj&&obj.length,type=jQuery.type(obj);if('function'===type||jQuery.isWindow(obj)){return!1}return'array'===type||0===length||'number'===typeof length&&0<length&&length-1 in obj}var Sizzle=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando='sizzle'+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=!0}return 0},MAX_NEGATIVE=-2147483648,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return-1},booleans='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',whitespace='[\\x20\\t\\r\\n\\f]',identifier='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+',rwhitespace=/[\x20\t\r\n\f]+/g,rtrim=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,rcomma=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,rcombinators=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,rattributeQuotes=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,rpseudo=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,ridentifier=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,matchExpr={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,funescape=function(_,escaped,escapedWhitespace){var high='0x'+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?_StringfromCharCode2(high+65536):_StringfromCharCode2(55296|high>>10,56320|1023&high)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if('string'!==typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType){return results}if(!seed){if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;if(documentIsHTML){if(11!==nodeType&&(match=rquickExpr.exec(selector))){if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m)){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&!compilerCache[selector+' ']&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(1!==nodeType){newContext=context;newSelector=selector}else if('object'!==context.nodeName.toLowerCase()){if(nid=context.getAttribute('id')){nid=nid.replace(rescape,'\\$&')}else{context.setAttribute('id',nid=expando)}groups=tokenize(selector);i=groups.length;nidselect=ridentifier.test(nid)?'#'+nid:'[id=\''+nid+'\']';while(i--){groups[i]=nidselect+' '+toSelector(groups[i])}newSelector=groups.join(',');newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(nid===expando){context.removeAttribute('id')}}}}}}return select(selector.replace(rtrim,'$1'),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+' ')>Expr.cacheLength){delete cache[keys.shift()]}return cache[key+' ']=value}return cache}function markFunction(fn){fn[expando]=!0;return fn}function assert(fn){var div=document.createElement('div');try{return!!fn(div)}catch(e){return!1}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split('|'),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return'input'===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return('input'===name||'button'===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&'undefined'!==typeof context.getElementsByTagName&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?'HTML'!==documentElement.nodeName:!1};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||9!==doc.nodeType||!doc.documentElement){return document}document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if((parent=document.defaultView)&&parent.top!==parent){if(parent.addEventListener){parent.addEventListener('unload',unloadHandler,!1)}else if(parent.attachEvent){parent.attachEvent('onunload',unloadHandler)}}support.attributes=assert(function(div){div.className='i';return!div.getAttribute('className')});support.getElementsByTagName=assert(function(div){div.appendChild(document.createComment(''));return!div.getElementsByTagName('*').length});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length});if(support.getById){Expr.find.ID=function(id,context){if('undefined'!==typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}};Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute('id')===attrId}}}else{delete Expr.find.ID;Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node='undefined'!==typeof elem.getAttributeNode&&elem.getAttributeNode('id');return node&&node.value===attrId}}}Expr.find.TAG=support.getElementsByTagName?function(tag,context){if('undefined'!==typeof context.getElementsByTagName){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if('*'===tag){while(elem=results[i++]){if(1===elem.nodeType){tmp.push(elem)}}return tmp}return results};Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if('undefined'!==typeof context.getElementsByClassName&&documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(document.querySelectorAll)){assert(function(div){docElem.appendChild(div).innerHTML='<a id=\''+expando+'\'></a><select id=\''+expando+'-\r\\\' msallowcapture=\'\'><option selected=\'\'></option></select>';if(div.querySelectorAll('[msallowcapture^=\'\']').length){rbuggyQSA.push('[*^$]='+whitespace+'*(?:\'\'|"")')}if(!div.querySelectorAll('[selected]').length){rbuggyQSA.push('\\['+whitespace+'*(?:value|'+booleans+')')}if(!div.querySelectorAll('[id~='+expando+'-]').length){rbuggyQSA.push('~=')}if(!div.querySelectorAll(':checked').length){rbuggyQSA.push(':checked')}if(!div.querySelectorAll('a#'+expando+'+*').length){rbuggyQSA.push('.#.+[+~]')}});assert(function(div){var input=document.createElement('input');input.setAttribute('type','hidden');div.appendChild(input).setAttribute('name','D');if(div.querySelectorAll('[name=d]').length){rbuggyQSA.push('name'+whitespace+'*[*^$|!~]?=')}if(!div.querySelectorAll(':enabled').length){rbuggyQSA.push(':enabled',':disabled')}div.querySelectorAll('*,:x');rbuggyQSA.push(',.*:')})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,'div');matches.call(div,'[s!=\'\']:x');rbuggyMatches.push('!=',':('+identifier+')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|'+('\\['+whitespace+'*('+identifier+')(?:'+whitespace+'*([*^$|!~]?=)'+whitespace+'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+identifier+'))|)'+whitespace+'*\\]')+')*)|.*)\\)|)')})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join('|'));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join('|'));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&1===bup.nodeType&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return!0}}}return!1};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=!0;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}return 4&compare?-1:1}:function(a,b){if(a===b){hasDuplicate=!0;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return document};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,'=\'$1\']');if(support.matchesSelector&&documentIsHTML&&!compilerCache[expr+' ']&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType){return ret}}catch(e){}}return 0<Sizzle(expr,document,null,[elem]).length};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return val!==void 0?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error('Syntax error, unrecognized expression: '+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret='',i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(1===nodeType||9===nodeType||11===nodeType){if('string'===typeof elem.textContent){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(3===nodeType||4===nodeType){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:'parentNode',first:!0}," ":{dir:'parentNode'},"+":{dir:'previousSibling',first:!0},"~":{dir:'previousSibling'}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||'').replace(runescape,funescape);if('~='===match[2]){match[3]=' '+match[3]+' '}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if('nth'===match[1].slice(0,3)){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*('even'===match[3]||'odd'===match[3]));match[5]=+(match[7]+match[8]||'odd'===match[3])}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr.CHILD.test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||''}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(')',unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return'*'===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+' '];return pattern||(pattern=new RegExp('(^|'+whitespace+')'+className+'('+whitespace+'|$)'))&&classCache(className,function(elem){return pattern.test('string'===typeof elem.className&&elem.className||'undefined'!==typeof elem.getAttribute&&elem.getAttribute('class')||'')})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(null==result){return'!='===operator}if(!operator){return!0}result+='';return'='===operator?result===check:'!='===operator?result!==check:'^='===operator?check&&0===result.indexOf(check):'*='===operator?check&&-1<result.indexOf(check):'$='===operator?check&&result.slice(-check.length)===check:'~='===operator?-1<(' '+result.replace(rwhitespace,' ')+' ').indexOf(check):'|='===operator?result===check||result.slice(0,check.length+1)===check+'-':!1}},CHILD:function(type,what,argument,first,last){var simple='nth'!==type.slice(0,3),forward='last'!==type.slice(-4),ofType='of-type'===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?'nextSibling':'previousSibling',parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType){return!1}}start=dir='only'===type&&!start&&'nextSibling'}return!0}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex}if(!1===diff){while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff]}if(node===elem){break}}}}}diff-=last;return diff===first||0===diff%first&&0<=diff/first}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error('unsupported pseudo: '+pseudo);if(fn[expando]){return fn(argument)}if(1<fn.length){args=[pseudo,pseudo,'',argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,'$1'));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),has:markFunction(function(selector){return function(elem){return 0<Sizzle(selector,elem).length}}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return-1<(elem.textContent||elem.innerText||getText(elem)).indexOf(text)}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||'')){Sizzle.error('unsupported lang: '+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute('xml:lang')||elem.getAttribute('lang')){elemLang=elemLang.toLowerCase();return elemLang===lang||0===elemLang.indexOf(lang+'-')}}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return!1===elem.disabled},disabled:function(elem){return!0===elem.disabled},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return'input'===nodeName&&!!elem.checked||'option'===nodeName&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(6>elem.nodeType){return!1}}return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return'input'===name&&'button'===elem.type||'button'===name},text:function(elem){var attr;return'input'===elem.nodeName.toLowerCase()&&'text'===elem.type&&(null==(attr=elem.getAttribute('type'))||'text'===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=0>argument?argument+length:argument;for(;0<=--i;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=0>argument?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:!0,reset:!0}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+' '];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=!1;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim,' ')});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector='';for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&'parentNode'===dir,doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(1===elem.nodeType||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(1===elem.nodeType||checkNonElements){if(matcher(elem,context,xml)){return!0}}}}else{while(elem=elem[dir]){if(1===elem.nodeType||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if((oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}else{uniqueCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return!0}}}}}}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return!1}}return!0}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(null!=map){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||'*',context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&-1<(temp=postFinder?indexOf(seed,elem):preMap[i])){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[' '],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return-1<indexOf(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(1<i&&elementMatcher(matchers),1<i&&toSelector(tokens.slice(0,i-1).concat({value:' '===tokens[i-2].type?'*':''})).replace(rtrim,'$1'),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=0<setMatchers.length,byElement=0<elementMatchers.length,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i='0',unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG('*',outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||0.1,len=elems.length;if(outermost){outermostContext=context===document||context||outermost}for(;i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!==document){setDocument(elem);xml=!documentIsHTML}while(matcher=elementMatchers[j++]){if(matcher(elem,context||document,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(0<matchedCount){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+' '];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled='function'===typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(1===match.length){tokens=match[0]=match[0].slice(0);if(2<tokens.length&&'ID'===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr.needsContext.test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split('').sort(sortOrder).join('')===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement('div'))});if(!assert(function(div){div.innerHTML='<a href=\'#\'></a>';return'#'===div.firstChild.getAttribute('href')})){addHandle('type|href|height|width',function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,'type'===name.toLowerCase()?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML='<input/>';div.firstChild.setAttribute('value','');return''===div.firstChild.getAttribute('value')})){addHandle('value',function(elem,name,isXML){if(!isXML&&'input'===elem.nodeName.toLowerCase()){return elem.defaultValue}})}if(!assert(function(div){return null==div.getAttribute('disabled')})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[':']=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){var matched=[];while((elem=elem[dir])&&9!==elem.nodeType){if(1===elem.nodeType){if(until!==void 0&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched},siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(1===n.nodeType&&n!==elem){matched.push(n)}}return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not})}if('string'===typeof qualifier){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return-1<indexOf.call(qualifier,elem)!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=':not('+expr+')'}return 1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if('string'!==typeof selector){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return!0}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(1<len?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+' '+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,'string'===typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector){return this}root=root||rootjQuery;if('string'===typeof selector){if('<'===selector[0]&&'>'===selector[selector.length-1]&&3<=selector.length){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||root).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return root.ready!==void 0?root.ready(selector):selector(jQuery)}if(selector.selector!==void 0){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return!0}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||'string'!==typeof selectors?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(11>cur.nodeType&&(pos?-1<pos.index(cur):1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(1<matched.length?jQuery.uniqueSort(matched):matched)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if('string'===typeof elem){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&1!==cur.nodeType){}return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,'parentNode')},parentsUntil:function(elem,i,until){return dir(elem,'parentNode',until)},next:function(elem){return sibling(elem,'nextSibling')},prev:function(elem){return sibling(elem,'previousSibling')},nextAll:function(elem){return dir(elem,'nextSibling')},prevAll:function(elem){return dir(elem,'previousSibling')},nextUntil:function(elem,i,until){return dir(elem,'nextSibling',until)},prevUntil:function(elem,i,until){return dir(elem,'previousSibling',until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if('Until'!==name.slice(-5)){selector=until}if(selector&&'string'===typeof selector){matched=jQuery.filter(selector,matched)}if(1<this.length){if(!guaranteedUnique[name]){jQuery.uniqueSort(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});var rnotwhite=/\S+/g;function createOptions(options){var object={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0});return object}jQuery.Callbacks=function(options){options='string'===typeof options?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=options.once;fired=firing=!0;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){if(!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse){firingIndex=list.length;memory=!1}}}if(!options.memory){memory=!1}firing=!1;if(locked){if(memory){list=[]}else{list=''}}},self={add:function(){if(list){if(memory&&!firing){firingIndex=list.length-1;queue.push(memory)}(function add(args){jQuery.each(args,function(_,arg){if(jQuery.isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&'string'!==jQuery.type(arg)){add(arg)}})})(arguments);if(memory&&!firing){fire()}}return this},remove:function(){jQuery.each(arguments,function(_,arg){var index;while(-1<(index=jQuery.inArray(arg,list,index))){list.splice(index,1);if(index<=firingIndex){firingIndex--}}});return this},has:function(fn){return fn?-1<jQuery.inArray(fn,list):0<list.length},empty:function(){if(list){list=[]}return this},disable:function(){locked=queue=[];list=memory='';return this},disabled:function(){return!list},lock:function(){locked=queue=[];if(!memory){list=memory=''}return this},locked:function(){return!!locked},fireWith:function(context,args){if(!locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire()}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[['resolve','done',jQuery.Callbacks('once memory'),'resolved'],['reject','fail',jQuery.Callbacks('once memory'),'rejected'],['notify','progress',jQuery.Callbacks('memory')]],state='pending',promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject)}else{newDefer[tuple[0]+'With'](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+'With'](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+'With']=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=1<arguments.length?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(! --remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(1<length){progressValues=Array(length);progressContexts=Array(length);resolveContexts=Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject)}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(!0)}},ready:function(wait){if(!0===wait?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=!0;if(!0!==wait&&0<--jQuery.readyWait){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler('ready');jQuery(document).off('ready')}}});function completed(){document.removeEventListener('DOMContentLoaded',completed);window.removeEventListener('load',completed);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if('complete'===document.readyState||'loading'!==document.readyState&&!document.documentElement.doScroll){window.setTimeout(jQuery.ready)}else{document.addEventListener('DOMContentLoaded',completed);window.addEventListener('load',completed)}}return readyList.promise(obj)};jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if('object'===jQuery.type(key)){chainable=!0;for(i in key){access(elems,fn,i,key[i],!0,emptyGet,raw)}}else if(value!==void 0){chainable=!0;if(!jQuery.isFunction(value)){raw=!0}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1;Data.prototype={register:function(owner,initial){var value=initial||{};if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,writable:!0,configurable:!0})}return owner[this.expando]},cache:function(owner){if(!acceptData(owner)){return{}}var value=owner[this.expando];if(!value){value={};if(acceptData(owner)){if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,configurable:!0})}}}return value},set:function(owner,data,value){var prop,cache=this.cache(owner);if('string'===typeof data){cache[data]=value}else{for(prop in data){cache[prop]=data[prop]}}return cache},get:function(owner,key){return key===void 0?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;if(key===void 0||key&&'string'===typeof key&&value===void 0){stored=this.get(owner,key);return stored!==void 0?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==void 0?value:key},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(cache===void 0){return}if(key===void 0){this.register(owner)}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:name.match(rnotwhite)||[]}}i=name.length;while(i--){delete cache[name[i]]}}if(key===void 0||jQuery.isEmptyObject(cache)){if(owner.nodeType){owner[this.expando]=void 0}else{delete owner[this.expando]}}},hasData:function(owner){var cache=owner[this.expando];return cache!==void 0&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(data===void 0&&1===elem.nodeType){name='data-'+key.replace(rmultiDash,'-$&').toLowerCase();data=elem.getAttribute(name);if('string'===typeof data){try{data='true'===data?!0:'false'===data?!1:'null'===data?null:+data+''===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}dataUser.set(elem,key,data)}else{data=void 0}}return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===void 0){if(this.length){data=dataUser.get(elem);if(1===elem.nodeType&&!dataPriv.get(elem,'hasDataAttrs')){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(0===name.indexOf('data-')){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}dataPriv.set(elem,'hasDataAttrs',!0)}}return data}if('object'===typeof key){return this.each(function(){dataUser.set(this,key)})}return access(this,function(value){var data,camelKey;if(elem&&value===void 0){data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,'-$&').toLowerCase());if(data!==void 0){return data}camelKey=jQuery.camelCase(key);data=dataUser.get(elem,camelKey);if(data!==void 0){return data}data=dataAttr(elem,camelKey,void 0);if(data!==void 0){return data}return}camelKey=jQuery.camelCase(key);this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value);if(-1<key.indexOf('-')&&data!==void 0){dataUser.set(this,key,value)}})},null,value,1<arguments.length,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||'fx')+'queue';queue=dataPriv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||'fx';var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if('inprogress'===fn){fn=queue.shift();startLength--}if(fn){if('fx'===type){queue.unshift('inprogress')}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+'queueHooks';return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks('once memory').add(function(){dataPriv.remove(elem,[type+'queue',key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if('string'!==typeof type){data=type;type='fx';setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===void 0?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if('fx'===type&&'inprogress'!==queue[0]){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||'fx',[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(! --count){defer.resolveWith(elements,[elements])}};if('string'!==typeof type){obj=type;type=void 0}type=type||'fx';while(i--){tmp=dataPriv.get(elements[i],type+'queueHooks');if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp('^(?:([+-])=|)('+pnum+')([a-z%]*)$','i'),cssExpand=['Top','Right','Bottom','Left'],isHidden=function(elem,el){elem=el||elem;return'none'===jQuery.css(elem,'display')||!jQuery.contains(elem.ownerDocument,elem)};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,'')},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?'':'px'),initialInUnit=(jQuery.cssNumber[prop]||'px'!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3];valueParts=valueParts||[];initialInUnit=+initial||1;do{scale=scale||'.5';initialInUnit=initialInUnit/scale;jQuery.style(elem,prop,initialInUnit+unit)}while(scale!==(scale=currentValue()/initial)&&1!==scale&&--maxIterations)}if(valueParts){initialInUnit=+initialInUnit||+initial||0;adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted}}return adjusted}var rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,'<select multiple=\'multiple\'>','</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'','']};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var ret='undefined'!==typeof context.getElementsByTagName?context.getElementsByTagName(tag||'*'):'undefined'!==typeof context.querySelectorAll?context.querySelectorAll(tag||'*'):[];return tag===void 0||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],'globalEval',!refElements||dataPriv.get(refElements[i],'globalEval'))}}var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||0===elem){if('object'===jQuery.type(elem)){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement('div'));tag=(rtagName.exec(elem)||['',''])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=''}}}fragment.textContent='';i=0;while(elem=nodes[i++]){if(selection&&-1<jQuery.inArray(elem,selection)){if(ignored){ignored.push(elem)}continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),'script');if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||'')){scripts.push(elem)}}}}return fragment}(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement('div')),input=document.createElement('input');input.setAttribute('type','radio');input.setAttribute('checked','checked');input.setAttribute('name','t');div.appendChild(input);support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked;div.innerHTML='<textarea>x</textarea>';support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue})();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if('object'===typeof types){if('string'!==typeof selector){data=data||selector;selector=void 0}for(type in types){on(elem,type,selector,data,types[type],one)}return elem}if(null==data&&null==fn){fn=selector;data=selector=void 0}else if(null==fn){if('string'===typeof selector){fn=data;data=void 0}else{fn=data;data=selector;selector=void 0}}if(!1===fn){fn=returnFalse}else if(!fn){return elem}if(1===one){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return'undefined'!==typeof jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}}types=(types||'').match(rnotwhite)||[''];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||'').split('.').sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join('.')},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||!1===special.setup.call(elem,data,namespaces,eventHandle)){if(elem.addEventListener){elem.addEventListener(type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=!0}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||'').match(rnotwhite)||[''];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||'').split('.').sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,!0)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp('(^|\\.)'+namespaces.join('\\.(?:.*\\.|)')+'(\\.|$)');origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||'**'===selector&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||!1===special.teardown.call(elem,namespaces,elemData.handle)){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){dataPriv.remove(elem,'handle events')}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,'events')||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&!1===special.preDispatch.call(this,event)){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.rnamespace||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==void 0){if(!1===(event.result=ret)){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&('click'!==event.type||isNaN(event.button)||1>event.button)){for(;cur!==this;cur=cur.parentNode||this){if(1===cur.nodeType&&(!0!==cur.disabled||'click'!==event.type)){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+' ';if(matches[sel]===void 0){matches[sel]=handleObj.needsContext?-1<jQuery(sel,this).index(cur):jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:'altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(event,original){if(null==event.which){event.which=null!=original.charCode?original.charCode:original.keyCode}return event}},mouseHooks:{props:'button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(null==event.pageX&&null!=original.clientX){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==void 0){event.which=1&button?1:2&button?3:4&button?2:0}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(3===event.target.nodeType){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return!1}},delegateType:'focusin'},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return!1}},delegateType:'focusout'},click:{trigger:function(){if('checkbox'===this.type&&this.click&&jQuery.nodeName(this,'input')){this.click();return!1}},_default:function(event){return jQuery.nodeName(event.target,'a')}},beforeunload:{postDispatch:function(event){if(event.result!==void 0&&event.originalEvent){event.originalEvent.returnValue=event.result}}}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===void 0&&!1===src.returnValue?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=!0};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+'.'+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if('object'===typeof types){for(type in types){this.off(type,selector,types[type])}return this}if(!1===selector||'function'===typeof selector){fn=selector;selector=void 0}if(!1===fn){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return jQuery.nodeName(elem,'table')&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,'tr')?elem.getElementsByTagName('tbody')[0]||elem.appendChild(elem.ownerDocument.createElement('tbody')):elem}function disableScript(elem){elem.type=(null!==elem.getAttribute('type'))+'/'+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute('type')}return elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1!==dest.nodeType){return}if(dataPriv.hasData(src)){pdataOld=dataPriv.access(src);pdataCur=dataPriv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur)}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if('input'===nodeName&&rcheckableType.test(src.type)){dest.checked=src.checked}else if('input'===nodeName||'textarea'===nodeName){dest.defaultValue=src.defaultValue}}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||1<l&&'string'===typeof value&&!support.checkClone&&rchecked.test(value)){return collection.each(function(index){var self=collection.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}domManip(self,args,callback,ignored)})}if(l){fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored);first=fragment.firstChild;if(1===fragment.childNodes.length){fragment=first}if(first||ignored){scripts=jQuery.map(getAll(fragment,'script'),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==l-1){node=jQuery.clone(node,!0,!0);if(hasScripts){jQuery.merge(scripts,getAll(node,'script'))}}callback.call(collection[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||'')&&!dataPriv.access(node,'globalEval')&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,''))}}}}}}return collection}function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;null!=(node=nodes[i]);i++){if(!keepData&&1===node.nodeType){jQuery.cleanData(getAll(node))}if(node.parentNode){if(keepData&&jQuery.contains(node.ownerDocument,node)){setGlobalEval(getAll(node,'script'))}node.parentNode.removeChild(node)}}return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,'<$1></$2>')},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(1===elem.nodeType||11===elem.nodeType)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,'script');if(0<destElements.length){setGlobalEval(destElements,!inPage&&getAll(elem,'script'))}return clone},cleanData:function(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==void 0;i++){if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}elem[dataPriv.expando]=void 0}if(elem[dataUser.expando]){elem[dataUser.expando]=void 0}}}}});jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return value===void 0?jQuery.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){this.textContent=value}})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},empty:function(){var elem,i=0;for(;null!=(elem=this[i]);i++){if(1===elem.nodeType){jQuery.cleanData(getAll(elem,!1));elem.textContent=''}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=null==dataAndEvents?!1:dataAndEvents;deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===void 0&&1===elem.nodeType){return elem.innerHTML}if('string'===typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||['',''])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};if(1===elem.nodeType){jQuery.cleanData(getAll(elem,!1));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;if(0>jQuery.inArray(this,ignored)){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this)}}},ignored)}});jQuery.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(!0);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={HTML:'block',BODY:'block'};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],'display');elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if('none'===display||!display){iframe=(iframe||jQuery('<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>')).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}var rmargin=/^margin/,rnumnonpx=new RegExp('^('+pnum+')(?!px)[a-z%]+$','i'),getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window}return view.getComputedStyle(elem)},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret},documentElement=document.documentElement;(function(){var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement('div'),div=document.createElement('div');if(!div.style){return}div.style.backgroundClip='content-box';div.cloneNode(!0).style.backgroundClip='';support.clearCloneStyle='content-box'===div.style.backgroundClip;container.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute';container.appendChild(div);function computeStyleTests(){div.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%';div.innerHTML='';documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal='1%'!==divStyle.top;reliableMarginLeftVal='2px'===divStyle.marginLeft;boxSizingReliableVal='4px'===divStyle.width;div.style.marginRight='50%';pixelMarginRightVal='4px'===divStyle.marginRight;documentElement.removeChild(container)}jQuery.extend(support,{pixelPosition:function(){computeStyleTests();return pixelPositionVal},boxSizingReliable:function(){if(null==boxSizingReliableVal){computeStyleTests()}return boxSizingReliableVal},pixelMarginRight:function(){if(null==boxSizingReliableVal){computeStyleTests()}return pixelMarginRightVal},reliableMarginLeft:function(){if(null==boxSizingReliableVal){computeStyleTests()}return reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement('div'));marginDiv.style.cssText=div.style.cssText='-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0';marginDiv.style.marginRight=marginDiv.style.width='0';div.style.width='1px';documentElement.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight);documentElement.removeChild(container);div.removeChild(marginDiv);return ret}})})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:void 0;if((''===ret||ret===void 0)&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(computed){if(!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==void 0?ret+'':ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:'absolute',visibility:'hidden',display:'block'},cssNormalTransform={letterSpacing:'0',fontWeight:'400'},cssPrefixes=['Webkit','O','Moz','ms'],emptyStyle=document.createElement('div').style;function vendorPropName(name){if(name in emptyStyle){return name}var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name}}}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?_Mathmax6(0,matches[2]-(subtract||0))+(matches[3]||'px'):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?'border':'content')?4:'width'===name?1:0,val=0;for(;4>i;i+=2){if('margin'===extra){val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)}if(isBorderBox){if('content'===extra){val-=jQuery.css(elem,'padding'+cssExpand[i],!0,styles)}if('margin'!==extra){val-=jQuery.css(elem,'border'+cssExpand[i]+'Width',!0,styles)}}else{val+=jQuery.css(elem,'padding'+cssExpand[i],!0,styles);if('padding'!==extra){val+=jQuery.css(elem,'border'+cssExpand[i]+'Width',!0,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val='width'===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox='border-box'===jQuery.css(elem,'boxSizing',!1,styles);if(0>=val||null==val){val=curCSS(elem,name,styles);if(0>val||null==val){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?'border':'content'),valueIsBorderBox,styles)+'px'}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=dataPriv.get(elem,'olddisplay');display=elem.style.display;if(show){if(!values[index]&&'none'===display){elem.style.display=''}if(''===elem.style.display&&isHidden(elem)){values[index]=dataPriv.access(elem,'olddisplay',defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if('none'!==display||!hidden){dataPriv.set(elem,'olddisplay',hidden?display:jQuery.css(elem,'display'))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||'none'===elem.style.display||''===elem.style.display){elem.style.display=show?values[index]||'':'none'}}return elements}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,'opacity');return''===ret?'1':ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:'cssFloat'},style:function(elem,name,value,extra){if(!elem||3===elem.nodeType||8===elem.nodeType||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==void 0){type=typeof value;if('string'===type&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);type='number'}if(null==value||value!==value){return}if('number'===type){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?'':'px')}if(!support.clearCloneStyle&&''===value&&0===name.indexOf('background')){style[name]='inherit'}if(!hooks||!('set'in hooks)||(value=hooks.set(elem,value,extra))!==void 0){style[name]=value}}else{if(hooks&&'get'in hooks&&(ret=hooks.get(elem,!1,extra))!==void 0){return ret}return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&'get'in hooks){val=hooks.get(elem,!0,extra)}if(val===void 0){val=curCSS(elem,name,styles)}if('normal'===val&&name in cssNormalTransform){val=cssNormalTransform[name]}if(''===extra||extra){num=parseFloat(val);return!0===extra||isFinite(num)?num||0:val}return val}});jQuery.each(['height','width'],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,'display'))&&0===elem.offsetWidth?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,'border-box'===jQuery.css(elem,'boxSizing',!1,styles),styles);if(subtract&&(matches=rcssNum.exec(value))&&'px'!==(matches[3]||'px')){elem.style[name]=value;value=jQuery.css(elem,name)}return setPositiveNumber(elem,value,subtract)}}});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,'marginLeft'))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+'px'}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return swap(elem,{display:'inline-block'},curCSS,[elem,'marginRight'])}});jQuery.each({margin:'',padding:'',border:'Width'},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts='string'===typeof value?value.split(' '):[value];for(;4>i;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],!1,styles)}return map}return value!==void 0?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,1<arguments.length)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){if('boolean'===typeof state){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?'':'px')},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,'');return!result||'auto'===result?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(1===tween.elem.nodeType&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2},_default:'swing'};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){window.setTimeout(function(){fxNow=void 0});return fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;4>i;i+=2-includeWidth){which=cssExpand[i];attrs['margin'+which]=attrs['padding'+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners['*']),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&'expand'in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return!1}var currentTime=fxNow||createFxNow(),remaining=_Mathmax6(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(1>percent&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return!1}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=!0;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(jQuery.isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)}return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween}]},tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=['*']}else{props=props.match(rnotwhite)}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback)}},prefilters:[function(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,'fxshow');if(!opts.queue){hooks=jQuery._queueHooks(elem,'fx');if(null==hooks.unqueued){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,'fx').length){hooks.empty.fire()}})})}if(1===elem.nodeType&&('height'in props||'width'in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,'display');checkDisplay='none'===display?dataPriv.get(elem,'olddisplay')||defaultDisplay(elem.nodeName):display;if('inline'===checkDisplay&&'none'===jQuery.css(elem,'float')){style.display='inline-block'}}if(opts.overflow){style.overflow='hidden';anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||'toggle'===value;if(value===(hidden?'hide':'show')){if('show'===value&&dataShow&&dataShow[prop]!==void 0){hidden=!0}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=void 0}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if('hidden'in dataShow){hidden=dataShow.hidden}}else{dataShow=dataPriv.access(elem,'fxshow',{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){dataPriv.remove(elem,'fxshow');for(var prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start='width'===prop||'height'===prop?1:0}}}}else if('inline'===('none'===display?defaultDisplay(elem.nodeName):display)){style.display=display}}],prefilter:function(callback,prepend){if(prepend){Animation.prefilters.unshift(callback)}else{Animation.prefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&'object'===typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:'number'===typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(null==opt.queue||!0===opt.queue){opt.queue='fx'}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css('opacity',0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||dataPriv.get(this,'finish')){anim.stop(!0)}};doAnimation.finish=doAnimation;return empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if('string'!==typeof type){gotoEnd=clearQueue;clearQueue=type;type=void 0}if(clearQueue&&!1!==type){this.queue(type||'fx',[])}return this.each(function(){var dequeue=!0,index=null!=type&&type+'queueHooks',timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(null==type||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=!1;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(!1!==type){type=type||'fx'}return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+'queue'],hooks=data[type+'queueHooks'],timers=jQuery.timers,length=queue?queue.length:0;data.finish=!0;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,!0)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(!0);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(['toggle','show','hide'],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||'boolean'===typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}});jQuery.each({slideDown:genFx('show'),slideUp:genFx('hide'),slideToggle:genFx('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=void 0};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){window.clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||'fx';return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})};(function(){var input=document.createElement('input'),select=document.createElement('select'),opt=select.appendChild(document.createElement('option'));input.type='checkbox';support.checkOn=''!==input.value;support.optSelected=opt.selected;select.disabled=!0;support.optDisabled=!opt.disabled;input=document.createElement('input');input.value='t';input.type='radio';support.radioValue='t'===input.value})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,1<arguments.length)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3===nType||8===nType||2===nType){return}if('undefined'===typeof elem.getAttribute){return jQuery.prop(elem,name,value)}if(1!==nType||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)}if(value!==void 0){if(null===value){jQuery.removeAttr(elem,name);return}if(hooks&&'set'in hooks&&(ret=hooks.set(elem,value,name))!==void 0){return ret}elem.setAttribute(name,value+'');return value}if(hooks&&'get'in hooks&&null!==(ret=hooks.get(elem,name))){return ret}ret=jQuery.find.attr(elem,name);return null==ret?void 0:ret},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&'radio'===value&&jQuery.nodeName(elem,'input')){var val=elem.value;elem.setAttribute('type',value);if(val){elem.value=val}return value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=!1}elem.removeAttribute(name)}}}});boolHook={set:function(elem,value,name){if(!1===value){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=null!=getter(elem,name,isXML)?name.toLowerCase():null;attrHandle[name]=handle}return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,1<arguments.length)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3===nType||8===nType||2===nType){return}if(1!==nType||!jQuery.isXMLDoc(elem)){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==void 0){if(hooks&&'set'in hooks&&(ret=hooks.set(elem,value,name))!==void 0){return ret}return elem[name]=value}if(hooks&&'get'in hooks&&null!==(ret=hooks.get(elem,name))){return ret}return elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,'tabindex');return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:'htmlFor',class:'className'}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null},set:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}}}jQuery.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;function getClass(elem){return elem.getAttribute&&elem.getAttribute('class')||''}jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))})}if('string'===typeof value&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem);cur=1===elem.nodeType&&(' '+curValue+' ').replace(rclass,' ');if(cur){j=0;while(clazz=classes[j++]){if(0>cur.indexOf(' '+clazz+' ')){cur+=clazz+' '}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute('class',finalValue)}}}}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))})}if(!arguments.length){return this.attr('class','')}if('string'===typeof value&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem);cur=1===elem.nodeType&&(' '+curValue+' ').replace(rclass,' ');if(cur){j=0;while(clazz=classes[j++]){while(-1<cur.indexOf(' '+clazz+' ')){cur=cur.replace(' '+clazz+' ',' ')}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute('class',finalValue)}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if('boolean'===typeof stateVal&&'string'===type){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)})}return this.each(function(){var className,i,self,classNames;if('string'===type){i=0;self=jQuery(this);classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(value===void 0||'boolean'===type){className=getClass(this);if(className){dataPriv.set(this,'__className__',className)}if(this.setAttribute){this.setAttribute('class',className||!1===value?'':dataPriv.get(this,'__className__')||'')}}})},hasClass:function(selector){var className,elem,i=0;className=' '+selector+' ';while(elem=this[i++]){if(1===elem.nodeType&&-1<(' '+getClass(elem)+' ').replace(rclass,' ').indexOf(className)){return!0}}return!1}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&'get'in hooks&&(ret=hooks.get(elem,'value'))!==void 0){return ret}ret=elem.value;return'string'===typeof ret?ret.replace(rreturn,''):null==ret?'':ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(1!==this.nodeType){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(null==val){val=''}else if('number'===typeof val){val+=''}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return null==value?'':value+''})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!('set'in hooks)||hooks.set(this,val,'value')===void 0){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,'value');return null!=val?val:jQuery.trim(jQuery.text(elem)).replace(rspaces,' ')}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one='select-one'===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute('disabled'))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,'optgroup'))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=-1<jQuery.inArray(jQuery.valHooks.option.get(option),values)){optionSet=!0}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(['radio','checkbox'],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=-1<jQuery.inArray(jQuery(elem).val(),value)}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute('value')?'on':elem.value}}});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,'type')?event.type:event,namespaces=hasOwn.call(event,'namespace')?event.namespace.split('.'):[];cur=tmp=elem=elem||document;if(3===elem.nodeType||8===elem.nodeType){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(-1<type.indexOf('.')){namespaces=type.split('.');type=namespaces.shift();namespaces.sort()}ontype=0>type.indexOf(':')&&'on'+type;event=event[jQuery.expando]?event:new jQuery.Event(type,'object'===typeof event&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join('.');event.rnamespace=event.namespace?new RegExp('(^|\\.)'+namespaces.join('\\.(?:.*\\.|)')+'(\\.|$)'):null;event.result=void 0;if(!event.target){event.target=elem}data=null==data?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&!1===special.trigger.apply(elem,data)){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=1<i?bubbleType:special.bindType||type;handle=(dataPriv.get(cur,'events')||{})[event.type]&&dataPriv.get(cur,'handle');if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(!1===event.result){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||!1===special._default.apply(eventPath.pop(),data))&&acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=void 0;if(tmp){elem[ontype]=tmp}}}}return event.result},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}});jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,!0)}}});jQuery.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '),function(i,name){jQuery.fn[name]=function(data,fn){return 0<arguments.length?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});support.focusin='onfocusin'in window;if(!support.focusin){jQuery.each({focus:'focusin',blur:'focusout'},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,!0)}dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,!0);dataPriv.remove(doc,fix)}else{dataPriv.access(doc,fix,attaches)}}}})}var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+'')};jQuery.parseXML=function(data){var xml;if(!data||'string'!==typeof data){return null}try{xml=new window.DOMParser().parseFromString(data,'text/xml')}catch(e){xml=void 0}if(!xml||xml.getElementsByTagName('parsererror').length){jQuery.error('Invalid XML: '+data)}return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes='*/'.concat('*'),originAnchor=document.createElement('a');originAnchor.href=location.href;function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if('string'!==typeof dataTypeExpression){func=dataTypeExpression;dataTypeExpression='*'}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if('+'===dataType[0]){dataType=dataType.slice(1)||'*';(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=!0;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if('string'===typeof dataTypeOrTransport&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return!1}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected['*']&&inspect('*')}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==void 0){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(!0,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while('*'===dataTypes[0]){dataTypes.shift();if(ct===void 0){ct=s.mimeType||jqXHR.getResponseHeader('Content-Type')}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+' '+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if('*'===current){current=prev}else if('*'!==prev&&prev!==current){conv=converters[prev+' '+current]||converters['* '+current];if(!conv){for(conv2 in converters){tmp=conv2.split(' ');if(tmp[1]===current){conv=converters[prev+' '+tmp[0]]||converters['* '+tmp[0]];if(conv){if(!0===conv){conv=converters[conv2]}else if(!0!==converters[conv2]){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(!0!==conv){if(conv&&s.throws){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:'parsererror',error:conv?e:'No conversion from '+prev+' to '+current}}}}}}}return{state:'success',data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:'GET',isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{"*":allTypes,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if('object'===typeof url){options=url;url=void 0}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks('once memory'),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort='canceled',jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){if(map){if(2>state){for(var code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||location.href)+'').replace(rhash,'').replace(rprotocol,location.protocol+'//');s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||'*').toLowerCase().match(rnotwhite)||[''];if(null==s.crossDomain){urlAnchor=document.createElement('a');try{urlAnchor.href=s.url;urlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+'//'+originAnchor.host!==urlAnchor.protocol+'//'+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&'string'!==typeof s.data){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(2===state){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&0===jQuery.active++){jQuery.event.trigger('ajaxStart')}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?'&':'?')+s.data;delete s.data}if(!1===s.cache){s.url=rts.test(cacheURL)?cacheURL.replace(rts,'$1_='+nonce++):cacheURL+(rquery.test(cacheURL)?'&':'?')+'_='+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader('If-Modified-Since',jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader('If-None-Match',jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&!1!==s.contentType||options.contentType){jqXHR.setRequestHeader('Content-Type',s.contentType)}jqXHR.setRequestHeader('Accept',s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+('*'!==s.dataTypes[0]?', '+allTypes+'; q=0.01':''):s.accepts['*']);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||2===state)){return jqXHR.abort()}strAbort='abort';for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,'No Transport')}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger('ajaxSend',[jqXHR,s])}if(2===state){return jqXHR}if(s.async&&0<s.timeout){timeoutTimer=window.setTimeout(function(){jqXHR.abort('timeout')},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(2>state){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(2===state){return}state=2;if(timeoutTimer){window.clearTimeout(timeoutTimer)}transport=void 0;responseHeadersString=headers||'';jqXHR.readyState=0<status?4:0;isSuccess=200<=status&&300>status||304===status;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader('Last-Modified');if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader('etag');if(modified){jQuery.etag[cacheURL]=modified}}if(204===status||'HEAD'===s.type){statusText='nocontent'}else if(304===status){statusText='notmodified'}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText='error';if(0>status){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+'';if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=void 0;if(fireGlobals){globalEventContext.trigger(isSuccess?'ajaxSuccess':'ajaxError',[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger('ajaxComplete',[jqXHR,s]);if(! --jQuery.active){jQuery.event.trigger('ajaxStop')}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,'json')},getScript:function(url,callback){return jQuery.get(url,void 0,callback,'script')}});jQuery.each(['get','post'],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=void 0}return jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:'GET',dataType:'script',async:!1,global:!1,throws:!0})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,'body')){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)};jQuery.expr.filters.visible=function(elem){return 0<elem.offsetWidth||0<elem.offsetHeight||0<elem.getClientRects().length};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+'['+('object'===typeof v&&null!=v?i:'')+']',v,traditional,add)}})}else if(!traditional&&'object'===jQuery.type(obj)){for(var name in obj){buildParams(prefix+'['+name+']',obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?'':value;s[s.length]=encodeURIComponent(key)+'='+encodeURIComponent(value)};if(traditional===void 0){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join('&').replace(r20,'+')};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,'elements');return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(':disabled')&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,'\r\n')}}):{name:elem.name,value:val.replace(rCRLF,'\r\n')}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&'withCredentials'in xhrSupported;support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers['X-Requested-With']){headers['X-Requested-With']='XMLHttpRequest'}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null;if('abort'===type){xhr.abort()}else if('error'===type){if('number'!==typeof xhr.status){complete(0,'error')}else{complete(xhr.status,xhr.statusText)}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,'text'!==(xhr.responseType||'text')||'string'!==typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders())}}}};xhr.onload=callback();errorCallback=xhr.onerror=callback('error');if(xhr.onabort!==void 0){xhr.onabort=errorCallback}else{xhr.onreadystatechange=function(){if(4===xhr.readyState){window.setTimeout(function(){if(callback){errorCallback()}})}}}callback=callback('abort');try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter('script',function(s){if(s.cache===void 0){s.cache=!1}if(s.crossDomain){s.type='GET'}});jQuery.ajaxTransport('script',function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery('<script>').prop({charset:s.scriptCharset,src:s.url}).on('load error',callback=function(evt){script.remove();callback=null;if(evt){complete('error'===evt.type?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+'_'+nonce++;this[callback]=!0;return callback}});jQuery.ajaxPrefilter('json jsonp',function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?'url':'string'===typeof s.data&&0===(s.contentType||'').indexOf('application/x-www-form-urlencoded')&&rjsonp.test(s.data)&&'data');if(jsonProp||'jsonp'===s.dataTypes[0]){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,'$1'+callbackName)}else if(!1!==s.jsonp){s.url+=(rquery.test(s.url)?'&':'?')+s.jsonp+'='+callbackName}s.converters['script json']=function(){if(!responseContainer){jQuery.error(callbackName+' was not called')}return responseContainer[0]};s.dataTypes[0]='json';overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){if(overwritten===void 0){jQuery(window).removeProp(callbackName)}else{window[callbackName]=overwritten}if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=void 0});return'script'}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||'string'!==typeof data){return null}if('boolean'===typeof context){keepScripts=context;context=!1}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if('string'!==typeof url&&_load){return _load.apply(this,arguments)}var selector,type,response,self=this,off=url.indexOf(' ');if(-1<off){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=void 0}else if(params&&'object'===typeof params){type='POST'}if(0<self.length){jQuery.ajax({url:url,type:type||'GET',dataType:'html',data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery('<div>').append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})})}return this};jQuery.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,'position'),curElem=jQuery(elem),props={};if('static'===position){elem.style.position='relative'}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,'top');curCSSLeft=jQuery.css(elem,'left');calculatePosition=('absolute'===position||'fixed'===position)&&-1<(curCSSTop+curCSSLeft).indexOf('auto');if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,jQuery.extend({},curOffset))}if(null!=options.top){props.top=options.top-curOffset.top+curTop}if(null!=options.left){props.left=options.left-curOffset.left+curLeft}if('using'in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===void 0?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}box=elem.getBoundingClientRect();win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if('fixed'===jQuery.css(elem,'position')){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],'html')){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],'borderTopWidth',!0);parentOffset.left+=jQuery.css(offsetParent[0],'borderLeftWidth',!0)}return{top:offset.top-parentOffset.top-jQuery.css(elem,'marginTop',!0),left:offset.left-parentOffset.left-jQuery.css(elem,'marginLeft',!0)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&'static'===jQuery.css(offsetParent,'position')){offsetParent=offsetParent.offsetParent}return offsetParent||documentElement})}});jQuery.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(method,prop){var top='pageYOffset'===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===void 0){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset)}else{elem[method]=val}},method,val,arguments.length)}});jQuery.each(['top','left'],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+'px':computed}})});jQuery.each({Height:'height',Width:'width'},function(name,type){jQuery.each({padding:'inner'+name,content:type,"":'outer'+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||'boolean'!==typeof margin),extra=defaultExtra||(!0===margin||!0===value?'margin':'border');return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement['client'+name]}if(9===elem.nodeType){doc=elem.documentElement;return _Mathmax6(elem.body['scroll'+name],doc['scroll'+name],elem.body['offset'+name],doc['offset'+name],doc['client'+name])}return value===void 0?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})});jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,'**'):this.off(types,selector||'**',fn)},size:function(){return this.length}});jQuery.fn.andSelf=jQuery.fn.addBack;!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return jQuery}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(!noGlobal){window.jQuery=window.$=jQuery}return jQuery})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_http__=__webpack_require__(15);function createSensorMap(sensorMap){return Object.freeze({getSensorMap(){return sensorMap},getSensorById(sensorId){if('string'!==typeof sensorId){sensorId=`${sensorId}`}const sensors=sensorMap.sensor;function parseUnit(unit){return{id:unit.id,minRange:parseFloat(unit['min-range']),maxRange:parseFloat(unit['max-range']),columnName:unit['_column-name'],units:unit.units,decimalPlaces:parseFloat(unit['decimal-places'])}}function createUnit(unitArray){const unitConversion=[];if('undefined'!==typeof unitArray){unitArray=Array.prototype.concat(unitArray);unitArray.forEach(unit=>{unitConversion.push(parseUnit(unit))})}return unitConversion}function createCalibrationCoefficients(calibration){function makeKey(index){return`k${index}`}let key,i=1;const coeffs=[];key=makeKey(0);while(key in calibration){coeffs.push(parseFloat(calibration[key]));key=makeKey(i++)}return coeffs}function createCalibration(sensor){const calibration=sensor.calibration,baseUnit=parseUnit(calibration.baseunit),unitsArray=createUnit(calibration.unit);return{type:calibration.type,id:calibration.id,coeffs:createCalibrationCoefficients(calibration),unit:unitsArray,baseUnit,zero:calibration.zero,reverse:calibration.reverse,calibrate:calibration.calibrate,onePoint:calibration['single-point']}}function createSensorMap(sensor){const sensorMap={autoId:parseInt(sensor['auto-id'],10),type:sensor.type,id:sensor.id,family:sensor._family,name:sensor._name,minimumDelta:parseFloat(sensor['minimum-delta']),typicalDelta:parseFloat(sensor['typical-delta']),typicalDuration:parseFloat(sensor['typical-duration']),meter:sensor.calibration.meter,calibration:createCalibration(sensor)};if(sensor.hasOwnProperty('voltage-decimals')){sensorMap.voltageDecimals=parseFloat(sensor['voltage-decimals'])}return sensorMap}let sensor=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(sensors,s=>{return s.id===sensorId});if(sensor){sensor=createSensorMap(sensor)}return sensor}})}const sensorMap={start(){return new Promise((resolve,reject)=>{__WEBPACK_IMPORTED_MODULE_1_corelib_util_http__.a.get('resources/sensormap.json').then(response=>{const sensorMap=JSON.parse(response);resolve(createSensorMap(sensorMap))}).catch(reject)})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=sensorMap},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_sensorworld_SensorWorld__=__webpack_require__(133);let sensorWorldObj=null;const sensorWorld={start(){return new Promise((resolve,reject)=>{try{sensorWorldObj=new __WEBPACK_IMPORTED_MODULE_1_corelib_sensorworld_SensorWorld__.a({rpc:__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('dc-rpc').rpc,sensorMap:__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('sensor-map')});resolve(sensorWorldObj)}catch(error){reject(error)}})},stop(){return new Promise((resolve,reject)=>{if(sensorWorldObj){sensorWorldObj.uninit().then(resolve,reject)}reject(new Error('SensorWorld Not Started'))})}};__webpack_exports__.a=sensorWorld},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__WEBPACK_IMPORTED_MODULE_2_corelib_sensorworld_Sensor__=__webpack_require__(34),__WEBPACK_IMPORTED_MODULE_3_corelib_sensorworld_TestSensor__=__webpack_require__(134),__WEBPACK_IMPORTED_MODULE_4_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_5_corelib_sensorworld_SensorWorld_handlers__=__webpack_require__(135);const INVALID_SENSOR_ID=0;class SensorWorld{constructor(config){__WEBPACK_IMPORTED_MODULE_5_corelib_sensorworld_SensorWorld_handlers__.a.registerRPCMethods(config.rpc,this);this.dataCollection=__WEBPACK_IMPORTED_MODULE_4_corelib_services__.a.get('data-collection');this.sensorMap=config.sensorMap;this.rpc=config.rpc;this.sensorCollection=new __WEBPACK_IMPORTED_MODULE_2_corelib_sensorworld_Sensor__.a.Collection;this.interfaces=[];this._deviceList=[];this.ignoreSensors=!1;this.sensorCollection.on('add',sensor=>{this.trigger('sensor-added',sensor)});this.sensorCollection.on('remove',sensor=>{this.trigger('sensor-removed',sensor)});this.sensorCollection.on('sensor-offline',sensor=>{this.trigger('sensor-offline',sensor)})}get sensors(){return Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.clone)(this.sensorCollection.models)}getSensorById(id){const sensor=this.sensorCollection.get(id);return sensor}isSensorOnline(id){return!!this.sensorCollection.get(id)}getFirstSensor(){const sensor=this.sensorCollection.models[0];return sensor}addTestSensor(config){const sensor=new __WEBPACK_IMPORTED_MODULE_3_corelib_sensorworld_TestSensor__.a({autoId:config.autoId||-1});this.sensorCollection.add(sensor)}hasDevice(){return 0<this.filterSensors(this.sensorCollection).length}isRadiationMonitor(sensorId){let sensor;if(sensorId!==INVALID_SENSOR_ID){sensor=this.getSensorById(sensorId)}return!!(sensor&&'Radiation'===sensor.dataMode)}isMotionDetector(sensorId){let sensor;if(sensorId!==INVALID_SENSOR_ID){sensor=this.getSensorById(sensorId)}return!!(sensor&&'Digital Motion'===sensor.dataMode)}isRotationSensor(sensorId){let sensor;if(sensorId!==INVALID_SENSOR_ID){sensor=this.getSensorById(sensorId)}return!!(sensor&&'Rotation'===sensor.dataMode)}setIgnoreSensors(ignoreSensors){return this.rpc.sendRequest('sw:ignore-added-sensors',ignoreSensors)}prepareCollection(collectionConfig){const measurementPeriod=collectionConfig.measurementPeriod||1;return this.dataCollection.setMeasurementPeriod(measurementPeriod)}deviceConnectionChange(deviceInfo){this.trigger('device-connection-changed',deviceInfo)}resetSensorState(){this.sensors.forEach(sensor=>{sensor._calibrationReversed=!1})}}__webpack_exports__.a=SensorWorld;Object.assign(SensorWorld.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_sensorworld_Sensor__=__webpack_require__(34);const TestSensor=Object.assign({},__WEBPACK_IMPORTED_MODULE_0_corelib_sensorworld_Sensor__.a);__webpack_exports__.a=TestSensor},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_sensorworld_Sensor__=__webpack_require__(34),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const RPC_METHODS={"device-connection-changed":function(server,notification){const params=_extends({},notification.params);if(params.hasOwnProperty('name')&&params.hasOwnProperty('type')&&params.hasOwnProperty('connected')){if(params.connected){this.interfaces.push(params);this.deviceConnectionChange(params)}else{const findInterface=this.interfaces.filter(obj=>{return obj.name===params.name});if(findInterface.length){this.interfaces.splice(findInterface[0],1)}}}},"sensor-added":function(server,request){const params=_extends({},request.params);if(params.hasOwnProperty('uniqueId')&&params.hasOwnProperty('key')&&params.hasOwnProperty('autoId')&&params.hasOwnProperty('name')&&params.hasOwnProperty('units')&&params.hasOwnProperty('calibration')&&params.hasOwnProperty('sensorInfo')&&params.hasOwnProperty('zeroOnCollect')&&params.hasOwnProperty('canZeroOnCollect')&&params.hasOwnProperty('hasX4Mode')&&params.hasOwnProperty('x4Mode')){const uniqueId=params.uniqueId,autoId=params.autoId,sensorId=params.key,units=params.units,name=params.name,sensorInfo=params.sensorInfo,zeroOnCollect=params.zeroOnCollect,canZeroOnCollect=params.canZeroOnCollect,hasX4Mode=params.hasX4Mode,x4Mode=params.x4Mode,sensor=new __WEBPACK_IMPORTED_MODULE_0_corelib_sensorworld_Sensor__.a({id:uniqueId,sensorId,name,units,autoId,unitInfo:sensorInfo.units,dataMode:params.dataMode||null,sensorInfo,zeroOnCollect,canZeroOnCollect,hasX4Mode,x4Mode});sensor.updateInternalCalibrationCoeffs(params.calibration.coeffs);this.sensorCollection.add(sensor)}},"sensor-id-changed":function(server,request){const params=request.params;if(params.hasOwnProperty('uniqueId')&&params.hasOwnProperty('oldId')){const uniqueId=params.uniqueId,oldId=params.oldId,sensor=this.sensorCollection.get(oldId);if(sensor){const args=Object.assign({},params);delete args.uniqueId;delete args.oldId;delete args.key;const keys=Object.keys(args);keys.forEach(k=>{const oldValue=sensor.get(k),newValue=args[k];if(oldValue===newValue){delete args[k]}});args.id=uniqueId;sensor.set(args);if(void 0!==args.unit){this.trigger('sensor-units-changed',sensor)}if(void 0!==args.dataMode){this.trigger('data-mode-changed',sensor)}}else{console.warn(`No sensor with id ${oldId} in collection`)}}},"sensor-removed":function(server,request){const params=_extends({},request.params);let uniqueId,sensor;if(params.hasOwnProperty('uniqueId')){uniqueId=params.uniqueId;sensor=this.sensorCollection.get(uniqueId);this.sensorCollection.remove(sensor)}},"sensor-online":function(server,request){const params=_extends({},request.params);let uniqueId,sensor;if(params.hasOwnProperty('uniqueId')){uniqueId=params.uniqueId;sensor=this.sensorCollection.get(uniqueId);if(sensor){if(params.hasOwnProperty('deviceId')){sensor.deviceId=params.deviceId}if(params.hasOwnProperty('calibrationProcesses')){sensor.updateCalibrationProcesses(params.calibrationProcesses)}}}},"sensor-offline":function(server,request){const params=_extends({},request.params);let uniqueId,sensor;if(params.hasOwnProperty('uniqueId')){uniqueId=params.uniqueId;sensor=this.sensorCollection.get(uniqueId);if(sensor){sensor.clearCalibrationProcesses()}}},"sensor-live-voltage":function(server,request){const params=_extends({},request.params);let uniqueId,sensor,value;if(params.hasOwnProperty('uniqueId')){uniqueId=params.uniqueId;value=params.value;sensor=this.sensorCollection.get(uniqueId);if(sensor){sensor.liveVoltage=value}}},"sensor-live-spectrum":function(server,request){const params=_extends({},request.params);let uniqueId,sensor,spectrum;if(params.hasOwnProperty('uniqueId')){uniqueId=params.uniqueId;spectrum=params.spectrum;sensor=this.sensorCollection.get(uniqueId);if(sensor){sensor.liveSpectrum=spectrum}}},"sensor-data":function(server,request){const params=_extends({},request.params);let uniqueId,measurements,timestamps,count,sensor;if(params.hasOwnProperty('uniqueId')&&params.hasOwnProperty('measurements')&&params.hasOwnProperty('timestamps')&&params.hasOwnProperty('count')){uniqueId=params.uniqueId;count=params.count;measurements=new Float64Array(params.measurements,0,count);timestamps=new Float64Array(params.timestamps,0,count);sensor=this.sensorCollection.get(uniqueId);if(sensor){this.dataCollection.updateSensorData(sensor,measurements,timestamps)}}},"sensor-property-change":function(server,request){const params=_extends({},request.params);let sensor;if(params.hasOwnProperty('uniqueId')&&params.hasOwnProperty('key')&&params.hasOwnProperty('name')&&params.hasOwnProperty('units')&&params.hasOwnProperty('autoId')&&params.hasOwnProperty('zeroOnCollect')&&params.hasOwnProperty('canZeroOnCollect')&&params.hasOwnProperty('hasX4Mode')&&params.hasOwnProperty('x4Mode')){sensor=this.sensorCollection.get(params.uniqueId);if(sensor){sensor.name=params.name;if(sensor.units!==params.units){sensor.units=params.units;this.trigger('sensor-units-changed',sensor)}if(params.hasOwnProperty('dataMode')){sensor.dataMode=params.dataMode;this.trigger('data-mode-changed',sensor)}if(sensor.wavelength!==params.wavelength){sensor.wavelength=params.wavelength}['zeroOnCollect','canZeroOnCollect','hasX4Mode','x4Mode'].forEach(key=>{sensor[key]=params[key]})}else{console.warn(`Unable to get sensor for id= ${params.uniqueId}`)}}},"sensor-calibration-changed":function(server,request){const params=_extends({},request.params);if(params.hasOwnProperty('uniqueId')&&params.hasOwnProperty('calibration')){const sensor=this.sensorCollection.get(params.uniqueId);sensor.updateInternalCalibrationCoeffs(params.calibration.coeffs)}},"sw:spectrum-data-mode":function(server,request){const params=_extends({},request.params);this.useTransmittance='transmittance'===params.mode;this.trigger('spectrum-data-mode-changed',params.mode)}};__webpack_exports__.a={registerRPCMethods:function(rpc,context){rpc.registerMethods(RPC_METHODS,context)}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_dataworld_DataWorld__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const dataWorld={start(){return new Promise((resolve,reject)=>{let dataWorld;try{dataWorld=new __WEBPACK_IMPORTED_MODULE_0_corelib_dataworld_DataWorld__.a({viewPrefs:__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('viewprefs'),sessionFileManager:__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('session-file-manager'),sensorWorld:__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('sensor-world'),rpc:__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('dc-rpc').rpc});resolve(dataWorld)}catch(error){reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=dataWorld},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathlog=Math.log10,_Mathabs5=Math.abs,_Mathceil=Math.ceil,__WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__WEBPACK_IMPORTED_MODULE_2_corelib_dataworld_DataSet__=__webpack_require__(138),__WEBPACK_IMPORTED_MODULE_3_corelib_dataworld_Column__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_4_corelib_dataworld_ColumnGroup__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_5_corelib_dataworld_Spectrum__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_6_corelib_dataworld_DataWorld_export__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_7_corelib_dataworld_DataWorld_handlers__=__webpack_require__(145),__WEBPACK_IMPORTED_MODULE_8_corelib_session_sessionFactory__=__webpack_require__(146),__WEBPACK_IMPORTED_MODULE_9_corelib_session_DataCollectionSession__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_10_corelib_session_DataShareSession__=__webpack_require__(54),__WEBPACK_IMPORTED_MODULE_11_corelib_session_ManualSession__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_12_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_13_corelib_util_formatter__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_14_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_14_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_15_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_16_corelib_util_udmArchive__=__webpack_require__(153),__WEBPACK_IMPORTED_MODULE_17_corelib_fileio_fileio_helpers__=__webpack_require__(32),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const AUTOSAVE_POLL_MS=5e3;function _getTimeFormatStr(timeUnits){const dataCollection=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('data-collection'),delta=__WEBPACK_IMPORTED_MODULE_13_corelib_util_formatter__.a.convertTimeUnits(dataCollection.timeBasedParams.delta,'s',timeUnits);let formatStr=`%.0f`;if(0<delta&&1>delta){const precision=_Mathceil(_Mathabs5(_Mathlog(delta)));formatStr=`%.${precision}f`}return formatStr}function toUdmId(id){return~~id}function _getTimeFormatPrecision(timeUnits){const dataCollection=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('data-collection'),delta=__WEBPACK_IMPORTED_MODULE_13_corelib_util_formatter__.a.convertTimeUnits(dataCollection.timeBasedParams.delta,'s',timeUnits),precision=0<delta&&1>delta?_Mathceil(_Mathabs5(_Mathlog(delta))):0;return precision}class DataWorld{constructor(config){this.rpc=config.rpc;__WEBPACK_IMPORTED_MODULE_7_corelib_dataworld_DataWorld_handlers__.a.registerRPCMethods(this.rpc,this);this.session=null;this.sessionFileManager=config.sessionFileManager;this.viewPrefs=config.viewPrefs;this.sensorWorld=config.sensorWorld;this.ignoreNameChanges=!1;this.timeUnits=null;this._getTimeFormatStr=_getTimeFormatStr;this._getTimeFormatPrecision=_getTimeFormatPrecision;this.keepAwakeTimeout=null;this.autoSavePending=!1;this.autoSaveTimer=null;this.enableAutoSave=!0;this.dataSets=new __WEBPACK_IMPORTED_MODULE_2_corelib_dataworld_DataSet__.a.Collection;this.columns=new __WEBPACK_IMPORTED_MODULE_3_corelib_dataworld_Column__.a.Collection;this.columnGroups=new __WEBPACK_IMPORTED_MODULE_4_corelib_dataworld_ColumnGroup__.a.Collection;this.spectrums=new __WEBPACK_IMPORTED_MODULE_5_corelib_dataworld_Spectrum__.a.Collection;this.columnGroupIndices={};this.seenBaseCol={};this.seenTraceCol={};this.i18n=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('i18n');this.dataCollection=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('data-collection');this.fileIO=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('file-io');this.configuration=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('configuration');this.power=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('power');if((()=>{return'va'===this.configuration.app})()){__WEBPACK_IMPORTED_MODULE_16_corelib_util_udmArchive__.a.create({maxDBSize:41943040,leaveAfterPrune:2}).then(arch=>{this.archive=arch})}this.dataSets.on('add',dataSet=>{this.trigger('dataset-added',dataSet);dataSet.on('name-changed',name=>{this.trigger('dataset-name-changed',dataSet,name)})});this.dataSets.on('remove',dataSet=>{dataSet.off();this.trigger('dataset-removed',dataSet)});this.columns.on('add',column=>{this.trigger('column-added',column);['values','format-string','updated-rows'].forEach(propName=>{column.on(`${propName}-changed`,value=>{this.trigger(`column-${propName}-changed`,column,value);if('updated-rows'===propName){this.updateColumnValues(column.id,column.values,column.updatedRows)}})})});this.columns.on('remove',column=>{column.off();this.trigger('column-removed',column)});this.columnGroups.on('add',columnGroup=>{this.trigger('column-group-added',columnGroup);['name','units'].forEach(propName=>{columnGroup.on(`${propName}-changed`,value=>{this.trigger(`column-group-${propName}-changed`,columnGroup,value)})});columnGroup.on('unit-change-finished',()=>{this.trigger('column-group-unit-change-finished',columnGroup)})});this.columnGroups.on('remove',columnGroup=>{columnGroup.off();this.trigger('column-group-removed',columnGroup)});this.dataCollection.on('start-measurements-failed',()=>{this._notifyCollectionStopped()});this.dataCollection.on('time-units-changed',units=>{const timeCol=this.columnGroups.findWhere({type:'time'});if(timeCol){timeCol.units=units;const firstCol=timeCol.columns[0];if(firstCol){this.changeColumnUnit(firstCol.id,units)}}this.timeUnits=units});this.dataCollection.on('collection-params-changed',params=>{if('time-based'===params.mode&&this.isSessionEmpty){const timeColGroup=this.columnGroups.findWhere({type:'time'});if(timeColGroup){const precision=_getTimeFormatPrecision(this.timeUnits);timeColGroup.precision.update({precision})}}const passedParams=params.params;if(passedParams.triggering){this.isTriggeringEnabled=passedParams.triggering.enabled}});this.dataCollection.on('device-detached',()=>{if(this.isCollecting){this.stopCollection()}});this.currentDataSet=null}get predictions(){return this.getSpecialDataSets().filter(set=>'prediction'===set.type)}get graphMatches(){return this.getSpecialDataSets().filter(set=>'graph-match'===set.type)}setIsCollecting(isCollecting){this.isCollecting=isCollecting;this.trigger('is-collecting-changed',isCollecting)}getViewPrefs(){return this.viewPrefs}getSessionManager(){return this.sessionFileManager}getSession(){return this.session}_triggerPrepareSession(){this.trigger('preparing-session')}setupSession(){try{console.warn('FIXME: remove this function -- components need to handle session-started event');if(!this.importing){if(this.session.setupSessionFile){this.session.setupSessionFile()}}else{this.importing=!1}}catch(error){console.error('Failed to setup Session File');console.error(error)}}getColumnGroupIndex(type){const indexCache=this.columnGroupIndices,value=!Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.isUndefined)(indexCache[type])?indexCache[type]:1;return value}_incrementColumnGroupIndex(type){const value=this.getColumnGroupIndex(type)+1,indexCache=this.columnGroupIndices;indexCache[type]=value;return value}async sessionStarted(){console.assert(this.sessionConfig);this.trigger('session-started',!0,this.sessionConfig);if(this.sessionConfig.imported&&this.sessionConfig.sessionFile.name.match(this.sessionConfig.sessionFileType)){const filepath=this.sessionConfig.sessionFileFullPath;try{const age=await this.documentAge();this.sessionFile.updateUserMetaData(filepath,age)}catch(err){console.error(err);this.sessionFile.updateUserMetaData(filepath,1)}}this.sessionConfig=void 0;this.createAutoSaveTimer();this.requestAutoSave()}async startNewSession(sessionType,sessionConfig={type:sessionType}){console.assert(sessionType);sessionConfig=_extends({},sessionConfig);const{sensorWorld}=this,ignoreSensors=sessionConfig.ignoreSensors||'manual'===sessionConfig.type||'DataShare'===sessionConfig.type;let valueCount=0;if(this.archive){this.columns.forEach(col=>{valueCount+=col.getValueCount()})}console.debug(`Old session has ${valueCount} values`);await this.closeSession();if(this.archive){await this.archive.newSession({reuseSession:0===valueCount})}const newSession=await(async()=>{this.trigger('session-connection-disconnected');console.assert(!this.session);try{const sessionFile=await this.sessionFileManager.createSession(sessionType,sessionConfig);this.session=__WEBPACK_IMPORTED_MODULE_8_corelib_session_sessionFactory__.a.createSession(this,sessionType,sessionFile,sessionConfig);if(this.session){this._triggerPrepareSession();sessionConfig.sessionFile=sessionFile;sessionConfig.sessionType=sessionType;this.sessionConfig=sessionConfig;await sensorWorld.setIgnoreSensors(ignoreSensors);await this.session.start(sessionConfig)}}catch(err){this.session=null}return this.session})();if(sessionConfig.imported){try{const result=await this.getPageAttributes();if(result.success){this.trigger('view-changed',result.attributes)}else{throw new Error(result)}}catch(err){throw new Error(err)}}return newSession}_cleanupSession(){if(this.session){this.columnGroupIndices={};const models=[].concat(this.dataSets.models,this.columns.models,this.columnGroups.models);this.dataSets.models.slice(0).forEach(ds=>{this.removeInternalDataSet(ds.id)});this.viewPrefs.reset();this.columns.reset();this.dataSets.reset();this.columnGroups.reset();this.spectrums.reset();this.currentDataSet=null;this.autoSavePending=!1;this.autoSaveTimer=null;models.forEach(model=>model.off());this.setIsCollecting(!1);this.trigger('session-ended')}}get isSessionEmpty(){const dataSets=this.getAllDataSets();let isEmpty=!1,columns;if(2>dataSets.length&&dataSets[0]){columns=dataSets[0].columnIDs;isEmpty=!0;for(let i=0;i<columns.length&&isEmpty;++i){isEmpty=0===this.getColumn(columns[i]).values.length}}else if(0===dataSets.length){isEmpty=!0}return isEmpty}isCurrentDataSetEmpty(onlyCheckSensorColumns){if(!this.currentDataSet){return!0}const curColumnIds=this.currentDataSet.columnIDs;function columnEmpty(col){let empty=0===col.values.length;if(!empty){empty=col.values.every(v=>isNaN(v)||null===v)}return empty}const isEmpty=curColumnIds.map(id=>this.getColumn(id)).filter(col=>{return onlyCheckSensorColumns?'sensor'===col.type:!0}).every(col=>columnEmpty(col));return isEmpty}closeSession(){const cleanupSession=()=>{try{this._cleanupSession()}catch(error){console.error('Error cleaning up session:');console.error(error)}};return new Promise((_resolve,_reject)=>{if(!this.session){_resolve()}const eventBinder=new __WEBPACK_IMPORTED_MODULE_12_corelib_util_EventBinder__.a,resolve=()=>{cleanupSession();eventBinder.unbindAll();this.session=null;_resolve.apply(this,arguments)},reject=()=>{cleanupSession();eventBinder.unbindAll();this.session=null;_reject.apply(this,arguments)},session=this.session;clearTimeout(this.autoSaveTimer);this.autoSaveTimer=null;const closeAndSaveSession=()=>{this.sessionFileManager.closeSession(session.sessionFile,!0).then(resolve,reject)};if(session){session.stop().then(()=>{this.trigger('session-closing');if(this.autoSavePending){eventBinder.bind(this,'auto-save-completed',closeAndSaveSession);eventBinder.bind(this,'auto-save-failed',closeAndSaveSession)}else{closeAndSaveSession()}},reject)}else{resolve()}})}prepareCollection(){this._notifyCollectionPreparing();return new Promise(resolve=>{setTimeout(()=>{resolve()},100)})}startCollection(params){const session=this.getSession();if(session&&'function'===typeof session.startCollection){this._notifyCollectionTriggered();session.startCollection(params).catch(err=>{console.error(err)})}}stopCollection(){const session=this.getSession();if(session&&'function'===typeof session.stopCollection){session.stopCollection().catch(()=>{console.error('stopCollection failed')})}}getDataManager(){return this}requestAutoSave(){if(this.session&&!this.autoSavePending){this.autoSavePending=!0;this.session.sessionFile.save().then(()=>{this.autoSavePending=!1;this.trigger('auto-save-completed')},()=>{this.autoSavePending=!1;this.trigger('auto-save-failed')})}}triggerPrestore(){this.trigger('collection-prestore-reached')}createAutoSaveTimer(){const saveTimeout=()=>{if(this.enableAutoSave){this.requestAutoSave()}this.autoSaveTimer=setTimeout(saveTimeout,AUTOSAVE_POLL_MS)};if(this.autoSaveTimer){clearTimeout(this.autoSaveTimer)}this.autoSaveTimer=setTimeout(saveTimeout,AUTOSAVE_POLL_MS)}getColumns(){const columns=this.columns&&this.columns.models||[];return columns.filter(c=>!c.special)}getSpecialColumns(){const columns=this.columns&&this.columns.models||[];return columns.filter(c=>c.special)}getAllColumns(){return this.columns&&this.columns.models||[]}getColumn(columnId){if(columnId!==void 0){columnId=`${columnId}`}return this.getAllColumns().find(column=>column.id===columnId)}getColumnForGroupAndSet(groupID,setID){if(groupID===void 0||null===groupID){return null}return this.getAllColumns().find(newCol=>newCol.setID==setID&&newCol.groupID==groupID)}getColumnForSet(column,setID){if(!column){return null}return this.getAllColumns().find(newCol=>newCol.setID==setID&&newCol.groupID==column.groupID)}getColumnsForSet(setId){const groups=this.getColumnGroups(),columns=[];groups.forEach(group=>{group.columns.forEach(column=>{if(column.setID===setId){columns.push(column)}})});return columns}getDataSets(){return this.dataSets.models.filter(ds=>'regular'===ds.type)}getSpecialDataSets(){return this.dataSets.models.filter(ds=>'regular'!==ds.type)}getAllDataSets(){return this.dataSets.models}getDataSetsOfType(type){return this.dataSets.models.filter(ds=>ds.type===type)||[]}getDataSetByID(dataSetID){if(dataSetID!==void 0){dataSetID=`${dataSetID}`}return this.dataSets.get(dataSetID)}getColumnGroupById(groupId){return this.columnGroups.get(groupId)}getColumnGroups(){return this.columnGroups.models}getPageAttributes(params={}){return this.rpc.sendRequest('page-attributes',params)}setExperimentName(name){let p;if(this.archive){p=this.archive.setExportName(name)}else{p=Promise.resolve()}return p.then(()=>{return this.rpc.sendRequest('set-experiment-name',{name})})}calculateSparkLine(baseColId,traceColId,pixelWidth){const params={baseColId:toUdmId(baseColId),traceColId:toUdmId(traceColId),pixelWidth};return this.rpc.sendRequest('sparkline-for-column',params)}getDataShareSource(sourceId){const params={};if(sourceId){params.sourceId=parseInt(sourceId)}return this.rpc.sendRequest('data-share-source',params)}createNewDataSet(params={}){const rpcParams=_extends({},params);if(rpcParams.foreignId){rpcParams.foreignId=toUdmId(params.foreignId)}if(!rpcParams.name){const{i18n}=this,dataSetCount=this.getDataSets().length+1;rpcParams.name=Object(__WEBPACK_IMPORTED_MODULE_14_corelib_lib_sprintf__.sprintf)(i18n.getText('Data Set %d'),dataSetCount)}return this.rpc.sendRequest('create-new-dataset',rpcParams)}createNewColumn(params={}){const rpcParams=_extends({},params);if(params){if(params.foreignId){rpcParams.foreignId=toUdmId(params.foreignId)}if(params.foreignGroupId){rpcParams.foreignGroupId=toUdmId(params.foreignGroupId)}if(params.foreignSetId){rpcParams.foreignSetId=toUdmId(params.foreignSetId)}}return this.rpc.sendRequest('create-new-column',rpcParams)}createManualColumnGroup({name,units,precision,automaticPrecision,sourceColumnId}={}){return this.rpc.sendRequest('create-user-manual-column',{name,unit:units,precision,automaticPrecision,previousId:toUdmId(sourceColumnId)}).then(result=>{if(!result.success){return Promise.reject(new Error('Failed to create manual column group'))}this._incrementColumnGroupIndex('manual');return this.columnGroups.get(result.groupId)})}createCalcColumnGroup({name,units,precision,automaticPrecision,sourceColumnId,calcEquation,calcDependentGroups,calcCoefficients}={}){return this.rpc.sendRequest('create-user-calc-column',{name,unit:units,previousId:toUdmId(sourceColumnId),precision,automaticPrecision,calcEquation,calcDependentGroups,calcCoefficients}).then(result=>{if(!result.success){return Promise.reject(new Error('Failed to create calc column group'))}this._incrementColumnGroupIndex('calc');return this.columnGroups.get(result.groupId)})}removeColumnGroup(groupId){groupId=parseInt(groupId);return this.rpc.sendRequest('remove-column-group',{groupId}).then(result=>{if(!result.success){return Promise.reject(new Error('Failed to remove column group'))}return result})}updateColumnCell(columnId,rowIndex,value){columnId=parseInt(columnId);const column=this.getColumn(columnId);if(column&&column.editable){column.setValuesByRow([rowIndex],[value]);return this.updateColumnValues(columnId,column.values,[rowIndex])}return Promise.reject(new Error(`Cannot update cell for columnId= ${columnId}`))}updateDataSet(id,params){console.assert(id);id=toUdmId(id);return this.rpc.sendRequest('update-dataset-properties',{id,params})}updateColumn(id,params){console.assert(id);id=toUdmId(id);return this.rpc.sendRequest('update-column',{id,params})}updateColumnValues(id,values,rows,trim){console.assert(id);id=toUdmId(id);const valuesArray=[];rows.forEach(row=>{valuesArray.push([row,values[row]])});return this.rpc.sendRequest('update-column-values',{id,values:valuesArray,trim:trim||!1})}_notifyCollectionTriggered(){this.trigger('collection-triggered')}_notifyCollectionPreparing(){this.isCollecting=this.isTriggeringEnabled;this.trigger('collection-preparing')}_notifyCollectionStarted(){this.isCollecting=!0;this.trigger('collection-started')}_notifyCollectionStopped(){this.isCollecting=!1;this.trigger('collection-stopped')}addEventData(id,value,readings){console.assert(id);id=toUdmId(id);value=value?parseFloat(value):null;const readingsArray=[];readings.forEach(item=>{readingsArray.push([toUdmId(item.column.id),item.value])});return this.rpc.sendRequest('add-event-data',{id,value,readings:readingsArray})}changeColumnUnit(id,newUnit){console.assert(id);id=toUdmId(id);return this.rpc.sendRequest('change-column-unit',{id,unit:newUnit})}changeColumn(columnId,params={}){const rpcParams=_extends({},params);rpcParams.id=toUdmId(columnId);if(0===rpcParams.id){return new Promise((resolve,reject)=>{reject(new Error('changeCalled called before UDM id available.'))})}return this.rpc.sendRequest('change-column',rpcParams)}addGraph(graph,params={}){const rpcParams=_extends({},params);if(params.baseColumnId){rpcParams.baseColumnId=toUdmId(params.baseColumnId)}return this.rpc.sendRequest('add-graph',rpcParams)}toggleMeters(show=!1){return this.rpc.sendRequest('toggle-meters',{visible:show})}toggleTables(show=!1){return this.rpc.sendRequest('toggle-tables',{visible:show})}changeGraph(graphUdmId,params={}){if(this.importing||this.sessionClosing){return Promise.resolve()}const rpcParams=_extends({},params);if(params.baseColumnId){rpcParams.baseColumnId=toUdmId(params.baseColumnId)}rpcParams.graphId=toUdmId(graphUdmId);if(0===rpcParams.graphId){return new Promise((resolve,reject)=>{reject(new Error('changeGraph called before UDM id available.'))})}return this.rpc.sendRequest('change-graph',rpcParams)}addGraphTraces(graphUdmId,params={}){const rpcParams=_extends({},params);rpcParams.graphId=toUdmId(graphUdmId);return this.rpc.sendRequest('add-graph-traces',rpcParams)}removeGraphTraces(graphUdmId,params={}){const rpcParams=_extends({},params);rpcParams.graphId=toUdmId(graphUdmId);return this.rpc.sendRequest('remove-graph-traces',rpcParams)}addGraphCurveFit(graphUdmId,params={}){const rpcParams=_extends({},params);if(this.importing||this.sessionClosing){return Promise.resolve()}rpcParams.graphId=toUdmId(graphUdmId);if(params.baseColumnId){rpcParams.baseColumnId=toUdmId(params.baseColumnId)}if(params.traceColumnId){rpcParams.traceColumnId=toUdmId(params.traceColumnId)}if(params.fitId){rpcParams.fitId=toUdmId(params.fitId)}return this.rpc.sendRequest('add-graph-curve-fit',rpcParams)}removeGraphCurveFit(graphUdmId,fitId){const rpcParams={fitId:toUdmId(fitId)};return this.rpc.sendRequest('remove-graph-curve-fit',rpcParams)}addGraphIntegral(graphUdmId,params={}){const rpcParams=_extends({},params);rpcParams.graphId=toUdmId(graphUdmId);if(params.baseColumnId){rpcParams.baseColumnId=toUdmId(params.baseColumnId)}if(params.traceColumnId){rpcParams.traceColumnId=toUdmId(params.traceColumnId)}if(params.integralId){rpcParams.integralId=toUdmId(params.integralId)}return this.rpc.sendRequest('add-graph-integral',rpcParams)}removeGraphIntegral(graphUdmId,integralId){const rpcParams={integralId:toUdmId(integralId)};return this.rpc.sendRequest('remove-graph-integral',rpcParams)}addGraphStats(graphUdmId,params={}){const rpcParams=_extends({},params);rpcParams.graphId=toUdmId(graphUdmId);if(params.baseColumnId){rpcParams.baseColumnId=toUdmId(params.baseColumnId)}if(params.traceColumnId){rpcParams.traceColumnId=toUdmId(params.traceColumnId)}if(params.statsId){rpcParams.statsId=toUdmId(params.statsId)}return this.rpc.sendRequest('add-graph-stats',rpcParams)}removeGraphStats(graphUdmId,statsId){const rpcParams={statsId:toUdmId(statsId)};return this.rpc.sendRequest('remove-graph-stats',rpcParams)}addGraphAnnotation(graphUdmId,params={}){const rpcParams=_extends({},params);rpcParams.parentId=toUdmId(graphUdmId);if(params.udmId){rpcParams.annotationId=toUdmId(params.udmId)}return new Promise((resolve,reject)=>{this.rpc.sendRequest('add-graph-annotation',rpcParams).then(response=>{resolve(response)}).catch(err=>{console.error(err);reject(err)})})}removeGraphAnnotation(graphUdmId,annotationUdmId){const rpcParams={annotationId:toUdmId(annotationUdmId)};return new Promise((resolve,reject)=>{this.rpc.sendRequest('remove-graph-annotation',rpcParams).then(response=>{resolve(response)}).catch(err=>{console.error(err);reject(err)})})}changeSensorUnit(sensorId,newUnit){console.assert(sensorId);sensorId=parseInt(sensorId);return this.rpc.sendRequest('sw:change-sensor-unit',{id:sensorId,unit:newUnit})}dataSetReadyHandler(dataSet){const eventBinder=new __WEBPACK_IMPORTED_MODULE_12_corelib_util_EventBinder__.a;let counter=0;eventBinder.on(this,'column-added',newCol=>{if(newCol.setID===dataSet.id){counter++;if(counter===this.columnGroups.length){eventBinder.unbindAll();this.trigger('data-set-ready',dataSet)}}})}createInternalDataSet(params={}){const opts=_extends({},params),foreignId=opts.foreignId;let nameChange=!1;delete opts.foreignId;if(!opts.name){const dataSetCount=this.getDataSets().length+1,{i18n}=this;opts.name=Object(__WEBPACK_IMPORTED_MODULE_14_corelib_lib_sprintf__.sprintf)(i18n.getText('Data Set %d'),dataSetCount);nameChange=!0}const dataSet=new __WEBPACK_IMPORTED_MODULE_2_corelib_dataworld_DataSet__.a(opts);if(foreignId){dataSet.foreignId=foreignId}if(this.dataSets.length){this.dataSetReadyHandler(dataSet)}this.dataSets.add(dataSet);if('regular'===dataSet.type){this.currentDataSet=dataSet}this.trigger('data-set-added',{addedDataSet:dataSet});if(nameChange){this.updateDataSet(params.id,{name:opts.name})}return dataSet}createInternalGroup(params){const siblingId=params.siblingId,beforeSibling=params.beforeSibling;delete params.siblingId;delete params.beforeSibling;const addOpts={};if(siblingId){const pos=this.columnGroups.findIndex({id:siblingId});if(0>pos){console.warn(`Could not find column group with id ${siblingId}`)}else if(beforeSibling){addOpts.at=pos}else{addOpts.at=pos+1}}const columnGroup=new __WEBPACK_IMPORTED_MODULE_4_corelib_dataworld_ColumnGroup__.a(params);this.columnGroups.add(columnGroup,addOpts)}updateInternalGroup(id,params){const columnGroup=this.columnGroups.get(id);columnGroup.update(params);this.trigger('column-group-updated',columnGroup)}removeInternalGroup(id){this.columnGroups.remove(id)}getColumnGroup(groupId){return this.columnGroups.get(groupId)}updateColumnGroup(groupId,properties){const group=this.getColumnGroup(groupId);if(!group){return Promise.reject(new Error(`Failed to find group for groupId= ${groupId}`))}group.update(properties);if('sensor'===group.type&&properties.units!==void 0){this.changeSensorUnit(group.sensorId,properties.units)}return this.rpc.sendRequest('update-column-group',{groupId,properties})}updateColumnGroupByColumn(columnId,properties){const column=this.getColumn(columnId);if(!column){return Promise.reject(new Error(`Failed to find column for columnId= ${columnId}`))}return this.updateColumnGroup(column.groupID,properties)}createInternalColumnForDataSet(dataSet,params){const i18n=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('i18n'),siblingId=params.siblingId||0,beforeSibling=params.beforeSibling;let _params={};if('string'===typeof params){_params={id:params}}else{_params=_extends({},params)}if('time'===_params.type){_params.title=i18n.getText('Time')}if(_params.id!==void 0){_params.id=`${_params.id}`}if(_params.meterId!==void 0){_params.meterId=`${_params.meterId}`}if(_params.setID!==void 0){_params.setID=`${_params.setID}`}console.assert(dataSet);console.assert(_params.id);const precision=_params.precision;delete _params.precision;delete _params.siblingId;delete _params.beforeSibling;const column=new __WEBPACK_IMPORTED_MODULE_3_corelib_dataworld_Column__.a(_params);if(_params.foreignId){column.foreignId=_params.foreignId}if(_params.foreignGroupId){column.foreignGroupId=_params.foreignGroupId}dataSet.addColumn(column.id,`{siblingId}`,beforeSibling);const addOpts={};if(siblingId){const pos=this.columns.findIndex({id:siblingId});if(0<=pos){if(beforeSibling){addOpts.at=pos}else{addOpts.at=pos+1}}}else if(beforeSibling){addOpts.at=0}this.columns.add(column,addOpts);if(precision){column.group.update({precision})}column.on('color-changed',()=>{this.changeColumn(column.id,{color:column.color})});if(this.importing){if(1===dataSet.columnIDs.length){this.seenBaseCol[dataSet.id]=!1;this.seenTraceCol[dataSet.id]=!1}if('prediction'===dataSet.type){column.once('values-changed',()=>{const baseColId=dataSet.columnIDs[0];if(baseColId===column.id){this.seenBaseCol[dataSet.id]=!0}if(2>dataSet.columnIDs.length){return}const traceColId=dataSet.columnIDs[1];if(traceColId===column.id){this.seenTraceCol[dataSet.id]=!0}if(!this.seenBaseCol[dataSet.id]||!this.seenTraceCol[dataSet.id]){return}delete this.seenTraceCol[dataSet.id];delete this.seenBaseCol[dataSet.id];const id=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniqueId)('prediction-'),predOpts={name:dataSet.name,id,baseColId,traceColId,onDocumentLoad:!0};this.createPrediction([],predOpts)})}else if('spectrum'===dataSet.type){column.once('values-changed',()=>{const baseColId=dataSet.columnIDs[0];if(baseColId===column.id){this.seenBaseCol[dataSet.id]=!0}if(2>dataSet.columnIDs.length){return}const traceColId=dataSet.columnIDs[1];if(traceColId===column.id){this.seenTraceCol[dataSet.id]=!0}if(!this.seenBaseCol[dataSet.id]||!this.seenTraceCol[dataSet.id]){return}delete this.seenTraceCol[dataSet.id];delete this.seenBaseCol[dataSet.id];const points=[],baseColVals=this.getColumn(baseColId).values,traceColVals=this.getColumn(traceColId).values,len=Math.min(baseColVals.length,traceColVals.length),id=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniqueId)('spectrum-');for(let i=0;i<len;++i){points[i]=[baseColVals[i],traceColVals[i]]}const specOpts={points,name:dataSet.name,id,baseColId,traceColId,onDocumentLoad:!0};this.createSpectrum(specOpts)})}else if('graph-match'===dataSet.type){column.once('values-changed',()=>{const baseColId=dataSet.columnIDs[0];if(baseColId===column.id){this.seenBaseCol[dataSet.id]=!0}if(2>dataSet.columnIDs.length){return}const traceColId=dataSet.columnIDs[1];if(traceColId===column.id){this.seenTraceCol[dataSet.id]=!0}if(!this.seenBaseCol[dataSet.id]||!this.seenTraceCol[dataSet.id]){return}delete this.seenTraceCol[dataSet.id];delete this.seenBaseCol[dataSet.id];const id=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniqueId)('graph-match-'),gmOpts={id,name:dataSet.name,matchType:this.getMatchTypeForColumn(traceColId),dataSetId:dataSet.id,baseColId,traceColId,onDocumentLoad:!0};this.createGraphMatch([],gmOpts)})}}return column}removeInternalColumn(columnId){this.trigger('removing-column',columnId);if(columnId!==void 0){columnId=`${columnId}`}let removed=!1;const column=this.getColumn(columnId);if(column){const dataSet=this.getDataSetByID(column.setID);if(dataSet){dataSet.removeColumn(columnId)}else{console.warn(`unable to find data set for column id= ${columnId}`)}this.columns.remove(column);this.ignoreNameChanges=!0;this.ignoreNameChanges=!1;removed=!0}return removed}removeInternalDataSet(dataSetID){let removed=!1;const dataSet=this.getDataSetByID(dataSetID);if(dataSet){dataSet.columnIDs.forEach(columnID=>{this.removeInternalColumn(columnID)});this.dataSets.remove(dataSetID);removed=!0;const{currentDataSet}=this;if(currentDataSet&&currentDataSet.id===dataSetID){this.currentDataSet=null}}return removed}setupSpectrum(spectrum){return new Promise((resolve,reject)=>{const eventBinder=new __WEBPACK_IMPORTED_MODULE_12_corelib_util_EventBinder__.a,colIds=[];let dataSetId=0;(()=>{return new Promise((resolve,reject)=>{let colCount=0,resolvedCols=!1;const _columnBinder=eventBinder.on(this,'column-added',newCol=>{colIds[colCount]=newCol.id;colCount++;if(2===colCount){_columnBinder.off();resolvedCols=!0;if(0!==dataSetId){resolve(colIds)}}});this.createNewDataSet({type:'spectrum',name:spectrum.name}).then(result=>{if(result.success){dataSetId=result.datasetId;if(resolvedCols){resolve(colIds)}setTimeout(()=>{if(!resolvedCols){_columnBinder.off();reject(new Error('Timed out'))}},3e3)}else{_columnBinder.off();reject(new Error('Failed to create dataset'))}})})})().then(()=>{spectrum.dataSetId=parseInt(dataSetId);spectrum.baseColId=parseInt(colIds[0]);spectrum.traceColId=parseInt(colIds[1]);if(spectrum.points){const baseColumn=this.getColumn(colIds[0]),column=this.getColumn(colIds[1]);console.assert(column&&baseColumn);const rows=[],values=new Float64Array(spectrum.points.length),wavelens=new Float64Array(spectrum.points.length);for(let i=0;i<spectrum.points.length;++i){rows.push(i);wavelens[i]=spectrum.points[i][0];values[i]=spectrum.points[i][1]}baseColumn.set({values:[],updatedRows:[]});column.set({values:[],updatedRows:[]});baseColumn.set({values:wavelens,updatedRows:rows});column.set({values,updatedRows:rows})}resolve(spectrum)}).catch(err=>{console.error(err);reject(err)})})}setupSpecialDataSet(points,params){return new Promise((resolve,reject)=>{const eventBinder=new __WEBPACK_IMPORTED_MODULE_12_corelib_util_EventBinder__.a,colIds=[];let dataSetId=0;(()=>{return new Promise((resolve,reject)=>{let colCount=0,resolvedCols=!1;const _columnBinder=eventBinder.on(this,'column-added',newCol=>{colIds[colCount]=newCol.id;colCount++;if(2===colCount){_columnBinder.off();resolvedCols=!0;if(0!==dataSetId){resolve(colIds)}}}),config={type:params.type,name:params.name};if(params.matchGroupId){config.matchGroupId=params.matchGroupId}this.createNewDataSet(config).then(result=>{if(result.success){dataSetId=result.datasetId;const dataSet=this.getDataSetByID(dataSetId);if(dataSet){eventBinder.on(this,'dataset-name-changed',set=>{params.name=set.name})}if(resolvedCols){resolve(colIds)}setTimeout(()=>{if(!resolvedCols){_columnBinder.off();reject(new Error('Timed out'))}},3e3)}else{_columnBinder.off();reject(new Error('Failed to create dataset'))}})})})().then(columnIds=>{if(points){const baseColumn=this.getColumn(columnIds[0]),traceColumn=this.getColumn(columnIds[1]);console.assert(traceColumn&&baseColumn);const rows=[],values=new Float64Array(points.length),times=new Float64Array(points.length);for(let i=0;i<points.length;++i){rows.push(i);times[i]=points[i][0];values[i]=points[i][1]}baseColumn.set({values:[],updatedRows:[]});traceColumn.set({values:[],updatedRows:[]});baseColumn.set({values:times,updatedRows:rows});traceColumn.set({values,updatedRows:rows})}resolve(columnIds[1])}).catch(err=>{console.error(err);reject(err)})})}createSpectrum(options){return new Promise((resolve,reject)=>{const i18n=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('i18n'),name=options.name||i18n.getText('Spectrum'),id=options.id||Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniqueId)('spectrum-'),points=options.points||[],onDocumentLoad=options.onDocumentLoad||!1,params={points,name,id,traceColId:parseInt(options.traceColId)||void 0,baseColId:parseInt(options.baseColId)||void 0},spectrum=new __WEBPACK_IMPORTED_MODULE_5_corelib_dataworld_Spectrum__.a(params);if(!onDocumentLoad){this.setupSpectrum(spectrum).then(spectrum=>{this.spectrums.reset();this.spectrums.add(spectrum);this.trigger('spectrum-created',spectrum);resolve(spectrum)}).catch(err=>{console.error(`Failed to set up spectrum: ${err}`);reject(err)})}else{this.spectrums.add(spectrum);resolve(spectrum)}})}createPrediction(points,options){return new Promise((resolve,reject)=>{const i18n=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('i18n'),count=this.predictions.length+1,name=options.name||`${i18n.getText('Prediction')} ${count}`,id=options.id||Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniqueId)('prediction-'),onDocumentLoad=options.onDocumentLoad||!1,params={name,id,traceColId:parseInt(options.traceColId)||void 0,baseColId:parseInt(options.baseColId)||void 0,type:'prediction'};if(!onDocumentLoad){this.setupSpecialDataSet(points,params).then(traceColId=>{resolve(traceColId)}).catch(err=>{console.error(`Failed to set up prediction: ${err}`);reject(err)})}else{resolve(params.traceColId)}})}createGraphMatch(points,options){return new Promise((resolve,reject)=>{const matchType=options.matchType,name=options.name,id=options.id||Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniqueId)('graphMatch-'),onDocumentLoad=options.onDocumentLoad||!1;console.assert(matchType);console.assert(name);const params={name,id,traceColId:parseInt(options.traceColId)||void 0,baseColId:parseInt(options.baseColId)||void 0,matchGroupId:parseInt(options.matchGroupId),type:'graph-match'};if(!onDocumentLoad){if(this.graphMatches.length){this.removeDataSet(this.graphMatches[0].id).catch(err=>reject(err))}this.setupSpecialDataSet(points,params).then(traceColId=>{resolve({traceColId,matchType})}).catch(err=>{console.error(`Failed to set up prediction: ${err}`);reject(err)})}else{resolve({traceColId:params.traceColId,matchType})}})}removeGraphMatches(){return new Promise((resolve,reject)=>{const promises=[];this.graphMatches.forEach(graphMatch=>{promises.push(this.removeData(graphMatch.id))});Promise.all(promises).then(()=>{resolve()}).catch(e=>{reject(e)})})}removeDataSet(id){const datasetId=parseInt(`${id}`);return this.rpc.sendRequest('remove-dataset',{datasetId}).then(response=>{if(response.success){this.removeInternalDataSet(id)}else{throw new Error(`Failed to remove dataset ${id}`)}})}getMatchTypeForColumn(columnId){const col=this.getColumn(columnId);let matchType=null;if(this.sensorWorld.isMotionDetector(col.sensorId)){matchType='Position'}else if('calc'===col.type&&col.sensorMapId.startsWith('CC_MDV')){matchType='Velocity'}return matchType}getMatchTypeForColumnGroup(groupId){const group=this.getColumnGroupById(groupId);return this.getMatchTypeForColumn(group.columns[0].id)}getGraphMatchColumns(){const columns=[],matchTypes=[];if(this.canCollect){this.currentDataSet.columnIDs.forEach(colId=>{const column=this.getColumn(colId),matchType=this.getMatchTypeForColumn(colId);if(matchType&&0>matchTypes.indexOf(matchType)){matchTypes.push(matchType);columns.push(column)}})}return columns}generateMatchPoints(columnId,srcColumnGroupId){const points=[],matchType=this.getMatchTypeForColumnGroup(srcColumnGroupId);function getRandomPointByRange(min,max,prevPoint){const point=Math.random()*(max-min)+min;if(prevPoint&&_Mathabs5(prevPoint-point)<0.4){return getRandomPointByRange(min,max,prevPoint)}return point}if(matchType){const column=this.getColumn(columnId),units=column.units,SLOPE='ft'===units||'ft/s'===units?3.2808:0,isVelocity='VELOCITY'===matchType.toUpperCase(),params=this.dataCollection.timeBasedParams,delta=params.delta,duration=__WEBPACK_IMPORTED_MODULE_13_corelib_util_formatter__.a.convertTimeUnits(params.duration,'s',params.units),xRange={min:0,max:duration},yRange={min:column.range.min,max:column.range.max};if(0<delta&&0<duration){const pos=[];let xStep=duration/3,padding=0;if(isVelocity){yRange.min=0;yRange.max=0<SLOPE?2*SLOPE:2;xStep=duration/3.33}else{padding='ft'===column.units?0.82021:0.25}for(let i=0;4>i;++i){pos[i]=getRandomPointByRange(yRange.min+padding,yRange.max-padding,pos[i-1]);if(!isVelocity){points.push([xRange.min+xStep*i,pos[i]])}}if(isVelocity){points.push([0,0]);let vel=(pos[1]-pos[0])/xStep;points.push([xRange.min+0.03*duration,vel]);points.push([xRange.min+0.33*duration,vel]);vel=(pos[2]-pos[1])/xStep;points.push([xRange.min+0.36*duration,vel]);points.push([xRange.min+0.66*duration,vel]);vel=(pos[3]-pos[2])/xStep;points.push([xRange.min+0.69*duration,vel]);points.push([xRange.min+duration,vel])}}}return points}getExportSummary(){const columns=this.getColumns();return __WEBPACK_IMPORTED_MODULE_6_corelib_dataworld_DataWorld_export__.a.getExportSummary(columns)}autoSaveData(options={}){const{rpc}=this,defaultType=Object(__WEBPACK_IMPORTED_MODULE_17_corelib_fileio_fileio_helpers__.a)(),format=options.type||defaultType,decimal=options.decimal||'.',params={name:options.filename,format,decimal,age:options.age,filepath:options.filepath};return rpc.sendRequest('export',params).then(response=>{if(response.success){if(this.archive&&response.fileString){console.debug('Writing xml into archive');return this.archive.writeXml(response.fileString).then(()=>{return{age:response.age}})}if(response.fileString){const blob=new Blob([response.fileString],{type:Object(__WEBPACK_IMPORTED_MODULE_17_corelib_fileio_fileio_helpers__.b)()});return Promise.resolve({blob,age:response.age})}else if(0<response.age){return Promise.resolve({age:response.age})}return Promise.reject()}return Promise.reject()})}exportData(options={}){const{rpc,sessionFile}=this,type=options.type||'ambl',decimal=options.decimal||'.',fileEntry=options.fileEntry||null,params={name:options.filename,format:type,decimal,filepath:options.filepath};console.assert(sessionFile);return sessionFile.changeName(params.name).then(()=>{return rpc.sendRequest('export',params).then(response=>{if(response.success){let writeFile;if(this.archive&&response.fileString){console.debug('Writing xml into archive');return this.archive.writeXml(response.fileString).then(()=>{return this.archive.exportDocument().then(buffer=>{const blob=new Blob([buffer],{type:'application/x-tar'});writeFile=this.fileIO.writeFile({filepath:options.filepath,blob})})})}if(!writeFile&&response.fileString&&fileEntry){writeFile=this.fileIO.writeFile({fileEntry,blob:response.fileString})}if(!writeFile){writeFile=Promise.resolve()}return writeFile.then(()=>{if('csv'!==type){sessionFile.updateUserMetaData(params.filepath,response.age)}return{filepath:params.filepath,age:response.age}})}return Promise.reject(Error(`Rpc 'export' method failed`))})})}addAttachment(type,fileName,fileContents,params){if('video'===type){return this.addVideo(fileName,fileContents,params)}return Promise.reject(new Error(`unsupported attachment type: ${type}`))}addVideo(fileName,fileContents,params={}){const{rpc}=this;if(!this.archive){return Promise.reject(new Error('addVideo is only available when using archive'))}return this.archive.clearAttachments('videos').then(()=>{return this.archive.addAttachment('videos',fileName,fileContents).then(archPath=>{const rpcParams=_extends({},params);if(params.videoId){rpcParams.videoId=toUdmId(params.videoId)}if(params.datasetId){rpcParams.datasetId=toUdmId(params.datasetId)}if(params.baseColumnId){rpcParams.baseColumnId=toUdmId(params.baseColumnId)}if(params.graphId){rpcParams.graphId=toUdmId(params.graphId)}rpcParams.archivePath=archPath;return rpc.sendRequest('add-video',rpcParams).then(result=>{if(result.success){this.archive.setAttachmentId(archPath,result.videoId);console.log(`imported attachment at archPath ${archPath}`);const blob=new Blob([fileContents],{type:'application/octet-binary'});this.trigger('video-added',blob)}return result})})})}removeVideo(videoId){if(!this.archive){return Promise.reject(new Error('removeVideo is only available when using archive'))}const rpcParams={videoId:toUdmId(videoId)};return this.rpc.sendRequest('remove-video',rpcParams).then(result=>{return this.archive.removeAttachmentById(rpcParams.videoId).then(()=>{return result})})}checkRecoveryFile(){return this.rpc.sendRequest('check-recovery-file')}documentAge(){const{rpc}=this;return new Promise(resolve=>{const resolveTimeout=setTimeout(()=>{resolve(this.sessionFile.age)},1e3);rpc.sendRequest('document-age',{}).then(response=>{clearTimeout(resolveTimeout);if(response.success){resolve(response.age)}else{resolve(0)}})})}importDataThrottled(options={},interval=500){if(this.lastImportTimeStamp){const now=Date.now();if(now<this.lastImportTimeStamp+interval){return Promise.reject(new Error('Import within throttle threshold'))}}return this.importData(options)}importData(options={}){const{rpc,sessionFile,i18n,configuration}=this,manifest=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('app-manifest'),fileData=options.fileData||null,type=options.type||Object(__WEBPACK_IMPORTED_MODULE_17_corelib_fileio_fileio_helpers__.a)(),decimal=options.decimal||null,filters=[{extensions:Object(__WEBPACK_IMPORTED_MODULE_17_corelib_fileio_fileio_helpers__.d)(),name:manifest.appName}];if('va'!==configuration.app){filters.push({extensions:['csv'],name:i18n.getText('Comma Separated Values')})}const viewManager=__WEBPACK_IMPORTED_MODULE_15_corelib_services__.a.get('view-manager');console.assert(sessionFile);this.lastImportTimeStamp=Date.now();let valueCount=0;if(this.archive){this.columns.forEach(col=>{valueCount+=col.getValueCount()})}console.debug(`Old session has ${valueCount} values`);const doImport=async(fileData,params)=>{const{file,filepath}=fileData;if(decimal){params.decimal=decimal}this.sessionClosing=!0;try{await this.closeSession();this.sessionClosing=!1;this.importing=!0;const importResponse=await rpc.sendRequest('import',params);this.importing=!1;if(!importResponse.success){throw new Error(importResponse)}const collectionParams=importResponse.params,dataShareSourceResult=await this.getDataShareSource(),sessionParams={imported:!0,sessionName:file.name,sessionFileType:type,sessionFileFullPath:filepath};let sessionType='unknown'!==collectionParams.sessionType?collectionParams.sessionType:null;sessionParams.type=collectionParams.mode||'';if(dataShareSourceResult.attributes.sourceId){sessionParams.sourceId=dataShareSourceResult.attributes.sourceId;sessionParams.sourceName=dataShareSourceResult.attributes.name;sessionParams.sourceURI=dataShareSourceResult.attributes.uri;sessionType='DataShare'}await viewManager.startNewSession(sessionType,sessionParams);const collectionParamsResult=await this.dataCollection.setCollectionParams(collectionParams.mode,collectionParams.params,!0);if(!collectionParamsResult.success){throw new Error('Set collection params failed')}this.sessionFile.updateUserMetaData(filepath)}catch(err){this.sessionClosing=!1;throw new Error(`Failed to close old session: ${err}`)}},executeFileReader=(fileData={})=>{return new Promise((resolve,reject)=>{const{file,filepath}=fileData;console.assert(file);const isCsv=file.name.endsWith('.csv')||file.name.endsWith('.CSV'),reader=new FileReader;reader.onerror=e=>{reject(new Error(`Opening file failed: ${e}`))};reader.onload=e=>{const params={path:file.name,format:isCsv?'csv':'',content:e.target.result};if(this.archive){const buffer=new Uint8Array(e.target.result);this.archive.load({path:filepath,name:file.name,buffer,reuseSession:0===valueCount}).then(xml=>{params.content=xml;doImport(fileData,params).then(()=>{const atts=this.archive.getAttachmentPaths(),promises=[];atts.forEach(a=>{promises.push(this.archive.getAttachment(a).then(_a=>{const blob=new Blob([_a.data],{type:_a.mimeType});this.trigger('video-added',blob)}))});return Promise.all(promises).then(()=>{resolve(!0)})}).catch(e=>{reject(e)})})}else{doImport(fileData,params).then(()=>{resolve(!0)}).catch(e=>{reject(e)})}};if(this.archive){reader.readAsArrayBuffer(file)}else{reader.readAsText(file)}})},openFile=data=>{if(this.isCollecting){return viewManager.confirmNewSession().then(result=>{if(result&&result.cancelled){return!1}return executeFileReader(data)})}return executeFileReader(data)};let p;if(fileData){p=Promise.resolve(fileData)}else{p=this.fileIO.showOpenDialog(filters,'va'===configuration.app)}return p.then(data=>{if(data===void 0){return!1}return openFile(data)})}importVideo(options={}){const{i18n}=this;options.filters=[{extensions:['mp4','avi','webm','ogv','ogg'],name:i18n.getText('Videos')},{extensions:['*'],name:i18n.getText('All Files')}];options.attachmentType='video';return this.importAttachment(options)}importAttachment(options={}){if(!this.archive){return Promise.reject(new Error('Attachment import only available when using file archive'))}const fileData=options.fileData||null,filters=options.filters||[],executeFileReader=(fileData={})=>{return new Promise((resolve,reject)=>{const{file,filepath}=fileData;if(!file){reject(new Error('Missing file object'))}console.debug(`Reading ${file.name}(${filepath})`);const reader=new FileReader;reader.onerror=()=>{reject(new Error('Opening attachment failed'))};reader.onload=e=>{const buffer=new Uint8Array(e.target.result);this.addAttachment(options.attachmentType,file.name,buffer,{}).then(result=>{console.debug(`videoId: ${result.videoId}`);resolve(!0)}).catch(e=>{reject(e)})};reader.readAsArrayBuffer(file)})};if(fileData){return executeFileReader(fileData)}return this.fileIO.showOpenDialog(filters).then(data=>{if(data===void 0){return!1}return executeFileReader(data)})}documentMetaData(options){const rpc=this.rpc,format=options.type||'',decimal=options.decimal||'.';return new Promise((resolve,reject)=>{if(options.file===void 0){resolve({})}options.file.entry.file(file=>{const reader=new FileReader;reader.onerror=e=>{console.error(`Loading file failed: ${e}`);reject(e)};reader.onload=e=>{const params={path:options.file.entry.name,format,decimal,content:e.target.result};if(!params.content){reject(new Error(`File "${params.path}" has no content!`))}else{rpc.sendRequest('document-meta-data',params).then(response=>{if(!response.success){}resolve(response)})}};reader.readAsText(file)})})}createVertex(){return this.rpc.sendRequest('create-vertex',{})}updateVertex(params={}){return this.rpc.sendRequest('update-vertex-values',params)}getVertexColumns(vertexId){const columns=this.columns&&this.columns.models||[];return columns.filter(c=>c.vertexID===vertexId)}}__webpack_exports__.a=DataWorld;Object.defineProperties(DataWorld.prototype,{sessionSourceName:{get(){let name='',match;if(this.session&&this.session instanceof __WEBPACK_IMPORTED_MODULE_10_corelib_session_DataShareSession__.a){if(this.session.client.sourceName){name=this.session.client.sourceName}else{match=this.session.client.serverURL.match(/^\s*(http:\/\/)?\s*([^:]+):?(\d+)?$/);if(match&&4===match.length){name=match[2]}}}return name}},sessionHostAddress:{get(){let hostAddress='';if(this.session&&this.session instanceof __WEBPACK_IMPORTED_MODULE_10_corelib_session_DataShareSession__.a){hostAddress=this.session.client.serverURL}return hostAddress}},sessionName:{get(){let name='';if(this.session&&this.session.sessionFile){name=this.session.sessionName}return name}},sessionFile:{get(){let sessionFile=null;if(this.session&&this.session.sessionFile){sessionFile=this.session.sessionFile}return sessionFile}},sessionType:{get(){let sessionType=null;if(this.session){if(this.session instanceof __WEBPACK_IMPORTED_MODULE_9_corelib_session_DataCollectionSession__.a){sessionType='DataCollection'}else if(this.session instanceof __WEBPACK_IMPORTED_MODULE_10_corelib_session_DataShareSession__.a){sessionType='DataShare'}else if(this.session instanceof __WEBPACK_IMPORTED_MODULE_11_corelib_session_ManualSession__.a){sessionType='ManualEntry'}}return sessionType}},sessionId:{get(){let id='';if(this.session&&this.session.sessionFile.file.entry){id=this.session.sessionFile.file.entry.name}return id}},userSessionAge:{get(){let age=0;if(this.session){age=this.session.sessionFile.userFileMetaData.age}return age}},canControl:{get(){return this._canControl},set(canControl){this._canControl=canControl}}});Object.assign(DataWorld.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__=__webpack_require__(16);const DataSet=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.extend({defaults:{type:'regular',position:0,name:'DataSet',columnIDs:null},initialize(){if(!this.get('columnIDs')){this.set('columnIDs',[])}this.bindChangeEvent('position','position-changed');this.bindChangeEvent('name','name-changed')},addColumn(columnID,siblingID=null,beforeSibling=!1){const columnIDs=this.get('columnIDs');if(0>columnIDs.indexOf(columnID)){let inserted=!1;if(siblingID&&'0'!==siblingID){let pos=columnIDs.indexOf(siblingID);if(0<=pos){if(!beforeSibling){pos++}columnIDs.splice(pos,0,columnID);inserted=!0}}else if(beforeSibling){columnIDs.splice(0,0,columnIDs);inserted=!0}if(!inserted){columnIDs.push(columnID)}this.trigger('column-added',columnID)}},removeColumn(columnId){const columnIDs=this.get('columnIDs'),index=columnIDs.indexOf(columnId);if(0<=index){columnIDs.splice(index,1);this.trigger('column-removed',columnId)}}});__webpack_exports__.a=DataSet;Object.defineProperties(DataSet.prototype,{type:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('type',!1),position:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('position',!0),name:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('name',!0),columnIDs:{get(){return this.get('columnIDs').slice(0)}}});DataSet.Collection=__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__.a.extend({model:DataSet});__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(DataSet.prototype,{getName(){return this.name},getColumnIDs(){return this.columnIDs}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__=__webpack_require__(16),__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_4_corelib_util_formatter__=__webpack_require__(11);const Column=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.extend({defaults:{setID:'',vertexID:0,groupID:'',color:null,liveValue:0,values:null,updatedRows:null,getGroupFn:null,getSpecialFn:null},initialize(){if(!this.get('values')){this.set('values',[])}if(!this.get('updatedRows')){this.set('updatedRows',[])}this.bindChangeEvent('values','values-changed');this.bindChangeEvent('updatedRows','updated-rows-changed');this.bindChangeEvent('color','color-changed');this.bindChangeEvent('setID','set-id-changed');this.bindChangeEvent('groupID','group-id-changed');this.bindChangeEvent('vertexID','vertex-id-changed');this.bindChangeEvent('automatic','automatic-changed');['type-changed','range-changed','editable-changed','metered-changed','plotted-changed','smaxy-changed','prefers-base-changed','set-id-changed','sensor-id-changed','replace-dependent-changed','dependent-columns-changed'].forEach(eventName=>{this.group.on(eventName,(...args)=>{setTimeout(()=>this.trigger(eventName,...args),0)})});this.group.on('precision-changed',precision=>{setTimeout(()=>{this.trigger('format-string-changed',precision.formatStr);this.trigger('formatStr-changed',precision.formatStr)})})},getFormattedValue(value){if('number'!==typeof value||Number.isNaN(value)){return null}const formattedVal=Object(__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf__.sprintf)(this.formatStr,value);return __WEBPACK_IMPORTED_MODULE_4_corelib_util_formatter__.a.checkNegativeZero(value,formattedVal)}});__webpack_exports__.a=Column;const groupProperty=(name,writable)=>{const prop={get:function(){let value;try{value=this.group[name]}catch(e){console.error(`Group Property: "${name}" Read Error: ${e}`);console.error(e)}return value}};if(writable){prop.set=function(value){try{this.group[name]=value}catch(e){console.error(`Group Property: "${name}"" Write Error: ${e}`);console.error(e)}}}return prop};Object.defineProperties(Column.prototype,{type:groupProperty('type',!1),name:groupProperty('name',!0),units:groupProperty('units',!0),wavelength:groupProperty('wavelength',!0),sensorMapId:groupProperty('sensorMapId'),formatStr:{get(){return this.precision.formatStr},set(val){this.precision.set('formatStr',val);this.precision.trigger('updated',this.precision)}},precision:groupProperty('precision',!1),liveValue:{get(){return this.get('liveValue')},set(val){this.set('liveValue',val);this.trigger('live-value-changed',val)}},values:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('values',!0),updatedRows:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('updatedRows',!0),range:groupProperty('range',!0),editable:groupProperty('editable',!0),deletable:groupProperty('deletable',!0),metered:groupProperty('metered',!0),plotted:groupProperty('plotted',!0),prefersBase:groupProperty('prefersBase',!0),color:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('color',!0),smaxy:groupProperty('smaxy',!0),autoscaleFromZero:groupProperty('autoscaleFromZero',!0),setID:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('setID',!0),groupID:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('groupID',!0),vertexID:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('vertexID',!0),sensorId:groupProperty('sensorId'),meterId:groupProperty('meterId'),replaceDependent:groupProperty('replaceDependent',!0),automaticPrecision:groupProperty('automaticPrecision'),allowAutomaticPrecision:groupProperty('allowAutomaticPrecision'),group:{get(){const getGroupFn=this.get('getGroupFn')||(()=>null);return getGroupFn(this)}},special:{get(){const getSpecialFn=this.get('getSpecialFn')||(()=>null);return getSpecialFn(this)}}});Column.Collection=__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__.a.extend({model:Column});__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(Column.prototype,{getSetID(){return this.setID},getGroupID(){return this.groupID},getLiveValue(){return this.liveValue},getFormatStr(){const fmt=this.formatStr;return fmt||'%f'},getValues(){return this.values},getValueCount(){return this.values.length},setValuesByRow(rows,values){const length=Math.min(rows.length,values.length);for(let i=0,value;i<length;++i){value=values[i];if(null===value){value=NaN}this.values[rows[i]]=value}this.trigger('row-values-updated',rows,this)}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__=__webpack_require__(16),__WEBPACK_IMPORTED_MODULE_3_corelib_util_Precision__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_5_corelib_util_formatter__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_6_corelib_services__=__webpack_require__(2);const ColumnGroup=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.extend({defaults:{name:'',units:'',precision:null,automaticPrecision:!1,calcEquation:'',calcDependentGroups:null,calcCoefficients:null,calcUserEditable:!1,type:'',range:null,replaceDependent:!1,editable:!1,deletable:!1,sensorId:-1,sensorMapId:'',wavelength:void 0,meterId:void 0,metered:!1,plotted:!0,prefersBase:!1,smaxy:0,autoscaleFromZero:!1,allowAutomaticPrecision:!1,getColumnsFn:null},initialize(){this.i18n=__WEBPACK_IMPORTED_MODULE_6_corelib_services__.a.get('i18n');this.bindChangeEvent('name','name-changed');this.bindChangeEvent('units','units-changed');const precisionParams=this.get('precision'),precision=new __WEBPACK_IMPORTED_MODULE_3_corelib_util_Precision__.a(precisionParams);this.set('precision',precision);precision.on('updated',()=>{this.trigger('precision-changed',precision)});this.bindChangeEvent('automaticPrecision','automatic-precision-changed');this.bindChangeEvent('calcEquation','calc-equation-changed');this.bindChangeEvent('calcDependentGroups','calc-dependent-groups-changed');this.bindChangeEvent('calcCoefficients','calc-coefficients-changed');this.bindChangeEvent('calcUserEditable','calc-user-editable-changed');this.bindChangeEvent('type','type-changed');this.bindChangeEvent('range','range-changed');this.bindChangeEvent('replaceDependent','replace-dependent-changed');this.bindChangeEvent('autoscaleFromZero','autoscale-from-zero-changed');this.bindChangeEvent('editable','editable-changed');this.bindChangeEvent('deletable','deletable-changed');this.bindChangeEvent('sensorId','sensor-id-changed');this.bindChangeEvent('sensorMapId','sensor-map-id-changed');this.bindChangeEvent('wavelength, wavelength-changed');this.bindChangeEvent('metered','metered-changed');this.bindChangeEvent('plotted','plotted-changed');this.bindChangeEvent('prefersBase','prefers-base-changed');this.bindChangeEvent('smaxy','smaxy-changed')},checkAutomaticPrecision(){if(!this.automaticPrecision){return}this.precision.precision=this.getHighestPrecision()},getHighestPrecision(){const totalHighestPrecision=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.columns,col=>{const highestPrecision=col.get('values').map(val=>__WEBPACK_IMPORTED_MODULE_5_corelib_util_formatter__.a.getPrecision(val)).reduce((result,current)=>current>result?current:result,0);return highestPrecision}).reduce((result,current)=>current>result?current:result,0);return totalHighestPrecision},getFormattedValue(value){let formattedVal=Object(__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf__.sprintf)(this.precision.formatStr,value);formattedVal=__WEBPACK_IMPORTED_MODULE_5_corelib_util_formatter__.a.checkNegativeZero(value,formattedVal);return formattedVal},getNameUnits(){const units=this.get('units')?`(${this.get('units')})`:'';return`${this.name} ${units}`},update(params){const setIfDiff=(name,value)=>{const current=this.get(name);if(!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEqual(current,value)){this.set(name,value)}};['name','units','calcEquation','calcUserEditable','replaceDependent','sensorId','sensorMapId','wavelength','meterId','metered','plotted','smaxy','prefersBase','deletable','autoscaleFromZero'].forEach(scalarKey=>{if(scalarKey in params){this.set(scalarKey,params[scalarKey])}});['calcDependentGroups','calcCoefficients','range'].forEach(key=>{if(key in params){setIfDiff(key,params[key])}});let precision=this.precision,automaticPrecision=this.automaticPrecision;if('precision'in params){precision=params.precision}if('automaticPrecision'in params){automaticPrecision=params.automaticPrecision}(({precision,useSigFigs,useSciNotation},automaticPrecision)=>{this.set('automaticPrecision',automaticPrecision,{silent:!0});const precisionParams={precision:automaticPrecision?this.getHighestPrecision():precision,useSigFigs,useSciNotation},precisionObject=this.get('precision');precisionObject.update(precisionParams)})(precision,automaticPrecision)}});__webpack_exports__.a=ColumnGroup;Object.defineProperties(ColumnGroup.prototype,{name:{get(){let groupName=this.get('name');const wavelength=this.get('wavelength');if(wavelength){groupName=`${groupName} @ ${wavelength} nm`}const stringCtx='Time'===groupName?'general':'sensormap';return this.i18n.getText(groupName,stringCtx)},set(value){this.set('name',value);this.trigger('name-changed',value)}},units:{get(){return this.get('units')},set(value){this.set('units',value);this.trigger('units-changed',value)}},precision:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('precision',!1),automaticPrecision:{get(){return this.allowAutomaticPrecision&&this.get('automaticPrecision')},set(value){if(this.allowAutomaticPrecision){this.set('automaticPrecision',value);this.checkAutomaticPrecision()}}},calcEquation:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('calcEquation',!0),calcDependentGroups:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('calcDependentGroups',!0),calcCoefficients:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('calcCoefficients',!0),calcUserEditable:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('calcUserEditable',!0),type:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('type'),range:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('range',!0),replaceDependent:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('replaceDependent',!0),editable:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('editable',!0),deletable:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('deletable',!1),sensorId:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('sensorId',!0),sensorMapId:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('sensorMapId',!0),wavelength:{get(){return this.get('wavelength')},set(value){this.set('wavelength',value);this.set('name',this.get('name'))}},meterId:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('meterId',!0),metered:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('metered',!0),plotted:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('plotted',!0),prefersBase:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('prefersBase',!0),smaxy:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('smaxy',!0),autoscaleFromZero:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('autoscaleFromZero',!0),allowAutomaticPrecision:{get(){return'manual'===this.type||'event'===this.type}},columns:{get(){const getColumnsFn=this.get('getColumnsFn')||(()=>[]);return getColumnsFn(this)}}});ColumnGroup.Collection=__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__.a.extend({model:ColumnGroup})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__=__webpack_require__(12);const Precision=__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.extend({defaults:{precision:3,useSigFigs:!1,useSciNotation:!1},initialize(){this.updateFormatString();this.bindChangeEvent('formatStr','updated')},updateFormatString(){let formatStr;if(this.useSciNotation){formatStr=`%.${this.precision}e`}else if(this.useSigFigs){formatStr=`%.${this.precision}g`}else{formatStr=`%.${this.precision}f`}this.set('formatStr',formatStr);return formatStr},update(params){['useSigFigs','precision','useSciNotation'].forEach(prop=>{if(prop in params){this.set(prop,params[prop],{ignore:!0})}});this.updateFormatString()}});__webpack_exports__.a=Precision;Object.defineProperties(Precision.prototype,{precision:{get(){return this.get('precision')},set(precision){this.set('precision',precision);this.updateFormatString()}},useSigFigs:{get(){return this.get('useSigFigs')},set(useSigFigs){this.set('useSigFigs',useSigFigs);this.updateFormatString()}},useSciNotation:{get(){return this.get('useSciNotation')},set(useSciNotation){this.set('useSciNotation',useSciNotation);this.updateFormatString()}},formatStr:{get(){return this.get('formatStr')}}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__=__webpack_require__(16);const Spectrum=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.extend({defaults:{id:null,name:'spectrum',points:null,color:'rgba(120,120,120,1)',lineWeight:2,position:0,type:'spectrum',dataSetId:0,baseColId:0,traceColId:0},initialize(){if(!this.get('points')){this.set('points',[])}if(!this.get('id')){this.set('id',__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniqueId('spectrum-'))}this.bindChangeEvent('name','name-changed');this.bindChangeEvent('points','points-changed');this.bindChangeEvent('color','color-changed')}});__webpack_exports__.a=Spectrum;Object.defineProperties(Spectrum.prototype,{type:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('type',!0),name:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('name',!0),points:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('points',!0),color:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('color',!0),position:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('position',!0),lineWeight:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('lineWeight',!0),dataSetId:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('dataSetId',!0),baseColId:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('baseColId',!0),traceColId:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('traceColId',!0)});Spectrum.Collection=__WEBPACK_IMPORTED_MODULE_2_corelib_system_VSTModelCollection__.a.extend({model:Spectrum})},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathmax7=Math.max,__WEBPACK_IMPORTED_MODULE_0_corelib_export_DataExporter__=__webpack_require__(144),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__);__webpack_exports__.a={getExportSummary:function(columns){let numRows=0,totalValues=0,availValues=0;const columnInfo=[];columns.forEach(column=>{const availRows=column.getValues().length,totalRows=column.getValueCount();numRows=_Mathmax7(numRows,availRows);totalValues+=totalRows;availValues+=availRows;columnInfo.push({totalRows,availRows,_column:column})});return{numRows,numColumns:columns.length,columnInfo,totalValues,availValues,availValuesPercent:0<totalValues?availValues/totalValues:0}},exportData:function(columns,dataSets,options={type:'csv',output:'text',decimal:'.'}){const exporter=new __WEBPACK_IMPORTED_MODULE_0_corelib_export_DataExporter__.a;let numRows=0,result=null,exportFuncs=null,outputType=null;if(Array.isArray(options.output)){options.output.forEach(output=>{if(null===outputType&&exporter.isOutputSupported(output)){outputType=output}});options.output=outputType||'text'}exportFuncs={csv(options){return exporter.createBlob(options)}};columns.forEach(column=>{numRows=_Mathmax7(numRows,column.getValues().length)});columns.forEach(column=>{const values=column.getValues();let dataSetName='';if(dataSets.get(column.setID)){dataSetName=dataSets.get(column.setID).name}else{console.error(`Cannot find dataSet id: ${column.setID}`);console.error(`Cannot find dataSet id: ${column.setID}`)}exporter.addColumn({getName(){const columnGroup=column.group;return Object(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__.sprintfIgnoreLocale)('%s: %s',dataSetName,columnGroup.getNameUnits())},getCount(){return values.length},getRow(rowIndex){let value,fmt='';if(rowIndex<values.length){value=values[rowIndex];if(null!==value&&!isNaN(value)){fmt=column.precision.formatStr}}return Object(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__.sprintfIgnoreLocale)(fmt,value)}})});if(exportFuncs[options.type]){result=exportFuncs[options.type](options)}else{console.warn(`Unsupported export type: ${options.type}`)}return result}}},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_exports__.a=DataExporter;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__);function DataExporter(){this.columns=[];this.numRows=0}__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(DataExporter.prototype,{getNumRows(){return this.numRows},getColumnNames(){return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.columns,column=>{return column.getName()})},getRow(rowIndex){let ret;if(','===this._getDecimal()){ret=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.columns,column=>{return column.getRow(rowIndex).replace('.',',')})}else{ret=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.columns,column=>{return column.getRow(rowIndex)})}return ret},_getDecimal(){return this.decimal},_setDecimal(decimal){this.decimal=decimal}});__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(DataExporter.prototype,{addColumn(column){this.columns.push(column);this.numRows=Math.max(this.numRows,column.getCount())},createBlob(options){let exporter=this,numRows=exporter.getNumRows(),i,row,header,output=[],DECIMAL_TYPE=options.decimal||'.',OUTPUT_TYPE=options.output||'text',FIELD_SEPARATOR=',';if('.'!==DECIMAL_TYPE){FIELD_SEPARATOR=';'}header=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(exporter.getColumnNames(),name=>{return Object(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__.sprintf)('"%s"',name)});output.push(header.join(FIELD_SEPARATOR));exporter._setDecimal(DECIMAL_TYPE);for(i=0;i<numRows;++i){row=exporter.getRow(i);output.push(row.join(FIELD_SEPARATOR))}output=output.join('\r\n');if('blob'===OUTPUT_TYPE){output=new window.Blob([output],{type:'text/csv'})}return output}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2);const RPC_METHODS={"dw:data-set-added":function(server,notification){const params=notification.params;if(params.hasOwnProperty('id')){if('string'!==typeof params.id){params.id=`${params.id}`}this.createInternalDataSet(params)}},"dw:data-column-added":function(server,notification){const params=notification.params;if(params.hasOwnProperty('id')){if('string'!==typeof params.id){params.id=`${params.id}`}const colProps={id:params.id};if(params.hasOwnProperty('type')&&params.hasOwnProperty('dataSetId')){colProps.setID=params.dataSetId;colProps.groupID=params.groupId;colProps.meterId=params.meterId;colProps.metered=params.metered;colProps.plotted=params.plotted;colProps.smaxy=params.SMAXY;colProps.editable=params.editable;colProps.prefersBase=params.base;colProps.precision=params.precision;colProps.dependentColumns=params.dependentColumns;colProps.replaceDependent=params.replaceDependent;colProps.getGroupFn=col=>this.columnGroups.get(col.groupID);colProps.getSpecialFn=col=>{const dataSet=this.getDataSetByID(col.setID);if(dataSet){return'regular'!==dataSet.type}return!1};colProps.foreignId=params.foreignId;colProps.foreignGroupId=params.foreignGroupId;colProps.formatStr=params.formatStr;colProps.units=params.units;colProps.siblingId=params.siblingId;colProps.beforeSibling=params.beforeSibling;colProps.vertexID=params.vertexId;if(this.importing){colProps.color=params.color}if('autoscale_from_zero'===params.scaleMode){colProps.autoscaleFromZero=!0}if('sensor'===params.type){colProps.sensorId=params.sensorId}else if('time'===params.type&&this.timeUnits){colProps.units=this.timeUnits;colProps.formatStr=this._getTimeFormatStr(this.timeUnits)}}const ds=this.getDataSetByID(params.dataSetId);console.assert(ds);this.createInternalColumnForDataSet(ds,colProps)}},"dw:data-column-removed":function(server,notification){const params=notification.params;if(params.hasOwnProperty('id')){const columnId=params.id;if(!this.removeInternalColumn(columnId)){console.error(`Failed to remove column id= ${columnId}`)}}},"dw:data-column-updated":function(server,notification){const params=notification.params,column=this.getColumn(params.id);if(column){column.range=params.range}else{console.error(`Failed to find column for columnId=${params.id}`)}},"dw:data-set-updated":function(server,notification){const params=notification.params;if(!params.id){console.warn('Invalid params')}else{const dataSet=this.getDataSetByID(params.id);if(params.name&&params.name!==dataSet.name){dataSet.name=params.name}}},"dw:unit-change-finished":function(server,notification){const params=notification.params,column=this.getColumn(params.columnId);if(column&&column.group){column.group.trigger('unit-change-finished')}else{console.error(`Failed to find column group for columnId ${params.columnId}`)}},"dw:data-set-row-added":function(server,notification){const params=notification.params;params.forEach(update=>{const dataSetId=update.dataSetId,rowIndex=update.rowIndex,count=update.count,dataSet=this.getDataSetByID(dataSetId);if(dataSet){dataSet.columnIDs.forEach(columnId=>{const column=this.getColumn(columnId),values=column.values;if(!this.importing&&('manual'===column.type||'event'===column.type)){return}let i;for(i=0;i<count;++i){const index=rowIndex+i;if(index===values.length){values[index]=NaN}else if(values instanceof Float64Array){values.copyWithin(index+1,index);values[index]=NaN}else{values.splice(index,0,NaN)}}})}else{console.error(`Failed to find dataSet for dataSetId= ${dataSetId}`)}})},"dw:data-column-values-updated":function(server,notification){const params=notification.params;params.forEach(update=>{const column=this.getColumn(update.columnId);if(column){const rows=update.rows,values=update.values,length=Math.min(rows.length,values.length);console.assert(rows.length===values.length);column.setValuesByRow(rows,values);if(0<length){let liveValue=values[values.length-1];if(null===liveValue||isNaN(liveValue)){for(let i=values.length-2;0<=i;--i){if(null!==values[i]&&!isNaN(values[i])){liveValue=values[i];break}}}if(null!==liveValue&&!isNaN(liveValue)){column.liveValue=liveValue}column.trigger('values-changed',column.values)}}else{console.error(`Failed to find column for columnId=${update.columnId}`)}})},"dw:data-column-live-readout-changed":function(server,notification){const params=notification.params,columnId=params.columnId,column=this.getColumn(columnId);if(column){const sw=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('sensor-world'),liveValue=params.valid?params.value:null;column.liveValue=liveValue;if('sensor'===column.type){const sensor=sw.getSensorById(column.sensorId);if(sensor){sensor.liveValue=column.liveValue;if(sensor.dataMode.toLowerCase().includes('spectrum')){if(this.keepAwakeTimeout){clearTimeout(this.keepAwakeTimeout)}else{this.power.requestKeepAwake('system')}this.keepAwakeTimeout=setTimeout(()=>{this.power.releaseKeepAwake()},1e4)}}else{console.warn(`Failed to find sensor for sensorId=${column.sensorId}`)}}}else{console.error(`Failed to find column for columnId=${columnId}`)}},"dw:data-graph-updated":function(server,notification){const params=notification.params;this.trigger('graph-updated',params)},"dw:data-annotation-updated":function(server,notification){const params=notification.params;this.trigger('annotation-updated',params)},"dw:get-version-info":function(server,request){const result={},manifest=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('app-manifest');result.platform=window.navigator.platform;result.version=manifest.appVersion;result.shortName=manifest.appShortName;server.sendResponse(request.id,result)},"dw:data-group-added":function(server,notification){const params=notification.params,firstSensor=this.sensorWorld.getFirstSensor(),isSpecConnected=firstSensor&&!firstSensor.attributes.dataMode.toLowerCase().indexOf('spectrum');if(isSpecConnected&&'event'===params.type){setTimeout(()=>{this.updateColumnGroup(params.id,{name:this.i18n.getText('Concentration'),units:'mol/L'})})}const groupProps={id:params.id,name:params.name,units:params.units,precision:params.precision,automaticPrecision:params.automaticPrecision,calcEquation:params.calcEquation,calcDependentGroups:params.calcDependentGroups.map(colId=>`${colId}`),calcCoefficients:params.calcCoefficients,calcUserEditable:params.calcUserEditable,type:params.type,range:params.range,replaceDependent:params.replaceDependent,editable:params.editable,deletable:params.deletable,sensorId:params.sensorId,sensorMapId:params.sensorMapId,wavelength:params.wavelength,meterId:params.meterId,metered:params.metered,smaxy:params.SMAXY,plotted:params.plotted,prefersBase:params.base,getColumnsFn:group=>this.getColumns().filter(col=>col.groupID===group.id),siblingId:params.siblingId,beforeSibling:params.beforeSibling};if('autoscale_from_zero'===params.scaleMode){groupProps.autoscaleFromZero=!0}this.createInternalGroup(groupProps)},"dw:data-group-removed":function(server,notification){const params=notification.params;this.removeInternalGroup(params.id)},"dw:data-group-properties-changed":function(server,notification){const params=notification.params;if('time'===params.type){params.units=this.timeUnits}const id=params.id,groupProps={};groupProps.name=params.name;groupProps.units=params.units;groupProps.precision=params.precision;groupProps.automaticPrecision=params.automaticPrecision;groupProps.calcEquation=params.calcEquation;groupProps.calcDependentGroups=params.calcDependentGroups;groupProps.calcCoefficients=params.calcCoefficients;groupProps.calcUserEditable=params.calcUserEditable;groupProps.type=params.type;groupProps.range=params.range;groupProps.replaceDependent=params.replaceDependent;groupProps.editable=params.editable;groupProps.deletable=params.deletable;groupProps.sensorId=params.sensorId;groupProps.sensorMapId=params.sensorMapId;groupProps.wavelength=params.wavelength;groupProps.metered=params.metered;groupProps.plotted=params.plotted;groupProps.prefersBase=params.base;groupProps.smaxy=params.SMAXY;if('autoscale_from_zero'===params.scaleMode){groupProps.autoscaleFromZero=!0}this.updateInternalGroup(id,groupProps)},"dw:session-started":function(server,notification){notification.params;this.sessionStarted()},"collection-ended":function(){if(this.isCollecting){this.stopCollection()}},"complete-collection":function(){if(this.isCollecting){this.stopCollection()}},"trigger-reached":function(){this.trigger('collection-threshold-reached')},"prestore-reached":function(){this.trigger('collection-prestore-reached')}};__webpack_exports__.a={registerRPCMethods:function(rpc,context){rpc.registerMethods(RPC_METHODS,context)}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_session_DataShareSession__=__webpack_require__(54),__WEBPACK_IMPORTED_MODULE_1_corelib_session_DataCollectionSession__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_2_corelib_session_ManualSession__=__webpack_require__(57);const SESSION_CONSTRUCTORS={datashare:__WEBPACK_IMPORTED_MODULE_0_corelib_session_DataShareSession__.a,datacollection:__WEBPACK_IMPORTED_MODULE_1_corelib_session_DataCollectionSession__.a,manualentry:__WEBPACK_IMPORTED_MODULE_2_corelib_session_ManualSession__.a};__webpack_exports__.a={createSession:function(dataWorld,sessionType,sessionFile,sessionConfig){let session=null;sessionType=(sessionType||'').toLowerCase();const SessionConstructor=SESSION_CONSTRUCTORS[sessionType];if('function'===typeof SessionConstructor){try{session=new SessionConstructor(dataWorld,sessionFile,sessionConfig)}catch(error){console.error(`Creating Session: ${sessionType} failed:`);console.error(error)}}return session},getSessionTypeNames:function(){return Object.keys(SESSION_CONSTRUCTORS)}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__=__webpack_require__(6);function ViewPrefMap(view,prefs){this.view=view;this.prefs=prefs}function createMeter(viewPrefs,view,column){const meterPrefs=viewPrefs.createMeter({id:view.id});meterPrefs.name=column.get('name');meterPrefs.units=column.get('units');meterPrefs.color='red';return new ViewPrefMap(view,meterPrefs)}function createGraph(eventBinder,viewPrefs,view,client){const graphPrefs=viewPrefs.createGraph({id:view.id});function bindChange(key,cb){eventBinder.bind(view,`change:${key}`,(model,value)=>{cb(value)})}bindChange('title',title=>{graphPrefs.title=title});bindChange('baseColID',columnID=>{const udmId=client.getColumnUdmId(columnID);if(udmId){graphPrefs.baseColumnID=udmId}else{console.warn('baseColID changed to column without UDM backing')}});bindChange('leftTraceColIDs',columnIDs=>{const curIDs=graphPrefs.leftTraceColIDs;curIDs.forEach(id=>{graphPrefs.removeLeftTraceColumn(id)});columnIDs.forEach(id=>{const udmId=client.getColumnUdmId(id);if(udmId){graphPrefs.addLeftTraceColumn(udmId)}else{console.warn('trace column added without UDM backing')}})});bindChange('baseMin',min=>{graphPrefs.baseRange.min=min});bindChange('baseMax',max=>{graphPrefs.baseRange.max=max});bindChange('leftTraceMin',min=>{graphPrefs.leftRange.min=min});bindChange('leftTraceMax',max=>{graphPrefs.leftRange.max=max});bindChange('connectLines',connectLines=>{graphPrefs.connectLines=connectLines;graphPrefs.showPoints=!connectLines});graphPrefs.title=view.get('title');const baseColumnUdmID=client.getColumnUdmId(view.get('baseColID'));console.assert(baseColumnUdmID);console.debug(`setting graph base column to ${baseColumnUdmID}`);graphPrefs.baseColumnID=baseColumnUdmID;graphPrefs.baseRange.min=view.get('baseMin');graphPrefs.baseRange.max=view.get('baseMax');graphPrefs.leftRange.min=view.get('leftTraceMin');graphPrefs.leftRange.max=view.get('leftTraceMax');graphPrefs.connectLines=view.get('connectLines');graphPrefs.showPoints=!graphPrefs.connectLines;view.get('leftTraceColIDs').forEach(columnID=>{const udmId=client.getColumnUdmId(columnID);if(!udmId){console.warn('left trace column added without UDM backing')}else{graphPrefs.addLeftTraceColumn(udmId)}});return new ViewPrefMap(view,graphPrefs)}__webpack_exports__.a={bindClientViewPrefs:function(client,viewPrefs){const eventBinder=new __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__.a,columns={},meterViews={},graphViews={};function addMeter(view){const column=columns[view.get('colID')],map=createMeter(viewPrefs,view,column);meterViews[view.id]=map;viewPrefs.addMeter(map.prefs)}function removeMeter(view){const map=meterViews[view.id];viewPrefs.removeMeter(map.prefs);delete meterViews[view.id]}function addGraph(view){const map=createGraph(eventBinder,viewPrefs,view,client);graphViews[view.id]=map;map.prefs.position=view.id;viewPrefs.addGraph(map.prefs)}function removeGraph(view){const map=graphViews[view.id];viewPrefs.removeGraph(map.prefs);delete graphViews[view.id]}function getMeterForColumn(columnID){let meter=null;Object.keys(meterViews).forEach(meterID=>{const curMeter=meterViews[meterID];if(meter){return}if(curMeter.view.get('colID')===columnID){meter=curMeter}});return meter}const CLIENT_EVENT_HANDLERS={"column-added":column=>{columns[column.id]=column;eventBinder.bind(column,'change:name',(model,name)=>{const meter=getMeterForColumn(column.id);if(meter){meter.prefs.name=name}});eventBinder.bind(column,'change:units',(model,units)=>{const meter=getMeterForColumn(column.id);if(meter){meter.prefs.units=units}})},"column-removed":column=>{delete columns[column.id]},"view-added":view=>{const viewType=view.get('viewType');if('meter'===viewType){addMeter(view)}else if('graph'===viewType){addGraph(view)}else{console.warn(`Unhandled view-hint type: ${viewType}`)}},"view-removed":view=>{const viewType=view.get('viewType');if('meter'===viewType){removeMeter(view)}else if('graph'===viewType){removeGraph(view)}else{console.warn(`Unhandled view-hint type: ${viewType}`)}},"column-live-value-changed":(column,value)=>{const meter=getMeterForColumn(column.id);if(meter){meter.prefs.value=value}},"udm-column-added":column=>{console.debug('udm-column-added');const keys=Object.keys(graphViews);keys.forEach(id=>{const map=graphViews[id];if(map.view.get('baseColID')===column.id){console.debug(`base column for view ${id} mapped (${column.nativeId})`);map.prefs.baseColumnID=column.nativeId}});client.proc.refreshViews()}};Object.keys(CLIENT_EVENT_HANDLERS).forEach(eventName=>{const handler=CLIENT_EVENT_HANDLERS[eventName];eventBinder.bind(client,eventName,handler)});return eventBinder}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_2_corelib_datashare_DataShareProc__=__webpack_require__(149);const State={DISCONNECTED:0,CONNECTED:1,ERROR:2};class DataShareClient{constructor(http,options){let sourceName=null;if(!http){throw new Error('No HTTP Module Specified')}options=options||{};if(options.hasOwnProperty('sourceName')){sourceName=options.sourceName}this.serverURL=null;this.sourceName=sourceName;this.http=http;this.state=State.DISCONNECTED;this.pollTimer=null;this.stopPolling=!1;this.pollWaiting=!1;this.proc=null;this.pollTimeoutMS=options.pollTimeoutMS||1e3}bind(name,func,ctx){this.on(name,func.bind(ctx))}getColumns(){let columns=null;if(this.proc){columns=this.proc.columns}return columns}getColumnDsId(columnID){if(this.proc){const column=this.proc.columns.get(columnID);if(column){return column.get('dsId')}}console.debug(`Failed to get DS id for column ${columnID}`);return columnID}getDataSets(){let dataSets=null;if(this.proc){dataSets=this.proc.dataSets}return dataSets}getInfo(){const url=__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__.a.getInfoURL(this.serverURL);return this.http.getJSON(url)}getStatus(){const url=__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__.a.getStatusURL(this.serverURL);return this.http.getJSON(url,{timeout:15000})}getColumn(columnID){const url=__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__.a.getColumnURL(this.serverURL,this.getColumnDsId(columnID));return this.http.getJSON(url,{timeout:2e4})}getColumnUdmId(columnID){const columns=this.getColumns();let udmId;columns.some(col=>{if(col.id===columnID){udmId=col.nativeId;return!0}return!1});if(!udmId){console.debug(`No nativeId for col ${columnID}`);console.groupCollapsed();console.log('Current trace:');console.trace();console.log('Current columns:');console.dir(columns);console.groupEnd()}return udmId}_poll(){const proc=this.proc;let p=null;if(this.pollWaiting){return}const onResolved=()=>{this.pollWaiting=!1},onError=e=>{this.pollWaiting=!1;this._onError(e)};if(this.state===State.DISCONNECTED){this.pollWaiting=!0;this.getInfo().then(info=>{if(this._processInfo(info)){this._setState(State.CONNECTED)}onResolved()}).catch(e=>{onError(e)})}else if(this.state===State.CONNECTED){this.pollWaiting=!0;this.getStatus().then(status=>{if(proc===this.proc){p=this.proc.processStatus(status)}}).catch(e=>{onError(e)})}if(p){p.then(onResolved).catch(onError)}else{onResolved()}}_setState(state,err){const checkTransition=(from,to)=>{return this.state===from&&state===to};if(checkTransition(State.CONNECTED,State.DISCONNECTED)){this.emitDisconnect()}else if(checkTransition(State.DISCONNECTED,State.ERROR)||checkTransition(State.CONNECTED,State.ERROR)){this.stopPolling=!0;this.emitError(err||new Error('Connection Error'))}else if(checkTransition(State.DISCONNECTED,State.CONNECTED)||checkTransition(State.ERROR,State.CONNECTED)){this.stopPolling=!1;this.emitConnect()}this.state=state}_onError(error){this._setState(State.ERROR,error)}_processInfo(info){let success=!1;this.proc=__WEBPACK_IMPORTED_MODULE_2_corelib_datashare_DataShareProc__.a.create(this,info);if(this.proc){success=this.proc.processInfo(info)}else{throw new Error(`Unsupported API version: ${info.apiVers}`)}return success}start(serverURL,restored){return new Promise((resolve,reject)=>{let pending=!0;this.stop().then(()=>{if(this.serverURL!==serverURL){this.serverURL=serverURL;this.emit('server-url-changed',serverURL)}if(!restored){this.getInfo().then(()=>{const pollFunc=()=>{this._poll();if(!this.stopPolling){this.pollTimer=setTimeout(pollFunc,this.pollTimeoutMS)}if(pending){pending=!1;resolve()}};pollFunc()}).catch(error=>{reject(error)})}else{this.emitRestored();resolve()}}).catch(()=>{console.error('Failed to start Data Share Client');reject(new Error('Failed to start Data Share Client'))})})}stop(){return new Promise(resolve=>{this.pollWaiting=!1;if(this.proc){this.proc.clear()}if(this.pollTimer){clearTimeout(this.pollTimer);this.pollTimer=null;this._setState(State.DISCONNECTED);this.proc=null;resolve()}else{resolve()}})}requestStartCollection(){const url=__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__.a.getStartCollectionURL(this.serverURL);return this.http.getJSON(url)}requestStopCollection(){const url=__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__.a.getStopCollectionURL(this.serverURL);return this.http.getJSON(url)}emitConnect(){this.emit('connect')}emitDisconnect(){this.emit('disconnect')}emitRestored(){this.emit('restored')}emitError(e){this.emit('error',e)}emitSessionChanged(session){this.emit('server-session-changed',session)}emitCollectionChanged(collection){this.emit('server-collection-changed',collection)}emitColumnAdded(column){this.emit('column-added',column)}emitColumnRemoved(column){this.emit('column-removed',column)}emitUdmColumnAdded(column){this.emit('udm-column-added',column)}emitDataSetAdded(dataSet){this.emit('dataset-added',dataSet)}emitDataSetRemoved(dataSet){this.emit('dataset-removed',dataSet)}emitColumnLiveValueChanged(column,value){this.emit('column-live-value-changed',column,value)}emitColumnValuesChanged(column,values){this.emit('column-values-changed',column,values)}emitColumnUpdatedRowsChanged(column,rows){this.emit('column-updated-rows-changed',column,rows)}emitViewAdded(view){this.emit('view-added',view)}emitViewRemoved(view){this.emit('view-removed',view)}}__webpack_exports__.a=DataShareClient;Object.assign(DataShareClient.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events);DataShareClient.prototype.emit=DataShareClient.prototype.trigger},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__WEBPACK_IMPORTED_MODULE_2_corelib_datashare_api__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_3_corelib_datashare_Column__=__webpack_require__(150),__WEBPACK_IMPORTED_MODULE_4_corelib_datashare_DataSet__=__webpack_require__(151);const View=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Model.extend({});View.Collection=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Collection.extend({model:View});function triggerRemoveOnReset(collection){collection.bind('reset',(collection,opts)=>{opts.previousModels.forEach(model=>{collection.trigger('remove',model)})})}function fixLPid(id){if(id===void 0){return id}if('string'!==typeof id){return id.toString()}const dash=id.indexOf('-');if(-1===dash){return id}return parseInt(id.substring(dash+1),16).toString()}function getColumnPromise(client,column){const p=client.getColumn(column.id);return p.then(valuesObj=>{const rows=[],values=valuesObj.values;for(let i=0;i<values.length;++i){if(null===values[i]){values[i]=NaN}rows.push(i)}column.set({values,updatedRows:rows});client.emitColumnValuesChanged(column,values);client.emitColumnUpdatedRowsChanged(column,rows)})}class DataShareProc{static create(client,info){let proc=null;const version=__WEBPACK_IMPORTED_MODULE_2_corelib_datashare_api__.a.parseVersion(info.apiVers);if(1===version.major&&0===version.minor){proc=new DataShareProc(client,version)}return proc}constructor(client,version){this.client=client;this.version=version;this.info=null;this.status=null;this.session={id:'',desc:''};this.collection=null;this.requestTimeStamp=-1;this.columnListTimeStamp=-1;this.viewListTimeStamp=-1;this.columns=new __WEBPACK_IMPORTED_MODULE_3_corelib_datashare_Column__.a.Collection;this.views=new View.Collection;this.dataSets=new __WEBPACK_IMPORTED_MODULE_4_corelib_datashare_DataSet__.a.Collection;triggerRemoveOnReset(this.columns);triggerRemoveOnReset(this.views);triggerRemoveOnReset(this.dataSets);this.views.bind('add',view=>{this.client.emitViewAdded(view)});this.views.bind('remove',view=>{this.client.emitViewRemoved(view)});this.columns.bind('add',column=>{this.client.emitColumnAdded(column)});this.columns.bind('remove',column=>{this.client.emitColumnRemoved(column)});this.dataSets.bind('add',dataSet=>{this.client.emitDataSetAdded(dataSet)});this.dataSets.bind('remove',dataSet=>{this.client.emitDataSetRemoved(dataSet)});return this}clear(){this.views.reset();this.columns.reset();this.dataSets.reset();this.session={id:'',desc:''};this.collection=null;this.requestTimeStamp=-1;this.columnListTimeStamp=-1;this.viewListTimeStamp=-1}processInfo(info){this.info=info;return!0}processStatus(status){const oldColumns=this.columns;this.status=status;__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(status.views,view=>{view.id=fixLPid(view.id)});__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(status.sets,dataSet=>{const id=dataSet.id;if(id!==void 0){dataSet.id=fixLPid(id)}for(let i=0;i<dataSet.colIDs.length;++i){dataSet.colIDs[i]=fixLPid(dataSet.colIDs[i])}});__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(status.columns,column=>{column.id=fixLPid(column.id);column.setID=fixLPid(column.setID)});const newColumns=status.columns;this.requestTimeStamp=status.requestTimeStamp;this.checkSession({id:status.sessionID,desc:status.sessionDesc});this.checkCollection(status.collection);this.checkDataSets(status.sets);this.checkColumnList(status.columnListTimeStamp,status.columns);this.checkViews(status.viewListTimeStamp,status.views);return this.checkColumns(oldColumns,newColumns)}checkSession(session){if(this.session.id!==session.id){this.session.id=session.id;this.session.desc=session.desc;this.client.emitSessionChanged(this.session)}}checkCollection(collection){let changed=!1;if(null===this.collection){this.collection={};changed=!0}else if(this.collection.isCollecting!==collection.isCollecting||this.collection.canControl!==collection.canControl){changed=!0}if(changed){this.collection.isCollecting=collection.isCollecting;this.collection.canControl=collection.canControl;this.client.emitCollectionChanged(this.collection)}}checkColumnList(columnListTimeStamp,columns){let remove=null;if('undefined'===typeof columns){columns={}}if(this.columnListTimeStamp<columnListTimeStamp){this.columnListTimeStamp=columnListTimeStamp;remove=[];this.columns.models.forEach(column=>{if(!columns.hasOwnProperty(column.get('dsId'))){remove.push(column.id)}});__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(remove,id=>{const column=this.columns.get(id);this.columns.remove(column.id);column.off()});Object.keys(columns).sort((k1,k2)=>{const c1=columns[k1],c2=columns[k2],set1Id=fixLPid(c1.setID),set2Id=fixLPid(c2.setID),ds1=this.dataSets.get(set1Id),ds2=this.dataSets.get(set2Id);let diff=ds1.get('position')-ds2.get('position');if(0===diff){diff=c1.position-c2.position}return diff}).forEach(id=>{let elem=columns[id];const fixedId=fixLPid(id),column=this.columns.get(fixedId);if(!column){const setId=fixLPid(elem.setID);this.columns.add(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend(elem,{id:fixedId,dsId:id,liveValueTimeStamp:-1,valuesTimeStamp:-1,values:[],setID:setId,_dataSetName:this.dataSets.get(setId).getName()}))}else{elem=__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.clone(elem);delete elem.liveValueTimeStamp;delete elem.valuesTimeStamp;delete elem.id;elem.setID=fixLPid(elem.setID);column.set(elem)}})}else{__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(columns,(elem,id)=>{const fixedId=fixLPid(id),column=this.columns.get(fixedId);if(column){elem=__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.clone(elem);delete elem.liveValueTimeStamp;delete elem.valuesTimeStamp;delete elem.id;elem.setID=fixLPid(elem.setID);column.set(elem)}})}}checkColumns(oldColumns,newColumns){const columnPromises=[];Object.keys(newColumns).forEach(key=>{const fixedId=fixLPid(key),oldColumn=oldColumns.get(fixedId),newColumn=newColumns[key];let updateLiveValue=!1,updateValues=!1;if(oldColumn){updateLiveValue=oldColumn.get('liveValueTimeStamp')<newColumn.liveValueTimeStamp;updateValues=oldColumn.get('valuesTimeStamp')<newColumn.valuesTimeStamp;updateValues=updateValues||oldColumn.get('valueCount')!==newColumn.valueCount;oldColumn.set({liveValueTimeStamp:newColumn.liveValueTimeStamp,valuesTimeStamp:newColumn.valuesTimeStamp})}if(updateLiveValue){this.client.emitColumnLiveValueChanged(oldColumn,oldColumn.get('liveValue'))}if(updateValues){columnPromises.push(getColumnPromise(this.client,oldColumn))}});return Promise.all(columnPromises)}checkDataSets(dataSets){const remove=[];this.dataSets.models.forEach(dataSet=>{if(!dataSets.hasOwnProperty(dataSet.get('dsId'))){remove.push(dataSet.id)}});__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(remove,id=>{const dataSet=this.dataSets.get(id);this.dataSets.remove(dataSet);dataSet.off()});const setKeys=Object.keys(dataSets);setKeys.sort((a,b)=>{const A=dataSets[a],B=dataSets[b],pa=A.position||0,pb=B.position||0;if(pa<pb){return-1}else if(pa>pb){return 1}return 0});__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(setKeys,id=>{const dataSet=dataSets[id],fixedId=fixLPid(id);if(!this.dataSets.get(fixedId)){this.dataSets.add(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend(dataSet,{dsId:id,id:fixedId}))}else{const ds=this.dataSets.get(fixedId),elem=__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.clone(dataSet);elem.setID=fixLPid(elem.setID);delete elem.id;ds.set(elem)}})}processViews(viewListTimeStamp,views){const remove=[];this.views.models.forEach(view=>{if(!views.hasOwnProperty(view.get('dsId'))){remove.push(view.id)}});__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(remove,id=>{const view=this.views.get(id);this.views.remove(view);view.off()});const columns=this.client.getColumns();__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(views,(elem,id)=>{let traceIds,baseId,nativeCount=0,neededCount,newBaseId;const fixedId=fixLPid(id),newTraceIds=[];if('graph'===elem.viewType){traceIds=elem.leftTraceColIDs||[];baseId=fixLPid(elem.baseColID);neededCount=traceIds.length+1;elem.baseColID=baseId;traceIds.forEach(id=>{newTraceIds.push(fixLPid(id))});elem.leftTraceColIDs=newTraceIds}else if('meter'===elem.viewType){baseId=fixLPid(elem.colID);elem.colID=baseId;neededCount=1}else{console.warn(`Unsuported view type: ${elem.viewType}`)}columns.each(col=>{if(col.nativeId){if(col.id===baseId){nativeCount++;newBaseId=col.nativeId}newTraceIds.forEach(fid=>{if(col.id===fid){nativeCount++}})}});if(newBaseId&&nativeCount>=neededCount){if(!this.views.get(fixedId)){this.views.add(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend(views[id],{dsId:id,id:fixedId}))}else{elem=__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.clone(elem);delete elem.id;this.views.get(fixedId).set(elem)}}});this.viewListTimeStamp=viewListTimeStamp}checkViews(viewListTimeStamp,views){if(this.viewListTimeStamp<viewListTimeStamp){this.processViews(viewListTimeStamp,views)}}refreshViews(){this.processViews(this.viewListTimeStamp,this.status.views)}}__webpack_exports__.a=DataShareProc},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__);const Column=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Model.extend({});__webpack_exports__.a=Column;Column.Collection=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Collection.extend({model:Column});Object.assign(Column.prototype,{initialize(){this.bind('change:values',(column,values)=>{this.trigger('values-changed',values,column)});this.bind('change:updated-rows',(column,rows)=>{this.trigger('updated-rows-changed',rows,column)});['name','units','formatStr'].forEach(name=>{this.bind(`change:${name}`,column=>{this.trigger(`${name}-changed`,column)})});this.liveTimeStamp=-1;this.bind('change:liveValueTimeStamp',(column,timeStamp)=>{if(timeStamp>this.liveTimeStamp){this.liveTimeStamp=timeStamp;this.trigger('live-value-changed',this.get('liveValue'))}});this.bind('change:_dataSetName',column=>{column.trigger('data-set-name-changed')})},getSetID(){return this.get('setID')},getGroupID(){return this.get('groupID')},getLiveValue(){return this.get('liveValue')},getFormatStr(){const fmt=this.get('formatStr');return fmt||'%f'},getValues(){return this.get('values')||[]},getValueCount(){return this.get('valueCount')},getDataSetName(){return this.get('_dataSetName')}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__);const DataSet=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Model.extend({});__webpack_exports__.a=DataSet;DataSet.Collection=__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Collection.extend({model:DataSet});Object.assign(DataSet.prototype,{initialize(){},getName(){return this.get('name')},getColumnIDs(){return this.get('colIDs')}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2_corelib_util_EventBinder__=__webpack_require__(6);const eventBinder=new __WEBPACK_IMPORTED_MODULE_2_corelib_util_EventBinder__.a,graphCount=3;function getGraphPrefConfig(dw,dataSet,columns,settings){const sw=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('sensor-world'),graphs=[],params=settings.params,mode=settings.mode,isContinuous=params.continuous,baseColumns=columns.filter(column=>column.prefersBase),timeColumn=baseColumns.find(col=>'time'===col.type);let baseColumn=timeColumn||baseColumns[0];if(!baseColumn){console.warn('No baseColumn in dataset!');baseColumn=columns[0]}const baseRange={min:0,max:30};let baseColumnID=baseColumn?baseColumn.id:null;if('time-based'===mode&&!isContinuous){baseRange.max=__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.convertTimeUnits(params.duration,'s',params.units)}else if(mode.match('events')){baseRange.max=1}else if(mode.match('drop-counting')){baseRange.min=baseColumn.range.min;baseRange.max=baseColumn.range.max}else if('photogate-timing'===mode){if('motion'===params.subMode){if('m'===params.params.units){baseRange.min=0;baseRange.max=0.25}else{baseRange.min=0;baseRange.max=10}}else if(['gate','pulse'].includes(params.subMode)){baseRange.min=0;baseRange.max=5}else if('projectile'===params.subMode){baseRange.min=0;baseRange.max=10}}columns.forEach(column=>{if('calc'===column.type&&column.replaceDependent&&1===column.group.calcDependentGroups.length&&column.group.calcDependentGroups[0]===baseColumn.groupID){baseColumn=column;baseColumnID=column.id}});function generateGraphObjects(){const connectLines=('time-based'===mode||'full-spectrum'===mode)&&!columns.every(column=>'manual'===column.type||'calc'===column.type);for(let i=graphs.length;i<graphCount;++i){graphs.push({leftTraceColIDs:[],connectLines,showPoints:!connectLines,baseColumnID,baseRange,leftRange:{min:NaN,max:NaN},enabled:!1,units:[]})}}const _isMotionDetectorGroup=group=>{const dependentGroup=group&&group.calcDependentGroups.length?dw.getColumnGroup(group.calcDependentGroups[0]):null;return group&&group.sensorId&&sw.isMotionDetector(group.sensorId)||dependentGroup&&dependentGroup.sensorId&&sw.isMotionDetector(dependentGroup.sensorId)},_isRotationGroup=group=>{const dependentGroup=group&&group.calcDependentGroups.length?dw.getColumnGroup(group.calcDependentGroups[0]):null;return group&&group.sensorId&&sw.isRotationSensor(group.sensorId)||dependentGroup&&dependentGroup.sensorId&&sw.isRotationSensor(dependentGroup.sensorId)};function setGraphRanges(graph,column){if(isNaN(graph.leftRange.min)){graph.leftRange.min=column.range.min}else{graph.leftRange.min=Math.min(graph.leftRange.min,column.range.min)}if(isNaN(graph.leftRange.max)){graph.leftRange.max=column.range.max}else{graph.leftRange.max=Math.max(graph.leftRange.max,column.range.max)}}function matchColumnToGraph(column){const columnGroup=column.group;if(graphs.length<graphCount){generateGraphObjects()}const uniqueUnits=sw.sensorCollection.groupBy('units'),unitCount=Object.keys(uniqueUnits).length;for(let i=0;i<graphs.length;++i){const graph=graphs[i],graphUnits=graph.units;if(column.id!==baseColumnID&&(i===graphs.length-1||!graphUnits.length||graphUnits.includes(columnGroup.units))){const dependentGroup=columnGroup&&columnGroup.calcDependentGroups.length?dw.getColumnGroup(columnGroup.calcDependentGroups[0]):null,isMD=_isMotionDetectorGroup(dependentGroup),isRotation=_isRotationGroup(dependentGroup);let velCalcCol=!1,accCalcCol=!1;if(isMD){velCalcCol='calc'===column.type&&column.sensorMapId.startsWith('CC_MDV');accCalcCol='calc'===column.type&&column.sensorMapId.startsWith('CC_MDA')}else if(isRotation){velCalcCol='calc'===column.type&&(column.sensorMapId.endsWith('MV')||column.sensorMapId.endsWith('cc_1'));accCalcCol='calc'===column.type&&(column.sensorMapId.endsWith('MA')||column.sensorMapId.endsWith('cc_2'))}let addToGraph=!1;if(accCalcCol&&1===unitCount||velCalcCol&&3>unitCount){addToGraph=!0}else if(column.plotted&&!velCalcCol&&!accCalcCol){addToGraph=!0}if(addToGraph){graphUnits.push(columnGroup.units);graph.leftTraceColIDs.push(column.id);graph.enabled=column.plotted;setGraphRanges(graph,column)}break}}}columns.sort((colA,colB)=>{const a=_isMotionDetectorGroup(colA.group)||_isRotationGroup(colA.group),b=_isMotionDetectorGroup(colB.group)||_isRotationGroup(colB.group);if(a===b){return 0}return a?1:-1}).forEach(column=>{matchColumnToGraph(column)});return graphs}__webpack_exports__.a={configureLayoutPrefs:function(dataSet,settings,update){const dw=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('data-world'),viewPrefs=dw.getViewPrefs(),getGroups=groupIds=>groupIds.map(dw.getColumnGroup.bind(dw)),columns=(columnIDs=>{const columns=[];for(let i=0;i<columnIDs.length;++i){columns.push(dw.getColumn(columnIDs[i]))}return columns})(dataSet.columnIDs);if(update.meters){eventBinder.unbindAll();const setMeter=(_column,_meter,_sensor)=>{console.assert(_sensor);const meter=_meter,columnGroup=_column.group;if(meter){meter.wavelength=_sensor.wavelength;eventBinder.bind(_sensor,'wavelength-changed',wavelength=>{if(wavelength){meter.name=columnGroup.name}});meter.name=columnGroup.name;meter.units=columnGroup.units;meter.meterId=columnGroup.meterId;meter.sensorId=_sensor.id;meter.groupId=columnGroup.id}eventBinder.bind(columnGroup,'name-changed',()=>{if(meter){meter.name=columnGroup.name}});eventBinder.bind(columnGroup,'units-changed',units=>{if(meter){meter.units=units}});eventBinder.bind(_column,'live-value-changed',value=>{if(meter){meter.value=_column.getFormattedValue(value)}})},curMeters=[];viewPrefs.meters.forEach(pref=>{curMeters.push(pref)});curMeters.forEach(meterPrefs=>{viewPrefs.removeMeter(meterPrefs)});columns.forEach(column=>{if(column.replaceDependent){const dependentGroups=getGroups(column.group.calcDependentGroups);dependentGroups.forEach(dependentGroup=>{if(column.metered){dw.updateColumnGroup(dependentGroup.id,{metered:!1})}if(column.plotted){dw.updateColumnGroup(dependentGroup.id,{plotted:!1})}})}if(column.metered){const sensorWorld=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('sensor-world'),sensorId=column.sensorId;let sensor;if('number'===typeof sensorId&&0!==sensorId){sensor=sensorWorld.getSensorById(sensorId)}else if('calc'===column.type){const columnGroup=column.group;if(columnGroup&&columnGroup.calcDependentGroups.length){const dependentGroup=dw.getColumnGroup(columnGroup.calcDependentGroups[0]),dependentSensorId=dependentGroup?dependentGroup.sensorId:null;if('number'===typeof dependentSensorId&&0===sensorId){sensor=sensorWorld.getSensorById(dependentSensorId)}}}if(sensor){const meterPrefs=viewPrefs.createMeter();setMeter(column,meterPrefs,sensor);viewPrefs.addMeter(meterPrefs);eventBinder.bind(column,'metered-changed',meter=>{if(meter){viewPrefs.addMeter(meterPrefs)}else{viewPrefs.removeMeter(meterPrefs)}})}}})}const graphUpdates=update.graphUpdates,getGraphPrefs=(index,cb)=>{let graphPrefs=null;if(index<viewPrefs.graphs.length){graphPrefs=viewPrefs.graphs.models[index];if(graphUpdates.columns){graphPrefs.leftTraceColIDs.forEach(columnID=>{graphPrefs.removeLeftTraceColumn(columnID)})}cb(graphPrefs)}else{graphPrefs=viewPrefs.createGraph();graphPrefs.position=index;cb(graphPrefs);viewPrefs.addGraph(graphPrefs)}},graphConfig=getGraphPrefConfig(dw,dataSet,columns,settings),previousGraphYRange={min:0,max:1};if(graphUpdates&&graphConfig&&0<graphConfig.length){graphConfig.forEach((config,i)=>{getGraphPrefs(i,graphPrefs=>{graphPrefs.enabled=config.enabled;if(graphUpdates.columns){graphPrefs.baseColumnID=config.baseColumnID;config.leftTraceColIDs.forEach(columnID=>{graphPrefs.addLeftTraceColumn(columnID)})}else{graphPrefs.baseColumnID=null}if(graphUpdates.ranges){graphPrefs.baseRange.min=config.baseRange.min;graphPrefs.baseRange.max=config.baseRange.max;let leftMin=config.leftRange.min,leftMax=config.leftRange.max;if(isNaN(leftMin)){leftMin=previousGraphYRange.min}else{previousGraphYRange.min=leftMin}if(isNaN(leftMax)){leftMax=previousGraphYRange.max}else{previousGraphYRange.max=leftMax}graphPrefs.leftRange.min=leftMin;graphPrefs.leftRange.max=leftMax}if(graphUpdates.appearance){graphPrefs.connectLines=config.connectLines;graphPrefs.showPoints=config.showPoints}})})}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathmin3=Math.min,_Mathfloor3=Math.floor,__WEBPACK_IMPORTED_MODULE_0_corelib_util_indexedDB__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);class UdmArchive{constructor(params={}){this.configuration=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('configuration');this._sequence=0;this.name=params.name||this._autoName();this.exportName=this.name;this.importPath=null;this.attachments={};this.currentOffset=0;this.maxDBSize=params.maxDBSize;this.leaveAfterPrune=params.leaveAfterPrune;this.db=new __WEBPACK_IMPORTED_MODULE_0_corelib_util_indexedDB__.a}_prune(){if(this.maxDBSize){return this.db.size().then(params=>{const printSize=size=>{let u='KB',s=_Mathfloor3(size/1024);if(1024<s){s=_Mathfloor3(s/1024);u='MB'}return`${s}${u}`},size=printSize(params.size);console.log(`Current IndexedDB contains ${params.documentCount} documents, size is ${size}`);if(params.size>=this.maxDBSize||params.documentCount>this.leaveAfterPrune){return this.db.prune(this.leaveAfterPrune).then(()=>{return this.db.size().then(params=>{const size=printSize(params.size);console.log(`IndexedDB was pruned, left ${params.documentCount} documents, new size ${size}`)})})}})}return Promise.resolve()}static create(params={}){const arch=new UdmArchive(params);return arch.db.open().then(()=>{return arch._prune().then(()=>{return arch._findSequenceStart().then(start=>{console.debug(`Archive numbering sequence starts at ${start}`);arch._sequence=start;if(!params.name){arch.name=arch._autoName()}return arch.db.clear(arch._makeKey()).then(()=>{return arch})})})})}open(params={}){this._reset(params);return this.db.keys(this._makeKey()).then(keys=>{let valid=!1;const xmlKey=this._makeKey('data.udm');keys.forEach(k=>{if(k===xmlKey){valid=!0}else{this.attachments[this._getPath(k)]={}}});if(!valid){return Promise.reject(new Error(`Document ${this.name} doesn't exist`))}})}load(params={}){console.assert(params.path);console.assert(params.buffer);let p;if(!params.reuseSession){this.name=this._autoName();p=this._prune()}else{p=Promise.resolve()}this.exportName=params.name;this.importPath=params.path;return p.then(()=>{return this._parse(params.buffer)})}newSession(params={}){let p;if(!params.reuseSession){this.name=params.name||this._autoName();p=this._prune()}else{console.debug('reusing old session DB entry');p=Promise.resolve()}return p.then(()=>{return this.db.clear(this._makeKey())})}clear(){return this.db.clear()}setExportName(name){this.exportName=name;return this.db.setMeta(this._makeKey('data.udm'),{exportName:name}).catch(e=>{if(!e.message.startsWith('no key')){return Promise.reject(e)}})}_reset(params={}){this.name=params.name||this._autoName();this.exportName=this.name;this.importPath=null;this.attachments={};this.currentOffset=0}_findSequenceStart(){return this.listDocuments().then(docs=>{let max=0,max2=0;docs.forEach(d=>{const i=parseInt(d.key);if(!Number.isNaN(i)){if(i>max){max=i}if(5e3>i&&i>max2){max2=i}}});if(9999<=max){max=max2;console.debug(`post rolover sequence starts at ${max}`)}return max})}_autoName(){this._sequence++;return this._sequence.toString()}_makeKey(fileName,prefix){console.assert(this.name);if(prefix){return`${this.name}/vstudm/${prefix}/${fileName}`}else if(fileName){return`${this.name}/vstudm/${fileName}`}return`${this.name}/vstudm`}_getPath(key){const pfx=`${this.name}/vstudm/`;if(key.startsWith(pfx)){return key.substring(pfx.length)}return key}_archiveSize(){let size=1024;const calcSize=meta=>{const len=meta.length;let tail=len%512;if(tail){tail=512-tail}return 512+len+tail};return this.db.keys(this._makeKey()).then(keys=>{const promises=[];keys.forEach(key=>{promises.push(this.db.getMeta(key).then(meta=>{size+=calcSize(meta)}))});return Promise.all(promises).then(()=>{return size})})}_parse(buffer){if(!this.name){return Promise.reject(new Error('Name not set'))}let offset=0,hdr=this._parseHeader(buffer);if(!hdr){return Promise.reject(new Error('not a UDM archive'))}return this.db.clear(this._makeKey()).then(()=>{const promises=[];while(hdr){const firstSlash=hdr.name.indexOf('/');if(0>firstSlash){return Promise.reject(new Error('malformed UDM archive'))}const name=hdr.name.substr(firstSlash+1);promises.push(this._extractData(buffer,name));if('data.udm'!==name){this.attachments[name]={}}offset+=hdr.length+512;const tail=offset%512;if(tail){offset+=512-tail}const chunk=buffer.subarray(offset,offset+512);hdr=this._parseHeader(chunk)}return Promise.all(promises).then(()=>{return this.db.get(this._makeKey('data.udm')).then(xml=>{return xml})})})}_bufferToString(buffer){if('Electron'===this.configuration.platform.name){return Buffer.from(buffer).toString()}return new TextDecoder('utf-8').decode(buffer)}_stringToBuffer(string){if('Electron'===this.configuration.platform.name){return Buffer.from(string)}return new TextEncoder('utf-8').encode(string)}_defaultMeta(){return{exportName:this.exportName,importPath:this.importPath}}writeXml(content){const meta=this._defaultMeta();if('string'===typeof content){return this.db.set(this._makeKey('data.udm'),content,meta)}else if(content instanceof Uint8Array){const xml=this._bufferToString(content);return this.db.set(this._makeKey('data.udm'),xml,meta)}return Promise.reject(new Error(`Unhandled input type ${typeof content}`))}exportDocument(){if(!this.name){return Promise.reject(new Error('Document name not set'))}let exportBuffer;this.currentOffset=0;const promiseLoop=(_cond,_func)=>{return new Promise((_res,_rej)=>{const loop=()=>{if(!_cond()){_res()}else{_func().then(loop).catch(e=>{_rej(e)})}};loop()})},processAttachment=path=>{return this.db.get(this._makeKey(path)).then(content=>{return this._writeHeader(exportBuffer,`vstudm/${path}`,content.length).then(()=>{return this._writeFile(exportBuffer,content)})})},attachments=Object.keys(this.attachments);let i=0;return this._archiveSize().then(size=>{console.debug(`exporting document, archive size is ${size}`);exportBuffer=new Uint8Array(size);return promiseLoop(()=>{return i<attachments.length},()=>{return processAttachment(attachments[i++])}).then(()=>{return this.db.get(this._makeKey('data.udm')).then(content=>{return this._writeHeader(exportBuffer,'vstudm/data.udm',content.length).then(()=>{return this._writeFile(exportBuffer,content).then(()=>{if(0!==this.currentOffset%512){return Promise.reject(new Error('Incorrectly aligned final currentOffset'))}exportBuffer.fill(0,this.currentOffset,this.currentOffset+1024);return exportBuffer})})})})})}addAttachment(prefix,fileName,fileContents,mimeType='application/octet-binary'){return this.db.set(this._makeKey(fileName,prefix),fileContents,{mimeType}).then(()=>{const path=`${prefix}/${fileName}`;this.attachments[path]={};return`vstudm/${path}`})}setAttachmentId(path,id){let p=path;if(p.startsWith('vstudm/')){p=p.substr(7)}const a=this.attachments[p];a.id=id}getAttachmentPaths(){return Object.keys(this.attachments)}getAttachment(path){const key=this._makeKey(path);return this.db.getMeta(key).then(meta=>{return this.db.get(key).then(data=>{return{data,mimeType:meta.mimeType||'application/octet-binary'}})})}removeAttachment(path){delete this.attachments[path];return this.db.remove(this._makeKey(path))}clearAttachments(prefix){const keys=Object.keys(this.attachments),promises=[];keys.forEach(k=>{if(!prefix||k.startsWith(prefix)){promises.push(this.removeAttachment(k))}});return Promise.all(promises)}removeAttachmentById(id){const keys=Object.keys(this.attachments);let path;keys.forEach(k=>{if(this.attachments[k].id===id){path=k}});if(!path){return Promise.reject(new Error(`Could not find id ${id}`))}return this.removeAttachment(path)}_extractData(buffer,path){let offset=0,chunk=buffer.subarray(0,512),hdr=this._parseHeader(chunk),promise;while(hdr){if(`vstudm/${path}`===hdr.name){const data=buffer.subarray(offset+512,offset+512+hdr.length);if('data.udm'===path){const xml=this._bufferToString(data);promise=this.db.set(this._makeKey(path),xml,this._defaultMeta())}else{promise=this.db.set(this._makeKey(path),data)}break}offset+=512+hdr.length;const tail=offset%512;if(tail){offset+=512-tail}chunk=buffer.subarray(offset,offset+512);hdr=this._parseHeader(chunk)}if(!promise){return Promise.reject(new Error(`Failed to extract data for ${path}`))}return promise}_calcCheckSum(buffer){let sum=256,i;for(i=0;148>i;i++){sum+=buffer[i]}for(i=156;512>i;i++){sum+=buffer[i]}return sum}_parseHeader(buffer){console.assert(buffer instanceof Uint8Array);console.assert(512<=buffer.length);const stringFromBuffer=(offset,len)=>{let b=buffer.subarray(offset,offset+len);const o=b.indexOf(0);if(-1<o){b=buffer.subarray(offset,offset+o)}return String.fromCharCode(...b)};if(0===buffer[148]){return null}const sum1=this._calcCheckSum(buffer),sum2=(()=>{const s=stringFromBuffer(148,6);return parseInt(s,8)})();if(sum1!==sum2){console.warn(`checksum mismatch, calculated  ${sum1}, parsed ${sum2}`);return null}if('vstudm'!==stringFromBuffer(265,6)){return null}const hdr={name:stringFromBuffer(0,100),length:parseInt(stringFromBuffer(124,12),8)};return hdr}_writeHeader(exportBuffer,path,length){return new Promise((resolve)=>{const buffer=new Uint8Array(512);buffer.fill(0);let i;const nameLen=_Mathmin3(path.length,99);for(i=0;i<nameLen;i++){buffer[i]=path.charCodeAt(i)}const m=436 .toString(8);for(i=0;i<_Mathmin3(m.length,8);i++){buffer[i+100]=m.charCodeAt(i)}const l=length.toString(8);for(i=0;i<_Mathmin3(l.length,11);i++){buffer[i+124]=l.charCodeAt(i)}for(i=0;6>i;i++){buffer[265+i]='vstudm'.charCodeAt(i)}let sum=this._calcCheckSum(buffer);sum=sum.toString(8);for(i=0;6>i;i++){buffer[i+148]=sum.charCodeAt(i)}buffer[i+148+1]=32;exportBuffer.set(buffer,this.currentOffset);this.currentOffset+=512;resolve()})}_writeFile(exportBuffer,content){return new Promise((resolve,reject)=>{let data;if('string'===typeof content){data=this._stringToBuffer(content)}else if(content instanceof Uint8Array){data=content}else{reject(new Error(`Unsuported content type ${typeof content}`))}const size=data.length;exportBuffer.set(data,this.currentOffset);this.currentOffset+=size;let tail=size%512;if(tail){tail=512-tail}exportBuffer.fill(0,this.currentOffset,this.currentOffset+tail);this.currentOffset+=tail;resolve()})}_createTar(xmlDoc){let tarLen=xmlDoc.length;const tail=tarLen%512;tarLen+=1536+(512-tail);const buffer=new Uint8Array(tarLen),hdr=buffer.subarray(0,512);hdr.fill(0);let i;const path='vstudm/data.udm';for(i=0;i<path.length;i++){buffer[i]=path.charCodeAt(i)}const l=xmlDoc.length.toString(8);for(i=0;i<_Mathmin3(l.length,11);i++){buffer[i+124]=l.charCodeAt(i)}const magic='vstudm';for(i=0;i<magic.length;i++){buffer[265+i]=(magic+'').charCodeAt(i)}let sum=this._calcCheckSum(buffer);sum=sum.toString(8);const sumLen=_Mathmin3(sum.length,6);for(i=0;i<6-sumLen;i++){buffer[i+148]=48}for(;6>i;i++){buffer[i+148]=sum.charCodeAt(i-(6-sumLen))}buffer[i+148+1]=32;for(i=0;i<xmlDoc.length;i++){buffer[i+512]=xmlDoc.charCodeAt(i)}const ftr=buffer.subarray(512+xmlDoc.length);ftr.fill(0);return buffer}listDocuments(){let i=0;const docs=[],promiseLoop=(_cond,_func)=>{return new Promise((_res,_rej)=>{const loop=()=>{if(!_cond()){_res()}else{_func().then(loop).catch(e=>{_rej(e)})}};loop()})},processMeta=key=>{return this.db.getMeta(key).then(meta=>{const end=key.lastIndexOf('/vstudm/data.udm');if(0>end){return Promise.reject(new Error(`Malformed key ${key}`))}const k=key.substring(0,end),d={exportName:meta.exportName,key:k};docs.push(d)})};return this.db.keys().then(keys=>{const filtered=[];keys.forEach(k=>{if(k.endsWith('/data.udm')){filtered.push(k)}});return filtered}).then(keys=>{return promiseLoop(()=>{return i<keys.length},()=>{return processMeta(keys[i++])}).then(()=>{return docs})})}}__webpack_exports__.a=UdmArchive},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{open(){return new Promise((resolve,reject)=>{if(!window.indexedDB){reject(new Error('IndexedDB not supported'))}const req=window.indexedDB.open('VstUdmData');req.onerror=event=>{reject(event.target.error)};req.onsuccess=event=>{this.db=event.target.result;resolve()};req.onupgradeneeded=event=>{const db=event.target.result;db.createObjectStore('data');db.createObjectStore('meta',{keyPath:'key'})}})}set(key,value,meta={}){const promises=[];let p=new Promise((resolve,reject)=>{const t=this.db.transaction(['data'],'readwrite');t.oncomplete=()=>{resolve()};t.onerror=event=>{reject(event.target.error)};t.objectStore('data').put(value,key)});promises.push(p);p=new Promise((resolve,reject)=>{const t=this.db.transaction(['meta'],'readwrite');t.oncomplete=()=>{resolve()};t.onerror=event=>{reject(event.target.error)};meta.length=value.length;meta.timestamp=Date.now();meta.key=key;t.objectStore('meta').put(meta)});promises.push(p);return Promise.all(promises)}get(key){return new Promise((resolve,reject)=>{const t=this.db.transaction(['data']),req=t.objectStore('data').get(key);req.onerror=event=>{reject(event.target.error)};req.onsuccess=()=>{if(!req.result){reject(new Error(`no key '${key}'`))}else{resolve(req.result)}}})}setMeta(key,meta){return this.getMeta(key).then(_meta=>{const props=Object.keys(meta);props.forEach(p=>{if('length'!==p){_meta[p]=meta[p]}});props.timestamp=Date.now;return new Promise((resolve,reject)=>{const t=this.db.transaction(['meta'],'readwrite');t.oncomplete=()=>{resolve()};t.onerror=event=>{reject(event.target.error)};t.objectStore('meta').put(_meta)})})}getMeta(key){return new Promise((resolve,reject)=>{const t=this.db.transaction(['meta']),req=t.objectStore('meta').get(key);req.onerror=event=>{reject(event.target.error)};req.onsuccess=()=>{if(!req.result){reject(new Error(`no key '${key}'`))}else{resolve(req.result)}}})}keys(prefix){return new Promise((resolve,reject)=>{const t=this.db.transaction(['data']),req=t.objectStore('data').getAllKeys();req.onerror=event=>{reject(event.target.error)};req.onsuccess=()=>{if(prefix){const keys=[];req.result.forEach(k=>{if(k.startsWith(prefix)){keys.push(k)}});resolve(keys)}else{resolve(req.result)}}})}remove(key){const promises=[];let p=new Promise((resolve,reject)=>{const t=this.db.transaction(['data'],'readwrite');t.oncomplete=()=>{resolve()};t.onerror=event=>{reject(event.target.error)};t.objectStore('data').delete(key)});promises.push(p);p=new Promise((resolve,reject)=>{const t=this.db.transaction(['meta'],'readwrite');t.oncomplete=()=>{resolve()};t.onerror=event=>{reject(event.target.error)};t.objectStore('meta').delete(key)});promises.push(p);return Promise.all(promises)}clear(prefix){if(!prefix){const promises=[];let p=new Promise((resolve,reject)=>{const t=this.db.transaction(['data'],'readwrite');t.oncomplete=()=>{resolve()};t.onerror=event=>{reject(event.target.error)};t.objectStore('data').clear()});promises.push(p);p=new Promise((resolve,reject)=>{const t=this.db.transaction(['meta'],'readwrite');t.oncomplete=()=>{resolve()};t.onerror=event=>{reject(event.target.error)};t.objectStore('meta').clear()});promises.push(p);return Promise.all(promises)}return this.keys(prefix).then(keys=>{const promises=[];keys.forEach(key=>{promises.push(this.remove(key))});return Promise.all(promises)})}size(){return new Promise((resolve,reject)=>{const t=this.db.transaction(['meta']),req=t.objectStore('meta').openCursor();let size=0;const docs={};req.onerror=event=>{reject(event.target.error)};req.onsuccess=event=>{const cur=event.target.result;if(cur){if(cur.key.endsWith('/data.udm')){size+=2*cur.value.length}else{size+=cur.value.length}size+=4096;const end=cur.key.lastIndexOf('/vstudm/data.udm');if(0<=end){const k=cur.key.substring(0,end),i=parseInt(k);if(!Number.isNaN(i)){docs[k]={}}}cur.continue()}else{const documentCount=Object.keys(docs).length;resolve({size,documentCount})}}})}prune(leave=1){return new Promise((resolve,reject)=>{const t=this.db.transaction(['meta']),req=t.objectStore('meta').getAll();req.onerror=event=>{reject(event.target.error)};req.onsuccess=()=>{if(!req.result||0===req.result.length){resolve()}else{const meta=req.result,promises=[];meta.sort((m1,m2)=>{const t1=m1.timestamp||0,t2=m2.timestamp||0;return t2-t1});for(let i=leave;i<meta.length;i++){promises.push(this.remove(meta[i].key))}Promise.all(promises).then(()=>{resolve()})}}})}}},function(module,__webpack_exports__){'use strict';const snackbar=()=>{const queue=[];let timer=null,el,message,action;const _showSnackbar=()=>{el.classList.add('show')},_hideSnackbar=()=>{el.classList.remove('show');clearTimeout(timer);timer=null},_makeToast=toastObj=>{message.textContent=toastObj.message;if(toastObj.options.action&&toastObj.options.action.text){action.textContent=toastObj.options.action.text;action.style.display='';el.addEventListener('actionClicked',()=>{toastObj.options.action.callback();_hideSnackbar()})}else{action.style.display='none'}const _checkQueue=()=>{el.removeEventListener('transitionend',_checkQueue);if(0<queue.length){_makeToast(queue.shift())}};_showSnackbar();if(toastObj.options.duration===Infinity){timer=null}else{timer=setTimeout(()=>{_hideSnackbar();el.addEventListener('transitionend',_checkQueue)},toastObj.options.duration)}};return{initToast(toastEl){if(!el){if(toastEl){el=toastEl}message=el.shadowRoot.getElementById('message');action=el.shadowRoot.getElementById('action');el.addEventListener('doneClicked',()=>{_hideSnackbar()})}},makeToast(stringKey,options={duration:1500}){queue.push({message:stringKey,options});if(null===timer){_makeToast(queue.shift())}},get element(){return el},get LENGTH_SHORT(){return 1500},get LENGTH_MEDIUM(){return 5e3},get LENGTH_LONG(){return 1e4},get LENGTH_INDEFINITE(){return Infinity}}},toast={start(){return Promise.resolve(snackbar())},stop(){return Promise.resolve()}};__webpack_exports__.a=toast},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_viewprefs_ViewPrefs__=__webpack_require__(157);const viewPrefs={start(){return new Promise((accept)=>{const viewPrefsObj=new __WEBPACK_IMPORTED_MODULE_0_corelib_viewprefs_ViewPrefs__.a;accept(viewPrefsObj)})},stop(){return new Promise((accept)=>{accept('ViewPrefs stopped!')})}};__webpack_exports__.a=viewPrefs},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2_corelib_viewprefs_MeterViewPrefs__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_3_corelib_viewprefs_GraphViewPrefs__=__webpack_require__(159);const ViewPrefs=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.extend({defaults:{meters:null,graphs:null,showTable:!1},initialize(){if(!this.get('meters')){this.set('meters',new __WEBPACK_IMPORTED_MODULE_2_corelib_viewprefs_MeterViewPrefs__.a.Collection)}if(!this.get('graphs')){this.set('graphs',new __WEBPACK_IMPORTED_MODULE_3_corelib_viewprefs_GraphViewPrefs__.a.Collection)}const bindCollectionEvents=(collectionName,modelName)=>{const collection=this.get(collectionName);collection.on('add',model=>{this.trigger(`${modelName}-added`,model)});collection.on('remove',model=>{model.off();this.trigger(`${modelName}-removed`,model);model.off()})};bindCollectionEvents('meters','meter');bindCollectionEvents('graphs','graph');this.bindChangeEvent('showTable','show-table-changed');['add','remove'].forEach(eventName=>{this.graphs.on(eventName,graphPrefs=>{if('add'===eventName){graphPrefs.on('enabled disabled',()=>{this._triggerGraphConfigChanged()})}this._triggerGraphConfigChanged()})})},createMeter(props){return new __WEBPACK_IMPORTED_MODULE_2_corelib_viewprefs_MeterViewPrefs__.a(props)},addMeter(meterPrefs){meterPrefs.set('id',meterPrefs.id||__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniqueId('MeterPrefs_'));this.meters.add(meterPrefs);return meterPrefs},getMeter(id){this.meters.get(id)},removeMeter(meterPrefs){this.meters.remove(meterPrefs)},createGraph(props){return new __WEBPACK_IMPORTED_MODULE_3_corelib_viewprefs_GraphViewPrefs__.a(props)},addGraph(graphPrefs){graphPrefs.id=graphPrefs.id||__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniqueId('GraphPrefs_');this.graphs.add(graphPrefs);return graphPrefs},getGraph(id){this.graphs.get(id)},removeGraph(graphPrefs){this.graphs.remove(graphPrefs)},_triggerGraphConfigChanged(){this.trigger('graph-config-changed',this.graphs)},reset(){const graphs=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.clone(this.graphs.models),meters=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.clone(this.meters.models);graphs.forEach(graph=>{this.removeGraph(graph)});meters.forEach(meter=>{this.removeMeter(meter)});this.trigger('reset')}});__webpack_exports__.a=ViewPrefs;Object.defineProperties(ViewPrefs.prototype,{meters:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('meters'),graphs:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('graphs'),showTable:__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModel__.a.makePropertyAccessor('showTable',!1)});ViewPrefs.prototype.restore=function(){console.warn('FIXME: read this from the backend')}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModelCollection__=__webpack_require__(16),__WEBPACK_IMPORTED_MODULE_2_corelib_viewprefs_ViewPrefsBase__=__webpack_require__(58);const MeterViewPrefs=__WEBPACK_IMPORTED_MODULE_2_corelib_viewprefs_ViewPrefsBase__.a.extend({defaults:{name:'',wavelength:0,units:'',value:'',color:'white',position:0,enabled:!0},initialize(){this.bindChangeEvent('name','name-changed');this.bindChangeEvent('wavelength','wavelength-changed');this.bindChangeEvent('units','units-changed');this.bindChangeEvent('color','color-changed');this.bindChangeEvent('position','position-changed');this.bindChangeEvent('sensorId','sensorId-changed');this.bindChangeEvent('groupId','groupId-changed');this.on('change:enabled',(model,value)=>{this.trigger(value?'enabled':'disabled')})}});__webpack_exports__.a=MeterViewPrefs;MeterViewPrefs.prototype.toJSON=function(){return{name:this.name,units:this.units,value:'',color:this.color,position:this.position,sensorId:'',groupId:this.groupId,enabled:this.enabled}};Object.defineProperties(MeterViewPrefs.prototype,{name:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('name',!0),units:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('units',!0),value:{get(){return this.get('value')},set(val){this.set('value',val);this.trigger('value-changed',val)}},color:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('color',!0),position:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('position',!0),sensorId:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('sensorId',!0),groupId:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('groupId',!0),enabled:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('enabled',!0)});MeterViewPrefs.Collection=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModelCollection__.a.extend({model:MeterViewPrefs})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModelCollection__=__webpack_require__(16),__WEBPACK_IMPORTED_MODULE_2_corelib_viewprefs_ViewPrefsBase__=__webpack_require__(58);const GraphRange=__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.extend({defaults:{min:0,max:1}});Object.defineProperties(GraphRange.prototype,{min:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('min',!0),max:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('max',!0)});const GraphViewPrefs=__WEBPACK_IMPORTED_MODULE_2_corelib_viewprefs_ViewPrefsBase__.a.extend({defaults:{position:0,enabled:!0,title:'',caption:'',baseColumnID:'',leftTraceColIDs:null,baseRange:null,leftRange:null,connectLines:!0,showPoints:!1},initialize(){const baseRange=this.get('baseRange'),leftRange=this.get('leftRange');if(!this.get('leftTraceColIDs')){this.set('leftTraceColIDs',[])}this.set('baseRange',new GraphRange(baseRange));this.set('leftRange',new GraphRange(leftRange));this.bindChangeEvent('position','position-changed');this.on('change:enabled',(model,value)=>{this.trigger(value?'enabled':'disabled')});this.bindChangeEvent('caption','caption-changed');this.bindChangeEvent('baseColumnID','base-column-changed');this.baseRange.on('change:min change:max',()=>{this.trigger('base-range-changed',this.baseRange)});this.leftRange.on('change:min change:max',()=>{this.trigger('left-range-changed',this.leftRange)});this.triggerAppearanceChanged=()=>{setTimeout(()=>{this.trigger('appearance-changed',{lines:this.get('connectLines'),points:this.get('showPoints')})})};let leftTraceChangeDeferred=!1;this.on('left-trace-added left-trace-removed',()=>{if(!leftTraceChangeDeferred){setTimeout(()=>{leftTraceChangeDeferred=!1;this.trigger('left-trace-columns-changed',this.leftTraceColIDs)});leftTraceChangeDeferred=!0}})},addLeftTraceColumn(columnID){const traceIDs=this.get('leftTraceColIDs');if(0>traceIDs.indexOf(columnID)){traceIDs.push(columnID);this.trigger('left-trace-added',columnID)}},removeLeftTraceColumn(columnID){const traceIDs=this.get('leftTraceColIDs'),index=traceIDs.indexOf(columnID);if(0<=index){traceIDs.splice(index,1);this.trigger('left-trace-removed',columnID)}}});__webpack_exports__.a=GraphViewPrefs;Object.defineProperties(GraphViewPrefs.prototype,{position:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('position',!0),enabled:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('enabled',!0),title:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('title',!0),caption:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('caption',!0),baseColumnID:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('baseColumnID',!0),leftTraceColIDs:{get(){return this.get('leftTraceColIDs').slice(0)}},baseRange:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('baseRange'),leftRange:__WEBPACK_IMPORTED_MODULE_0_corelib_system_VSTModel__.a.makePropertyAccessor('leftRange'),connectLines:{get(){return this.get('connectLines')},set(lines){if(void 0===lines){console.log('ATTEMPTING TO SET TO UNDEFINED');return}this.set('connectLines',lines);this.triggerAppearanceChanged()}},showPoints:{get(){return this.get('showPoints')},set(points){if(void 0===points){console.log('ATTEMPTING TO SET TO UNDEFINED');return}this.set('showPoints',points);this.triggerAppearanceChanged()}}});GraphViewPrefs.Collection=__WEBPACK_IMPORTED_MODULE_1_corelib_system_VSTModelCollection__.a.extend({model:GraphViewPrefs})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_analysis_core_VSTAnalysis__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const vstAnalysis={start(){return new Promise((resolve,reject)=>{try{const rpc=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('dc-rpc');resolve(new __WEBPACK_IMPORTED_MODULE_0_corelib_analysis_core_VSTAnalysis__.a(rpc.rpc))}catch(error){reject(error)}})},stop(){return Promise.resolve()}};__webpack_exports__.a=vstAnalysis},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_analysis_core_api_fitType__=__webpack_require__(59);__webpack_exports__.a=class{constructor(rpc){this.rpc=rpc}getVersion(cb){this.rpc.getClient().sendRequest('vsta:get-version',null,response=>{return cb(response.result)})}curveFit(type,xVals,yVals,parameter,cb){if(type===__WEBPACK_IMPORTED_MODULE_0_corelib_analysis_core_api_fitType__.a.LINEAR){return this.linearCurveFit(xVals,yVals,cb)}return this.lmCurveFit(type,xVals,yVals,parameter,cb)}linearCurveFit(xVals,yVals,cb){const params={xVals:xVals.buffer,yVals:yVals.buffer};this.rpc.getClient().sendRequest('vsta:linear-fit',params,cb)}lmCurveFit(type,xVals,yVals,parameter,cb){const params={type,xVals:xVals.buffer,yVals:yVals.buffer,parameter};this.rpc.getClient().sendRequest('vsta:lm-curve-fit',params,cb)}calcFitValues(type,coeffs,xVals,cb){const params={type,coeffs,values:xVals.buffer};this.rpc.getClient().sendRequest('vsta:calc-fit-values',params,cb)}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_analysis_ga_DataAnalysis__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const dataAnalysis={start(){return new Promise((resolve,reject)=>{try{const dataAnalysis=new __WEBPACK_IMPORTED_MODULE_0_corelib_analysis_ga_DataAnalysis__.a(__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a);resolve(dataAnalysis)}catch(error){console.log(`Not using analysis library: ${error}`);reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=dataAnalysis},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_analysis_core_DataAnalysis__=__webpack_require__(164);class DataAnalysis extends __WEBPACK_IMPORTED_MODULE_0_corelib_analysis_core_DataAnalysis__.a{getSupportedFits(){const{i18n}=this;return[{id:'PROPORTIONAL',name:i18n.getText('Proportional','mathematical','curvefit')},{id:'LINEAR',name:i18n.getText('Linear','mathematical','curvefit')},{id:'QUADRATIC',name:i18n.getText('Quadratic','mathematical','curvefit')},{id:'POWER',name:i18n.getText('Power','mathematical','curvefit')},{id:'INVERSE',name:i18n.getText('Inverse','mathematical','curvefit')},{id:'INVERSE_SQUARED',name:i18n.getText('Inverse Squared','mathematical','curvefit')},{id:'NATURAL_EXPONENT',name:i18n.getText('Natural Exponent','mathematical','curvefit')},{id:'NATURAL_LOG',name:i18n.getText('Natural Log','mathematical','curvefit')},{id:'SINE',name:i18n.getText('Sine','mathematical','curvefit')},{id:'COSINE',name:i18n.getText('Cosine','mathematical','curvefit')},{id:'COSINE_SQUARED',name:i18n.getText('Cosine Squared','mathematical','curvefit')}]}}__webpack_exports__.a=DataAnalysis},function(module,__webpack_exports__,__webpack_require__){'use strict';var _NumberisFinite=Number.isFinite,_Mathmin4=Math.min,__WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_2_corelib_analysis_core_api_fitType__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_3_corelib_analysis_core_api_fitMap__=__webpack_require__(165);class DataAnalysis{constructor(services){this.vstAnalysis=services.get('analysis');this.i18n=services.get('i18n');this.dataWorld=services.get('data-world')}static createFit(curveFitType,localizedName){return new function(type,localizedName){this.type=type;this.localizedName=localizedName||type}(curveFitType,localizedName)}getSupportedFits(){const{i18n}=this;return[{id:'PROPORTIONAL',name:i18n.getText('Proportional','mathematical','curvefit'),numOfCoeffs:1},{id:'LINEAR',name:i18n.getText('Linear','mathematical','curvefit'),numOfCoeffs:2},{id:'QUADRATIC',name:i18n.getText('Quadratic','mathematical','curvefit'),numOfCoeffs:3},{id:'POWER',name:i18n.getText('Power','mathematical','curvefit'),numOfCoeffs:2},{id:'INVERSE',name:i18n.getText('Inverse','mathematical','curvefit'),numOfCoeffs:1},{id:'INVERSE_SQUARED',name:i18n.getText('Inverse Squared','mathematical','curvefit'),numOfCoeffs:1},{id:'NATURAL_EXPONENT',name:i18n.getText('Natural Exponent','mathematical','curvefit'),numOfCoeffs:3},{id:'NATURAL_LOG',name:i18n.getText('Natural Log','mathematical','curvefit'),numOfCoeffs:2},{id:'SINE',name:i18n.getText('Sine','mathematical','curvefit'),numOfCoeffs:4},{id:'COSINE',name:i18n.getText('Cosine','mathematical','curvefit'),numOfCoeffs:4},{id:'COSINE_SQUARED',name:i18n.getText('Cosine Squared','mathematical','curvefit'),numOfCoeffs:4}]}calculateFit(xid,yid,range,selectedFitType){const{dataWorld}=this;return new Promise((resolve,reject)=>{const typeEnum=__WEBPACK_IMPORTED_MODULE_2_corelib_analysis_core_api_fitType__.a[selectedFitType],xCol=dataWorld.getColumn(xid),yCol=dataWorld.getColumn(yid),xData=xCol?xCol.getValues():[],yData=yCol?yCol.getValues():[],pointPairs=[];if(0<xData.length&&0<yData.length){const minLength=_Mathmin4(xData.length,yData.length);for(let i=0;i<minLength;++i){const x=xData[i],y=yData[i];if(!isNaN(x)&&!isNaN(y)){if((x>range.min||Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(x,range.min))&&(x<range.max||Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(x,range.max))){pointPairs.push([x,y])}}}}const data=this._makeTypedArrays(pointPairs);this.vstAnalysis.curveFit(typeEnum,data.x,data.y,0,response=>{let result={};if(response.result.hasOwnProperty('errorCode')){result.error=1===response.result.errorCode?this.i18n.getText('Too few points'):this.i18n.getText('Error');if(1!==response.result.errorCode){reject(response.result)}}else{const coeffs=response.result.coeffs;result={type:selectedFitType,fitInfo:__WEBPACK_IMPORTED_MODULE_3_corelib_analysis_core_api_fitMap__.a[selectedFitType](response.result),coeffs}}resolve(result)})})}computeTrace(selectedFitType,coeffs,range,pixelDelta){function getXVals(range,pixelDelta){const length=Math.floor((range.max-range.min)/pixelDelta),xPoints=[];let xVal=range.min;for(let i=0;i<length;++i){xPoints.push(xVal);xVal+=pixelDelta}xPoints.push(range.max);return Float64Array.from(xPoints)}return new Promise((resolve,reject)=>{const typeEnum=__WEBPACK_IMPORTED_MODULE_2_corelib_analysis_core_api_fitType__.a[selectedFitType],xValues=getXVals(range,pixelDelta);this.vstAnalysis.calcFitValues(typeEnum,coeffs,xValues,response=>{if(response.result.hasOwnProperty('errorCode')){reject(new Error(response.result.errorCode))}else{const yValues=new Float64Array(response.result.values),result={type:selectedFitType,points:this._makePoints(xValues,yValues)};resolve(result)}})})}calculateIntegralAndGetData(xid,yid,range){const{dataWorld}=this,yCol=dataWorld.getColumn(yid),xCol=dataWorld.getColumn(xid),rawYData=yCol?yCol.getValues():[],rawXData=xCol?xCol.getValues():[],sortedPointPairs=this._makePoints(rawXData,rawYData).sort((a=[],b=[])=>{return a[0]-b[0]}).filter(p=>_NumberisFinite(p[0])&&_NumberisFinite(p[1])),yData=sortedPointPairs.map(elem=>elem[1]),xData=sortedPointPairs.map(elem=>elem[0]),xDataReversed=xData.slice().reverse(),result={integralValue:0,integralData:[],success:!1},first=xData.findIndex(elem=>Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(elem,range.min)||elem>range.min),lastReversedIndex=xDataReversed.findIndex(elem=>Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(elem,range.max)||elem<range.max),last=xData.length-lastReversedIndex-1;if(-1===first||-1===lastReversedIndex){return result}for(let i=first;i<last;i++){result.integralValue+=(yData[i]+yData[i+1])*(xData[i+1]-xData[i])/2;result.integralData.push([xData[i],yData[i]]);result.success=!0}result.integralData.push([xData[last],yData[last]]);return result}calculateStatistics(xid,yid,range){const{dataWorld}=this,xCol=dataWorld.getColumn(xid),yCol=dataWorld.getColumn(yid),xData=xCol?xCol.getValues():[],yData=yCol?yCol.getValues():[],dataLength=_Mathmin4(xData.length,yData.length),stats={min:{x:Infinity,y:Infinity,index:0},max:{x:-Infinity,y:-Infinity,index:0},mean:0,stdDev:0,points:[]};let valid=!1;for(let i=0;i<dataLength;i++){const x=xData[i],y=yData[i];if(!isNaN(x)&&!isNaN(y)){if((x>range.min||Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(x,range.min))&&(x<range.max||Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(x,range.max))){valid=!0;stats.points.push([x,y]);stats.mean+=y;if(y<stats.min.y){stats.min.x=x;stats.min.y=y;stats.min.index=i}if(y>stats.max.y){stats.max.x=x;stats.max.y=y;stats.max.index=i}}}}if(0<stats.points.length){stats.mean/=stats.points.length;if(1<stats.points.length){stats.points.forEach(point=>{const y=point[1],diff=y-stats.mean;stats.stdDev+=diff*diff});stats.stdDev=Math.sqrt(stats.stdDev/(stats.points.length-1))}}return new Promise((resolve,reject)=>{if(valid){resolve(stats)}else{reject(new Error('Data points for stats calculation are invalid'))}})}computeTangentSlope(xid,yid,xPoint){const{dataWorld}=this,result={success:!1,slope:0,error:null},maxOffset=(7-1)/2,yCol=dataWorld.getColumn(yid),xCol=dataWorld.getColumn(xid),rawYData=yCol?yCol.getValues():[],rawXData=xCol?xCol.getValues():[];let traceData=this._makePoints(rawXData,rawYData).sort((a=[],b=[])=>{return a[0]-b[0]});traceData=traceData.filter(p=>_NumberisFinite(p[0])&&_NumberisFinite(p[1]));traceData=traceData.filter((p,i,arr)=>0===i||p[0]!==arr[--i][0]);const center=traceData.findIndex(pair=>Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(pair[0],xPoint));if(-1!==center&&2<=traceData.length){let totalWeight=0;for(let offset=1;offset<=maxOffset;offset++){const leftIndex=Math.max(center-offset,0),rightIndex=_Mathmin4(center+offset,traceData.length-1),left=traceData[leftIndex],right=traceData[rightIndex],weight=maxOffset-(offset-1),deltaX=right[0]-left[0],deltaY=right[1]-left[1];if(0!==deltaX){result.slope+=weight*(deltaY/deltaX);totalWeight+=weight}else{result.error=new Error(`Cannot compute tangent with a delta-x of zero`);return result}}if(1<=totalWeight){result.slope/=totalWeight;result.success=!0;return result}result.error=new Error(`Not enough data included for valid tangent slope calculation`);return result}result.error=new Error(`Unable to calculate tangent slope. Either unable to find correct base column point or insufficient data.`);return result}_makeTypedArrays(dataPairs){const length=dataPairs.length,arr=[],x=new Float64Array(length),y=new Float64Array(length);let minX=Infinity,maxX=-Infinity;for(let i=0;i<length;++i){x[i]=dataPairs[i][0];y[i]=dataPairs[i][1];if(x[i]<minX){minX=x[i]}if(x[i]>maxX){maxX=x[i]}}arr.push(maxX);return{x,y,baseArray:new Float64Array(arr)}}_makePoints(xArr,yArr){const length=xArr.length,arr=[];console.assert(xArr.length===yArr.length);for(let i=0;i<length;++i){arr.push([xArr[i],yArr[i]])}return arr}}__webpack_exports__.a=DataAnalysis;Object.assign(DataAnalysis.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__=__webpack_require__(11);const sigfig=4,fitMap={PROPORTIONAL(params){return{y:`ax`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},LINEAR(params){return{y:`mx + b`,m:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.slope,sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.intercept,sigfig),r:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.correlation,sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},QUADRATIC(params){return{y:`ax<sup>2</sup> + bx + c`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[1],sigfig),c:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[2],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},POWER(params){return{y:`ax<sup>b</sup>`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[1],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},INVERSE(params){return{y:`a/x`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},INVERSE_SQUARED(params){return{y:`a/x<sup>2</sup>`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},NATURAL_EXPONENT(params){return{y:`a exp(-cx) + b`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),c:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[2],sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[1],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},NATURAL_LOG(params){return{y:`a * ln(bx)`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[1],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},SINE(params){return{y:`a * sin(bx + c) + d`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[1],sigfig),c:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[2],sigfig),d:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[3],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},COSINE(params){return{y:`a * cos(bx + c) + d`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[1],sigfig),c:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[2],sigfig),d:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[3],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}},COSINE_SQUARED(params){return{y:`a * cos(bx + c) ² + d`,a:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[0],sigfig),b:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[1],sigfig),c:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[2],sigfig),d:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.coeffs[3],sigfig),rmse:__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(params.rmse,sigfig)}}};__webpack_exports__.a=fitMap},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_system_rpc__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const RPCMessageChannel=__WEBPACK_IMPORTED_MODULE_0_corelib_system_rpc__.a.RPCMessageChannel,dcRpc={start(){const grpc=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('grpc-service'),listeners=[];let rpcMessageChannel=null;grpc.onmessage=function(data){const message={data};if(rpcMessageChannel){rpcMessageChannel.processMessage(data)}listeners.forEach(listener=>{listener(message)})};rpcMessageChannel=new RPCMessageChannel({postMessage:jsonRPC=>{grpc.postMessage(jsonRPC)},addEventListener:(name,listener)=>{if('message'===name){listeners.push(listener)}}});return Promise.resolve({rpc:rpcMessageChannel,listener:document.createElement('embed')})},stop(){return Promise.resolve()}};__webpack_exports__.a=dcRpc},function(module,__webpack_exports__){'use strict';let RPCErrorCode={PARSE_ERROR:-32700,INVALID_REQUEST:-32600,METHOD_NOT_FOUND:-32601,INVALID_PARAMS:-32602,INTERNAL_ERROR:-32603},_nextRequestId=0;function _emptyCb(){}function RPCMessageClient(msgChannel){this.msgChannel=msgChannel;this.callbacks={}}RPCMessageClient.prototype.sendRequest=function(method,params,callback){if('function'===typeof params){callback=params;params=null}const jsonRPC={id:_nextRequestId++,jsonrpc:'2.0',method,params};this.callbacks[jsonRPC.id]=callback||_emptyCb;this.msgChannel.postMessage(jsonRPC)};RPCMessageClient.prototype.sendNotification=function(method,params){this.msgChannel.postMessage({jsonrpc:'2.0',method,params})};RPCMessageClient.prototype._processResponse=function(response){let callback;if('2.0'!==response.jsonrpc+''){console.warn('Received non JSON-RPC 2.0 compliant message');console.dir(response);return}if('number'===typeof response.id){callback=this.callbacks[response.id];if('function'===typeof callback){callback(response)}else{console.warn(`Unable to find callback for response.id=${response.id}`)}delete this.callbacks[response.id]}else{console.warn(`Received invalid response ID: ${response.id}`)}};function RPCMessageServer(msgChannel,methods){this.msgChannel=msgChannel;this.methods=methods||{}}RPCMessageServer.prototype.addMethods=function(methods,methodContext){if(methods){methodContext=methodContext||this;Object.keys(methods).forEach(key=>{this.methods[key]={};this.methods[key].method=methods[key];this.methods[key].context=methodContext})}else{console.error('Inncorrect params. Expected: methods')}};RPCMessageServer.prototype.sendResponse=function(id,result){this.msgChannel.postMessage({jsonrpc:'2.0',id,result})};RPCMessageServer.prototype.sendErrorResponse=function(id,errCode,message){if('string'!==typeof message){message='Server Error';if(errCode===RPCErrorCode.PARSE_ERROR){message='Parse error'}else if(errCode===RPCErrorCode.INVALID_REQUEST){message='Invalid Request'}else if(errCode===RPCErrorCode.METHOD_NOT_FOUND){message='Method not found'}else if(errCode===RPCErrorCode.INVALID_PARAMS){message='Invalid Parameter(s)'}else if(errCode===RPCErrorCode.INTERNAL_ERROR){message='Internal Error'}}const jsonRPC={jsonrpc:'2.0',id,error:{code:errCode,message}};if('number'===typeof id){this.msgChannel.postMessage(jsonRPC)}else{console.warn('RPC Error (response to notification)');console.dir(jsonRPC)}};RPCMessageServer.prototype._processRequest=function(request){if('2.0'!==request.jsonrpc+''){console.warn('Received non JSON-RPC 2.0 compliant message');console.dir(request);return}try{if('string'===typeof request.method){const handler=this.methods[request.method];if(!handler){throw new Error(`handler not found for method ${request.method}`)}const method=handler.method;if('function'===typeof method){method.call(handler.context,this,request)}else{this.sendErrorResponse(request.id,RPCErrorCode.METHOD_NOT_FOUND,`Method '${request.method}' not found`)}}else{this.sendErrorResponse(null,RPCErrorCode.INVALID_REQUEST)}}catch(err){console.error(`rpc failed when processing request: ${request.method}`);console.error(err)}};function RPCMessageChannel(channel,methods){this.channel=channel;this.methods=methods||{};this.origin=window.location.origin;if('chrome-extension:'===window.location.protocol){this.origin='*'}this.server=new RPCMessageServer(this);this.client=new RPCMessageClient(this)}RPCMessageChannel.prototype.setChannel=function(channel){this.channel=channel};RPCMessageChannel.prototype.registerMethods=function(methods,methodContext){if(methods){this.server.addMethods(methods,methodContext)}else{console.error('Inncorrect paramaters. Expected: methods')}};RPCMessageChannel.prototype.getClient=function(){return this.client};RPCMessageChannel.prototype.getServer=function(){return this.server};RPCMessageChannel.prototype.postMessage=function(msg){if(this.origin){this.channel.postMessage(msg,this.origin)}else{this.channel.postMessage(msg)}};RPCMessageChannel.prototype.processMessage=function(msg){if(msg.method){this.server._processRequest(msg)}else{this.client._processResponse(msg)}};function RPCResponseError(response){Error.call(this,response.error.message||'RPC Response Error');this.response=response;this.error=response.error}RPCResponseError.prototype=Object.create(Error.prototype);RPCMessageChannel.prototype.sendRequest=function(method,params){const client=this.client;return new Promise((resolve,reject)=>{if('undefined'===typeof params){params=null}client.sendRequest(method,params,response=>{if(response.error){reject(new RPCResponseError(response))}else{resolve(response.result)}})})};RPCMessageChannel.prototype.sendNotification=function(){const client=this.client;client.sendNotification(...arguments)};RPCMessageChannel.prototype.sendResponse=function(){const server=this.server;server.sendResponse(...arguments)};__webpack_exports__.a={RPCErrorCode,RPCMessageChannel,RPCMessageClient,RPCMessageServer}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_datacollection_DataCollection__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const dataCollection={start(){return new Promise((resolve,reject)=>{try{const rpc=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('dc-rpc');resolve(new __WEBPACK_IMPORTED_MODULE_0_corelib_datacollection_DataCollection__.a(rpc.rpc))}catch(error){reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=dataCollection},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_http__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_2_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3_corelib_datacollection_DataCollection_handlers__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_4_corelib_datacollection_UsbDeviceDiscovery_chrome__=__webpack_require__(171),__WEBPACK_IMPORTED_MODULE_5_corelib_featureflags_featureFlags__=__webpack_require__(17),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};let timeUnits='s';class DataCollection{constructor(rpc){const i18n=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('i18n');__WEBPACK_IMPORTED_MODULE_3_corelib_datacollection_DataCollection_handlers__.a.registerRPCMethods(rpc,this);this.rpc=rpc;this.usbDiscovery=null;this.mode='time-based';this.isTimeBased=!0;this.defaultTimeParams={};this.defaultEventParams={delta:0.25,name:i18n.getText('Event'),units:'',accumulate:0,average:!1,isDirty:!1};this.defaultDropCountingParams={delta:0.1};this.defaultFullSpectrumParams={};this.defaultPhotogateTimingParams={subMode:'motion',numEvents:8,params:{units:'m',barWidth:0.05}};this.eventBasedParams={};this.paramsLookup={};this._pollDevicesTimerId=null}get timeUnits(){return timeUnits}set timeUnits(units){timeUnits=units;if(this.timeBasedParams){this.timeBasedParams.units=units;this.trigger('time-units-changed',units)}}setDefaultParams(){this.timeBasedParams={};this.timeUnits='s';this.timeBasedParams=_extends({},this.defaultTimeParams);this.timeBasedParams.units=this.timeUnits;this.eventBasedParams=_extends({},this.defaultEventParams);this.paramsLookup={"time-based":this.timeBasedParams,"event-based":this.eventBasedParams,"events-with-entry":this.eventBasedParams,"selected-events":this.eventBasedParams,"drop-counting":this.defaultDropCountingParams,"photogate-timing":this.defaultPhotogateTimingParams,"full-spectrum":this.defaultFullSpectrumParams}}convertTimeUnits(time,units,inverse){const secondConversions={ms:0.001,s:1,min:60,h:3600};if(inverse){return time/secondConversions[units]}return time*secondConversions[units]}echo(params){return this.rpc.sendRequest('echo',params)}cancelKeep(){return this.rpc.sendRequest('keep-cancel')}init(config){config=config||{};if(!config.sensorMap){config.sensorMap=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('sensor-map').getSensorMap()}if(!config.featureFlags){config.featureFlags=Object(__WEBPACK_IMPORTED_MODULE_5_corelib_featureflags_featureFlags__.b)()}const rpc=this.rpc,startupUsbDiscovery=()=>{if(!this.usbDiscovery&&__WEBPACK_IMPORTED_MODULE_4_corelib_datacollection_UsbDeviceDiscovery_chrome__.a){this.usbDiscovery=new __WEBPACK_IMPORTED_MODULE_4_corelib_datacollection_UsbDeviceDiscovery_chrome__.a;this.usbDiscovery.on('device-added',this.deviceAttached.bind(this));this.usbDiscovery.on('device-removed',deviceDesc=>{this.deviceDetached(deviceDesc).then(()=>{this.trigger('device-detached')})});this.usbDiscovery.start()}};return new Promise((resolve,reject)=>{const doInit=firmwareInfo=>{config.firmwareInfo=firmwareInfo;rpc.sendRequest('init',config).then(result=>{startupUsbDiscovery();const poll=()=>{this.rpc.sendRequest('-poll-devices');this._pollDevicesTimerId=setTimeout(poll,2e3)};this._pollDevicesTimerId=setTimeout(poll,0);if(result.defaults){const defaults=result.defaults;this.defaultTimeParams=defaults.defaultTimeBasedParams;this.defaultEventParams.delta=defaults.defaultEventsModeParams.delta;this.setDefaultParams()}if('object'===typeof result.enums){Object.keys(result.enums).forEach(name=>{DataCollection[name]=result.enums[name];this[name]=result.enums[name]})}resolve(result)}).catch(reject)};__WEBPACK_IMPORTED_MODULE_1_corelib_util_http__.a.getJSON('resources/firmware.json').then(doInit).catch(()=>doInit({}))})}uninit(params){return new Promise((_resolve,reject)=>{let resolved=!1;const resolve=(...args)=>{clearTimeout(null);if(!resolved){_resolve(...args)}else{resolved=!0}};clearTimeout(this._pollDevicesTimerId);this._pollDevicesTimerId=null;if(this.usbDiscovery){this.usbDiscovery.stop()}setTimeout(()=>{console.warn('Native module uninit failed to complete, forcing.');resolve()},5e3);this.rpc.sendRequest('uninit',params).then(resolve,reject)})}sessionStarting(params={}){const empty=params.imported||!1;this.setDefaultParams();const i18n=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('i18n'),datasetName=i18n.getText('Data Set 1'),rpcParams={datasetName,empty};if(params.sessionType){rpcParams.sessionType=params.sessionType}if(params.type){rpcParams.collectionMode=params.type}return this.rpc.sendRequest('session-starting',rpcParams)}sessionClosing(){const sensorWorld=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('sensor-world');sensorWorld.resetSensorState();return this.rpc.sendRequest('session-closing')}sessionRestoring(){return this.rpc.sendRequest('session-restoring')}deviceAttached(deviceDesc){return this.rpc.sendRequest('device-attached',deviceDesc)}deviceDetached(deviceDesc){return this.rpc.sendRequest('device-detached',deviceDesc)}getAttachedDevices(params){return this.rpc.sendRequest('get-attached-devices-DEV',params)}setAbsorbanceMode(mode){return this.rpc.sendRequest('set-spectrum-data-mode',{mode})}_setCollectionParams(newParams){if(!newParams){return}const{mode,importing,params={}}=newParams,newMode=mode;let delta,duration;if(this.mode!==newMode){this.collectionModeChanged(newMode,importing)}this.isTimeBased=!0;if(params.hasOwnProperty('delta')){delta=params.delta}if(params.hasOwnProperty('duration')){duration=params.duration}if('photogate-timing'===newMode){this.paramsLookup[newMode]=params}const dcParams=this.paramsLookup[newMode];switch(newMode){case'selected-events':case'events-with-entry':case'drop-counting':case'photogate-timing':this.isTimeBased=!1;break;default:if('undefined'!==typeof delta&&params.hasOwnProperty('duration')&&params.hasOwnProperty('continuous')){dcParams.delta=delta;dcParams.duration=duration;dcParams.continuous=params.continuous;dcParams.triggering=params.triggering;if(params.hasOwnProperty('triggering')){Object.keys(params.triggering).forEach(key=>{this.timeBasedParams.triggering[key]=params.triggering[key]})}}break;}this.collectionParamsChanged()}setCollectionParams(mode,params,importing){if('manual'===mode){return new Promise(resolve=>{resolve({success:!0})})}let request={},units;params=params||{};if(!(params&&params.hasOwnProperty('delta'))){params.delta=this.paramsLookup[mode].delta}if('time-based'===mode){if(params.hasOwnProperty('units')){units=params.units;if(this.timeUnits!==units){this.timeUnits=units}}else{params.units=this.timeUnits}}else if(mode.match('events')){this.eventBasedParams.accumulate=params.accumulate;this.eventBasedParams.average=params.average||!1;if(isNaN(params.accumulate)){this.eventBasedParams.accumulate=0}}return new Promise((resolve,reject)=>{if(importing){this._setCollectionParams({mode,params,importing:!0});resolve({success:!0})}else{request={mode,params};this.rpc.sendRequest('set-collection-params',request).then(result=>{if(result.success){resolve(result)}else{reject(new Error('Invalid Parameter(s)'))}},reject)}})}getCollectionParams(collectMode){collectMode=collectMode||this.mode;return{mode:collectMode,params:this.paramsLookup[collectMode]}}collectionParamsChanged(){const collectMode=this.mode,result={mode:collectMode,params:this.paramsLookup[collectMode]};if(result.params.continuous&&5e-3>result.params.delta){const params=_extends({},result.params);params.continuous=!1;this.setCollectionParams(this.mode,params).then(()=>{})}else{this.trigger('collection-params-changed',result)}}collectionModeChanged(newMode,importing){const prevMode=this.mode;this.mode=newMode;this.trigger('collection-mode-changed',{to:newMode,from:prevMode,importing})}setMeasurementPeriod(){return Promise.reject(new Error('DataCollection:setMeasurementPeriod is no longer used'))}setCollectionMode(mode){return this.rpc.sendRequest('set-collection-mode',mode)}startMeasurements(duration){return new Promise((resolve,_reject)=>{const reject=err=>{console.error(err);this.trigger('start-measurements-failed');_reject()};this.rpc.sendRequest('start-measurements',duration).then(result=>{if(!1===result.success){reject(new Error('failed to start'))}else{resolve()}}).catch(err=>{reject(err)})})}stopMeasurements(params){return new Promise(resolve=>{this.rpc.sendRequest('stop-measurements',params).then(result=>{resolve(result)})})}canConfigure(canConfig){return this.rpc.sendRequest('can-configure',canConfig)}searchForSensors(force){return new Promise((resolve,reject)=>{this.rpc.sendRequest('search-for-sensors',force).then(()=>{setTimeout(()=>{resolve()},1e3)},reject)})}keepData(){const sensorWorld=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('sensor-world'),params=this.eventBasedParams,hasRadiationMonitor=sensorWorld.sensors.find(sensor=>sensorWorld.isRadiationMonitor(sensor.id));if(!hasRadiationMonitor&&0!==params.accumulate&&!params.average){this.eventBasedParams.accumulate=0}return this.rpc.sendRequest('keep-event',{timestamp:Date.now(),accumulate:params.accumulate,average:params.average})}enableLiveVoltage(enable){return this.rpc.sendRequest('enable-live-voltage',enable)}logDebugState(){return this.rpc.sendRequest('log-debug-state')}calculateCalibrationCoeffs(sensorId,pairs){const voltages=new Float64Array(pairs.length),references=new Float64Array(pairs.length);pairs.forEach((pair,i)=>{voltages[i]=pair[0];references[i]=pair[1]});return this.rpc.sendRequest('calculate-calibration-coefficients',{sensorId,voltages:voltages.buffer,references:references.buffer})}setCalibration(sensorId,coeffs){return this.rpc.sendRequest('set-sensor-calibration',{sensorId,coeffs})}setSelectedWavelength(sensorId,wavelength){return this.rpc.sendRequest('set-sensor-selected-wavelength',{sensorId,wavelength:wavelength||0})}zeroSensor(sensorId,curValue){return this.rpc.sendRequest('zero-sensor',{sensorId,value:curValue})}reverseSensor(sensorId){return this.rpc.sendRequest('reverse-sensor',{sensorId})}setSensorModeX4(sensorId,enable){return this.rpc.sendRequest('set-sensor-mode-x4',{sensorId,enable})}setSensorZeroOnCollect(sensorId,enable){return this.rpc.sendRequest('set-sensor-zero-on-collect',{sensorId,enable})}}__webpack_exports__.a=DataCollection;Object.assign(DataCollection.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__){'use strict';var _extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const RPC_METHODS={"settings-changed":function(server,request){this._setCollectionParams(request.params)},"rolling-counter-error":function(server,request){const params=_extends({},request.params),timestamp=params.timestamp,message=`Rolling counter error detected at time: ${timestamp}`;console.error('Device Error:');console.error(message);console.log(timestamp);if('number'===typeof timestamp&&0<=timestamp){this.trigger('device-error',message)}},"device-error":function(server,request){console.error('Device Error:');console.error(request.params);if(request.params.errorCode==={BLE_CONNECTION_ERROR:7}.BLE_CONNECTION_ERROR){this.trigger('ble-communication-error',request.params)}else{this.trigger('device-error',request.params)}},"keep-values-ready":function(server,request){this.trigger('keep-values-ready',request.params)}};__webpack_exports__.a={registerRPCMethods:function(rpc,context){rpc.registerMethods(RPC_METHODS,context)}}},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_require__.d(__webpack_exports__,'a',function(){return UsbDeviceDiscovery});var __WEBPACK_IMPORTED_MODULE_0_events__=__webpack_require__(60),__WEBPACK_IMPORTED_MODULE_0_events___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_events__),__WEBPACK_IMPORTED_MODULE_1_util__=__webpack_require__(61),__WEBPACK_IMPORTED_MODULE_1_util___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_util__);let UsbDeviceDiscovery=null;const BLACKLIST_HID_PIDS=[2,3,4],HID_PIDS=[6,7,9,10,15,16,17,18],VERNIER_VID=2295;function isHidDevice(dev){return dev.vendorId===5538&&dev.productId===115||dev.vendorId===VERNIER_VID&&HID_PIDS.includes(dev.productId)}function isBlacklistHidDevice(dev){return dev.vendorId===VERNIER_VID&&BLACKLIST_HID_PIDS.includes(dev.productId)}const chrome=window.chrome;if(chrome&&chrome.hid){console.assert(chrome&&chrome.hid&&chrome.usb);const ChromeRuntimeError=function(){const lastError=chrome.runtime.lastError;Error.call(this,lastError.message);this.lastError=lastError};ChromeRuntimeError.prototype=Object.create(Error.prototype);ChromeRuntimeError.check=function(reject){const hasError=!!chrome.runtime.lastError;if(hasError){reject(new ChromeRuntimeError)}return!hasError};const checkChromeError=function(reject){return ChromeRuntimeError.check(reject)},formatDevice=function(device){const id='number'===typeof device.deviceId?device.deviceId:device.device;return{deviceId:id,productId:device.productId,vendorId:device.vendorId,_usbId:device.device,_hidId:device.deviceId}},mergeDeviceObjs=function(d1,d2){const device={deviceId:null,productId:d1.productId,vendorId:d1.vendorId,_usbId:'number'===typeof d1._usbId?d1._usbId:d2._usbId,_hidId:'number'===typeof d1._hidId?d1._hidId:d2._hidId},usbId='number'===typeof device._usbId?device._usbId:0,hidId='number'===typeof device._hidId?device._hidId:0;console.assert(0===(4294901760&hidId));console.assert(0===(4294901760&usbId));device.deviceId=4294901760&usbId<<16|65535&hidId;return device};UsbDeviceDiscovery=function(){__WEBPACK_IMPORTED_MODULE_0_events___default.a.EventEmitter.call(this);this.chomeHidAddedListener=null;this.chromeHidRemovedListener=null;this.chromeUsbAddedListener=null;this.chromeUsbRemovedListener=null;this.allDevices=[];this.pending={};this.pendingTimeout=null};__WEBPACK_IMPORTED_MODULE_1_util___default.a.inherits(UsbDeviceDiscovery,__WEBPACK_IMPORTED_MODULE_0_events___default.a.EventEmitter);UsbDeviceDiscovery.prototype.getAttachedDevices=function(){return this.allDevices};UsbDeviceDiscovery.prototype.findDeviceByVidPid=function(vendorId,productId){return this.allDevices.find(d=>d.vendorId===vendorId&&d.productId===productId)};UsbDeviceDiscovery.prototype._deviceAdded=function(device){console.assert(device&&device.productId);this.allDevices.push(device);this.emit('device-added',device)};UsbDeviceDiscovery.prototype._deviceRemoved=function(device,optField){let i;const deviceLen=this.allDevices.length;if('string'!==typeof optField){optField='deviceId'}for(i=0;i<deviceLen;++i){console.dir(this.allDevices[i]);if(this.allDevices[i][optField]===device.deviceId){const removedDevice=this.allDevices.splice(i,1)[0];this.emit('device-removed',removedDevice);break}}};UsbDeviceDiscovery.prototype._deviceAdded_BlacklistHID=function(device){const existingDevice=this.pending[device.productId];this.pending[device.productId]=mergeDeviceObjs(device,existingDevice||{});clearTimeout(this.pendingTimeout);this.pendingTimeout=setTimeout(()=>{const pending=this.pending;this.pending={};Object.keys(pending).forEach(key=>{const device=pending[key];if(null!==device.deviceId){this._deviceAdded(device)}else{this.pending[key]=device;console.error('Failed to resolve merged USB/HID device');console.error(device)}clearTimeout(this.pendingTimeout);this.pendingTimeout=null})},250)};UsbDeviceDiscovery.prototype._deviceRemoved_BlacklistHID=function(device,field){this._deviceRemoved(device,field)};UsbDeviceDiscovery.prototype.start=function(){(function(filters){filters=filters||{};return new Promise((resolve,reject)=>{chrome.hid.getDevices(filters,devices=>{if(checkChromeError(reject)){resolve(devices)}})})})().then(hidDevices=>{hidDevices.forEach(device=>{device=formatDevice(device);if(isBlacklistHidDevice(device)){this._deviceAdded_BlacklistHID(device)}else{this._deviceAdded(device)}})});(function(filters){filters=filters||{};return new Promise((resolve,reject)=>{chrome.usb.getDevices(filters,devices=>{if(checkChromeError(reject)){resolve(devices)}})})})().then(usbDevices=>{usbDevices.forEach(device=>{device=formatDevice(device);if(isBlacklistHidDevice(device)){this._deviceAdded_BlacklistHID(device)}else if(!isHidDevice(device)){this._deviceAdded(device)}})});this._bindEvents()};UsbDeviceDiscovery.prototype._bindEvents=function(){this.chomeHidAddedListener=device=>{device=formatDevice(device);if(isBlacklistHidDevice(device)){this._deviceAdded_BlacklistHID(device)}else{this._deviceAdded(device)}};this.chromeHidRemovedListener=deviceId=>{const device=this.allDevices.find(dev=>dev._hidId===deviceId);if(device){if(isBlacklistHidDevice(device)){this._deviceRemoved_BlacklistHID(device,'_hidId')}else{this._deviceRemoved(device)}}};this.chromeUsbAddedListener=device=>{device=formatDevice(device);if(isBlacklistHidDevice(device)){this._deviceAdded_BlacklistHID(device)}else if(!isHidDevice(device)){this._deviceAdded(device)}};this.chromeUsbRemovedListener=device=>{device=formatDevice(device);if(isBlacklistHidDevice(device)){this._deviceRemoved_BlacklistHID(device,'_usbId')}else if(!isHidDevice(device)){this._deviceRemoved(device)}};chrome.hid.onDeviceAdded.addListener(this.chomeHidAddedListener);chrome.hid.onDeviceRemoved.addListener(this.chromeHidRemovedListener);chrome.usb.onDeviceAdded.addListener(this.chromeUsbAddedListener);chrome.usb.onDeviceRemoved.addListener(this.chromeUsbRemovedListener)};UsbDeviceDiscovery.prototype.stop=function(){chrome.hid.onDeviceAdded.removeListener(this.chomeHidAddedListener);chrome.hid.onDeviceRemoved.removeListener(this.chromeHidRemovedListener);chrome.usb.onDeviceAdded.removeListener(this.chromeUsbAddedListener);chrome.usb.onDeviceRemoved.removeListener(this.chromeUsbRemovedListener);this.chomeHidAddedListener=null;this.chromeHidRemovedListener=null;this.chromeUsbAddedListener=null;this.chromeUsbRemovedListener=null}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2);const dataCollectionInit={start(){const appLifecycle=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('app-lifecycle');return new Promise((resolve,reject)=>{try{const dataCollection=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('data-collection'),config={};try{config.deviceServerPorts=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('device-server-ports')}catch(e){}dataCollection.init(config).then(()=>{appLifecycle.onClose.addPromise(1e4,()=>{console.log('* Unitializing Native Module...');return dataCollection.uninit()});resolve(!0)},error=>{reject(error)})}catch(error){reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=dataCollectionInit},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_system_FileSystem_nodejs__=__webpack_require__(174);const fileSystem={start(){return new Promise((resolve,reject)=>{const fs=new __WEBPACK_IMPORTED_MODULE_0_corelib_system_FileSystem_nodejs__.a;fs.init().then(()=>{resolve(fs)}).catch(reject)})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=fileSystem},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_system_FileSystem_File__=__webpack_require__(175);const{app}=__webpack_require__(10).remote,fs=__webpack_require__(33);class NodeFile extends __WEBPACK_IMPORTED_MODULE_1_corelib_system_FileSystem_File__.a{constructor(fs,entry){super(fs);this.entry=entry}_getModifiedDate(){return this.entry.modifiedDate}_getName(){return this.entry.name}}class FileEntry{constructor(args){this.fd=args.fd;this.name=args.filename;this.isFile=!0;this.filepath=args.filepath;this.modifiedDate=args.modifiedDate;this.file=cb=>{let stats={};if(this.filepath){stats=fs.statSync(this.filepath)}cb(stats)}}}class FileSystem{constructor(){this.appDataDir=`${app.getPath('appData')}/com.vernier.GraphicalAnalysis`}init(){return new Promise((resolve,reject)=>{fs.mkdir(this.appDataDir,err=>{if(err&&'EEXIST'!==err.code){reject(err)}else{resolve()}})})}openFile(filename){const filepath=`${this.appDataDir}/${filename}`;return new Promise((resolve,reject)=>{fs.open(filepath,'a+',(err,fd)=>{if(err){reject(err)}else{const entry=new FileEntry({fd,filename,filepath,modifiedDate:Date.now()}),file=new NodeFile(this,entry);resolve(file)}})})}deleteFile(filename){const filepath=`${this.appDataDir}/${filename}`;return new Promise((resolve,reject)=>{fs.unlink(filepath,err=>{if(err){reject(err)}else{resolve()}})})}closeFile(file){return new Promise((resolve,reject)=>{fs.close(file.entry.fd,err=>{if(err){reject(err)}else{file._close()}resolve()})})}writeFile(file,buffer,offset){offset=offset||0;if(buffer.buffer){buffer=buffer.buffer}const buf=Buffer.from(buffer);return new Promise((resolve,reject)=>{fs.write(file.entry.fd,buf,0,buf.length,offset,err=>{if(err){reject(err)}else{file.entry.modifiedDate=Date.now();resolve()}})})}readFile(file,options){options=options||{};options.offset=options.offset||0;options.length=options.length||-1;return new Promise((resolve,reject)=>{const readFileContents=(offset,length)=>{const arr=new Uint8Array(length),buf=Buffer.from(arr.buffer);fs.read(file.entry.fd,buf,0,length,offset,(err,bytesRead,buffer)=>{if(err){reject(err)}else{if(bytesRead<buffer.byteLength){buffer=buffer.slice(0,bytesRead)}window._b=buffer;resolve(buffer.buffer)}})};if(0>options.length){fs.fstat(file.entry.fd,(err,stats)=>{if(err){reject(err)}else{options.length=stats.size-options.offset;readFileContents(options.offset,options.length)}})}else{readFileContents(options.offset,options.length)}})}}__webpack_exports__.a=FileSystem;Object.assign(FileSystem.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);class File{constructor(fs){this.fs=fs}get modifiedDate(){return this._getModifiedDate()}get name(){return this._getName()}isOpen(){return null!==this.fs}_getModifiedDate(){return 0}_getName(){return''}_close(){if(this.isOpen()){this.fs=null;this.trigger('closed')}}close(){return this.fs.closeFile(this)}write(buffer,offset){return this.fs.writeFile(this,buffer,offset)}read(options){return this.fs.readFile(this,options)}triggerUpdated(){this.trigger('updated')}triggerDeleted(){this.trigger('deleted')}}__webpack_exports__.a=File;__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend(File.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_fileio_FileIO_electron__=__webpack_require__(177);const fileIO={start(){return new Promise(resolve=>{resolve(new __WEBPACK_IMPORTED_MODULE_0_corelib_fileio_FileIO_electron__.a)})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=fileIO},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_fileio_FileIO_js__=__webpack_require__(178),__WEBPACK_IMPORTED_MODULE_1_corelib_services_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2_corelib_fileio_fileio_helpers_js__=__webpack_require__(32);const{app,dialog}=__webpack_require__(10).remote,browserWindow=__webpack_require__(10).remote.getCurrentWindow(),fs=__webpack_require__(33),path=__webpack_require__(53);class FileIOElectron extends __WEBPACK_IMPORTED_MODULE_0_corelib_fileio_FileIO_js__.a{saveFile(options={}){const{manifest,toast,i18n}=this,dataWorld=__WEBPACK_IMPORTED_MODULE_1_corelib_services_js__.a.get('data-world'),defaultType=Object(__WEBPACK_IMPORTED_MODULE_2_corelib_fileio_fileio_helpers_js__.a)(),type=options.type||defaultType,decimal=options.decimal,sessionFile=dataWorld.sessionFile,currentFilepath=sessionFile.userFileMetaData.filepath,isNativeFile=type===defaultType;let suggestedName=options.suggestedName||Object(__WEBPACK_IMPORTED_MODULE_2_corelib_fileio_fileio_helpers_js__.c)(sessionFile.name,isNativeFile);if(options.saveAs){suggestedName=Object(__WEBPACK_IMPORTED_MODULE_2_corelib_fileio_fileio_helpers_js__.e)(suggestedName)}return new Promise((resolve,reject)=>{const exportData=result=>{const{fileEntry,filename,filepath}=result;dataWorld.exportData({type,fileEntry,filename,filepath,decimal}).then(()=>{if(isNativeFile){this.trigger('file-saved',filename)}toast.makeToast(i18n.getText('File saved'));resolve(filename)}).catch(err=>{toast.makeToast(i18n.getText('Save failed'),{duration:1e4});reject(err)})};if(isNativeFile&&!options.saveAs&&!options.suggestedName&&currentFilepath){exportData({filename:sessionFile.name,filepath:currentFilepath})}else{this.showSaveDialog({suggestedName,saveAs:!1,filters:[{name:manifest.appName,extensions:[type]}]}).then(result=>{if(!result.cancelled){exportData(result)}}).catch(err=>{console.error(err)})}})}showOpenDialog(filters,binary){return new Promise((resolve,reject)=>{dialog.showOpenDialog(browserWindow,{filters},fileInfo=>{if(fileInfo===void 0){resolve()}else{const filepath=fileInfo[0];this.readFile(filepath,binary).then(resolve,reject)}})})}showSaveDialog(args){return new Promise(resolve=>{const{suggestedName,filters}=args;dialog.showSaveDialog(browserWindow,{defaultPath:`${app.getPath('documents')}${path.sep}${suggestedName}`,filters},filename=>{if(filename===void 0){resolve({cancelled:!0})}else{const pieces=filename.split(path.sep),nameOnly=pieces[pieces.length-1];resolve({filename:nameOnly,filepath:filename})}})})}readFile(filepath,binary){console.assert(filepath);return new Promise((resolve,reject)=>{const opts={};if(!binary){opts.encoding='utf-8'}fs.readFile(filepath,opts,(err,data)=>{if(err){console.error(err);reject(err)}else{const name=path.basename(filepath),file=new File([data],name,{type:binary?'application/octet-binary':Object(__WEBPACK_IMPORTED_MODULE_2_corelib_fileio_fileio_helpers_js__.b)()});resolve({file,filepath})}})})}writeFile(args){const{blob}=args,filepath=args.filepath;return new Promise((resolve,reject)=>{const reader=new FileReader;reader.onload=()=>{const buffer=Buffer.from(reader.result);fs.truncate(filepath,0,()=>{fs.writeFile(filepath,buffer,err=>{if(err){reject(err.message)}else{resolve(filepath)}})})};reader.readAsArrayBuffer(blob)})}}__webpack_exports__.a=FileIOElectron},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);class FileIO{constructor(){this.manifest=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('app-manifest');this.i18n=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('i18n');this.toast=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('toast')}}__webpack_exports__.a=FileIO;Object.assign(FileIO.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_session_SessionFileManager__=__webpack_require__(180);const sessionFileManager={start(){return new Promise((resolve,reject)=>{try{const sessionFileManagerObj=new __WEBPACK_IMPORTED_MODULE_1_corelib_session_SessionFileManager__.a({filesystem:__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('filesystem')});resolve(sessionFileManagerObj)}catch(err){reject(err)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=sessionFileManager},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2_corelib_session_SessionFile__=__webpack_require__(181),__WEBPACK_IMPORTED_MODULE_3_corelib_util_constants__=__webpack_require__(182);class SessionFileManager{constructor(config){this.fs=config.filesystem;if(!this.fs){throw new Error('No FileSystem specified for SessionFileManager')}}static get createSessionFileName(){const manifest=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('app-manifest');return`Vernier${manifest.appShortName}-autosave`}async createSession(sessionType,sessionConfig){console.assert(this.fs);console.assert(sessionType);if(this.beforeSessionCreate){await this.beforeSessionCreate()}const{fs}=this,i18n=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('i18n');let sessionName=i18n.getText(__WEBPACK_IMPORTED_MODULE_3_corelib_util_constants__.a.DEFAULT_FILE_NAME);if(sessionConfig&&sessionConfig.sessionName){sessionName=sessionConfig.sessionName}const filename=SessionFileManager.createSessionFileName,file=await fs.openFile(filename),sessionFile=new __WEBPACK_IMPORTED_MODULE_2_corelib_session_SessionFile__.a({file,name:sessionName,type:sessionType});this.currentSessionFile=sessionFile;return sessionFile}async closeSession(sessionFile,saveSession){try{if(saveSession){await sessionFile.save();return await sessionFile.close()}return sessionFile.close()}catch(err){return err}}}__webpack_exports__.a=SessionFileManager;Object.assign(SessionFileManager.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2);class SessionFile{constructor(props){this.toc={};this.handlers={};this.file=props.file;this.name=props.name;this.dataWorld=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('data-world');this.fileIO=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('file-io');this.age=0;this.userFileMetaData={filepath:null,age:0}}get sessionFileName(){return this.name}get userFilePath(){return this._userFilePath}set userFilePath(value){this._userFilePath=value}getFileEntryName(){let name=null;if(this.file){name=this.file.entry.name}return name}changeName(sessionName){this.name=sessionName;return this.setName()}setName(){return this.dataWorld.setExperimentName(this.name)}async save(){try{const params=await this.dataWorld.autoSaveData({filename:this.file.entry.name,filepath:this.file.entry.filepath||this.file.entry.fullPath,age:this.age});if(!params.blob&&params.age>this.age){}else if(params.blob&&params.age>this.age){await this.fileIO.writeFile({fileEntry:this.file.entry,blob:params.blob})}}catch(err){console.error(err)}}restore(){this.file.entry.file(file=>{this.dataWorld.importData({file}).catch(err=>{console.error(err)})})}close(){console.assert(this.file);return new Promise((resolve,reject)=>{const _resolve=()=>{this.file=null;resolve()};if(this.file.entry.file){this.file.entry.file(file=>{const needsDelete=0===file.size,fs=this.file.fs,name=this.file.name;this.file.close().then(()=>{if(needsDelete){fs.deleteFile(name).then(()=>{_resolve()},reject)}else{_resolve()}}).catch(reject)})}else{_resolve()}})}updateUserMetaData(filepath,age){if(filepath!==void 0){this.userFileMetaData.filepath=filepath}if(age!==void 0){this.userFileMetaData.age=age}}}__webpack_exports__.a=SessionFile},function(module,__webpack_exports__){'use strict';__webpack_exports__.a={DEFAULT_FILE_NAME:'Untitled'}},function(module,__webpack_exports__,__webpack_require__){'use strict';const powerSaveBlocker=__webpack_require__(10).remote.powerSaveBlocker;function createPowerObject(){let id=0;function releaseKeepAwake(){if(powerSaveBlocker.isStarted(id)){powerSaveBlocker.stop(id);id=0}}return{requestKeepAwake:function(level){const type='system'===level?'prevent-app-suspension':'prevent-display-sleep';releaseKeepAwake();id=powerSaveBlocker.start(type)},releaseKeepAwake}}const power={start(){return Promise.resolve(createPowerObject())},stop(){return Promise.resolve()}};__webpack_exports__.a=power},function(module,__webpack_exports__){'use strict';const appMetadata={start(){return Promise.resolve({installState:()=>'not-implemented-on-electron'})},stop(){return Promise.resolve()}};__webpack_exports__.a=appMetadata},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_events__=__webpack_require__(60),__WEBPACK_IMPORTED_MODULE_0_events___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_events__),__WEBPACK_IMPORTED_MODULE_1_util__=__webpack_require__(61),__WEBPACK_IMPORTED_MODULE_1_util___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_util__);class DSSourceDiscovery{constructor(){this.sources=[];console.warn('electron Data-Share Source discovery: NOT IMPLEMENTED')}getSourceList(){return this.sources}}__WEBPACK_IMPORTED_MODULE_1_util___default.a.inherits(DSSourceDiscovery,__WEBPACK_IMPORTED_MODULE_0_events___default.a.EventEmitter);const dsSourceDiscovery={start(){return Promise.resolve(new DSSourceDiscovery)},stop(){return Promise.resolve()}};__webpack_exports__.a=dsSourceDiscovery},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_ally_js__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_0_ally_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ally_js__);class Ally{constructor(){this.handler=null;this.filter=null}maintainDisabled(filter){return __WEBPACK_IMPORTED_MODULE_0_ally_js___default.a.maintain.disabled({filter})}disable(filter){this.disengage();this.handler=__WEBPACK_IMPORTED_MODULE_0_ally_js___default.a.maintain.disabled({filter});this.filter=filter}disengage(){if(this.handler){this.handler.disengage()}}getFilter(){return this.filter}}const ally={start(){return Promise.resolve(new Ally)},stop(){return Promise.resolve()}};__webpack_exports__.a=ally},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_enabledcontent_enabledContent_js__=__webpack_require__(188);const enabledContent={start(){return new Promise((accept)=>{const currenEnabledContent=__WEBPACK_IMPORTED_MODULE_0_corelib_enabledcontent_enabledContent_js__.a.create();accept(currenEnabledContent)})},stop(){return new Promise((accept)=>{accept('Enabled Content service stopped.')})}};__webpack_exports__.a=enabledContent},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_ally_js__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_0_ally_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ally_js__);__webpack_exports__.a={create:function(){const noop=()=>{},restrictions=[];let handle=null;const currentTopRestriction=()=>0<restrictions.length?restrictions[restrictions.length-1]:null,refreshFocus=()=>{if(handle){handle.disengage()}handle=null;const topRestriction=currentTopRestriction();if(!topRestriction){return}const{filters,extensions}=topRestriction,totalEls=filters.slice();extensions.forEach(extension=>{extension.filters.forEach(filter=>totalEls.push(filter))});handle=__WEBPACK_IMPORTED_MODULE_0_ally_js___default.a.maintain.disabled({filter:totalEls})},removeRestriction=restriction=>{const restrictionIndex=restrictions.indexOf(restriction);if(-1!==restrictionIndex){restrictions.splice(restrictionIndex)}refreshFocus()},addRestrictionContext=restriction=>{restrictions.push(restriction);refreshFocus()},getFilterList=elements=>{const collectedEls=[],forEachElement=(nodes,fn)=>{for(const node of nodes){if(node.nodeType===Node.ELEMENT_NODE){fn(node)}}},getShadowRoots=el=>{const root=el.shadowRoot;if(root){collectedEls.push(root);getShadowRoots(root)}forEachElement(el.children,getShadowRoots)};forEachElement(elements,el=>{collectedEls.push(el);getShadowRoots(el)});return collectedEls},createRestriction=(name,targets=[])=>{const extensions=[],filters=getFilterList(targets),restriction={name,targets,filters,extensions,addExtension:extension=>{extensions.push(extension);refreshFocus()},removeExtension:extension=>{const extensionIndex=extensions.indexOf(extension);if(-1!==extensionIndex){extensions.splice(extensionIndex)}},remove:()=>{restriction.filters=null;restriction.extensions=null;restriction.refreshFocus=noop;restriction.addExtension=noop;restriction.removeExtension=noop;restriction.remove=noop;removeRestriction(restriction)}};addRestrictionContext(restriction);return restriction},createExtension=(restriction,name,targets)=>{const filters=getFilterList(targets),extensionContext={name,targets,filters,remove:()=>{restriction.removeExtension(extensionContext);extensionContext.filters=null;extensionContext.remove=noop}};restriction.addExtension(extensionContext);return extensionContext};return{getDebugInfo:()=>restrictions.map(({name,targets,filters,extensions})=>({name,targets,filters,extensions:extensions.map(({name,targets,filters})=>({name,targets,filters}))})),restrict:(name,filters)=>{const context=createRestriction(name,filters);return()=>{context.remove()}},extend:(name,filters)=>{const currentRestriction=currentTopRestriction();if(!currentRestriction){return noop}const context=createExtension(currentRestriction,name,filters);return()=>{context.remove()}}}}}},function(module,__webpack_exports__){'use strict';const usb={start(){return Promise.resolve({get hasUSB(){return!0}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=usb},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_popovermanager_PopoverManager__=__webpack_require__(191),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const popoverManager={start(){return new Promise((resolve,reject)=>{try{const popoverManagerObj=new __WEBPACK_IMPORTED_MODULE_0_corelib_popovermanager_PopoverManager__.a({services:__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a});resolve(popoverManagerObj)}catch(error){reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=popoverManager},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_popovermanager_api_PopoverManagerApi_js__=__webpack_require__(192),__WEBPACK_IMPORTED_MODULE_1_corelib_util_executePromise__=__webpack_require__(23);const priv=Symbol('priv');__webpack_exports__.a=class{constructor({services}={}){this[priv]={popoverManagerApi:new __WEBPACK_IMPORTED_MODULE_0_corelib_popovermanager_api_PopoverManagerApi_js__.a({services})}}presentPopover(componentName,{title,anchor,orientation,controllerType,controllerParams,outsideTapEvents,properties,events}={}){return Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_executePromise__.a)(()=>{const{popoverManagerApi}=this[priv],header=title===void 0?void 0:{title};return popoverManagerApi.present(componentName,{popover:{anchor,orientation,header},controllerType,controllerParams,outsideTapEvents,properties,events})})}presentPopoverList({title,anchor,orientation,items}={}){return Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_executePromise__.a)(()=>{const cachedIDs={},assertCorrectMenuItem=({id,title})=>{if('string'!==typeof id||0===id.length){throw Error('item options in PopoverManager.presentPopoverList() config must have a string id.')}if(cachedIDs[id]){throw Error(`id '${id}' is duplicated in PopoverManager.presentPopoverList() config. Must be unique.`)}cachedIDs[id]=!0;if('string'!==typeof title||0===title.length){throw Error(`menu item option with id ${id} in PopoverManager.presentPopoverList() is either missing a title property, or the title needs a non empty string.`)}return!0},selectItems=itemArray=>itemArray.filter(item=>Array.isArray(item)||assertCorrectMenuItem(item)&&(item.include===void 0||item.include)).map(item=>{return Array.isArray(item)?selectItems(item):item}),toHandlers=(result,item)=>{if(Array.isArray(item)){return item.reduce(toHandlers,result)}result[item.id]=args=>{if('function'===typeof item.selectAction){return item.selectAction()}else if('function'===typeof item.checkedChanged){return item.checkedChanged(args)}else if('function'===typeof item.selectionChanged){return item.selectionChanged(args)}return!1};return result},toMenuItems=item=>{if(Array.isArray(item)){return item.map(toMenuItems)}const{id,title,type,className,checked,incompatibleSwitch,icon,options,selection,disabled}=item;return{id,title,type,className,checked,incompatibleSwitch,icon,options,selection,disabled}},selectedItems=selectItems(items),handlers=selectedItems.reduce(toHandlers,{}),menuItems=selectedItems.map(toMenuItems).filter(item=>Array.isArray(item)&&0<item.length||!Array.isArray(item));return this.presentPopover('vst-ui-listbox',{anchor,orientation,properties:{view:{heading:title,items:menuItems,icons:!1}},events:({completeWorkflow})=>({"list-item-clicked":event=>{completeWorkflow(event.detail)},"list-switch-changed":event=>{const[id,checked]=event.detail;handlers[id](checked)},"list-item-option-selected":event=>{const[id,value]=event.detail;handlers[id](value)}})}).then(result=>{if(result&&result.cancelled){return result}return handlers[result]()})})}presentDialog(componentName,{title,controllerType,controllerParams,preventCancel,preventCancelFromScreen,properties,events}={}){return Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_executePromise__.a)(()=>{const{popoverManagerApi}=this[priv],header=title===void 0?void 0:{title};return popoverManagerApi.present(componentName,{popover:{type:'dialog',header},controllerType,controllerParams,preventCancel,preventCancelFromScreen,properties,events})})}closeAll(){const{popoverManagerApi}=this[priv];popoverManagerApi.destroyAll()}closeLast(){const{popoverManagerApi}=this[priv];popoverManagerApi.popPopover()}hasPopovers(){const{popoverManagerApi}=this[priv];return popoverManagerApi.hasPopovers()}hasDialogs(){const{popoverManagerApi}=this[priv];return popoverManagerApi.hasDialogs()}getPopoverSelectorDebugInfo(){const{popoverManagerApi}=this[priv];return popoverManagerApi.getPopoverSelectorDebugInfo()}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_notch__=__webpack_require__(193);class PopoverManagerApi{constructor({services}={}){this.popovers=[];this.anchoredPopovers=[];this.enabledContent=services.get('enabled-content');this.configuration=services.get('configuration');this.toast=services.get('toast');window.addEventListener('resize',()=>{for(let i=0;i<this.popovers.length;++i){PopoverManagerApi.positionPopover(this.popovers[i])}})}create(childEl,config){const{enabledContent,toast}=this;console.assert(childEl);if(!this._popoverWrapper){let wrapper=document.querySelector('#app').shadowRoot.querySelector('#popover_wrapper');this._popoverParent=document.querySelector('#app');if(!wrapper){wrapper=document.createElement('div');wrapper.id='popover_wrapper';document.body.appendChild(wrapper);this._popoverParent=document.body}this._popoverWrapper=wrapper}config=config||{};const elName=childEl;childEl=document.createElement(childEl);if(!customElements.get(childEl.tagName.toLowerCase())){throw Error(`Possible issue with childEl import verify spelling and that this import exists in vst-gaw-elements.html: ${elName}`)}const popoverConfig=config.popover||{},popoverEl=document.createElement('vst-core-popover');if(config.controllerParams){childEl.controllerParams=config.controllerParams}if(config.controllerType){childEl.controllerType=config.controllerType}if(config.preventCancel){popoverEl.canClose=!1}if(config.preventCancelFromScreen){popoverEl.canCloseFromScreen=!1}if(config.properties){const properties=config.properties;Object.keys(properties).forEach(propertyKey=>{if(childEl.set){childEl.set(propertyKey,properties[propertyKey])}})}popoverEl.setPopoverChild(childEl,popoverConfig);this._popoverWrapper.appendChild(popoverEl);popoverEl.shadowRoot.querySelector('#popover').style.visibility='hidden';popoverEl.shadowRoot.querySelector('#pointer').style.visibility='hidden';const id=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)(),popoverObj={id,popoverEl,childEl,config,onRemove:()=>{},remove:()=>{popoverObj.onRemove();popoverEl.remove()}};this.popovers.push(popoverObj);this._popoverWrapper.dispatchEvent(new CustomEvent('popover-creation',{bubbles:!0,composed:!0,detail:{id}}));setTimeout(()=>{PopoverManagerApi.positionPopover(popoverObj);popoverEl.shadowRoot.querySelector('#popover').style.visibility='';popoverEl.shadowRoot.querySelector('#pointer').style.visibility='';const{outsideTapEvents={}}=config,clickEvent='string'===typeof outsideTapEvents.click?outsideTapEvents.click:'click',touchendEvent='string'===typeof outsideTapEvents.touchend?outsideTapEvents.touchend:'touchend';if('dialog'!==config.popover.type){const bindClickCheck=eventName=>{let clickedInPopover=!1;const listener=()=>{clickedInPopover=!0;setTimeout(()=>{clickedInPopover=!1})};childEl.addEventListener(eventName,listener,!0);popoverEl.bind(document.querySelector('#app'),eventName,()=>{if(!clickedInPopover){popoverEl.dispatchEvent(new CustomEvent('close'));childEl.removeEventListener(eventName,listener,!0)}clickedInPopover=!1})};bindClickCheck(touchendEvent);const bindAfter='ios'===this.configuration.platform.os.family.toLowerCase()?500:0;setTimeout(()=>{bindClickCheck(clickEvent)},bindAfter)}const elsToExclude=[popoverEl,toast.element],chromeBarEl=document.querySelector('vst-core-chrome-bar');if(chromeBarEl){elsToExclude.push(chromeBarEl)}const removeHandler='dialog'===config.popover.type?enabledContent.restrict(elName,elsToExclude):enabledContent.extend(elName,elsToExclude);popoverObj.onRemove=()=>removeHandler()});return popoverEl}present(componentName,{popover,controllerType,controllerParams,preventCancel,preventCancelFromScreen,outsideTapEvents,properties,events}){const{anchoredPopovers}=this;return new Promise((resolve,reject)=>{let popoverEl;const once=fun=>{let current=fun;return(...args)=>{current(...args);current=()=>{}}},currentAnchor=anchoredPopover=>anchoredPopover.anchor===popover.anchor,cleanupOnce=once(()=>{if(popoverEl){this.destroy(popoverEl)}const index=anchoredPopovers.findIndex(currentAnchor);if(-1!==index){anchoredPopovers.splice(index,1)}}),rejectOnce=once(err=>{cleanupOnce();reject(err)}),resolveOnce=once(args=>{cleanupOnce();resolve(args)}),resolveCancelOnce=once(reason=>resolveOnce({cancelled:!0,reason,message:`${componentName} popover cancelled. Reason: ${reason}.`}));try{if('dialog'!==popover.type&&popover.anchor){const previousAnchoredPopover=anchoredPopovers.find(currentAnchor);if(previousAnchoredPopover){previousAnchoredPopover.close();resolveCancelOnce('toggle-existing-popover');return}const anchoredPopover={anchor:popover.anchor,close:()=>{resolveCancelOnce('popover-toggled-close')}};anchoredPopovers.push(anchoredPopover)}popoverEl=this.create(componentName,{popover,preventCancel,preventCancelFromScreen,controllerType,controllerParams,outsideTapEvents,properties},!1);const componentEl=popoverEl.querySelector(componentName),selectedEvents='function'===typeof events?events({component:componentEl,completeWorkflow:arg=>{componentEl.dispatchEvent(new CustomEvent('complete-workflow',{detail:arg}))},cancelWorkflow:()=>{componentEl.dispatchEvent(new CustomEvent('cancel-workflow'))},failWorkflow:arg=>{componentEl.dispatchEvent(new CustomEvent('fail-workflow',{detail:arg}))}}):events;if(selectedEvents){Object.keys(selectedEvents).forEach(eventName=>{popoverEl.bind(componentEl,eventName,(...args)=>{selectedEvents[eventName](...args)})})}popoverEl.bind(componentEl,'complete-workflow',args=>resolveOnce(args.detail));popoverEl.bind(componentEl,'fail-workflow',args=>rejectOnce(args.detail));popoverEl.bind(componentEl,'cancel-workflow',()=>resolveCancelOnce('workflow-cancelled'));popoverEl.bind('close',()=>resolveCancelOnce('popover-closed'))}catch(e){rejectOnce(e)}})}destroy(popoverEl){try{const index=this.popovers.findIndex(popoverObj=>popoverObj.popoverEl===popoverEl),popoverObj=this.popovers.splice(index,1)[0],id=popoverObj.id;popoverObj.remove();this._popoverWrapper.dispatchEvent(new CustomEvent('popover-removal',{bubbles:!0,composed:!0,detail:{id}}))}catch(error){console.warn(error)}}destroyAll(){this.popovers.map(obj=>obj.popoverEl).forEach(popoverEl=>popoverEl.close());this.popovers=[]}popPopover(){const popoverObj=this.popovers.slice(-1)[0];return popoverObj?this.destroy(popoverObj.popoverEl):console.warn('no popovers to pop')}hasPopovers(){return 0<this.popovers.length}hasDialogs(){let hasDialog=!1;if(this.hasPopovers()){this.popovers.forEach(popover=>{if('dialog'===popover.config.popover.type){hasDialog=!0}})}return hasDialog}getPopoverSelectorDebugInfo(){const{popoverSelector}=this;return popoverSelector.getDebugInfo()}static positionPopover(popObj){const config=popObj.config.popover,popoverEl=popObj.popoverEl,childEl=popObj.childEl,type=config.type||'popover',wrapper=popObj.popoverEl.shadowRoot.querySelector('#popover'),pointer=popObj.popoverEl.shadowRoot.querySelector('#pointer');let orientation='CENTER';if('dialog'===type){popoverEl.classList.add('dialog')}else{wrapper.classList.add(type);if('contextmenu'===type){popObj.popoverEl.addEventListener('contextmenu',e=>{popoverEl.cancelClicked();e.preventDefault()})}if(config.orientation){orientation=config.orientation.toUpperCase()}const windowWidth=document.documentElement.clientWidth,windowHeight=document.documentElement.clientHeight,anchor=config.anchor||document.body,anchorRect=anchor.getBoundingClientRect(),anchorCenter=anchorRect.width/2,anchorMiddle=anchorRect.height/2;let childRect=childEl.getBoundingClientRect();const childCenter=childRect.width/2,childMiddle=childRect.height/2,padding=8;let verifyOrientation;const setXY=(orientation,finished)=>{const position={};switch(orientation){case'TOP':position.pointerX=anchorRect.left+anchorCenter-padding;position.pointerY=anchorRect.top-padding;position.x=anchorRect.left+anchorCenter-childCenter;position.y=anchorRect.top-childRect.height-(padding+1);break;case'BOTTOM':position.pointerX=anchorRect.left+anchorCenter-padding;position.pointerY=anchorRect.bottom+1;position.x=anchorRect.left+anchorCenter-childCenter;position.y=anchorRect.bottom+padding-1;break;case'RIGHT':position.pointerX=anchorRect.right;position.pointerY=anchorRect.top+anchorMiddle-padding;position.x=anchorRect.right+padding;position.y=anchorRect.top-childMiddle+anchorMiddle;break;case'LEFT':position.pointerX=anchorRect.left-padding;position.pointerY=anchorRect.top+anchorMiddle-padding;position.x=anchorRect.left-childRect.width-padding;position.y=anchorRect.top-childMiddle+anchorMiddle;break;case'CENTER':position.pointerX=-(2*padding);position.pointerY=-(2*padding);position.x=windowWidth/2-childCenter;position.y=windowHeight/2-childMiddle;break;default:console.warn('no popover orientation hint - use TOP, LEFT, RIGHT, BOTTOM, or CENTER');break;}if('contextmenu'===type){position.x=config.extras.x;position.y=config.extras.y;pointer.style.display='none'}wrapper.style.left=`${position.x}px`;wrapper.style.top=`${position.y}px`;pointer.style.left=`${position.pointerX}px`;pointer.style.top=`${position.pointerY}px`;if(!finished){verifyOrientation()}};verifyOrientation=()=>{childRect=childEl.getBoundingClientRect();if(windowWidth<childRect.width){orientation='CENTER';setXY(orientation,!0)}else if('LEFT'===orientation&&0>childRect.left){if(windowWidth-anchorRect.right<childRect.width){orientation='CENTER'}else{orientation='RIGHT'}setXY(orientation,!0)}else if('RIGHT'===orientation&&childRect.right>=windowWidth){if(anchorRect.left<childRect.width){orientation='CENTER'}else{orientation='LEFT'}setXY(orientation,!0)}};setXY(orientation);wrapper.classList.add(orientation.toLowerCase());pointer.classList.add(orientation.toLowerCase());const popoverBounds=wrapper.getBoundingClientRect(),gutter=4;if(0>=popoverBounds.top){wrapper.style.top=`${gutter}px`}if(popoverBounds.right>=windowWidth){wrapper.style.left=`${windowWidth-popoverBounds.width-gutter}px`}if(0>=popoverBounds.left){wrapper.style.left=`${gutter}px`}if(popoverBounds.bottom>=windowHeight){wrapper.style.top=`${windowHeight-popoverBounds.height-gutter}px`}const notchWidth=Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_notch__.a)();if(parseFloat(wrapper.style.left)<=gutter+notchWidth){wrapper.style.left=`calc(${notchWidth}px + ${wrapper.style.left})`}if(windowWidth-popoverBounds.width-parseFloat(wrapper.style.left)<=gutter+notchWidth){wrapper.style.left=`calc(${windowWidth-popoverBounds.width-gutter}px - ${notchWidth}px)`}}}}__webpack_exports__.a=PopoverManagerApi},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(){let notchWidth=0;if(CSS.supports('padding-left: constant(safe-area-inset-left)')||CSS.supports('padding-left: env(safe-area-inset-left)')){const div=document.createElement('div');div.style.paddingLeft='constant(safe-area-inset-left)';div.style.paddingLeft='env(safe-area-inset-left)';document.body.appendChild(div);const calculatedPadding=parseInt(window.getComputedStyle(div).paddingLeft);document.body.removeChild(div);if(0<calculatedPadding){notchWidth=calculatedPadding}}return notchWidth}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_viewmanager_ViewManager__=__webpack_require__(195),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const viewManager={start(){return new Promise((resolve,reject)=>{try{const viewManagerObj=new __WEBPACK_IMPORTED_MODULE_0_corelib_viewmanager_ViewManager__.a({services:__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a});resolve(viewManagerObj)}catch(error){reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=viewManager},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2_corelib_util_executePromise__=__webpack_require__(23);const priv=Symbol('priv');class ViewManager{constructor(){this[priv]={_ignoreViewChange:!1};this.dataWorld=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('data-world');this.configuration=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('configuration');this.sensorWorld=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('sensor-world');this.popoverManager=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('popover-manager');this.i18n=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('i18n');this.manifest=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('app-manifest');this.dataWorld.on('preparing-session',()=>{this.ignoreViewChange=!1});this.sensorWorld.on('sensor-removed',()=>{if(this.dataWorld.isSessionEmpty){this.ignoreViewChange=!1}});this.dataWorld.on('view-changed',params=>{this.restoreFromPages(params)});this.ignoreViewChange=!1}set ignoreViewChange(value){this[priv]._ignoreViewChange=value}get ignoreViewChange(){return this[priv]._ignoreViewChange}setViewMap(viewMap){this.viewMap=viewMap;this.getCurrentView=()=>{return null};this.setCurrentView=()=>{}}setEnableUpdates(enableUpdates){this.trigger('set-enable-updates',enableUpdates)}changeView(newViewName){if(!this.ignoreViewChange){const oldViewName=this.getCurrentView();let oldViews=[],newViews=[],viewNames=[],newViewsLength;const isSafeToExit=oldView=>{const newViewIsGraphView=!!newViewName.match('graph'),oldViewIsGraphView=oldView.getAttribute('view-name').match('graph');let isSafe=!0;if(oldViewIsGraphView&&newViewIsGraphView){isSafe=!1}return isSafe},viewParser=viewName=>{const viewsArray=[];if(viewName.match('-')){viewNames=viewName.split('-')}else{viewNames=[viewName]}viewNames.forEach(name=>{const view=this.viewMap[name];view.setAttribute('view-name',name);if('undefined'===typeof view){console.warn(`Invalid view layout: ${name}`)}else{viewsArray.push(view)}});return viewsArray},performViewChange=(view,i)=>{let config={};view.enteringView();if(1<newViewsLength){config={view:viewNames[i],multiView:!0}}this.prepareView(viewNames[i]).then(()=>{if(0<oldViews.length&&!newViewName.match(oldViewName)){oldViews.forEach(oldView=>{if(view!==oldView&&isSafeToExit(oldView)){oldView.exitedView()}})}this.setCurrentView(newViewName);view.enteredView(config)})};if(oldViewName){oldViews=viewParser(oldViewName)}newViews=viewParser(newViewName);newViewsLength=newViews.length;for(let i=0;i<newViewsLength;++i){if(oldViewName!==newViewName||!oldViewName){performViewChange(newViews[i],i)}}this.trigger('view-changed',newViewName)}}startNewSession(sessionType,sessionConfig){const{dataWorld,configuration}=this;sessionType=sessionType||'DataCollection';sessionConfig=sessionConfig||{};const checkCancel=fn=>result=>{if(result&&result.cancelled){return result}return fn(result)};return Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_executePromise__.a)(()=>{if(dataWorld.isCollecting&&'DataCollection'===dataWorld.sessionType){return this.confirmNewSession()}}).then(checkCancel(()=>{return dataWorld.startNewSession(sessionType,sessionConfig)})).then(checkCancel(()=>{this.cleanupGtmViews();if('ManualEntry'===dataWorld.sessionType&&!sessionConfig.imported&&'va'!==configuration.app){this.changeView('graph_1-table')}}))}closeGraphMode(){this.trigger('close-graph-mode')}beginKeepPoint(){this.trigger('begin-keep-point')}confirmNewSession(){const{popoverManager,i18n,dataWorld}=this,appName=this.manifest.appName;return popoverManager.presentDialog('vst-core-message-box',{title:i18n.getText('Start New Experiment?'),properties:{view:{body:i18n.getText(`${appName} is currently collecting data. Do you want to stop collection and start a new experiment?`),buttons:[{id:'cancel',message:i18n.getText('Cancel'),style:'btn-tertiary'},{id:'confirm',message:i18n.getText('New Experiment')}]}},events:({completeWorkflow,cancelWorkflow})=>({"button-clicked":e=>{const id=e.detail.msg;if('confirm'===id){dataWorld.stopCollection();completeWorkflow()}else if('cancel'===id){cancelWorkflow()}}})})}promptForSave(filename=this.i18n.getText('current file')){const{popoverManager,i18n,dataWorld}=this;return new Promise((resolve,reject)=>{dataWorld.documentAge().then(documentAge=>{if(documentAge>dataWorld.userSessionAge&&!dataWorld.isSessionEmpty){popoverManager.presentDialog('vst-core-message-box',{title:i18n.getText(`Save Changes?`),properties:{view:{body:i18n.getText(`Do you want to save the changes made to ${filename}? Your changes will be lost if you don't save them.`),buttons:[{id:'dont_save',message:i18n.getText(`Don't Save`),style:'btn-error btn-left'},{id:'cancel',message:i18n.getText('Cancel'),style:'btn-tertiary'},{id:'save',message:i18n.getText('Save'),style:'margin-right-0'}]}},events:({completeWorkflow,cancelWorkflow})=>({"button-clicked":e=>{const id=e.detail.msg;if('save'===id){completeWorkflow();resolve({save:!0})}else if('cancel'===id){cancelWorkflow();resolve({cancelled:!0})}else if('dont_save'===id){completeWorkflow();resolve({save:!1})}}})})}else{resolve({save:!1})}},reject)})}cleanupGtmViews(){const currentView=this.getCurrentView();this.trigger('clean-up-gtm-views',currentView)}restoreFromPages(pages={}){const graphs=pages.graphs;let nGraphs=0;graphs.forEach(graph=>{if(graph.visible){nGraphs++}});const meters=pages.meters;let nMeters=0;meters.forEach(meter=>{if(meter.visible){nMeters++}});const tables=pages.tables;let nTables=0;tables.forEach(table=>{if(table.visible){nTables++}});const videos=pages.videos,nVideos=videos.length;let viewName='graph_1';if(0<nVideos){viewName='video'}else if(0<nMeters&&0<nTables&&0<nGraphs){viewName='graph_1-table-meter'}else if(0<nGraphs){if(0<nTables){viewName='graph_1-table'}else{viewName=`graph_${nGraphs}`}}else if(0<nMeters){viewName='meter'}else if(0<nTables){viewName='table'}else{console.warn(`Unknown view configuration: ${nGraphs} graphs, ${nMeters} meters, ${nTables} tables`)}this.changeView(viewName)}prepareView(){return new Promise(resolve=>{resolve()})}}__webpack_exports__.a=ViewManager;Object.assign(ViewManager.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_DeviceManager__=__webpack_require__(197),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const deviceManager={start(){return new Promise((resolve,reject)=>{try{const rpc=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('dc-rpc');resolve(new __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_DeviceManager__.a({rpc:rpc.rpc}))}catch(error){reject(error)}})},stop(){return new Promise(accept=>{accept()})}};__webpack_exports__.a=deviceManager},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_devicemanager_DeviceManager_handlers__=__webpack_require__(198);const priv=__WEBPACK_IMPORTED_MODULE_1_corelib_devicemanager_DeviceManager_handlers__.a.priv;class DeviceManager{constructor({rpc=null}={}){this[priv]={rpc,usbDeviceList:[],bluetoothDeviceList:[],bluetoothAvailable:!0,bluetoothIsDiscovering:!1};console.assert(rpc);__WEBPACK_IMPORTED_MODULE_1_corelib_devicemanager_DeviceManager_handlers__.a.registerRPCMethods(rpc,this)}get usbDeviceList(){return this[priv].usbDeviceList.slice()}get bluetoothDeviceList(){return this[priv].bluetoothDeviceList.slice()}get bluetoothAvailable(){return this[priv].bluetoothAvailable}get bluetoothIsDiscovering(){return this[priv].bluetoothIsDiscovering}get hasConnectedDevices(){return 0<this.getConnectedDevices().length}get connectedBluetoothDevices(){const connectedDevices=[];this[priv].bluetoothDeviceList.forEach(device=>{if(device.connected){connectedDevices.push(device)}});return connectedDevices}get connectedUsbDevices(){const connectedDevices=[];this[priv].usbDeviceList.forEach(device=>{if(device.connected){connectedDevices.push(device)}});return connectedDevices}getDevice(deviceId){let found;const allDeviceList=this[priv].usbDeviceList.concat(this[priv].bluetoothDeviceList);allDeviceList.forEach(device=>{if(device.id===deviceId){found=device}});return found}getConnectedDevices(){const connectedDevices=[],allDeviceList=this[priv].usbDeviceList.concat(this[priv].bluetoothDeviceList);allDeviceList.forEach(device=>{if(device.connected){connectedDevices.push(device)}});return connectedDevices}startBluetoothDiscovery(){this[priv].bluetoothIsDiscovering=!0;return this[priv].rpc.sendRequest('start-bluetooth-discovery')}stopBluetoothDiscovery(){this[priv].bluetoothIsDiscovering=!1;return this[priv].rpc.sendRequest('stop-bluetooth-discovery')}discoverLabQuestStream(){return this[priv].rpc.sendRequest('discover-labquest-stream')}connectBluetoothDevice(device){return this[priv].rpc.sendRequest('connect-bluetooth-device',device.id)}disconnectBluetoothDevice(device){return this[priv].rpc.sendRequest('disconnect-bluetooth-device',device.id)}enableDeviceChannel(deviceId,channelId,enable){return this[priv].rpc.sendRequest('enable-device-channel',{deviceId,channelId,enable})}identifyDevice(deviceId){return this[priv].rpc.sendRequest('identify-device',deviceId)}getGdxSensorMap(deviceId){return this[priv].rpc.sendRequest('get-gdxdevice-map',deviceId)}startCalibrationProcess(deviceId,processId){return this[priv].rpc.sendRequest('start-calibration-process',{deviceId,processId})}startCalibrationProcessStep(deviceId,processId,stepId,inputValue){return this[priv].rpc.sendRequest('start-calibration-step',{deviceId,processId,stepId,inputValue})}updateCalibrationProcessStep(deviceId,processId,stepId,inputValue){return this[priv].rpc.sendRequest('update-calibration-step',{deviceId,processId,stepId,inputValue})}stopCalibrationProcessStep(deviceId,processId,stepId,keep){return this[priv].rpc.sendRequest('stop-calibration-step',{deviceId,processId,stepId,keep})}cancelCalibrationProcess(deviceId,processId){return this[priv].rpc.sendRequest('stop-calibration-process',{deviceId,processId,keep:!1})}keepCalibrationProcess(deviceId,processId){return this[priv].rpc.sendRequest('stop-calibration-process',{deviceId,processId,keep:!0})}resetFactoryCalibration(deviceId){return this[priv].rpc.sendRequest('reset-factory-calibration',deviceId)}usingFactoryCalibration(deviceId){return this[priv].rpc.sendRequest('using-factory-calibration',deviceId)}_notifyBluetoothDeviceListChanged(){this.trigger('bluetooth-device-list-changed',this.bluetoothDeviceList)}_notifyUsbDeviceListChanged(){this.trigger('usb-device-list-changed',this.usbDeviceList)}}__webpack_exports__.a=DeviceManager;Object.assign(DeviceManager.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_BluetoothDevice__=__webpack_require__(199),__WEBPACK_IMPORTED_MODULE_1_corelib_devicemanager_UsbDevice__=__webpack_require__(201),__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__=__webpack_require__(18);const priv=Symbol('priv'),RPC_METHODS={"devmgr:bluetooth-available":function(server,notification){const params=notification.params,available=params.available;this[priv].bluetoothAvailable=available;if(available){this.trigger('bluetooth-available')}else{this.trigger('bluetooth-unavailable')}},"devmgr:bluetooth-device-discovered":function(server,notification){const params=notification.params,bluetoothDevice=new __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_BluetoothDevice__.a({id:params.id,name:params.deviceName,connectable:params.connectable,rssi:params.rssi,state:params.state,displayName:params.productName,firmware:params.firmware,gdxMapVersion:params.gdxMapVersion,channels:params.channels,orderCode:params.orderCode,serialNumber:params.serialNumber,address:params.address,canIdentify:params.canIdentify,battery:params.battery,minWavelength:params.minWavelength,maxWavelength:params.maxWavelength,wavelengthSmoothing:params.wavelengthSmoothing,temporalAveraging:params.temporalAveraging,initialWarmupTime:params.initialWarmupTime,recalibrationTime:params.recalibrationTime,noSkipTime:params.noSkipTime,calibrationProcesses:params.calibrationProcesses,manufactureDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.manufactureDate),userCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.userCalibrationDate),factoryCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.factoryCalibrationDate),hasUserCalibration:params.hasUserCalibration,usingUserCalibration:params.usingUserCalibration,hasFactoryCalibration:params.hasFactoryCalibration,usingFactoryCalibration:params.usingFactoryCalibration});this[priv].bluetoothDeviceList.push(bluetoothDevice);this._notifyBluetoothDeviceListChanged()},"devmgr:bluetooth-device-removed":function(server,notification){const params=notification.params,bluetoothDeviceList=this[priv].bluetoothDeviceList,indexOfDevice=bluetoothDeviceList.findIndex(bd=>bd.id===params.id);if(-1!==indexOfDevice){const removedDevice=bluetoothDeviceList[indexOfDevice];bluetoothDeviceList.splice(indexOfDevice,1);removedDevice.off();this._notifyBluetoothDeviceListChanged()}else{console.warn(`No bluetooth device found with id ${params.id}`)}},"devmgr:bluetooth-device-updated":function(server,notification){const params=notification.params,bluetoothDeviceList=this[priv].bluetoothDeviceList,indexOfDevice=bluetoothDeviceList.findIndex(bd=>bd.id===params.id);if(-1!==indexOfDevice){const updatedDevice=bluetoothDeviceList[indexOfDevice];updatedDevice._update({name:params.deviceName,connectable:params.connectable,rssi:params.rssi,state:params.state,channels:params.channels,displayName:params.productName,firmware:params.firmware,gdxMapVersion:params.gdxMapVersion,orderCode:params.orderCode,serialNumber:params.serialNumber,address:params.address,canIdentify:params.canIdentify,battery:params.battery,minWavelength:params.minWavelength,maxWavelength:params.maxWavelength,wavelengthSmoothing:params.wavelengthSmoothing,temporalAveraging:params.temporalAveraging,initialWarmupTime:params.initialWarmupTime,recalibrationTime:params.recalibrationTime,noSkipTime:params.noSkipTime,calibrationProcesses:params.calibrationProcesses,manufactureDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.manufactureDate),userCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.userCalibrationDate),factoryCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.factoryCalibrationDate),hasUserCalibration:params.hasUserCalibration,usingUserCalibration:params.usingUserCalibration,hasFactoryCalibration:params.hasFactoryCalibration,usingFactoryCalibration:params.usingFactoryCalibration});this._notifyBluetoothDeviceListChanged()}else{console.warn(`No bluetooth device found with id ${params.id}`)}},"devmgr:usb-device-added":function(server,notification){const params=notification.params,usbDevice=new __WEBPACK_IMPORTED_MODULE_1_corelib_devicemanager_UsbDevice__.a({id:params.id,deviceType:params.type,state:params.state,name:params.deviceName,displayName:params.productName,firmware:params.firmware,gdxMapVersion:params.gdxMapVersion,channels:params.channels,orderCode:params.orderCode,serialNumber:params.serialNumber,address:params.address,canIdentify:params.canIdentify,battery:params.battery,minWavelength:params.minWavelength,maxWavelength:params.maxWavelength,wavelengthSmoothing:params.wavelengthSmoothing,temporalAveraging:params.temporalAveraging,initialWarmupTime:params.initialWarmupTime,recalibrationTime:params.recalibrationTime,noSkipTime:params.noSkipTime,calibrationProcesses:params.calibrationProcesses,manufactureDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.manufactureDate),userCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.userCalibrationDate),factoryCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.factoryCalibrationDate),hasUserCalibration:params.hasUserCalibration,usingUserCalibration:params.usingUserCalibration,hasFactoryCalibration:params.hasFactoryCalibration,usingFactoryCalibration:params.usingFactoryCalibration}),list=this[priv].usbDeviceList;if(!list.find(dev=>params.id===dev.id)){list.push(usbDevice)}else{console.warn(`USB Device (id=${params.id}): already in DeviceManager`)}this._notifyUsbDeviceListChanged()},"devmgr:usb-device-removed":function(server,notification){const params=notification.params,usbDeviceList=this[priv].usbDeviceList,indexOfDevice=usbDeviceList.findIndex(dev=>dev.id===params.id);if(-1!==indexOfDevice){const removedDevice=usbDeviceList[indexOfDevice];usbDeviceList.splice(indexOfDevice,1);removedDevice.off();this._notifyUsbDeviceListChanged()}else{console.warn(`No USB device found with id ${params.id}`)}},"devmgr:usb-device-updated":function(server,notification){const params=notification.params,usbDeviceList=this[priv].usbDeviceList,usbDevice=usbDeviceList.find(dev=>dev.id===params.id);if(usbDevice){usbDevice._update({id:params.id,deviceType:params.type,state:params.state,name:params.deviceName,displayName:params.productName,firmware:params.firmware,gdxMapVersion:params.gdxMapVersion,channels:params.channels,orderCode:params.orderCode,serialNumber:params.serialNumber,address:params.address,canIdentify:params.canIdentify,battery:params.battery,minWavelength:params.minWavelength,maxWavelength:params.maxWavelength,wavelengthSmoothing:params.wavelengthSmoothing,temporalAveraging:params.temporalAveraging,initialWarmupTime:params.initialWarmupTime,recalibrationTime:params.recalibrationTime,noSkipTime:params.noSkipTime,calibrationProcesses:params.calibrationProcesses,manufactureDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.manufactureDate),userCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.userCalibrationDate),factoryCalibrationDate:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.e)(params.factoryCalibrationDate),hasUserCalibration:params.hasUserCalibration,usingUserCalibration:params.usingUserCalibration,hasFactoryCalibration:params.hasFactoryCalibration,usingFactoryCalibration:params.usingFactoryCalibration});this._notifyUsbDeviceListChanged()}else{console.warn(`No USB device found with id ${params.id}`)}},"devmgr:calibration-step-result":function(server,notification){const params=notification.params,deviceList=this[priv].usbDeviceList.concat(this[priv].bluetoothDeviceList),device=deviceList.find(dev=>dev.id===params.id);if(device){device.updateCalibrationStep({result:params.result})}else{console.warn(`No device found with id ${params.id}`)}}};__webpack_exports__.a={registerRPCMethods:function(rpc,context){rpc.registerMethods(RPC_METHODS,context)},priv}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_Device__=__webpack_require__(63),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);const priv=Symbol('priv');class BluetoothDevice extends __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_Device__.a{constructor(args){super('bluetooth',args);this[priv]={rssi:args.rssi,connectable:args.connectable}}get rssi(){return this[priv].rssi}get connectable(){return this[priv].connectable}_update(props={}){super._update(props);Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.toPairs)({rssi:'rssi-changed',connectable:'connectable-changed'}).forEach(([prop,propEvent])=>{const newValue=props[prop],currentValue=this[priv][prop];if(prop in props&&!Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.isEqual)(newValue,currentValue)){this[priv][prop]=newValue;this.trigger(propEvent,newValue)}})}}__webpack_exports__.a=BluetoothDevice},function(module,__webpack_exports__){'use strict';const bluetoothState=((...source)=>source.reduce((result,key)=>{result[key]=key;return result},{}))('disconnected','connecting','connected','error');__webpack_exports__.a=bluetoothState},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_Device__=__webpack_require__(63);class UsbDevice extends __WEBPACK_IMPORTED_MODULE_0_corelib_devicemanager_Device__.a{constructor(args){super('usb',args)}}__webpack_exports__.a=UsbDevice},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_appupdate_AppUpdate__=__webpack_require__(203);const appUpdate={start(){return new Promise((resolve,reject)=>{try{resolve(new __WEBPACK_IMPORTED_MODULE_0_corelib_appupdate_AppUpdate__.a)}catch(error){reject(error)}})},stop(){return new Promise(accept=>{accept()})}};__webpack_exports__.a=appUpdate},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);const priv=Symbol('priv');class AppUpdate{constructor(){this._setDefaults();this.ipcRenderer=__webpack_require__(10).ipcRenderer;this.ipcRenderer.on('auto-update-checking-for-update',()=>{this.trigger('checking-for-update');this[priv].checkingForUpdate=!0});this.ipcRenderer.on('auto-update-available',(event,message,info)=>{this.trigger('update-available',info);this[priv].updateAvailable=!0;this[priv].checkingForUpdate=!1});this.ipcRenderer.on('auto-update-not-available',()=>{this.trigger('update-not-available');this[priv].updateAvailable=!1;this[priv].checkingForUpdate=!1});this.ipcRenderer.on('auto-update-error',(event,message,error)=>{this.trigger('error',error);this._setDefaults()});this.ipcRenderer.on('auto-update-download-progress',(event,progressObj,more)=>{this.trigger('download-progress',progressObj,more);this[priv].updateDownloading=!0});this.ipcRenderer.on('auto-update-downloaded',(event,message,info)=>{this.trigger('update-downloaded',message,info);this[priv].updateDownloading=!1;this[priv].updateDownloaded=!0})}get checkedForUpdate(){return this[priv].checkedForUpdate}get updateAvailable(){return this[priv].updateAvailable}get updateDownloading(){return this[priv].updateDownloading}get updateDownloaded(){return this[priv].updateDownloaded}checkForUpdates(){this.ipcRenderer.send('check-for-updates')}downloadUpdate(){this.ipcRenderer.send('download-update')}quitAndInstall(){const appLifecycle=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('app-lifecycle');appLifecycle.onClose.addPromise(9999,()=>{return new Promise(resolve=>{setTimeout(()=>{this.ipcRenderer.send('quit-and-install');resolve()})})});appLifecycle.closeWindow()}_setDefaults(){this[priv]={checkingForUpdate:!1,updateAvailable:!1,updateDownloading:!1,updateDownloaded:!1}}}__webpack_exports__.a=AppUpdate;Object.assign(AppUpdate.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events)},function(module,__webpack_exports__,__webpack_require__){'use strict';const ipcRenderer=__webpack_require__(10).ipcRenderer;class BackgroundPageComm{sendMessage(msg,options){if(options&&!options.async){ipcRenderer.sendSync(msg)}else{ipcRenderer.send(msg)}}}const backgroundPageComm={start(){return new Promise(resolve=>{resolve(new BackgroundPageComm)})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=backgroundPageComm},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__);class Accessiblity{constructor(){const baseFontSize=getComputedStyle(document.documentElement).getPropertyValue('--base-font-size');this._accessibilityScale=parseFloat(baseFontSize);this.trigger('accessibility-scale-changed',this._accessibilityScale)}get accessibilityScale(){return this._accessibilityScale}set accessibilityScale(newScale){if(newScale!==this._accessibilityScale){this._accessibilityScale=newScale;document.documentElement.style.setProperty('--base-font-size',`${newScale}em`);this.trigger('accessibility-scale-changed',this._accessibilityScale)}}}Object.assign(Accessiblity.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events);const accessibility={start(){return new Promise((resolve,reject)=>{try{resolve(new Accessiblity)}catch(error){reject(error)}})},stop(){return new Promise(resolve=>{resolve()})}};__webpack_exports__.a=accessibility},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_grpc__=__webpack_require__(64),__WEBPACK_IMPORTED_MODULE_0_grpc___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_grpc__),__WEBPACK_IMPORTED_MODULE_1_corelib_vstrpc_pb__=__webpack_require__(65),__WEBPACK_IMPORTED_MODULE_1_corelib_vstrpc_pb___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_corelib_vstrpc_pb__),__WEBPACK_IMPORTED_MODULE_2_corelib_vstrpc_grpc_pb__=__webpack_require__(208),__WEBPACK_IMPORTED_MODULE_2_corelib_vstrpc_grpc_pb___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_corelib_vstrpc_grpc_pb__),__WEBPACK_IMPORTED_MODULE_3_electron__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_3_electron___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_electron__);const vst_MAX_RPC_MSG_LENGTH=16384;let messageId=0;function nextId(){if(++messageId>4294967295){messageId=1}return messageId}function getArrayBuffer(value){let buffer=null;if(value&&(value instanceof ArrayBuffer||value.buffer&&value.buffer instanceof ArrayBuffer)){buffer=value.buffer?value.buffer:value}return buffer}function unmarshallArrayBuffer(srcArray){const arr=srcArray.__array_buffer__,buffer=new Uint8Array(arr).buffer;return buffer}function unmarshallObject(srcobj){let obj=srcobj;if(srcobj&&'object'===typeof srcobj&&!Array.isArray(srcobj)){obj={};Object.keys(srcobj).forEach(key=>{let value=srcobj[key];if('object'===typeof value&&Array.isArray(value&&value.__array_buffer__)){value=unmarshallArrayBuffer(value)}else{value=unmarshallObject(value)}obj[key]=value})}return obj}function marshallArrayBuffer(buffer){let value;if(0<buffer.byteLength){const u8arr=new Uint8Array(buffer);let i;const arr=Array(u8arr.length);for(i=0;i<u8arr.length;++i){arr[i]=u8arr[i]}value={__array_buffer__:arr}}else{value={__array_buffer__:[]}}return value}function marshallObject(srcobj){let obj=srcobj;if(srcobj&&'object'===typeof srcobj&&!Array.isArray(srcobj)){obj={};Object.keys(srcobj).forEach(key=>{let value=srcobj[key];const buffer=getArrayBuffer(value);if(buffer){value=marshallArrayBuffer(buffer)}else{value=marshallObject(value)}obj[key]=value})}return obj}function GrpcService(port){if(0===port||port===void 0){throw new Error('GrpcClient: port not specified')}this.fragments={};this.port=port;this.client=new __WEBPACK_IMPORTED_MODULE_2_corelib_vstrpc_grpc_pb___default.a.VstRPCClient(`127.0.0.1:${this.port}`,__WEBPACK_IMPORTED_MODULE_0_grpc___default.a.credentials.createInsecure());if(!this.client){throw new Error('GrpcClient: failed to create client')}this.stream=this.client.stream_JSONRPC();if(!this.stream){throw new Error('GrpcClient: failed to open stream_JSONRPC() call')}this.onmessage=null;this.stream.on('data',response=>{if(this.onmessage){const n=response.getFragmentCount();if(1<n){let frags=this.fragments[response.getMessageId()];if(!frags){frags={};this.fragments[response.getMessageId()]=frags}frags[response.getFragmentIndex()]=response;if(Object.keys(frags).length===n){let i,json='';for(i=0;i<n;++i){const f=frags[i];json+=f.getJson()}try{const responseObj=JSON.parse(json);this.onmessage(unmarshallObject(responseObj))}catch(e){console.error('Failed to handle RPC response from server');console.error(e)}delete this.fragments[response.getMessageId()]}}else{try{const responseObj=JSON.parse(response.getJson());this.onmessage(unmarshallObject(responseObj))}catch(e){console.error('Failed to handle RPC response from server');console.error(e)}}}});this.stream.on('end',()=>{console.log('GrpcClient: STREAM ended');this.stream=null});this.stream.on('status',status=>{console.log('GrpcClient: STREAM STATUS');console.dir(status)})}GrpcService.prototype.postMessage=function(message){if(!this.stream){throw new Error('GrpcClient: stream is null')}const id=nextId();if('string'!==typeof message){message=JSON.stringify(marshallObject(message))}if(message.length>vst_MAX_RPC_MSG_LENGTH){const partLen=message.length%vst_MAX_RPC_MSG_LENGTH;let n=message.length/vst_MAX_RPC_MSG_LENGTH>>>0,i;if(0<partLen){n++}for(i=0;i<n;++i){const offset=i*vst_MAX_RPC_MSG_LENGTH,m=message.slice(offset,i<n-1?offset+vst_MAX_RPC_MSG_LENGTH:offset+partLen),request=new __WEBPACK_IMPORTED_MODULE_1_corelib_vstrpc_pb___default.a.JSONRPC_Request;request.setMessageId(id);request.setFragmentIndex(i);request.setFragmentCount(n);request.setJson(m);this.stream.write(request)}}else{const request=new __WEBPACK_IMPORTED_MODULE_1_corelib_vstrpc_pb___default.a.JSONRPC_Request;request.setMessageId(id);request.setFragmentIndex(0);request.setFragmentCount(1);request.setJson(message);this.stream.write(request)}};const grpcService={start(){return new Promise((resolve,reject)=>{__WEBPACK_IMPORTED_MODULE_3_electron__.ipcRenderer.on('asynchronous-reply',(event,arg)=>{if('getRpcServerPort'===arg.msg){if(0===arg.port){reject(new Error('gRPC server not running (yet?)'))}try{console.debug(`Connecting to GRPC server on port: ${arg.port}`);resolve(new GrpcService(arg.port))}catch(error){reject(error)}}});try{__WEBPACK_IMPORTED_MODULE_3_electron__.ipcRenderer.send('asynchronous-message','getRpcServerPort')}catch(error){reject(error)}})},stop(){return Promise.resolve()}};__webpack_exports__.a=grpcService},function(module){module.exports=require('google-protobuf')},function(module,exports,__webpack_require__){'use strict';var grpc=__webpack_require__(64),vstrpc_pb=__webpack_require__(65);var VstRPCService=exports.VstRPCService={stream_JSONRPC:{path:'/vstrpc.VstRPC/stream_JSONRPC',requestStream:!0,responseStream:!0,requestType:vstrpc_pb.JSONRPC_Request,responseType:vstrpc_pb.JSONRPC_Response,requestSerialize:function(arg){if(!(arg instanceof vstrpc_pb.JSONRPC_Request)){throw new Error('Expected argument of type vstrpc.JSONRPC_Request')}return new Buffer(arg.serializeBinary())},requestDeserialize:function(buffer_arg){return vstrpc_pb.JSONRPC_Request.deserializeBinary(new Uint8Array(buffer_arg))},responseSerialize:function(arg){if(!(arg instanceof vstrpc_pb.JSONRPC_Response)){throw new Error('Expected argument of type vstrpc.JSONRPC_Response')}return new Buffer(arg.serializeBinary())},responseDeserialize:function(buffer_arg){return vstrpc_pb.JSONRPC_Response.deserializeBinary(new Uint8Array(buffer_arg))}}};exports.VstRPCClient=grpc.makeGenericClientConstructor(VstRPCService)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_controllers_ga_AppController__=__webpack_require__(210),__WEBPACK_IMPORTED_MODULE_1_corelib_controllers_ga_DataShareConnectController__=__webpack_require__(211),__WEBPACK_IMPORTED_MODULE_2_corelib_controllers_core_ToolbarController__=__webpack_require__(212),__WEBPACK_IMPORTED_MODULE_3_corelib_controllers_ga_BottombarController__=__webpack_require__(217),__WEBPACK_IMPORTED_MODULE_4_corelib_controllers_ga_MeterContainerController__=__webpack_require__(218),__WEBPACK_IMPORTED_MODULE_5_corelib_controllers_ga_TriggeringMeterController__=__webpack_require__(220),__WEBPACK_IMPORTED_MODULE_6_corelib_controllers_core_GraphController__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_7_corelib_controllers_ga_AnalysisController__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_8_corelib_controllers_core_PredictionController__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_9_corelib_controllers_ga_DataCollectionSettingsController__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_10_corelib_controllers_ga_CalibrationController__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_11_corelib_controllers_core_CalibrationControllerGDX__=__webpack_require__(226),__WEBPACK_IMPORTED_MODULE_12_corelib_controllers_core_CalibrationControllerDropCounter__=__webpack_require__(227),__WEBPACK_IMPORTED_MODULE_13_corelib_controllers_ga_DeviceInfoController__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_14_corelib_controllers_core_DeviceManagerController__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_15_corelib_controllers_core_TableController__=__webpack_require__(230),__WEBPACK_IMPORTED_MODULE_16_corelib_controllers_core_ColumnGroupOptionsController__=__webpack_require__(231),__WEBPACK_IMPORTED_MODULE_17_corelib_controllers_ga_WelcomeController__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_18_corelib_controllers_core_DeveloperSettingsController__=__webpack_require__(234),__WEBPACK_IMPORTED_MODULE_19_corelib_controllers_core_AutoUpdateController__=__webpack_require__(235);const controllerMap={AppController:__WEBPACK_IMPORTED_MODULE_0_corelib_controllers_ga_AppController__.a,DataShareConnectController:__WEBPACK_IMPORTED_MODULE_1_corelib_controllers_ga_DataShareConnectController__.a,ToolbarController:__WEBPACK_IMPORTED_MODULE_2_corelib_controllers_core_ToolbarController__.a,BottombarController:__WEBPACK_IMPORTED_MODULE_3_corelib_controllers_ga_BottombarController__.a,MeterContainerController:__WEBPACK_IMPORTED_MODULE_4_corelib_controllers_ga_MeterContainerController__.a,TriggeringMeterController:__WEBPACK_IMPORTED_MODULE_5_corelib_controllers_ga_TriggeringMeterController__.a,GraphController:__WEBPACK_IMPORTED_MODULE_6_corelib_controllers_core_GraphController__.a,AnalysisController:__WEBPACK_IMPORTED_MODULE_7_corelib_controllers_ga_AnalysisController__.a,PredictionController:__WEBPACK_IMPORTED_MODULE_8_corelib_controllers_core_PredictionController__.a,DataCollectionSettingsController:__WEBPACK_IMPORTED_MODULE_9_corelib_controllers_ga_DataCollectionSettingsController__.a,CalibrationController:__WEBPACK_IMPORTED_MODULE_10_corelib_controllers_ga_CalibrationController__.a,CalibrationControllerGDX:__WEBPACK_IMPORTED_MODULE_11_corelib_controllers_core_CalibrationControllerGDX__.a,CalibrationControllerDropCounter:__WEBPACK_IMPORTED_MODULE_12_corelib_controllers_core_CalibrationControllerDropCounter__.a,DeviceInfoController:__WEBPACK_IMPORTED_MODULE_13_corelib_controllers_ga_DeviceInfoController__.a,DeviceManagerController:__WEBPACK_IMPORTED_MODULE_14_corelib_controllers_core_DeviceManagerController__.a,TableController:__WEBPACK_IMPORTED_MODULE_15_corelib_controllers_core_TableController__.a,ColumnGroupOptionsController:__WEBPACK_IMPORTED_MODULE_16_corelib_controllers_core_ColumnGroupOptionsController__.a,WelcomeController:__WEBPACK_IMPORTED_MODULE_17_corelib_controllers_ga_WelcomeController__.a,DeveloperSettingsController:__WEBPACK_IMPORTED_MODULE_18_corelib_controllers_core_DeveloperSettingsController__.a,AutoUpdateController:__WEBPACK_IMPORTED_MODULE_19_corelib_controllers_core_AutoUpdateController__.a};__webpack_exports__.a=controllerMap},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_keyboardEvents__=__webpack_require__(37);__webpack_exports__.a=class{constructor({services,eventBinder,component}){this.startupFileHandler=services.get('startup-file-handler');this.fileIO=services.get('file-io');this.dataWorld=services.get('data-world');this.sensorWorld=services.get('sensor-world');this.deviceManager=services.get('device-manager');this.dataCollection=services.get('data-collection');this.viewManager=services.get('view-manager');this.manifest=services.get('app-manifest');this.i18n=services.get('i18n');this.fs=services.get('filesystem');this.popoverManager=services.get('popover-manager');this.toast=services.get('toast');this.appLifecycle=services.get('app-lifecycle');this.rpcListener=services.get('dc-rpc').listener;this.sessionFileManager=this.dataWorld.sessionFileManager;this.component=component;eventBinder.bindListeners({source:component,target:this,eventMap:{"open-file-via-drop":'onOpenFile'}});eventBinder.bindListeners({source:__WEBPACK_IMPORTED_MODULE_1_corelib_util_keyboardEvents__.a,target:this,eventMap:{save:'onSaveFile',"save-as":'onSaveFile',quit:'onCloseApp'}});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"collection-control-changed":'onDataWorldCollectionControlChanged',"collection-preparing":'onDataWorldCollectionPreparing',"collection-stopped":'onDataWorldCollectionStopped',"collection-prestore-reached":'onDataWorldCollectionPrestoreReached',"collection-threshold-reached":'onDataWorldCollectionThresholdReached',"is-collecting-changed":'onDataWorldIsCollectingChanged',"session-ended":'onDataWorldSessionEnded',"session-remote-id-changed":'onDataWorldSessionRemoteIdChanged'}});eventBinder.bindListeners({source:this.dataCollection,target:this,eventMap:{"device-error":'onDataCollectionDeviceError',"ble-communication-error":'onDataCollectionBleCommunicationError',"start-measurements-failed":'onDataCollectionStartMeasurementsFailed',"collection-params-changed":'onDataCollectionCollectionParamsChanged',"collection-mode-changed":'onDataCollectionCollectionModeChanged'}});eventBinder.bindListeners({source:this.rpcListener,target:this,eventMap:{crash:'onRpcListenerCrash',abort:'onRpcListenerAbort'}})}load(){const{component,fs,dataCollection,appLifecycle,viewManager,popoverManager,i18n}=this,mainContentEl=component.shadowRoot.querySelector('#main_content'),multiView=mainContentEl.shadowRoot.querySelector('vst-core-content-layout'),meterView=mainContentEl.shadowRoot.querySelector('vst-core-meter-container'),tableView=mainContentEl.shadowRoot.querySelector('vst-core-table'),graphView=mainContentEl.shadowRoot.querySelector('#graph_group'),bottomBarEl=component.shadowRoot.querySelector('vst-core-bottombar');this.sessionCanControl=!1;this.isSavePersistent=fs.persistent;this.showTable=!1;this.graphsConfig='graph_1';this.isUIDisabled=!1;this.waitingForTrigger=!1;this.viewMap={meter:meterView,table:tableView,graph_1:graphView,graph_2:graphView,graph_3:graphView,"graph_1-table":multiView,"graph_1-table-meter":multiView};this.graphView=graphView;this.tableView=tableView;this.bottomBarEl=bottomBarEl;this.viewManager.setViewMap(this.viewMap);this.viewManager.getCurrentView=this.getCurrentView.bind(this);this.viewManager.setCurrentView=this.setCurrentView.bind(this);this.coreWaitEl=component.shadowRoot.querySelector('vst-core-wait');this.coreWaitEl.fillScreen=!0;this._curMode=dataCollection.getCollectionParams().mode;const startFileData=this.startupFileHandler.startFileData;this._startSession(startFileData);this.startupFileHandler.on('new-start-file',this._startSession.bind(this));appLifecycle.onClose.addPromise(0,()=>{return viewManager.promptForSave(component.experimentName).then(result=>{if(result.cancelled){return Promise.reject({cancelClose:!0})}else if(result.save){return this.onSaveFile()}return Promise.resolve()})});appLifecycle.onClose.addPromise(1,()=>{return new Promise(resolve=>{popoverManager.closeAll();this.coreWaitEl.fillScreen=!0;this.coreWaitEl.message=i18n.getText('Closing');this.coreWaitEl.hidden=!1;resolve()})})}_startSession(fileData={}){const{dataWorld,viewManager,deviceManager}=this;if(fileData&&fileData.file){this.popoverManager.closeAll();dataWorld.importDataThrottled({fileData}).catch(e=>{console.warn(`Import failed: ${e}`)})}else{viewManager.startNewSession(null,{}).then(()=>{if(!deviceManager.hasConnectedDevices&&!this.isChromeOnMacWin){this.showConnectDialog()}}).catch(err=>{console.error(err)})}}onCloseApp(){document.dispatchEvent(new CustomEvent('close-app',{bubbles:!0,composed:!0}))}onOpenFile(e){const{dataWorld}=this,file=e.detail;dataWorld.importData({file}).catch(err=>{console.error(err)})}onSaveFile(options={}){if(options.eventName&&'save-as'===options.eventName){options.saveAs=!0}return this.fileIO.saveFile(options)}onDataWorldCollectionControlChanged(canControl){this.sessionCanControl=canControl}onDataWorldCollectionPreparing(){const{dataWorld}=this;if(this.isUIDisabled){this.showWait(!0)}if(dataWorld.isTriggeringEnabled){this._setupTriggering()}}onDataWorldCollectionStopped(){this.showWait(!1);if(this.isUIDisabled){this.toggleUIUpdates()}}onDataWorldCollectionPrestoreReached(){this.showWait(!1);this._setupTriggering(!0)}onDataWorldCollectionThresholdReached(){this.showWait(!1);this.waitingForTrigger=!1;if(this.isUIDisabled){this.showWait(!0)}}onDataWorldIsCollectingChanged(isCollecting){const{component}=this;if(isCollecting){component.classList.add('is-collecting')}else{component.classList.remove('is-collecting')}}onDataWorldSessionEnded(){this._sessionEnded()}onDataWorldSessionRemoteIdChanged(){this._sessionRemoteIDChanged()}onDataCollectionDeviceError(err){const{dataWorld,dataCollection,i18n}=this;this.showWait(!1);if('number'===typeof err.errorCode){if(err.errorCode===dataCollection.DeviceError.COMMUNICATION_FAILED){this._showDialog(i18n.getText('A communication error has occurred. Start a new experiment to continue.'))}else if('time-based'===dataCollection.mode&&!this.waitingForTrigger){dataWorld.stopCollection();if(err.errorCode===dataCollection.DeviceError.DROPPED_MEASUREMENT){this._showDialog(i18n.getText('Dropped Measurement(s). Please start a new experiment and use a slower data collection rate.'))}else{this._showDialog(i18n.getText('A communications error caused data collection to stop. Please try again.'))}}}}onDataCollectionBleCommunicationError(){this.toast.makeToast(this.i18n.getText('The Bluetooth connection has been lost'),{duration:5e3})}onDataCollectionStartMeasurementsFailed(){this.showWait(!1)}onDataCollectionCollectionParamsChanged(params){params=params.params;if(params&&'time-based'===this._curMode){if(1e-3>params.delta&&(0===params.duration||0.05<params.duration)){this.toggleUIUpdates({graphs:!1,table:!1,autoSave:!1});this.isUIDisabled=!0}else{this.toggleUIUpdates();this.isUIDisabled=!1}if(params.triggering){this.triggeringParams=params.triggering;this.triggeringPrestore=params.triggering.prestore;this.triggeringSensor=params.triggering.sensor;this.waitingForTrigger=params.triggering.enabled}}}onDataCollectionCollectionModeChanged(modeTransition){const{dataCollection}=this,mode=modeTransition.to,params=dataCollection.getCollectionParams();if('time-based'===mode){if(this._curMode!==mode){this.viewManager.ignoreViewChange=!1}if(params){if(1e-3>params.delta&&(0===params.duration||0.05<params.duration)){this.toggleUIUpdates({graphs:!1,table:!1,autoSave:!1});this.isUIDisabled=!0}else{this.toggleUIUpdates();this.isUIDisabled=!1}if(params.triggering){this.triggeringParams=params.triggering;this.triggeringPrestore=params.triggering.prestore;this.triggeringSensor=params.triggering.sensor;this.waitingForTrigger=params.triggering.enabled}}}else if(mode.match('events')||'drop-counting'===mode||'photogate-timing'===mode){this.viewManager.changeView('graph_1-table');this.toggleUIUpdates()}this._curMode=mode}onRpcListenerCrash(){const{i18n}=this;this._showDialog(i18n.getText('An critical error has occurred. Please restart the application.'))}onRpcListenerAbort(e){console.log('abort');console.dir(e);this._showDialog('ABORT')}onSensorWorldSensorRemoved(){const{dataWorld}=this;if(dataWorld.isSessionEmpty){this.viewManager.ignoreViewChange=!1}}_setupTriggering(prestoreReached=!1){const{i18n}=this;let waitConfig={};if(this.triggeringParams.prestore&&!prestoreReached){const singularOrPlural=1<this.triggeringParams.prestore?i18n.getText('points'):i18n.getText('point');waitConfig.message=i18n.getText(`Collecting ${this.triggeringParams.prestore} ${singularOrPlural}`)}else{const{dataWorld,sensorWorld,i18n}=this,triggeringSensor=(()=>{let ret;sensorWorld.sensors.forEach(sensor=>{if(sensor.id===this.triggeringParams.sensor){ret=sensor}});return ret})();if(triggeringSensor){const triggeringSlope=1===this.triggeringParams.slope?'increase':'decrease',columnGroup=dataWorld.getColumnGroups().find(group=>group.sensorId===triggeringSensor.id),name=columnGroup.name?columnGroup.name:'unknown';waitConfig={message:i18n.getText(`Waiting for ${name} to ${triggeringSlope} across ${this.triggeringParams.threshold} ${triggeringSensor.units}`)};const triggeringMeterContainerEl=document.createElement('vst-core-meter-container');triggeringMeterContainerEl.controllerType='TriggeringMeterController';triggeringMeterContainerEl.controllerParams={sensor:triggeringSensor};triggeringMeterContainerEl.metersize='large';this.coreWaitEl.addElement(triggeringMeterContainerEl)}}this.showWait(!0,waitConfig)}_sessionEnded(){const{component}=this;if(this.viewManager){this.viewManager.changeView(component.initialView)}}_sessionRemoteIDChanged(){const{dataWorld,i18n,popoverManager}=this,sessionType='DataShare';let sessionConfig={};if(dataWorld.getSession()&&dataWorld.sessionHostAddress){sessionConfig={sourceURI:dataWorld.sessionHostAddress,sourceName:dataWorld.sessionSourceName}}popoverManager.presentDialog('vst-core-message-box',{title:i18n.getText('Start New Experiment?'),properties:{view:{body:i18n.getText(`Data Sharing source ${dataWorld.sessionSourceName} was reset. You may continue working offline or start a new experiment.`),buttons:[{id:'offline',message:i18n.getText('Offline'),style:'btn-tertiary'},{id:'new_session',message:i18n.getText('New Experiment')}],cancel:'offline'}},events:({completeWorkflow})=>({"button-clicked":e=>{const{viewManager,component}=this,id=e.detail.msg;if('new_session'===id){viewManager.promptForSave(component.experimentName).then(result=>{if(result.cancelled){completeWorkflow();this._sessionRemoteIDChanged()}else if(result.save){this.onSaveFile().then(()=>{viewManager.startNewSession(sessionType,sessionConfig).then(()=>{completeWorkflow()})}).catch(err=>{console.error(err)})}else{viewManager.startNewSession(sessionType,sessionConfig).then(()=>{completeWorkflow()})}})}completeWorkflow()}})})}getCurrentView(){const{component}=this;return component.currentView}setCurrentView(newView){const{component}=this;component.currentView=newView}showWait(show,config){const{component}=this,toolbarEl=component.shadowRoot.querySelector('vst-core-toolbar');if(show){component.classList.add('show-wait');toolbarEl.classList.add('show-wait');this.coreWaitEl.hidden=!1;if(config&&config.message){this.coreWaitEl.message=config.message}}else{component.classList.remove('show-wait');toolbarEl.classList.remove('show-wait');this.coreWaitEl.hidden=!0;this.coreWaitEl.message='';this.coreWaitEl.removeElements()}}showConnectDialog(){const{popoverManager}=this;popoverManager.closeAll();popoverManager.presentDialog('vst-ga-welcome',{controllerType:'WelcomeController'})}_showDialog(message){const{popoverManager,i18n}=this;if(!this.messageBoxInView){this.messageBoxInView=!0;popoverManager.presentDialog('vst-core-message-box',{title:i18n.getText('Device Error'),properties:{view:{body:message,buttons:[{id:'okay',message:i18n.getText('OK')}],cancel:'okay'}},events:({completeWorkflow})=>({"button-clicked":()=>{completeWorkflow()}})}).finally(()=>{this.messageBoxInView=!1})}}toggleUIUpdates(config){const{dataWorld,viewManager}=this;config=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({graphs:!0,table:!0,autoSave:!0},config);viewManager.setEnableUpdates(config.table);dataWorld.enableAutoSave=config.autoSave}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_http__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__=__webpack_require__(35);__webpack_exports__.a=class{constructor({eventBinder,component,services}){this.viewManager=services.get('view-manager');this.i18n=services.get('i18n');this.dataWorld=services.get('data-world');this.dataCollection=services.get('data-collection');this.component=component;this.sensorWorld=services.get('sensor-world');this.popoverManager=services.get('popover-manager');this.dsSourceDiscovery=services.get('ds-source-discovery');this.configuration=services.get('configuration');this.eventBinder=eventBinder;eventBinder.bindListeners({source:component,target:this,eventMap:{"connect-datashare-source":'onComponentConnectDatashareSource'}});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"session-connection-error":'onDataWorldSessionConnectionError',"after-sesison-started":'onDataWorldAfterSessionStarted'}})}load(){const{component,configuration,dsSourceDiscovery}=this;if('Electron'===configuration.platform.name){component.hideDiscoveredSources()}else{this.eventBinder.on(dsSourceDiscovery,'service-list-changed',this.onDsServiceListChanged.bind(this));component.dsSources=dsSourceDiscovery.getSourceList()}}onComponentConnectDatashareSource(e){const newHost=e.detail,host=this._parseHostString(newHost);if(host){const sessionConfig={ignoreSensors:!0,sourceURI:`${'http://'}${host.address}:${host.port}`,sourceName:host.name},infoURL=__WEBPACK_IMPORTED_MODULE_1_corelib_datashare_api__.a.getInfoURL(sessionConfig.sourceURI);__WEBPACK_IMPORTED_MODULE_0_corelib_util_http__.a.getJSON(infoURL).then(()=>{this._startNewSession('DataShare',sessionConfig)}).catch(error=>{console.error(error);this._connectionErrorHandler(error,newHost.address)})}else{setTimeout(()=>{this._connectionErrorHandler(new Error(400))})}}onDataWorldSessionConnectionError(){if(this.isDataShare){this._connectionErrorHandler(new Error(408))}}onDataWorldAfterSessionStarted(){const{component}=this;if(this.isDataShare){component.completeWorkflow()}}onDsServiceListChanged(dsSources){this.component.dsSources=dsSources;setTimeout(()=>{this.component.sourcesUpdated()})}destroy(){this.dsSourceDiscovery.stopListeners();this.eventBinder.unbindAll()}_parseHostString(host,defaultPort){let ret;if(!host.address){ret=!1}else{defaultPort=defaultPort||'80';const match=host.address.match(/^\s*(http:\/\/)?\s*([^:]+):?(\d+)?$/),name=host.name||match[2],address=match[2],port=parseInt(match[3]||defaultPort,10);let result=null;if(name){result={address,name,port}}ret=result}return ret}_connectionErrorHandler(error,hostName){const{i18n,component}=this;console.log(error);if(error.message){if(408===parseInt(error.message)||404===parseInt(error.message)){component.showErrorMessage(i18n.getText('Unable to connect to ')+hostName)}else if(400===parseInt(error.message)){component.showErrorMessage(i18n.getText('Unable to connect or find a source of this name.'))}else if('not-a-server'===error.message&&error.info){const hostString=this._parseHostString(error.info);let port=`:${hostString.port}`;if(80===hostString.port){port=''}component.showErrorMessage(i18n.getText('Unable to connect to ')+hostString.name+port)}else{component.showErrorMessage(i18n.getText('Connection error'))}}else{component.showErrorMessage(i18n.getText('Connection error'))}}_startNewSession(sessionType,sessionConfig,showDeviceManager){const{viewManager,i18n,popoverManager,component}=this;viewManager.startNewSession(sessionType,sessionConfig).then(result=>{if(result&&result.cancelled){component.cancelWorkflow();return}if(showDeviceManager){popoverManager.presentDialog('vst-core-device-manager',{title:i18n.getText('Sensors'),controllerType:'DeviceManagerController'})}component.completeWorkflow()}).catch(error=>{console.error(error);this._connectionErrorHandler(error)})}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_localeUtil__=__webpack_require__(213),__WEBPACK_IMPORTED_MODULE_1_corelib_util_RenderStatus__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_2_corelib_util_keyboardEvents__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_3_corelib_windowCapture__=__webpack_require__(214),__WEBPACK_IMPORTED_MODULE_4_corelib_featureflags_featureFlags__=__webpack_require__(17);__webpack_exports__.a=class{constructor({component,services,eventBinder}){this.i18n=services.get('i18n');this.dataWorld=services.get('data-world');this.toast=services.get('toast');this.fileIO=services.get('file-io');this.power=services.get('power');this.dataCollection=services.get('data-collection');this.popoverManager=services.get('popover-manager');this.viewManager=services.get('view-manager');this.configuration=services.get('configuration');this.appMetaData=services.get('app-metadata');this.appUpdate=services.get('app-update');this.sessionFileManager=this.dataWorld.sessionFileManager;this.component=component;eventBinder.bindListeners({source:__WEBPACK_IMPORTED_MODULE_2_corelib_util_keyboardEvents__.a,target:this,eventMap:{"new-file":'onComponentCreateExperiment',"open-file":'onOpenFile'}});eventBinder.bindListeners({source:component,target:this,eventMap:{"source-disconnect":'onComponentSourceDisconnect',"start-collection":'onComponentStartCollection',"stop-collection":'onComponentStopCollection',"show-file-menu":'onComponentShowFileMenu',"create-experiment":'onComponentCreateExperiment',"keep-point":'onComponentKeepPoint',"change-view":'onComponentChangeView',"show-more-options":'onComponentShowMoreOptions',"show-debug-options":'onComponentShowDebugOptions',"open-file-dialog":'onOpenFile'}});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"after-session-started":'onDataWorldAfterSessionStarted',"session-connection-disconnected":'onDataWorldSessionConnectionDisconnected',"session-started":'onDataWorldSessionStarted',"session-ended":'onDataWorldSessionEnded',"session-connection-error":'onDataWorldSessionConnectionError',"collection-control-changed":'onDataWorldCollectionControlChanged',"collection-keep-changed":'onDataWorldCollectionKeepChanged',"collection-preparing":'onDataWorldCollectionPreparing',"collection-stopped":'onDataWorldCollectionStopped'}});eventBinder.bindListeners({source:this.appUpdate,target:this,eventMap:{"checking-for-update":'onAppUpdateCheckingForUpdate',error:'onAppUpdateError',"update-available":'onAppUpdateUpdateAvailable',"update-not-available":'onAppUpdateUpdateNotAvailable',"download-progress":'onAppUpdateDownloadProgress',"update-downloaded":'onAppUpdateUpdateDownloaded'}});eventBinder.bindListeners({source:this.fileIO,target:this,eventMap:{"file-saved":'onFileSaveDone'}});eventBinder.bindListeners({source:this.dataCollection,target:this,eventMap:{"keep-values-ready":'onKeepValuesReady'}})}load(){const{appMetaData,component,appUpdate}=this;component.experimentName='';appUpdate.checkForUpdates();const installState=appMetaData.installState();if('install'===installState||'update'===installState){this.notifyWhatsNew=!0;component.notify='whats-new'}}onComponentSourceDisconnect(){}onComponentStartCollection(){this._startCollection()}onComponentStopCollection(){const{dataWorld,component}=this;dataWorld.stopCollection();component.keepButtonEnabled=!1}onComponentShowFileMenu(e){const{popoverManager,i18n}=this,target=e.detail.anchor.querySelector('vst-core-icon'),fileMenuItems=[[{id:'new',title:i18n.getText('New Experiment'),selectAction:()=>this.onComponentCreateExperiment()}],[{id:'open',title:i18n.getText('Open...'),selectAction:()=>this.onOpenFile()}],[{id:'import_video',title:i18n.getText('Import Video...'),include:'va'===this.configuration.app,selectAction:()=>this.onImportVideo()}],[{id:'save',title:i18n.getText('Save'),selectAction:()=>this.onSaveFile()},{id:'save_as',title:i18n.getText('Save As...'),selectAction:()=>this.onSaveFile({saveAs:!0})}],[{id:'export',title:i18n.getText('Export'),class:'has-submenu',selectAction:()=>this.onShowExports(target)}]];popoverManager.presentPopoverList({anchor:target,orientation:'bottom',items:fileMenuItems})}onShowExports(target){const{i18n,popoverManager}=this,exportItems=[{id:'csv',title:i18n.getText('.CSV'),selectAction:()=>this.exportData('csv')},{id:'graph_image',title:i18n.getText('Graph Image'),include:'ios'!==this.configuration.platform.os.family.toLowerCase(),selectAction:()=>this.exportData('png')}];popoverManager.presentPopoverList({items:exportItems,anchor:target,orientation:'right'})}showWelcome(){this.popoverManager.presentDialog('vst-ga-welcome',{controllerType:'WelcomeController'})}onComponentCreateExperiment(){const{popoverManager,component,viewManager}=this;popoverManager.closeAll();viewManager.promptForSave(component.experimentName).then(result=>{if(result.cancelled){component.completeWorkflow()}else if(result.save){this.onSaveFile().then(()=>{this.showWelcome()})}else{this.showWelcome()}}).catch(err=>{console.error(err)})}onComponentKeepPoint(){const{dataCollection,popoverManager,i18n,component,viewManager}=this,eventParams=dataCollection.eventBasedParams;viewManager.beginKeepPoint();dataCollection.keepData().then(result=>{if(result.success&&(0<eventParams.accumulate||eventParams.average)){let message='';if(eventParams.average){message=i18n.getText('Averaging over 10 seconds')}else if(0<eventParams.accumulate){message=i18n.getText(`Collecting data over ${eventParams.accumulate} seconds`)}popoverManager.presentDialog('vst-gaw-keep-wait',{title:i18n.getText('Working...'),preventCancel:!0,properties:{message},events:({cancelWorkflow})=>({cancel:()=>{dataCollection.cancelKeep();cancelWorkflow()}})}).then(result=>{if(result&&result.cancelled){component.focusKeep()}})}})}onKeepValuesReady(values){const{dataWorld,dataCollection,popoverManager,i18n,component}=this,eventColumn=dataWorld.getColumns().filter(col=>'event'===col.type&&col.getSetID()===dataWorld.currentDataSet.id)[0],eventColId=eventColumn.id,readings=[];if(0===Object.keys(values).length){console.error('No values returned from backend')}Object.keys(values).forEach(columnId=>{const column=dataWorld.getColumn(columnId);if(column){const value=values[columnId];readings.push({column,value})}else{console.warn(`keepData: Unable to find column for id: ${columnId}`)}});if(readings.length){popoverManager.closeAll();if('selected-events'===dataCollection.mode){dataWorld.addEventData(eventColId,null,readings)}else{popoverManager.presentDialog('vst-core-ewe-entry',{title:i18n.getText('Keep Point'),canClose:!1,properties:{view:{eventColumn,keepResults:readings}},events:({completeWorkflow,cancelWorkflow})=>({"kept-point":e=>{const userValue=e.detail;dataWorld.addEventData(eventColId,userValue,readings);completeWorkflow()},cancel:()=>cancelWorkflow()})}).then(result=>{component.focusKeep();return result})}}}onComponentChangeView(e){const{anchor,orientation}=e.detail,{viewManager,popoverManager,i18n}=this,menuItems=[{id:'graph_1',title:'va'!==this.configuration.app?i18n.getText('1 Graph'):i18n.getText('Graph'),selectAction:()=>{viewManager.changeView('graph_1')}},{id:'graph_2',title:i18n.getText('2 Graphs'),include:'va'!==this.configuration.app,selectAction:()=>{viewManager.changeView('graph_2')}},{id:'graph_3',title:i18n.getText('3 Graphs'),include:'va'!==this.configuration.app,selectAction:()=>{viewManager.changeView('graph_3')}},{id:'table',title:i18n.getText('Table'),selectAction:()=>{viewManager.changeView('table')}},{id:'meter',title:i18n.getText('Meter'),include:'va'!==this.configuration.app,selectAction:()=>{viewManager.changeView('meter')}},{id:'graph_1-table',title:i18n.getText('Graph and Table'),include:'va'!==this.configuration.app,selectAction:()=>{viewManager.changeView('graph_1-table')}},{id:'graph_1-table-meter',title:i18n.getText('Graph, Table, and Meter'),include:'va'!==this.configuration.app&&Object(__WEBPACK_IMPORTED_MODULE_4_corelib_featureflags_featureFlags__.c)('ff-graph-table-meter'),selectAction:()=>{viewManager.changeView('graph_1-table-meter')}},{id:'video',title:i18n.getText('Video'),include:'va'===this.configuration.app,selectAction:()=>{viewManager.changeView('video')}}];popoverManager.presentPopoverList({anchor,orientation,items:menuItems})}onComponentShowMoreOptions(e){const{anchor,orientation}=e.detail,{popoverManager,i18n,configuration,component}=this;popoverManager.presentPopoverList({anchor,orientation,items:[{id:'about',title:i18n.getText('About'),selectAction:()=>popoverManager.presentDialog('vst-ga-about',{title:i18n.getText('About')})},{id:'presentation',title:i18n.getText('Presentation'),selectAction:()=>popoverManager.presentDialog('vst-core-accessibility',{title:i18n.getText('Presentation')})},{id:'user_manual',title:i18n.getText('User Manual'),selectAction:()=>{window.open('https://www.vernier.com/support/ga4/','_blank')}},{id:'check_for_updates',title:this.notifyUpdateAvailable?i18n.getText('Update Available'):i18n.getText('Check For Updates'),include:'Electron'===configuration.platform.name,className:this.notifyUpdateAvailable?'show-red-dot':'',selectAction:()=>popoverManager.presentDialog('vst-core-autoupdate',{controllerType:'AutoUpdateController',title:i18n.getText('App Updates')})},{id:'whats_new',title:i18n.getText(`What's New`),className:this.notifyWhatsNew?'show-green-dot':'',selectAction:()=>{popoverManager.presentDialog('vst-ga-changelog',{title:i18n.getText(`What's New`)});if(this.notifyWhatsNew){this.notifyWhatsNew=!1;component.notify=''}}}]})}exportData(type){const{popoverManager,i18n,toast,fileIO}=this,exportCsvAction=()=>popoverManager.presentDialog('vst-core-download-data',{title:i18n.getText('Export CSV Data'),properties:{view:{hideFileName:!0,decimal:__WEBPACK_IMPORTED_MODULE_0_corelib_util_localeUtil__.a.getLocaleDecimal()}},events:({completeWorkflow})=>({"download-data":event=>{this.onSaveFile({type:'csv',decimal:event.detail.decimalFormat});completeWorkflow()}})}),exportImageAction=()=>{const appEl=document.querySelector('#app'),mainContentEl=appEl.shadowRoot.querySelector('#main_content'),contentLayout=mainContentEl.shadowRoot.querySelector('vst-core-content-layout'),graphContainer=mainContentEl.shadowRoot.querySelector('#graph_group'),graphEls=Array.from(mainContentEl.shadowRoot.querySelectorAll('vst-core-graph')),date=new Date;contentLayout.classList.add('download-image');graphEls.forEach(graphEl=>{graphEl.classList.add('download-image')});Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_RenderStatus__.a)().then(()=>Object(__WEBPACK_IMPORTED_MODULE_3_corelib_windowCapture__.a)(graphContainer)).then(blob=>{contentLayout.classList.remove('download-image');graphEls.forEach(graphEl=>{graphEl.classList.remove('download-image')});return fileIO.showSaveDialog({suggestedName:`GAGraphImage${date.getHours()}${date.getMinutes()}${date.getSeconds()}`,filters:[{extensions:['png','jpg'],name:'image'}]}).then(fileData=>{const{fileEntry,filename,filepath}=fileData;fileIO.writeFile({fileEntry,blob,filepath}).then(()=>{toast.makeToast(i18n.getText(`${filename} saved`),{duration:5e3})}).catch(err=>{console.log(window.URL.createObjectURL(blob));console.error(err)})})}).catch(err=>{console.error(err)})};if('csv'===type){exportCsvAction()}else if('png'===type){exportImageAction()}}onSaveFile(options={}){return this.fileIO.saveFile(options).catch(err=>console.error(err))}onOpenFile(){const{dataWorld,popoverManager,component,viewManager}=this,showOpen=()=>{dataWorld.importData().then(fileOpened=>{if(fileOpened){this._updateExperimentTitle();popoverManager.closeAll()}}).catch(err=>{console.error(err)})};viewManager.promptForSave(component.experimentName).then(result=>{if(result.cancelled){component.completeWorkflow()}if(result.save){this.onSaveFile().then(()=>{showOpen()})}else{showOpen()}}).catch(err=>{console.error(err)})}onImportVideo(){const{dataWorld,popoverManager,component,viewManager}=this,showOpen=()=>{dataWorld.importVideo().then(fileOpened=>{if(fileOpened){popoverManager.closeAll()}}).catch(err=>{console.error(err)})};viewManager.promptForSave(component.experimentName).then(result=>{if(result.cancelled){component.completeWorkflow()}if(result.save){this.onSaveFile().then(()=>{showOpen()})}else{showOpen()}}).catch(err=>{console.error(err)})}onComponentShowDebugOptions(){const{popoverManager}=this;popoverManager.presentDialog('dev-soft-sensors',{title:'Soft Sensor Options',events:({completeWorkflow})=>({done:event=>{const{enabled,ch1,ch2}=event.detail,{dataCollection}=this;if(enabled){dataCollection.rpc.sendRequest('enable-soft-device');if(0<ch1){dataCollection.rpc.sendRequest('enable-soft-sine-wave-sensor',ch1)}if(0<ch2){dataCollection.rpc.sendRequest('enable-soft-spec-sensor',ch2)}}else{dataCollection.rpc.sendRequest('disable-soft-device');dataCollection.rpc.sendRequest('disable-soft-sine-wave-sensor',ch1);dataCollection.rpc.sendRequest('disable-soft-spec-sensor',ch2)}completeWorkflow()}})})}onFileSaveDone(filename){this.component.experimentName=filename}onDataWorldAfterSessionStarted(){const{component}=this;component.connected=!0;this._updateExperimentTitle()}onDataWorldSessionConnectionDisconnected(){this._disconnectHandler()}onDataWorldSessionStarted(){const{dataWorld,component}=this;component.experimentName=dataWorld.sessionName;this._updateExperimentTitle()}onDataWorldSessionEnded(){const{component}=this;component.isCollecting=!1}onDataWorldSessionConnectionError(error){const{toast,i18n}=this;this._disconnectHandler();toast.makeToast(i18n.getText('Connection Lost'),{duration:5e3});console.error('SESSION ERROR:');console.dir(error)}onDataWorldCollectionControlChanged(canControl){const{component}=this;component.canControl=canControl}onDataWorldCollectionKeepChanged(canKeep){const{component}=this;component.canKeep=canKeep}onDataWorldCollectionPreparing(){const{dataWorld,component,power}=this;component.isCollecting=!0;if('DataCollection'===dataWorld.sessionType){power.requestKeepAwake('system')}}onDataWorldCollectionStopped(){const{dataWorld,power,component}=this;component.isCollecting=!1;if('DataCollection'===dataWorld.sessionType){power.releaseKeepAwake('system')}}onAppUpdateCheckingForUpdate(){console.log('checking for update')}onAppUpdateError(err){console.log('auto update error');console.error(err)}onAppUpdateUpdateAvailable(infoObj,extra){console.log('update available');console.dir(infoObj);console.dir(extra);this.notifyUpdateAvailable=!0;this.component.notify='update-available'}onAppUpdateUpdateNotAvailable(){console.log('update not available');if('update-available'===this.component.notify){this.component.notify=''}}onAppUpdateDownloadProgress(progObj){console.log('download progress');console.dir(progObj)}onAppUpdateUpdateDownloaded(){console.log('update downloaded')}_startCollection(){const{dataCollection,popoverManager,dataWorld,i18n,component}=this,isEventsMode=dataCollection.getCollectionParams().mode.match('events');let append=!1;if(isEventsMode&&!dataWorld.isCurrentDataSetEmpty(!0)){return popoverManager.presentDialog('vst-core-message-box',{title:i18n.getText('Append or Create New?'),properties:{view:{body:i18n.getText('Append additional data to the current data set or create a new data set?'),buttons:[{id:'append',message:i18n.getText('Append')},{id:'create_new',message:i18n.getText('Create new Data Set')}]}},events:({completeWorkflow})=>({"button-clicked":e=>{const id=e.detail.msg;if('append'===id){append=!0}completeWorkflow()}})}).catch(err=>{console.error(err)}).then(result=>{if(!result||!result.cancelled){dataWorld.startCollection({appendToDataSet:append});component.keepButtonEnabled=!0}})}dataWorld.startCollection({appendToDataSet:append});component.keepButtonEnabled=isEventsMode;return Promise.resolve()}_disconnectHandler(){const{component}=this;component.connected=!1}_updateExperimentTitle(){const{dataWorld,component}=this;component.experimentName=dataWorld.sessionName}}},function(module,__webpack_exports__){'use strict';const localeUtil={getLocaleDecimal(){let num=1.1;num=num.toLocaleString().substring(1,2);return num}};__webpack_exports__.a=localeUtil},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_lib_dom_to_image__=__webpack_require__(215),__WEBPACK_IMPORTED_MODULE_0_corelib_lib_dom_to_image___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_dom_to_image__),__WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__=__webpack_require__(216);const positionFix=(cloneWrapperEl,coreGraphEl)=>{const{top,left}=coreGraphEl.getBoundingClientRect(),coreGraphAnalysisEl=coreGraphEl.querySelector('vst-core-graph-analysis'),{top:analysisTop,left:analysisLeft}=coreGraphAnalysisEl.getBoundingClientRect();cloneWrapperEl.style.position='absolute';cloneWrapperEl.style.left=`${analysisLeft-left}px`;cloneWrapperEl.style.top=`${analysisTop-top}px`;cloneWrapperEl.style.zIndex='1'};__webpack_exports__.a=node=>{if(__WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__.a){return __WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__.a(node)}const graphEls=Array.from(node.querySelectorAll('vst-core-graph')).filter(graph=>{return!graph.className.includes('graph-mini')&&!graph.hidden});return __WEBPACK_IMPORTED_MODULE_0_corelib_lib_dom_to_image___default.a.toBlob(node,{filter:node=>!node.hidden,fix:clone=>graphEls.forEach(graphEl=>{const analysisWrapper=clone.querySelector(`vst-core-graph#${graphEl.id} > * > .analysis-wrapper`);positionFix(analysisWrapper,graphEl)})})}},function(module){(function(){const util=function(){return{escape:function(string){return string.replace(/([.*+?^${}()|\[\]\/\\])/g,'\\$1')},parseExtension,mimeType:function(url){const extension=parseExtension(url).toLowerCase();return mimes()[extension]||''},dataAsUrl:function(content,type){return`data:${type};base64,${content}`},isDataUrl:function(url){return-1!==url.search(/^(data:)/)},canvasToBlob:function(canvas){if(canvas.toBlob){return new Promise(resolve=>{canvas.toBlob(resolve)})}return toBlob(canvas)},resolveUrl:function(url,baseUrl){const doc=document.implementation.createHTMLDocument(),base=doc.createElement('base');doc.head.appendChild(base);const a=doc.createElement('a');doc.body.appendChild(a);base.href=baseUrl;a.href=url;return a.href},getAndEncode:function(url){const TIMEOUT=3e4;return new Promise(resolve=>{const request=new XMLHttpRequest;request.onreadystatechange=function(){if(4!==request.readyState)return;if(200!==request.status){fail(`cannot fetch resource: ${url}, status: ${request.status}`);return}const encoder=new FileReader;encoder.onloadend=function(){const content=encoder.result.split(/,/)[1];resolve(content)};encoder.readAsDataURL(request.response)};request.ontimeout=function(){fail(`timeout of ${TIMEOUT}ms occured while fetching resource: ${url}`)};request.responseType='blob';request.timeout=TIMEOUT;request.open('GET',url,!0);request.send();function fail(message){console.error(message);resolve('')}})},uid:function(){let index=0;return function(){return`u${function(){return`0000${(1679616*Math.random()<<0).toString(36)}`.slice(-4)}()}${index++}`}}(),delay:function(ms){return function(arg){return new Promise(resolve=>{setTimeout(()=>{resolve(arg)},ms)})}},asArray:function(arrayLike){const array=[],length=arrayLike.length;for(let i=0;i<length;i++)array.push(arrayLike[i]);return array},escapeXhtml:function(string){return string.replace(/#/g,'%23').replace(/\n/g,'%0A')},makeImage:function(uri){return new Promise((resolve,reject)=>{const image=new Image;image.onload=function(){resolve(image)};image.onerror=reject;image.src=uri})},width:function(node){const leftBorder=px(node,'border-left-width'),rightBorder=px(node,'border-right-width');return node.scrollWidth+leftBorder+rightBorder},height:function(node){const topBorder=px(node,'border-top-width'),bottomBorder=px(node,'border-bottom-width');return node.scrollHeight+topBorder+bottomBorder}};function mimes(){const WOFF='application/font-woff',JPEG='image/jpeg';return{woff:WOFF,woff2:WOFF,ttf:'application/font-truetype',eot:'application/vnd.ms-fontobject',png:'image/png',jpg:JPEG,jpeg:JPEG,gif:'image/gif',tiff:'image/tiff',svg:'image/svg+xml'}}function parseExtension(url){const match=/\.([^\.\/]*?)$/g.exec(url);if(match)return match[1];return''}function toBlob(canvas){return new Promise(resolve=>{const binaryString=window.atob(canvas.toDataURL().split(',')[1]),length=binaryString.length,binaryArray=new Uint8Array(length);for(let i=0;i<length;i++){binaryArray[i]=binaryString.charCodeAt(i)}resolve(new Blob([binaryArray],{type:'image/png'}))})}function px(node,styleProperty){const value=window.getComputedStyle(node).getPropertyValue(styleProperty);return parseFloat(value.replace('px',''))}}(),inliner=function(){const URL_REGEX=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(string,baseUrl,get){if(function(){return!shouldProcess(string)}())return Promise.resolve(string);return Promise.resolve(string).then(readUrls).then(urls=>{let done=Promise.resolve(string);urls.forEach(url=>{done=done.then(string=>{return inline(string,url,baseUrl,get)})});return done})},shouldProcess,impl:{readUrls,inline}};function shouldProcess(string){return-1!==string.search(URL_REGEX)}function readUrls(string){const result=[];let match;while(null!==(match=URL_REGEX.exec(string))){result.push(match[1])}return result.filter(url=>{return!util.isDataUrl(url)})}function inline(string,url,baseUrl,get){return Promise.resolve(url).then(url=>{return baseUrl?util.resolveUrl(url,baseUrl):url}).then(get||util.getAndEncode).then(data=>{return util.dataAsUrl(data,util.mimeType(url))}).then(dataUrl=>{return string.replace(urlAsRegex(url),`$1${dataUrl}$3`)});function urlAsRegex(url){return new RegExp(`(url\\(['"]?)(${util.escape(url)})(['"]?\\))`,'g')}}}(),fontFaces=function(){return{resolveAll:function(){return readAll(document).then(webFonts=>{return Promise.all(webFonts.map(webFont=>{return webFont.resolve()}))}).then(cssStrings=>{return cssStrings.join('\n')})},impl:{readAll}};function readAll(){return Promise.resolve(util.asArray(document.styleSheets)).then(function(styleSheets){const cssRules=[];styleSheets.forEach(sheet=>{try{util.asArray(sheet.cssRules||[]).forEach(cssRules.push.bind(cssRules))}catch(e){console.log(`Error while reading CSS rules from ${sheet.href}`,e.toString())}});return cssRules}).then(function(cssRules){return cssRules.filter(rule=>{return rule.type===CSSRule.FONT_FACE_RULE}).filter(rule=>{return inliner.shouldProcess(rule.style.getPropertyValue('src'))})}).then(rules=>{return rules.map(newWebFont)});function newWebFont(webFontRule){return{resolve:function(){const baseUrl=(webFontRule.parentStyleSheet||{}).href;return inliner.inlineAll(webFontRule.cssText,baseUrl)},src(){return webFontRule.style.getPropertyValue('src')}}}}}(),images=function(){return{inlineAll,impl:{newImage}};function newImage(element){return{inline:function(get){if(util.isDataUrl(element.src))return Promise.resolve();return Promise.resolve(element.src).then(get||util.getAndEncode).then(data=>{return util.dataAsUrl(data,util.mimeType(element.src))}).then(dataUrl=>{return new Promise((resolve,reject)=>{element.onload=resolve;element.onerror=reject;element.src=dataUrl})})}}}function inlineAll(node){if(!(node instanceof Element))return Promise.resolve(node);return function(node){const background=node.style.getPropertyValue('background');if(!background)return Promise.resolve(node);return inliner.inlineAll(background).then(inlined=>{node.style.setProperty('background',inlined,node.style.getPropertyPriority('background'))}).then(()=>{return node})}(node).then(()=>{if(node instanceof HTMLImageElement){return newImage(node).inline()}return Promise.all(util.asArray(node.childNodes).map(child=>{return inlineAll(child)}))})}}();module.exports={toSvg,toPng:function(node,options){return draw(node,options||{}).then(canvas=>{return canvas.toDataURL()})},toJpeg:function(node,options){options=options||{};return draw(node,options).then(canvas=>{return canvas.toDataURL('image/jpeg',options.quality||1)})},toBlob:function(node,options){return draw(node,options||{}).then(util.canvasToBlob)},toPixelData:function(node,options){return draw(node,options||{}).then(canvas=>{return canvas.getContext('2d').getImageData(0,0,util.width(node),util.height(node)).data})},impl:{fontFaces,images,util,inliner}};function toSvg(node,options){options=options||{};return Promise.resolve(node).then(node=>{return cloneNode(node,options.filter,!0)}).then(embedFonts).then(inlineImages).then(function(clone){if(options.bgcolor)clone.style.backgroundColor=options.bgcolor;if(options.width)clone.style.width=`${options.width}px`;if(options.height)clone.style.height=`${options.height}px`;if(options.style){Object.keys(options.style).forEach(property=>{clone.style[property]=options.style[property]})}if(options.fix)options.fix(clone);return clone}).then(clone=>{return makeSvgDataUri(clone,options.width||util.width(node),options.height||util.height(node))})}function draw(domNode,options){return toSvg(domNode,options).then(util.makeImage).then(util.delay(100)).then(image=>{const canvas=newCanvas(domNode);canvas.getContext('2d').drawImage(image,0,0);return canvas});function newCanvas(domNode){const canvas=document.createElement('canvas');canvas.width=options.width||util.width(domNode);canvas.height=options.height||util.height(domNode);if(options.bgcolor){const ctx=canvas.getContext('2d');ctx.fillStyle=options.bgcolor;ctx.fillRect(0,0,canvas.width,canvas.height)}return canvas}}function cloneNode(node,filter,root){if(!root&&filter&&!filter(node))return Promise.resolve();return Promise.resolve(node).then(function(node){if(node instanceof HTMLCanvasElement&&node.clientHeight)return util.makeImage(node.toDataURL());return node.cloneNode(!1)}).then(clone=>{return cloneChildren(node,clone,filter)}).then(clone=>{return processClone(node,clone)});function cloneChildren(original,clone,filter){let children=Array.from(original.childNodes),shadowChildren=[];if(original.shadowRoot){shadowChildren=Array.from(original.shadowRoot.childNodes)}children=children.concat(shadowChildren);if(0===children.length)return Promise.resolve(clone);return function(parent,children,filter){let done=Promise.resolve();children.forEach(child=>{done=done.then(()=>{return cloneNode(child,filter)}).then(childClone=>{if(childClone)parent.appendChild(childClone)})});return done}(clone,util.asArray(children),filter).then(()=>{return clone})}function processClone(original,clone){if(!(clone instanceof Element))return clone;return Promise.resolve().then(function(){(function(source,target){if(source.cssText)target.cssText=source.cssText;else(function(source,target){util.asArray(source).forEach(name=>{target.setProperty(name,source.getPropertyValue(name),source.getPropertyPriority(name))})})(source,target)})(window.getComputedStyle(original),clone.style)}).then(function(){[':before',':after'].forEach(element=>{clonePseudoElement(element)});function clonePseudoElement(element){const style=window.getComputedStyle(original,element),content=style.getPropertyValue('content');if(''===content||'none'===content)return;const className=util.uid();clone.className=`${clone.className} ${className}`;const styleElement=document.createElement('style');styleElement.appendChild(function(className,element,style){const selector=`.${className}:${element}`,cssText=style.cssText?function(style){const content=style.getPropertyValue('content');return`${style.cssText} content: ${content};`}(style):function(style){return`${util.asArray(style).map(function(name){return`${name}: ${style.getPropertyValue(name)}${style.getPropertyPriority(name)?' !important':''}`}).join('; ')};`}(style);return document.createTextNode(`${selector}{${cssText}}`)}(className,element,style));clone.appendChild(styleElement)}}).then(function(){if(original instanceof HTMLTextAreaElement)clone.innerHTML=original.value;if(original instanceof HTMLInputElement)clone.setAttribute('value',original.value)}).then(function(){if(!(clone instanceof SVGElement))return;clone.setAttribute('xmlns','http://www.w3.org/2000/svg');if(!(clone instanceof SVGRectElement))return;['width','height'].forEach(attribute=>{const value=clone.getAttribute(attribute);if(!value)return;clone.style.setProperty(attribute,value)})}).then(()=>{return clone})}}function embedFonts(node){return fontFaces.resolveAll().then(cssText=>{const styleNode=document.createElement('style');node.appendChild(styleNode);styleNode.appendChild(document.createTextNode(cssText));return node})}function inlineImages(node){return images.inlineAll(node).then(()=>{return node})}function makeSvgDataUri(node,width,height){return Promise.resolve(node).then(node=>{node.setAttribute('xmlns','http://www.w3.org/1999/xhtml');return new XMLSerializer().serializeToString(node)}).then(util.escapeXhtml).then(xhtml=>{return`<foreignObject x="0" y="0" width="100%" height="100%">${xhtml}</foreignObject>`}).then(foreignObject=>{return`<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}">${foreignObject}</svg>`}).then(svg=>{return`data:image/svg+xml;charset=utf-8,${svg}`})}})(this)},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathround2=Math.round;const webContents=__webpack_require__(10).remote.getCurrentWebContents();__webpack_exports__.a=node=>{const rect=node.getBoundingClientRect(),captureRect={x:_Mathround2(rect.left),y:_Mathround2(rect.top),width:_Mathround2(rect.width),height:_Mathround2(rect.height)};return new Promise(resolve=>{webContents.capturePage(captureRect,image=>{const buffer=image.toPNG(),blob=new Blob([buffer]);resolve(blob)})})}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({component,eventBinder,services}){this.component=component;this.dataWorld=services.get('data-world');this.sensorWorld=services.get('sensor-world');this.dataCollection=services.get('data-collection');this.deviceManager=services.get('device-manager');this.viewPrefs=services.get('viewprefs');this.popoverManager=services.get('popover-manager');this.i18n=services.get('i18n');eventBinder.bindListeners({source:component,target:this,eventMap:{"open-device-manager":'onComponentOpenDeviceManager',"open-data-collection-settings":'onComponentOpenDataCollectionSettings'}});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"after-session-started":'onDataWorldAfterSessionStarted',"session-connection-disconnected":'onDataWorldSessionConnectionDisconnected',"session-source-name-changed":'onDataWorldSessionSourceNameChanged',"session-started":'onDataWorldSessionStarted',"collection-preparing":'onDataWorldCollectionPreparing',"collection-stopped":'onDataWorldCollectionStopped'}});eventBinder.bindListeners({source:this.dataCollection,target:this,eventMap:{"collection-params-changed":'onDataCollectionCollectionParamsChanged'}});eventBinder.bindListeners({source:this.deviceManager,target:this,eventMap:{"usb-device-list-changed":'onUsbBluetoothDeviceListChanged',"bluetooth-device-list-changed":'onUsbBluetoothDeviceListChanged'}})}load(){const{dataCollection,component}=this,dcParams=dataCollection.getCollectionParams();component.collectionParamsUpdated(dcParams)}onComponentOpenDeviceManager(){const{popoverManager,i18n}=this;popoverManager.presentDialog('vst-core-device-manager',{title:i18n.getText('Sensors'),controllerType:'DeviceManagerController'})}onComponentOpenDataCollectionSettings(){const{popoverManager,i18n}=this;popoverManager.presentDialog('vst-core-data-collection-settings',{title:i18n.getText('Data Collection Settings'),controllerType:'DataCollectionSettingsController'})}onDataWorldAfterSessionStarted(){const{dataWorld}=this;if(dataWorld.sessionSourceName){this.setSourceName(dataWorld.sessionSourceName)}}onDataWorldSessionConnectionDisconnected(){this.setSourceName()}onDataWorldSessionSourceNameChanged(name){this.setSourceName(name)}onDataWorldSessionStarted(isNewSession,sessionConfig){const{component}=this;component.sessionType=sessionConfig.sessionType;component.collectionModeDisabled=!component.isDataCollection}onDataWorldCollectionPreparing(){const{component}=this;component.collectionModeDisabled=!0}onDataWorldCollectionStopped(){const{component}=this;component.collectionModeDisabled=!component.isDataCollection}onDataCollectionCollectionParamsChanged(params){const{component}=this;component.collectionParamsUpdated(params)}onUsbBluetoothDeviceListChanged(){const{component,deviceManager}=this;let hasUpdate=!1;const connectedDevices=deviceManager.getConnectedDevices();connectedDevices.forEach(device=>{if(device.firmware.hasUpdate){hasUpdate=!0}});component.deviceNeedsFirmwareUpdate=hasUpdate}setSourceName(sourceName){const{component}=this;component.dataShareSource=sourceName}setSensorMessage(){const{component,dataWorld,sensorWorld,i18n}=this,message='DataCollection'===dataWorld.sessionType&&!sensorWorld.ignoreSensors?i18n.getText('No sensor connected'):void 0;component.setSensorMessage(message)}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_controllers_core_MeterContainerController__=__webpack_require__(219);class MeterContainerController extends __WEBPACK_IMPORTED_MODULE_0_corelib_controllers_core_MeterContainerController__.a{constructor({component,eventBinder,services}){super({component,services,eventBinder});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"collection-preparing":'onDataWorldCollectionPreparing',"collection-stopped":'onDataWorldCollectionStopped'}})}onDataWorldCollectionPreparing(){const{component}=this;component._enableMeters(!1)}onDataWorldCollectionStopped(){const{dataWorld,sensorWorld,viewPrefs}=this;if('DataCollection'===dataWorld.sessionType){const sensorMeters=viewPrefs.meters;sensorMeters.forEach(sensorMeter=>{const meter=this.component.getMeter(sensorMeter.id),enabled=sensorWorld.isSensorOnline(sensorMeter.sensorId);meter.buttonEnabled=enabled;meter.value=''})}}showMeterActions(e,meterEl){const{sensorWorld,deviceManager,i18n,popoverManager,toast,dataWorld}=this,sensorId=meterEl.sensorId,sensor=sensorWorld.getSensorById(sensorId);if(!sensor){console.warn('No sensor associated with this meter')}else{const device=deviceManager.getDevice(sensor.deviceId),sensorUnits=sensor.availableUnits;let sensorListboxOrientation='bottom';if('mini'===meterEl.getAttribute('metersize')){sensorListboxOrientation='top'}else if('medium'===meterEl.getAttribute('metersize')){sensorListboxOrientation='left'}else{sensorListboxOrientation='bottom'}const sensorActions=[];if(sensor.canCalibrate||sensor.canCalibrateGDX){sensorActions.push({id:'calibrate',title:i18n.getText('Calibrate'),selectAction:()=>{if(!sensor){return}let calibrationElType,calibrationCtrlType;if('drop'===sensor.dataMode.toLowerCase()){calibrationElType='vst-core-calibration-drop-counter';calibrationCtrlType='CalibrationControllerDropCounter'}else{const gdxSensorCalibation=sensor.canCalibrateGDX;calibrationCtrlType=gdxSensorCalibation?'CalibrationControllerGDX':'CalibrationController';calibrationElType=gdxSensorCalibation?'vst-core-calibration-gdx':'vst-core-calibration'}return popoverManager.presentDialog(calibrationElType,{title:`${i18n.getText('Calibrate')} ${sensor.name}`,controllerType:calibrationCtrlType,controllerParams:{sensor}})}})}if(sensor.canZero){sensorActions.push({id:'zero',title:i18n.getText('Zero'),selectAction:()=>{if(!sensor){return Promise.resolve()}return sensor.zero().then(()=>{toast.makeToast(i18n.getText('Sensor Zeroed'))})}})}if(sensor.canReverse){sensorActions.push({id:'reverse',type:'switch',title:i18n.getText('Reverse'),checked:sensor.isReversed,checkedChanged:()=>{if(!sensor){return Promise.resolve()}return sensor.reverse().catch(err=>console.error(err))}})}if(sensor.canZeroOnCollect){sensorActions.push({id:'zero_on_collect',type:'switch',title:i18n.getText('Reset (Zero) on Collect'),checked:sensor.zeroOnCollect,checkedChanged:checked=>{if(!sensor){return Promise.resolve()}return sensor.setZeroOnCollect(checked).catch(err=>console.error(err))}})}if(sensor.hasX4Mode){sensorActions.push({id:'X4_mode',type:'switch',title:i18n.getText('High-Resolution Mode'),checked:sensor.x4Mode,checkedChanged:checked=>{if(!sensor){return Promise.resolve()}return sensor.setModeX4(checked).catch(err=>console.error(err))}})}if(1<sensorUnits.length){sensorActions.push({id:'sensor_units',title:i18n.getText('Units'),type:'select',options:sensorUnits.map(value=>({text:value,value})),selection:sensor.units,selectionChanged:units=>{const columnGroup=dataWorld.getColumnGroups().find(group=>group.sensorId===sensorId);return dataWorld.updateColumnGroup(columnGroup.id,{units})}})}if(device){popoverManager.presentPopover('vst-core-sensor-actions',{anchor:meterEl,orientation:sensorListboxOrientation,properties:{header:{title:sensor.name,subtitle:device.deviceName,hasInfo:device.connected},battery:device.battery,sensorActions:{items:sensorActions}},events:({completeWorkflow})=>({"list-item-clicked":event=>{const id=event.detail;sensorActions.find(o=>o.id===id).selectAction();completeWorkflow()},"list-switch-changed":event=>{const[id,checked]=event.detail;sensorActions.find(o=>o.id===id).checkedChanged(checked)},"list-item-option-selected":event=>{const[id,value]=event.detail;sensorActions.find(o=>o.id===id).selectionChanged(value)},"show-sensor-info":()=>{if(!sensor){return}popoverManager.presentDialog('vst-core-device-info',{title:i18n.getText('Device Information'),controllerType:'DeviceInfoController',properties:{sensor,device}});completeWorkflow()}})})}}}}__webpack_exports__.a=MeterContainerController},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({component,eventBinder,services}){this.dataWorld=services.get('data-world');this.sensorWorld=services.get('sensor-world');this.deviceManager=services.get('device-manager');this.viewPrefs=services.get('viewprefs');this.viewManager=services.get('view-manager');this.toast=services.get('toast');this.popoverManager=services.get('popover-manager');this.i18n=services.get('i18n');this.component=component;this.isViewEnabled=null;this.eventBinder=eventBinder;eventBinder.bindListeners({source:component,target:this,eventMap:{"exited-view":'onComponentExitedView',"entered-view":'onComponentEnteredView'}});eventBinder.bindListeners({source:this.viewPrefs,target:this,eventMap:{"meter-added":'onViewPrefsMeterAdded',"meter-removed":'onViewPrefsMeterRemoved'}})}onComponentExitedView(){const{component}=this;this.dataWorld.toggleMeters(!1);if('large'===component.metersize){const meters=Array.from(component.children);meters.forEach(meter=>{meter.value=''})}}onComponentEnteredView(){this.dataWorld.toggleMeters(!0)}onViewPrefsMeterAdded(meterPrefs){this._addMeter(meterPrefs)}onViewPrefsMeterRemoved(meterPrefs){const{component}=this;component.removeMeter(meterPrefs.id);if('medium'===component.metersize){}}_addMeter(meterPrefs){const{component,dataWorld}=this,meterEl=component.addMeter(meterPrefs.id,meterPrefs.position),meterBtnEl=meterEl.shadowRoot.querySelector('button');meterEl.name=meterPrefs.name;meterEl.value=meterPrefs.value;meterEl.units=meterPrefs.units;meterEl.metersize=component.metersize;meterEl.sensorId=meterPrefs.sensorId;meterEl.groupId=meterPrefs.groupId;meterPrefs.on('value-changed',value=>{meterEl.value=value});meterPrefs.on('units-changed',units=>{meterEl.units=units});meterPrefs.on('name-changed',name=>{meterEl.name=name});meterPrefs.on('sensorId-changed',id=>{meterEl.sensorId=id});meterPrefs.on('groupId-changed',id=>{meterEl.groupId=id});meterPrefs.on('position-changed',position=>{meterEl.position=position;component.sortMeters()});if('DataCollection'===dataWorld.sessionType){this._enableMeterOnCreation(meterEl,meterPrefs);meterBtnEl.addEventListener('click',e=>this.showMeterActions(e,meterEl))}}showMeterActions(){throw Error('need implementation for showMeterActions() in derived MeterContainerController class')}_enableMeterOnCreation(meterEl,meterPrefs){if(!this.sensorWorld.ignoreSensors){meterEl.buttonEnabled=meterPrefs.enabled}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({component,services,eventBinder}){this.component=component;this.sensorWorld=services.get('sensor-world');this.dataWorld=services.get('data-world');this.viewPrefs=services.get('viewprefs');this.eventBinder=eventBinder;eventBinder.bindListeners({source:component,target:this,eventMap:{"exited-view":'onComponentExitedView'}})}load({sensor}={}){const{eventBinder,viewPrefs,component}=this;let meterPrefs;(()=>{const meterPrefsCol=viewPrefs.meters.where({sensorId:sensor.id});meterPrefs=meterPrefsCol[0];const meterEl=component.addMeter(meterPrefs.id,meterPrefs.position);meterEl.name=meterPrefs.name;meterEl.value=meterPrefs.value;meterEl.units=meterPrefs.units;meterEl.sensorId=meterPrefs.sensorId;meterEl.enabled=!1;meterEl.hidden=!0;eventBinder.on(meterPrefs,'value-changed',value=>{meterEl.value=value;meterEl.hidden=!1});eventBinder.on(meterPrefs,'name-changed',name=>{meterEl.name=name});eventBinder.on(meterPrefs,'sensorId-changed',id=>{meterEl.sensorId=id})})()}onComponentExitedView(){const{component}=this,meters=Array.from(component.children);meters.forEach(meter=>{meter.value=''})}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_3_corelib_featureflags_featureFlags__=__webpack_require__(17),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};__webpack_exports__.a=class{constructor({component,eventBinder,services}){this.i18n=services.get('i18n');this.dataWorld=services.get('data-world');this.sensorWorld=services.get('sensor-world');this.dataCollection=services.get('data-collection');this.dataAnalysis=services.get('data-analysis');this.popoverManager=services.get('popover-manager');this.toast=services.get('toast');this.configuration=services.get('configuration');this.component=component;this.debouncedGraphTracesUpdated=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.debounce)(()=>{this.onGraphTracesUpdated()},100);this.throttledUpdateAllCurveFitsOnPlotResize=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.throttle)(event=>{this.updateAllCurveFitsOnPlotResize(event)},100);this._throttledApplyCurveFitsForSelection=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.throttle)(selectionId=>{this._applyCurveFitsForSelection(selectionId)},100);eventBinder.bindListeners({source:component,target:this,eventMap:{"base-axis-clicked":'onBaseAxisClicked',"left-axis-clicked":'onLeftAxisClicked',"graph-tools-clicked":'onGraphToolsClicked',"user-requested-autoscale":'onComponentAutoscale',"update-all-curve-fits":'throttledUpdateAllCurveFitsOnPlotResize',"obsolete-analysis":'_cleanupCurrentAnalysis',"regular-traces-updated":'debouncedGraphTracesUpdated',"selections-by-id-changed":'_updateAnalysisForChangedSelections',"data-values-updated":'_updateAllAnalysis'}});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"session-started":'onSessionStarted',"session-closing":'onSessionClosing',"data-set-added":'_cleanupCurrentAnalysis',"collection-preparing":'_cleanupCurrentAnalysis',"column-removed":'onColumnRemoved',"column-group-removed":'onColumnGroupRemoved'}});eventBinder.bindListeners({source:this.sensorWorld,target:this,eventMap:{"sensor-added":'onSensorAddedRemoved',"sensor-removed":'onSensorAddedRemoved'}});eventBinder.bindListeners({source:this.dataCollection,target:this,eventMap:{"collection-params-changed":'onDataCollectionCollectionParamsChanged'}})}load(){const{component,dataAnalysis}=this;this.graph=component._graphInstance;this.supportedFits=dataAnalysis.getSupportedFits();this.isPlotManagerOpen=!1;component.dataManager=this.dataWorld.getDataManager();component.supportedFits=this.supportedFits}updateUdm(props){if(0===this.component.udmId){return}this.dataWorld.changeGraph(this.component.udmId,props)}onDataCollectionCollectionParamsChanged(settings){const{configuration,component}=this,showMiniGraph='sa'===configuration.app&&('time-based'===settings.mode||'events-with-entry'===settings.mode);component.dispatchEvent(new CustomEvent('mini-graph-options-change',{detail:{visible:showMiniGraph}}))}onSessionStarted(){const{component}=this,{analysisEl,hasCoreAnalysis}=component;component.updateOptions(this._optionsFromGraph(this.graph));if(hasCoreAnalysis){analysisEl.fireExaminePositionUpdate({examineHidden:!0});analysisEl.fireExamineSettingsUpdate({interpolate:!1,tangentEnabled:!1})}}onSessionClosing(){const{miniGraphWrapper}=this.component;this.graph.autoscaleToFit=!1;this._cleanupCurrentAnalysis();if(miniGraphWrapper){miniGraphWrapper.resetPosition()}}onColumnRemoved(column){const traces=this.graph.getTracesByBaseColId(column.id),trace=this.graph.getTrace(column.id);if(trace){traces.push(trace)}traces.forEach(({yColumn})=>{this.component.removeLeftTrace(yColumn.id);this.component.updateRemoveLeftColumnGroup(yColumn.group.id);this.component.autoscale()})}onColumnGroupRemoved(group){const{component,graph}=this;if(component.leftColumnGroupIds.includes(group.id)){component.updateRemoveLeftColumnGroup(group.id)}else if(graph.baseColumnGroup&&graph.baseColumnGroup.id===group.id){graph.removeBaseColumn()}}onGraphTracesUpdated(){const{component}=this;if(0===component.getLeftTraces().length){this._cleanupCurrentAnalysis()}else if(component.hasCoreAnalysis){this._recreateAnalysisTraceArtifacts();component.analysisEl.updateExamineAndTangent()}}onComponentAutoscale(){this.toast.makeToast(this.i18n.getText('Autoscale'),{duration:2e3})}onSensorAddedRemoved(){if(this.isPlotManagerOpen){this.popoverManager.closeAll()}}onBaseAxisClicked(event){const anchor=event.detail,{dataWorld,popoverManager,graph,component,i18n}=this,columns=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqBy)(dataWorld.getColumns(),column=>{return column.getGroupID()}),columnNames=columns.map(column=>{const columnGroup=column.group;return columnGroup.getNameUnits()}),columnClicked=index=>{const column=columns[index];component.triggerUserAction('column-clicked');component.setBaseColumnID(column.id);setTimeout(()=>{component.autoscale()});component.getLeftTraces().forEach(trace=>{const baseColumn=dataWorld.getColumnForSet(column,trace.yColumn.getSetID());if(baseColumn){component.removeLeftTrace(baseColumn.id)}})},allItems=[];let activeColumnName,activeId;if(graph.getBaseColumn()){const columnGroup=graph.getBaseColumn().group;activeColumnName=columnGroup.getNameUnits()}if(0<columns.length){columns.forEach((column,i)=>{if(activeColumnName===columnNames[i]){activeId=i.toString()}allItems.push({id:`${i}`,title:columnNames[i],selectAction:()=>columnClicked(i)})})}else{allItems.push({id:'0',title:i18n.getText('No Columns'),disabled:'disabled'})}popoverManager.presentPopoverList({items:allItems,icons:!1,checkmarks:!0,active:activeId,anchor,orientation:'top'})}onLeftAxisClicked(event){const{component,dataWorld,popoverManager,i18n}=this,anchor=event.detail,{dataSets,columnGroups,predictions,graphMatches}=this.getLeftTraceList(),getAutoscaleOpts=()=>{return dataWorld.getSession().isCollecting?{axis:'y'}:{}};this.isPlotManagerOpen=!0;this.popoverManager.presentPopover('vst-core-graph-plot-manager',{anchor,orientation:'right',properties:{dataSets,predictions,graphMatches,columnGroups},events:()=>({"column-group-selected":event=>{const groupId=event.detail;component.updateAddLeftColumnGroup(groupId);component.triggerUserAction('column-selected');component.autoscale(getAutoscaleOpts())},"column-group-deselected":event=>{const groupId=event.detail;component.updateRemoveLeftColumnGroup(groupId);component.triggerUserAction('column-deselected')},"data-set-selected":event=>{const setId=event.detail;component.updateAddDataSet(setId);component.autoscale(getAutoscaleOpts())},"data-set-deselected":event=>{const setId=event.detail;component.updateRemoveDataSet(setId)},"prediction-selected":event=>{const columnId=event.detail;component.addLeftTrace(columnId);component.triggerUserAction('column-selected');component.autoscale(getAutoscaleOpts())},"prediction-deselected":event=>{const columnId=event.detail;component.removeLeftTrace(columnId)},"graph-match-selected":event=>{const columnId=event.detail;component.addLeftTrace(columnId)},"graph-match-deselected":event=>{const columnId=event.detail;component.removeLeftTrace(columnId)},"show-column-group-options":event=>{const{item:columnGroup,anchor}=event.detail,group=columnGroup,groupId=group.id;popoverManager.presentPopoverList({anchor,orientation:'right',items:[{id:'column_options',title:i18n.getText('Column Options'),selectAction:()=>popoverManager.presentDialog('vst-core-column-group-options',{title:i18n.getText('Column Options'),controllerType:'ColumnGroupOptionsController',controllerParams:{sourceGroupId:groupId,action:'edit'}})},{id:'add_manual_column',title:i18n.getText('Add Manual Column'),selectAction:()=>popoverManager.presentDialog('vst-core-column-group-options',{title:i18n.getText('Add Manual Column'),controllerType:'ColumnGroupOptionsController',controllerParams:{sourceGroupId:groupId,action:'add',type:'manual'}})},{id:'add_calc_column',title:i18n.getText('Add Calculated Column'),selectAction:()=>popoverManager.presentDialog('vst-core-column-group-options',{title:i18n.getText('Add Calculated Column'),controllerType:'ColumnGroupOptionsController',controllerParams:{sourceGroupId:groupId,action:'add',type:'calc'}})},{id:'delete_column',title:i18n.getText('Delete Column'),include:group.deletable,selectAction:()=>{const messageBoxConfig={title:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__.sprintf)(i18n.getText('Delete Column %s?'),group.name),body:i18n.getText('Column will be deleted in all data sets. The deletion cannot be undone.'),buttons:[{id:'cancel',message:i18n.getText('Cancel'),style:'btn-tertiary'},{id:'delete',message:i18n.getText('Delete'),style:'btn-error'}],cancel:'cancel'};return popoverManager.presentDialog('vst-core-message-box',{title:messageBoxConfig.title,properties:{view:messageBoxConfig},events:({cancelWorkflow,completeWorkflow})=>({"button-clicked":args=>{const action=args.detail.msg;if('delete'===action){dataWorld.removeColumnGroup(groupId).then(()=>completeWorkflow())}else if('cancel'===action){cancelWorkflow()}}})})}}]})},"show-data-set-options":event=>{const{item:dataSet,anchor}=event.detail;popoverManager.presentPopoverList({anchor,orientation:'right',items:[{id:'rename_data_set',title:i18n.getText('Rename Data Set'),selectAction:()=>popoverManager.presentDialog('vst-core-rename',{title:i18n.getText('Rename Data Set'),properties:{name:dataSet.name,nameDescription:i18n.getText('Data Set Name'),nameMaxLength:100,nameMaxLengthError:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__.sprintf)(i18n.getText('Data set name has %s character limit.'),'100')},events:({component,completeWorkflow,cancelWorkflow})=>({save:()=>{dataWorld.updateDataSet(dataSet.id,{name:component.name});completeWorkflow()},cancel:()=>{cancelWorkflow()}})})},{id:'add_new_data_set',title:i18n.getText('Add New Data Set'),include:'ManualEntry'===dataWorld.sessionType,selectAction(){return dataWorld.createNewDataSet()}},{id:'delete_data_set',title:i18n.getText('Delete Data Set'),selectAction(){return dataWorld.removeDataSet(dataSet.id).catch(err=>console.error(err))},include:Object(__WEBPACK_IMPORTED_MODULE_3_corelib_featureflags_featureFlags__.c)('ff-data-set-deletion')}]})},"show-prediction-options":event=>{const{item:prediction,anchor}=event.detail;popoverManager.presentPopoverList({anchor,orientation:'right',items:[{id:'rename_prediction',title:i18n.getText('Rename Prediction'),selectAction:()=>popoverManager.presentDialog('vst-core-rename',{title:i18n.getText('Rename Prediction'),properties:{name:prediction.name,nameDescription:i18n.getText('Prediction Name'),nameMaxLength:100,nameMaxLengthError:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__.sprintf)(i18n.getText('Prediction name has %s character limit.'),'100')},events:({component,completeWorkflow,cancelWorkflow})=>({save:()=>{dataWorld.updateDataSet(prediction.id,{name:component.name});completeWorkflow()},cancel:()=>{cancelWorkflow()}})})},{id:'delete_data_set',title:i18n.getText('Delete Prediction'),selectAction(){return dataWorld.removeDataSet(prediction.id).catch(err=>console.error(err))}}]})},"show-graph-match-options":event=>{const{item:graphMatch,anchor}=event.detail;popoverManager.presentPopoverList({anchor,orientation:'right',items:[{id:'delete_data_set',title:i18n.getText('Delete Graph Match'),selectAction(){return dataWorld.removeDataSet(graphMatch.id).catch(err=>console.error(err))}}]})}})}).then(()=>{this.isPlotManagerOpen=!1})}onGraphToolsClicked(event){const{i18n,component,configuration,dataCollection}=this,target=event.detail.target,availableMatchColumns=this.dataWorld.getGraphMatchColumns(),isCollecting=this.dataWorld.getSession().isCollecting,graphTools=[[{id:'mini_graph',title:i18n.getText('Graph Inset'),type:'switch',include:'sa'===configuration.app,disabled:'full-spectrum'===dataCollection.getCollectionParams().mode,checked:component.miniGraphOptions.visible,checkedChanged:checked=>{component.dispatchEvent(new CustomEvent('mini-graph-options-change',{detail:{visible:checked}}))}}],[{id:'interpolate',title:i18n.getText('Interpolate'),type:'switch',include:component.hasCoreAnalysis,incompatibleSwitch:'tangent',checked:component.analysisEl.interpolate,checkedChanged:checked=>{component.analysisEl.fireExamineSettingsUpdate({interpolate:checked});if(!checked)component.analysisEl.fireExaminePositionUpdate({xPosition:component.analysisEl.examinePin.examinePosition.closestXPt})}},{id:'tangent',title:i18n.getText('Tangent'),include:component.hasCoreAnalysis,disabled:!component.hasTrace||this.dataWorld.isSessionEmpty,type:'switch',incompatibleSwitch:'interpolate',checked:component.analysisEl.tangent,checkedChanged:checked=>{component.analysisEl.fireExamineSettingsUpdate({tangentEnabled:checked})}}],[{id:'statistics',title:i18n.getText('View Statistics'),include:component.hasCoreAnalysis,disabled:!component.hasTrace||this.dataWorld.isSessionEmpty,selectAction:()=>this._updateDefaultAnalysisSelection({analysisType:'statistics',permanent:!0})},{id:'integral',title:i18n.getText('View Integral'),include:component.hasCoreAnalysis,disabled:!component.hasTrace||this.dataWorld.isSessionEmpty,selectAction:()=>this._updateDefaultAnalysisSelection({analysisType:'integrals',permanent:!0})},{id:'curve_fit',title:i18n.getText('Apply Curve Fit'),include:component.hasCoreAnalysis,disabled:!component.hasTrace||this.dataWorld.isSessionEmpty,selectAction:()=>this.onApplyCurveFit(target)}],[{id:'annotation',title:i18n.getText('Add Annotation'),include:component.analysisEl,disabled:isCollecting,selectAction:()=>this.onAddAnnotation()},{id:'prediction',title:i18n.getText('Add Prediction'),include:component.predictionsEl,disabled:isCollecting,selectAction:()=>this.onAddPredictionSelection()},{id:'graph_match',title:i18n.getText('Add Graph Match'),include:0<availableMatchColumns.length&&'time-based'===this.dataCollection.mode,disabled:isCollecting,class:'has-submenu',selectAction:()=>this.onAddGraphMatch(target,availableMatchColumns)},{id:'graph_options',title:i18n.getText('Edit Graph Options'),selectAction:()=>this.onEditGraphOptions(target)}]];this.popoverManager.presentPopoverList({anchor:target,orientation:'right',items:graphTools})}onApplyCurveFit(target){const{supportedFits,component}=this,fitsPreviewSelected=(curveFitType,isInitialSelection)=>{if(isInitialSelection){this._updateDefaultAnalysisSelection({analysisType:'curveFits',curveFitType,permanent:!1})}else{const nonPermanentId=this._firstNonPermanentSelectionKey(component.selectionsById);component._selectionModified(nonPermanentId,{curveFitType})}},fitsPreviewCancelled=()=>{const{selectionsById}=component,nonPermanentId=this._firstNonPermanentSelectionKey(selectionsById),selection=selectionsById[nonPermanentId];if(selection.autoGenerated){component._selectionCreatedOrDeleted(!1,void 0,selection.id)}else{component._selectionModified(nonPermanentId,{analysisType:'',curveFitType:'',analysisTraceArtifacts:[]})}},fitsPreviewApplied=()=>{const{selectionsById}=component,nonPermanentId=this._firstNonPermanentSelectionKey(selectionsById);component._selectionModified(nonPermanentId,{permanent:!0})};this.popoverManager.presentPopover('vst-core-curvefit-selector',{anchor:target,orientation:'right',properties:{selected:'LINEAR',supportedFits},events:({completeWorkflow})=>({"curve-fit-selected":e=>{const{fitType,isInitialSelection}=e.detail;fitsPreviewSelected(fitType,isInitialSelection)},"curve-fit-canceled":()=>{fitsPreviewCancelled();completeWorkflow()},"curve-fit-applied":()=>{fitsPreviewApplied();completeWorkflow()}})}).then(result=>{if(result&&result.cancelled){fitsPreviewApplied()}})}onAddAnnotation(){this.component.dispatchEvent(new CustomEvent('annotation-addition'))}onAddPredictionSelection(){const graphEl=this.component;this.component.dispatchEvent(new CustomEvent('add-prediction-selection',{detail:{graphEl}}))}onAddGraphMatch(target,availableMatchColumns){const{i18n,popoverManager}=this,matchColItems=[];availableMatchColumns.forEach(col=>{const item={id:col.id,title:i18n.getText(col.group.name,'sensormap'),selectAction:()=>this.component.addGraphMatch(col.id)};matchColItems.push(item)});popoverManager.presentPopoverList({items:matchColItems,anchor:target,orientation:'right'})}onEditGraphOptions(target){const updateOptions=name=>({detail:value})=>{this._triggerUserAction('edit-graph-options');this.component.updateOptions({[name]:value})},{component}=this,properties=_extends({},component.options),{graphXRange,graphYRange}=properties;properties.xMin=__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.sigFig(graphXRange.min,4);properties.xMax=__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.sigFig(graphXRange.max,4);properties.yMin=__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.sigFig(graphYRange.min,4);properties.yMax=__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.sigFig(graphYRange.max,4);properties.baseScaling=component.axisScalingModes.base;properties.leftScaling=component.axisScalingModes.left;this.popoverManager.presentPopover('vst-core-graph-options',{title:this.i18n.getText('Graph Options'),anchor:target,orientation:'right',properties,events:()=>({"title-changed":updateOptions('title'),"appearance-changed":updateOptions('appearance'),"x-range-changed":updateOptions('graphXRange'),"y-range-changed":updateOptions('graphYRange'),"line-weight-changed":updateOptions('lineWeight'),"label-size-changed":updateOptions('labelSize'),"scaling-mode-changed":component.updateScalingMode.bind(component)})})}_cleanupCurrentAnalysis({addedDataSet}={}){const{component,graph:graphInstance}=this;if(component&&component.hasCoreAnalysis&&graphInstance){if(!addedDataSet||'regular'===addedDataSet.type){component.analysisEl.fireExaminePositionUpdate({examineHidden:!0});component.dispatchEvent(new CustomEvent('analysis-cleanup'));graphInstance.removeAllTangentTraces()}}}_updateDefaultAnalysisSelection(selectionProps){const{component}=this,{analysisType}=selectionProps,selectionUpdates=_extends({},selectionProps,{analysisTraceArtifacts:this._generateAnalysisTraceArtifacts(analysisType)}),{selectionsById}=component,nonPermanentId=this._firstNonPermanentSelectionKey(selectionsById);if(nonPermanentId){component._selectionModified(nonPermanentId,selectionUpdates)}else{const{min,max}=component.getBaseRange();component._selectionCreatedOrDeleted(!0,_extends({},selectionUpdates,{autoGenerated:!0,range:{min,max}}))}}_generateAnalysisTraceArtifacts(analysisType){const{component,dataWorld,graph:graphInstance}=this,createGraphTraceLookup={curveFits:graphInstance.createFitTrace.bind(graphInstance),integrals:graphInstance.createIntegralTrace.bind(graphInstance)},createAnalysisGraphTrace=createGraphTraceLookup[analysisType],analysisArtifacts=[];component.getLeftTraces().forEach(trace=>{const{id:yid,setID}=trace.yColumn,xCol=component.getBaseColumn(),xid=dataWorld.getColumnForSet(xCol,setID).id;analysisArtifacts.push({xid,yid,traceColor:trace.color,analysisGraphTraceId:createAnalysisGraphTrace?createAnalysisGraphTrace(trace.id).id:void 0})});return analysisArtifacts}_applyAnalysisForSelection(selection){const{analysisType,id}=selection;switch(analysisType){case'curveFits':this._throttledApplyCurveFitsForSelection(id);break;case'integrals':this._applyIntegralsForSelection(id);break;case'statistics':this._applyStatisticsForSelection(id);break;default:break;}}_updateAllAnalysis(){const{component}=this;if(component.hasCoreAnalysis){component.analysisEl.updateExamineAndTangent()}Object.values(component.selectionsById).forEach(selection=>{this._applyAnalysisForSelection(selection)})}_updateAnalysisForChangedSelections({detail:{newSelections={},oldSelections={}}={}}){Object.keys(_extends({},newSelections,oldSelections)).forEach(selectionId=>{const[newSelection,oldSelection]=[newSelections,oldSelections].map(item=>item[selectionId]);if(!newSelection){this._removeAnalysisFromGraph(oldSelections[selectionId])}else if(!oldSelection){this._applyAnalysisForSelection(newSelection)}else if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newSelection.analysisTraceArtifacts,oldSelection.analysisTraceArtifacts)){this._removeAnalysisFromGraph(oldSelections[selectionId]);this._applyAnalysisForSelection(newSelection)}else if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newSelection,oldSelection)){this._applyAnalysisForSelection(newSelection)}})}_applyCurveFitsForSelection(selectionId){const{graph:graphInstance,dataAnalysis,component}=this,selection=component.selectionsById[selectionId],{id,range,curveFitType}=selection,allFitsInfo=[],promises=[];selection.analysisTraceArtifacts.forEach(fit=>{const analysisGraphTrace=graphInstance.getFitTrace(fit.analysisGraphTraceId),p=dataAnalysis.calculateFit(fit.xid,fit.yid,range,curveFitType).then(data=>{const{coeffs,fitInfo={},error}=data;fitInfo.traceColor=fit.traceColor;allFitsInfo.push(fitInfo);if(!error){component._updateAnalysisTrace(id,fit.xid,fit.yid,{coeffs,rmse:+fitInfo.rmse,correlation:+fitInfo.r});const graphRange=component.analysisEl.getGraphBaseRange(),pixelDelta=Math.abs(graphRange.max-graphRange.min)/component.analysisEl.getGraphPxWidth();return dataAnalysis.computeTrace(curveFitType,coeffs,graphRange,pixelDelta).then(traceData=>{analysisGraphTrace.setData(traceData.points)})}else if(error){fitInfo.error=error}return Promise.resolve()}).catch(err=>{analysisGraphTrace.setData([]);console.error(err)});promises.push(p)});Promise.all(promises).then(()=>{graphInstance.updateData();const{supportedFits}=component,supportedFit=supportedFits.find(fit=>fit.id===curveFitType),selectionEl=this._getSelectionElementById(id);if(selectionEl){selectionEl.fitsEnabled=!0;component.analysisEl.bindInfoBox(selectionEl,'curve_fit');setTimeout(()=>{const fitBox=selectionEl.shadowRoot.querySelector('#curve_fit');if(supportedFit){fitBox.title=supportedFit.name}fitBox.fitData=allFitsInfo})}})}_applyIntegralsForSelection(selectionId){const{graph:graphInstance,dataAnalysis,component}=this,selection=component.selectionsById[selectionId],{id,range}=selection,selectionEl=this._getSelectionElementById(id),integralsInfo=[];selection.analysisTraceArtifacts.forEach(intgrl=>{const result=dataAnalysis.calculateIntegralAndGetData(intgrl.xid,intgrl.yid,range)||{},analysisGraphTrace=graphInstance.getIntegralTrace(intgrl.analysisGraphTraceId);if(result.success){analysisGraphTrace.setData(result.integralData);const xUnits=this.dataWorld.getColumn(intgrl.xid).group.units||'',yUnits=this.dataWorld.getColumn(intgrl.yid).group.units||'',unitSeparator=xUnits.length&&yUnits.length?'\u22C5':'';integralsInfo.push({integralValue:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(result.integralValue),traceColor:intgrl.traceColor,units:`${yUnits}${unitSeparator}${xUnits}`})}else{analysisGraphTrace.setData([])}});graphInstance.updateData();selectionEl.integralsEnabled=!0;component.analysisEl.bindInfoBox(selectionEl,'integral');setTimeout(()=>{const intBox=selectionEl.shadowRoot.querySelector('#integral');intBox.intInfo=integralsInfo})}_applyStatisticsForSelection(selectionId){const{dataAnalysis,component}=this,selection=component.selectionsById[selectionId],{range,id}=selection,promises=[],fitBoxInfo={xStats:{deltaX:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(range.max-range.min),xUnits:component.analysisEl._getBaseColumnUnits()},yStats:[]};selection.analysisTraceArtifacts.forEach(traceStats=>{const p=dataAnalysis.calculateStatistics(traceStats.xid,traceStats.yid,range).then(stats=>{const yUnits=this.dataWorld.getColumn(traceStats.yid).group.units||'';fitBoxInfo.yStats.push({yUnits,traceColor:traceStats.traceColor,deltaY:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(stats.max.y-stats.min.y),samples:stats.points.length,mean:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(stats.mean),stdDev:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(stats.stdDev),min:{value:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(stats.min.y),at:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(stats.min.x)},max:{value:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(stats.max.y),at:__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.getValue(stats.max.x)}})}).catch(err=>console.error(err));promises.push(p)});Promise.all(promises).then(()=>{const selectionEl=this._getSelectionElementById(id);if(selectionEl){selectionEl.statsEnabled=!0;component.analysisEl.bindInfoBox(selectionEl,'stats');setTimeout(()=>{const statsBox=selectionEl.shadowRoot.querySelector('#stats');statsBox.xStats=fitBoxInfo.xStats;statsBox.yStats=fitBoxInfo.yStats})}})}_removeAnalysisFromGraph({analysisTraceArtifacts=[],analysisType='',id}={}){const{graph:graphInstance}=this,selectionEl=this._getSelectionElementById(id),removeTraceLookup={curveFits:graphInstance.removeFitTrace.bind(graphInstance),integrals:graphInstance.removeIntegralTrace.bind(graphInstance)},removeGraphTrace=removeTraceLookup[analysisType];analysisTraceArtifacts.forEach((item,index,arr)=>{if(removeGraphTrace){removeGraphTrace(item.analysisGraphTraceId,!0)}if(index===arr.length-1){graphInstance.updateData()}});if(selectionEl){selectionEl.fitsEnabled=!1;selectionEl.integralsEnabled=!1;selectionEl.statsEnabled=!1}}updateAllCurveFitsOnPlotResize(){const{selectionsById}=this.component;Object.entries(selectionsById).filter(pair=>'curveFits'===pair[1].analysisType).forEach(([selectionId])=>{this._applyCurveFitsForSelection(selectionId)})}_recreateAnalysisTraceArtifacts(){const{selectionsById}=this.component;Object.entries(selectionsById).forEach(([id,selection])=>{this.component._selectionModified(id,{analysisTraceArtifacts:this._generateAnalysisTraceArtifacts(selection.analysisType)})})}_getSelectionElementById(id){const{component:{analysisEl}={}}=this;return analysisEl&&analysisEl.getSelectionElementById(id)}_firstNonPermanentSelectionKey(selectionsByKey){const[nonPermanentKey]=Object.entries(selectionsByKey).find(pair=>!pair[1].permanent)||[];return nonPermanentKey}getLeftTraceList(){const{dataWorld,component}=this,dataSets=[...dataWorld.getDataSets().map(set=>({id:set.id,name:set.name,columnIDs:set.columnIDs,isActive:component.dataSetIds.includes(set.id)}))];let columnGroups=[...dataWorld.getColumnGroups().map(group=>({id:group.id,name:group.name,units:group.units,columns:[...group.columns],deletable:group.deletable,isActive:component.leftColumnGroupIds.includes(group.id)}))];const predictions=[...dataWorld.getSpecialDataSets().filter(set=>'prediction'===set.type).map(prediction=>({id:prediction.id,name:prediction.name,baseColumnId:prediction.columnIDs[0],traceColId:prediction.columnIDs[1],isActive:!!this.graph.getTrace(prediction.columnIDs[1])}))],graphMatches=[...dataWorld.getSpecialDataSets().filter(set=>'graph-match'===set.type).map(match=>({id:match.id,name:match.name,baseColumnId:match.columnIDs[0],traceColId:match.columnIDs[1],isActive:!!this.graph.getTrace(match.columnIDs[1])}))],baseColumnGroup=component.getBaseColumn()?component.getBaseColumn().group:void 0;if(baseColumnGroup){columnGroups=columnGroups.filter(group=>group.id!==baseColumnGroup.id&&0!==group.columns.length)}const leftTraceList={baseColumnGroup,columnGroups,graphMatches,predictions,dataSets};return leftTraceList}_triggerUserAction(type){if('DataShare'===this.dataWorld.sessionType){this.component.triggerUserAction(type)}}_optionsFromGraph(graph){const xRange=graph.getAxis('x').getRange(),yRange=graph.getAxis('y').getRange();return{appearance:graph.getDrawOptions(),graphXRange:{min:xRange.min,max:xRange.max},graphYRange:{min:yRange.min,max:yRange.max}}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({component,eventBinder,services}){this.i18n=services.get('i18n');this.dataWorld=services.get('data-world');this.dataAnalysis=services.get('data-analysis');this.viewManager=services.get('view-manager');this.popoverManager=services.get('popover-manager');this.component=component;eventBinder.bindListeners({source:component,target:this,eventMap:{"update-annotation":'onComponentUpdateAnnotation',"delete-annotation":'onComponentDeleteAnnotation',"show-annotation-actions":'onComponentShowAnnotationActions'}})}load(){const{component,dataAnalysis}=this;component.supportedFits=dataAnalysis.getSupportedFits()}onComponentUpdateAnnotation(e){const annotation=e.detail,{dataWorld,component}=this,props={xPos:annotation.xCanvasPos,yPos:annotation.yCanvasPos,xArrow:annotation.xCanvasPos,yArrow:annotation.yCanvasPos,udmId:annotation.udmId,annotationText:annotation.annotationText};dataWorld.addGraphAnnotation(component.graph.udmId,props).then(response=>{if(response.success){component.refreshAnnotation(annotation,response)}else{console.error(response)}})}onComponentDeleteAnnotation(e){const annotation=e.detail,{dataWorld,component}=this;dataWorld.removeGraphAnnotation(component.graph.udmId,annotation.udmId).then(response=>{if(!response.success){console.error(response)}})}onComponentShowAnnotationActions(e){const annotationEl=e.detail.annotation,annotationBoxEl=e.detail.annotationBoxEl;this.popoverManager.presentPopoverList({items:[{id:annotationEl.id,title:this.i18n.getText('Delete Annotation'),selectAction:()=>{this.component.dispatchEvent(new CustomEvent('annotation-removal',{detail:{id:annotationEl.id}}))}}],anchor:annotationBoxEl,orientation:'right'})}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({eventBinder,services,component}){this.dataWorld=services.get('data-world');this.i18n=services.get('i18n');this.component=component;eventBinder.bindListeners({source:component,target:this,eventMap:{"init-prediction":'onComponentInitPrediction',"save-prediction":'onComponentSavePrediction'}})}onComponentInitPrediction(){const{component,i18n,dataWorld}=this;component.predictionName=`${i18n.getText('Prediction')} ${dataWorld.getSpecialDataSets().filter(set=>'prediction'===set.type).length+1}`}onComponentSavePrediction(e){const{dataWorld,component}=this,{points,name}=e.detail;dataWorld.createPrediction(points,{name}).then(traceColId=>{component.addTrace(traceColId)})}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_datacollection_photogateParamMap__=__webpack_require__(67);__webpack_exports__.a=class{constructor({component,eventBinder,services}){this.dataWorld=services.get('data-world');this.sensorWorld=services.get('sensor-world');this.dataCollection=services.get('data-collection');this.component=component;eventBinder.bindListeners({source:this.sensorWorld,target:this,eventMap:{"sensor-removed":'onComponentSensorRemoved',"sensor-added":'onComponentSensorAdded'}});eventBinder.bindListeners({source:this.component,target:this,eventMap:{"settings-submitted":'onComponentSettingsSubmitted'}})}load(){this.component.interfaces=this.sensorWorld.interfaces;this.sensorWorld.sensors.forEach(sensor=>{this.checkForRadiationMonitor(sensor.id);this.component.sensorAdded(sensor)});this.getCollectionParams();if(this.dataWorld.isSessionEmpty){this.component.lockSettings(!1)}else{this.component.lockSettings(!0)}}onComponentSettingsSubmitted(e){const formValues=e.detail,mode=formValues.mode;this.setCollectionParams(mode,formValues).then(()=>{this.component.completeWorkflow()}).catch(err=>{console.error(err)})}onComponentSensorAdded(event){this.component.sensorAdded(event.detail)}onComponentSensorRemoved(sensor){this.checkForRadiationMonitor(sensor.id);this.component.sensorRemoved(sensor)}checkForRadiationMonitor(sensorId){const eventParams=this.dataCollection.eventBasedParams;if(this.sensorWorld.isRadiationMonitor(sensorId)){if(!eventParams.isDirty){eventParams.accumulate=50;eventParams.isDirty=!0}eventParams.average=!1;this.component.hasRadiationMonitor=!0}}getCollectionParams(){const settings={mode:this.dataCollection.mode};['time-based','event-based','drop-counting','full-spectrum','photogate-timing'].forEach(mode=>{const params=this.dataCollection.getCollectionParams(mode),modeParams=params.params;settings[mode]=modeParams;if(mode.match('event')){this.dataWorld.getColumnGroups().forEach(group=>{if('event'===group.type){settings[mode].name=group.name;settings[mode].units=group.units}})}else if(mode.match('photogate-timing')){settings['photogate-timing']=Object.assign(this.component.photogateConfig,__WEBPACK_IMPORTED_MODULE_0_corelib_datacollection_photogateParamMap__.a.backendToFrontend(settings[mode]))}});this.component.populateForm(settings)}setCollectionParams(mode,params){let settings=params[mode];const isEventsMode=mode.match('events');if(isEventsMode){settings=params['event-based']}else if(mode.match('photogate-timing')){settings=__WEBPACK_IMPORTED_MODULE_0_corelib_datacollection_photogateParamMap__.a.frontendToBackend(params[mode])}return new Promise((resolve,reject)=>{if(mode.match('events')){this.dataCollection.eventBasedParams.name=settings.name;this.dataCollection.eventBasedParams.units=settings.units}this.dataCollection.setCollectionParams(mode,settings).then(()=>{if(isEventsMode){const{dataWorld}=this;dataWorld.getColumnGroups().forEach(group=>{if('event'===group.type){dataWorld.updateColumnGroup(group.id,{name:settings.name,units:settings.units})}})}resolve()}).catch(err=>{console.error(err);reject()})})}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({services,component,eventBinder}){this.dataCollection=services.get('data-collection');this.eventBinder=eventBinder;this.component=component;eventBinder.bindListeners({source:component,target:this,eventMap:{"submit-points":'onComponentSubmitPoints',"set-calibration":'onComponentSetCalibration',"reset-calibration":'onComponentResetCalibration',"cancel-calibration":'onComponentCancelCalibration'}})}load({sensor=null}={}){const{component,dataCollection,eventBinder}=this;this.sensor=sensor;dataCollection.enableLiveVoltage(!0);component.sensor=sensor;component.calibration=this.sensor.calibration;eventBinder.bindListeners({source:this.sensor,target:this,eventMap:{"live-voltage-changed":'onSensorLiveVoltageChanged'}})}onComponentSubmitPoints(message){const{component}=this,pairs=message.detail;this.sensor.calculateCalibrationCoeffs(pairs).then(result=>{if(result.success){component.calibration.coeffs=result.coeffs;component.calibrationChanged()}}).catch(err=>{console.error(err)})}onComponentSetCalibration(){const{component}=this,coeffs=[parseFloat(component.calibration.coeffs[0]),parseFloat(component.calibration.coeffs[1])];this.sensor.setCalibrationCoeffs(coeffs).then(result=>{console.dir(result);component.completeWorkflow()}).catch(err=>{console.error(err)})}onComponentResetCalibration(){console.log('RESET FACTORY CALIBRATION HERE - TODO: make this work.')}onComponentCancelCalibration(){this.component.cancelWorkflow()}onSensorLiveVoltageChanged(voltage){const{component}=this;component.sensorVoltage=voltage}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({services,component,eventBinder}){this.deviceManager=services.get('device-manager');this.toast=services.get('toast');this.i18n=services.get('i18n');this.component=component;this.eventBinder=eventBinder;eventBinder.bindListeners({source:component,target:this,eventMap:{"start-calibration-process":'onComponentStartCalibrationProcess',"start-calibration-process-step":'onComponentStartCalibrationProcessStep',"update-calibration-process-step":'onComponentUpdateCalibrationProcessStep',"stop-calibration-process-step":'onComponentStopCalibrationProcessStep',"keep-calibration-process":'onComponentKeepCalibrationProcess',"change-calibration-process":'onComponentChangeCalibrationProcess',"reset-factory-calibration":'onComponentResetFactoryCalibration',"start-blocking-calibration":'onComponentStartBlockingCalibration',"submit-blocking-input":'onComponentSubmitBlockingInput'}})}load({sensor=null}={}){const{component,deviceManager}=this;this.sensor=sensor;this.device=deviceManager.getDevice(sensor.deviceId);const processes=sensor.calibration.processes;component.calProcesses=processes;component.hasBlockingStartCalProcesses=0<processes.length&&'BlockingStart'===processes[0].steps[0].type;component.hasBlockingInputProcesses=0<processes.length&&'BlockingInput'===processes[0].steps[0].type;component.isODO='GDX-ODO'===this.device.orderCode;const fullLocaleCode=this.i18n.getLanguageCode();component.usingFactoryCalibration=this.device.usingFactoryCalibration;component.factoryCalibrationDate=this.device.factoryCalibrationDate.toLocaleDateString(fullLocaleCode);component.usingUserCalibration=this.device.usingUserCalibration;component.userCalibrationDate=this.device.userCalibrationDate.toLocaleString(fullLocaleCode);if(!component.hasBlockingStartCalProcesses&&!component.hasBlockingInputProcesses){this.startCalibrationProcess(sensor._calibrationProcesses[0].id)}this.eventBinder.bindListeners({source:this.device,target:this,eventMap:{"calibration-step-result-changed":'onDeviceCalibrationStepResultChanged'}})}async startCalibrationProcess(processId){const deviceId=this.device.id;try{const result=await this.deviceManager.startCalibrationProcess(deviceId,processId);if(result.success){this.isCalibrating=!0;this.component.startCalibrationProcessStep(0)}}catch(err){console.error(err)}}async destroy(){if(this.isCalibrating){const deviceId=this.device.id,processId=this.component.selectedCalProcess.id;try{const result=await this.deviceManager.cancelCalibrationProcess(deviceId,processId);if(!result.success){console.error('cancelCalibrationProcess failed')}}catch(err){console.error(err)}}}onComponentStartCalibrationProcess(e){const{processId}=e.detail;this.startCalibrationProcess(processId)}async onComponentStartCalibrationProcessStep(e){const deviceId=this.device.id,{processId,stepId,inputValue}=e.detail;try{const result=await this.deviceManager.startCalibrationProcessStep(deviceId,processId,stepId,inputValue);if(!result.success){console.error('startCalibrationProcessStep failed')}}catch(err){console.error(err)}}async onComponentUpdateCalibrationProcessStep(e){const deviceId=this.device.id,{processId,stepId,inputValue}=e.detail;try{const result=await this.deviceManager.updateCalibrationProcessStep(deviceId,processId,stepId,inputValue);if(!result.success){console.error('updateCalibrationProcessStep failed')}}catch(err){console.error(err)}}async onComponentStopCalibrationProcessStep(e){const deviceId=this.device.id,{processId,stepId}=e.detail,{deviceManager,component}=this;component.enableDisableForms(!0);try{const result=await deviceManager.stopCalibrationProcessStep(deviceId,processId,stepId,!0);if(result.success){component.moveProcessToNextStep(processId,stepId)}else{console.error('stopCalibrationProcessStep failed');component.enableDisableForms(!1)}}catch(err){component.enableDisableForms(!1);console.error(err)}}async onComponentKeepCalibrationProcess(e){const deviceId=this.device.id,{processId}=e.detail,{deviceManager,component}=this;try{const result=await deviceManager.keepCalibrationProcess(deviceId,processId);if(result.success){this.isCalibrating=!1;component.completeWorkflow()}else{console.error('keepCalibrationProcess failed')}}catch(err){console.error(err)}}async onComponentChangeCalibrationProcess(e){const deviceId=this.device.id,{oldCalProcessId,newCalProcessId}=e.detail,{deviceManager,component}=this;try{const result=await deviceManager.cancelCalibrationProcess(deviceId,oldCalProcessId);if(result.success){this.isCalibrating=!1;const result=await deviceManager.startCalibrationProcess(deviceId,newCalProcessId);if(result.success){this.isCalibrating=!0;component.startCalibrationProcessStep(0)}else{console.error('startCalibrationProcess failed')}}else{console.error('cancelCalibrationProcess failed')}}catch(err){console.error(err)}}async onComponentResetFactoryCalibration(e){const deviceId=this.device.id,{deviceManager,toast,i18n,component}=this,{processId}=e.detail;try{const result=await deviceManager.cancelCalibrationProcess(deviceId,processId);if(result.success){this.isCalibrating=!1;const result=await deviceManager.resetFactoryCalibration(deviceId);if(result.success){component.completeWorkflow();toast.makeToast(i18n.getText('Calibration reset successful'))}else{console.error('resetFactoryCalibration failed')}}else{console.error('cancelCalibrationProcess failed')}}catch(err){console.error(err)}}async onComponentStartBlockingCalibration(){const{deviceManager,component}=this,deviceId=this.device.id,processId=this.sensor._calibrationProcesses[0].id;function timeout(ms){return new Promise(resolve=>setTimeout(resolve,ms))}try{const result=await deviceManager.startCalibrationProcess(deviceId,processId);if(result.success){this.isCalibrating=!0;const result=await deviceManager.startCalibrationProcessStep(deviceId,processId,0);if(result.success){await timeout(500);const result=await deviceManager.stopCalibrationProcessStep(deviceId,processId,0,!0);if(result.success){const result=await deviceManager.startCalibrationProcessStep(deviceId,processId,1);if(result.success){component.isCalibrating=!0}else{console.error('startCalibrationProcessStep failed')}}else{console.error('stopCalibrationProcessStep failed')}}else{console.error('startCalibrationProcessStep failed')}}else{console.error('startCalibrationProcess failed')}}catch(err){console.error(err)}}async onComponentSubmitBlockingInput(e){const deviceId=this.device.id,{processId,inputValue}=e.detail,{deviceManager,component}=this;function timeout(ms){return new Promise(resolve=>setTimeout(resolve,ms))}try{const result=await deviceManager.startCalibrationProcess(deviceId,processId);if(result.success){this.isCalibrating=!0;component.isCalibrating=!0;const result=await deviceManager.startCalibrationProcessStep(deviceId,processId,0);if(result.success){const result=await deviceManager.updateCalibrationProcessStep(deviceId,processId,0,inputValue);if(result.success){await timeout(500);const result=await deviceManager.stopCalibrationProcessStep(deviceId,processId,0,!0);if(result.success){const result=await deviceManager.startCalibrationProcessStep(deviceId,processId,1);if(!result.success){console.error('startCalibrationProcessStep failed')}}else{console.error('stopCalibrationProcessStep failed')}}else{console.error('updateCalibrationProcessStep failed')}}else{console.error('startCalibrationProcessStep failed')}}else{console.error('startCalibrationProcess failed')}}catch(err){console.error(err)}}async _finishBlockingCalibration(){const{deviceManager,component}=this,deviceId=this.device.id,processId=this.sensor._calibrationProcesses[0].id;function timeout(ms){return new Promise(resolve=>setTimeout(resolve,ms))}try{const result=await deviceManager.stopCalibrationProcessStep(deviceId,processId,1,!0);if(result.success){const result=await deviceManager.startCalibrationProcessStep(deviceId,processId,2);if(result.success){await timeout(500);const result=await deviceManager.stopCalibrationProcessStep(deviceId,processId,2,!0);if(result.success){const result=await deviceManager.keepCalibrationProcess(deviceId,processId);if(result.success){this.isCalibrating=!1;component.isCalibrating=!1;component.stepsComplete=!0}else{console.error('keepCalibrationProcess failed')}}else{console.error('stopCalibrationProcessStep failed')}}else{console.error('startCalibrationProcessStep failed')}}else{console.error('stopCalibrationProcessStep failed')}}catch(err){console.error(err)}}onDeviceCalibrationStepResultChanged(e){const{component}=this,rsrValue=e.result.value;component.rsrValue=rsrValue;if((component.hasBlockingStartCalProcesses||component.hasBlockingInputProcesses)&&100===rsrValue){this._finishBlockingCalibration()}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({services,component,eventBinder}){this.dataCollection=services.get('data-collection');this.deviceManager=services.get('device-manager');this.toast=services.get('toast');this.i18n=services.get('i18n');this.component=component;this.eventBinder=eventBinder;eventBinder.bindListeners({source:component,target:this,eventMap:{"set-drop-counter-calibration":'onComponentSetDropCounterCalibration',"cancel-calibration":'onComponentCancelCalibration'}})}load({sensor=null}={}){const{component,dataCollection,deviceManager,eventBinder}=this;this.sensor=sensor;this.device=deviceManager.getDevice(sensor.deviceId);this.voltageHasComeIn=!1;dataCollection.enableLiveVoltage(!0);component.sensor=sensor;component.calibration=this.sensor.calibration;eventBinder.bindListeners({source:this.sensor,target:this,eventMap:{"live-voltage-changed":'onSensorLiveVoltageChanged'}})}onComponentSetDropCounterCalibration(e){const{coeffs}=e.detail,{component}=this;this.sensor.setCalibrationCoeffs(coeffs).then(()=>{component.completeWorkflow()}).catch(err=>{console.error(err)})}onComponentCancelCalibration(){this.component.cancelWorkflow()}onSensorLiveVoltageChanged(voltage){const{component}=this;if(!this.voltageHasComeIn){this.initialSensorVoltage=voltage;this.voltageHasComeIn=!0}component.sensorVoltage=voltage-this.initialSensorVoltage+1}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({component,services,eventBinder}){this.deviceManager=services.get('device-manager');this.i18n=services.get('i18n');this.component=component;this.device=this.deviceManager.getDevice(component.device.id);this.eventBinder=eventBinder;this.eventBinder.bindListeners({source:this.device,target:this,eventMap:{"battery-changed":'onDeviceBatteryChanged'}});eventBinder.bindListeners({source:component,target:this,eventMap:{"identify-device":'onComponentIdentifyDevice',"get-gdx-sensor-map":'onComponentGetGdxSensorMap'}})}load(){const{component,i18n}=this,fullLocaleString=i18n.getLanguageCode(),{manufactureDate,factoryCalibrationDate}=component.device;component.manufactureDateStamp=`${manufactureDate.toLocaleDateString(fullLocaleString,{month:'long',year:'numeric'})}`;component.factoryCalibDateStamp=`${factoryCalibrationDate.toLocaleDateString(fullLocaleString)}`}onDeviceBatteryChanged(){const{component,deviceManager}=this,device=deviceManager.getDevice(component.device.id);component.device={};component.device=device}onComponentIdentifyDevice(e){const deviceId=parseInt(e.detail);this.deviceManager.identifyDevice(deviceId)}onComponentGetGdxSensorMap(e){const deviceId=parseInt(e.detail);this.deviceManager.getGdxSensorMap(deviceId).then(result=>{this.component.gdxSensorMap=result.map}).catch(err=>{console.error(err)})}}},function(module,__webpack_exports__,__webpack_require__){'use strict';const _=__webpack_require__(1);__webpack_exports__.a=class{constructor({component,eventBinder,services}){this.deviceManager=services.get('device-manager');this.configuration=services.get('configuration');this.popoverManager=services.get('popover-manager');this.i18n=services.get('i18n');this.appLifecycle=services.get('app-lifecycle');this.usb=services.get('usb');this.component=component;this.services=services;eventBinder.bindListeners({source:component,target:this,eventMap:{"connect-device":'onComponentConnectDevice',"disconnect-device":'onComponentDisconnectDevice',"discover-labquest-stream":'onComponentDiscoverLabQuestStream',"enable-device-channel":'onComponentEnableDeviceChannel',"check-for-bluetooth":'onComponentCheckForBluetooth',"update-device-firmware":'onComponentUpdateDeviceFirmware'}});eventBinder.bindListeners({source:this.deviceManager,target:this,eventMap:{"usb-device-list-changed":'onUsbBluetoothDeviceListChanged',"bluetooth-device-list-changed":'onUsbBluetoothDeviceListChanged',"bluetooth-available":'onDMBluetoothAvailable',"bluetooth-unavailable":'onDMBluetoothUnavailable'}})}load(){const{component,usb}=this;component.hasUSB=usb.hasUSB;const initialDeviceList=this.getDevices();initialDeviceList.forEach(device=>{if(device.errorMessage){device.errorMessage=null}});component.updateDeviceLists(initialDeviceList);this.startBluetoothDiscovery();const isWindows=this.configuration.platform.os.family.toLowerCase().includes('windows'),osVersion=this.configuration.platform.os.version;if(isWindows){const osVersionIs10='10'===osVersion.slice(0,2)&&(2===osVersion.length||'.'===osVersion.charAt(2)||' '===osVersion.charAt(2));if(0!==osVersion.length&&!osVersionIs10){component.isWindowsButNot10=!0}}if('ga'===this.configuration.app){component.windowsButNot10Message=`This version of Windows supports only USB connection to Go Direct Sensors.`}else{component.windowsButNot10Message=`This version of Windows supports only USB connection to the Go Direct SpectroVis Plus.`}}startBluetoothDiscovery(){if(this.deviceManager.bluetoothAvailable){this.component.bluetoothAvailable=this.deviceManager.bluetoothAvailable;this.component.bluetoothIsDiscovering=this.bluetoothIsDiscovering;this.deviceManager.startBluetoothDiscovery().then(status=>{this.component.bluetoothIsDiscovering=this.bluetoothIsDiscovering;this.component.hasBluetooth=status.success}).catch(err=>{console.error(err);this.component.hasBluetooth=!1})}else{this.component.hasBluetooth=!1}}onComponentCheckForBluetooth(){this.startBluetoothDiscovery()}onComponentConnectDevice(event){const device=this.resolveToModel(event.detail);this.component.deviceIsConnecting=!0;this.deviceManager.connectBluetoothDevice(device).then(()=>{this.component.deviceIsConnecting=!1;this.component.scrollToTop()}).catch(err=>{console.error(err);this.component.deviceIsConnecting=!1;this.component.deviceConnectionError(err,device)})}onComponentDisconnectDevice(event){const device=this.resolveToModel(event.detail);this.component.deviceIsConnecting=!0;this.deviceManager.disconnectBluetoothDevice(device).then(()=>{this.component.deviceIsConnecting=!1}).catch(err=>{console.error(err);this.component.deviceConnectionError(err,device);this.component.deviceIsConnecting=!1})}onComponentDiscoverLabQuestStream(){this.deviceManager.discoverLabQuestStream()}onComponentEnableDeviceChannel(event){const{deviceId,channelId,enable}=event.detail;this.deviceManager.enableDeviceChannel(deviceId,channelId,enable)}onComponentUpdateDeviceFirmware(){const{popoverManager,i18n,services}=this,backgroundPageComm=services.get('background-page-comm');popoverManager.presentDialog('vst-core-message-box',{title:i18n.getText('Update Firmware'),properties:{view:{body:i18n.getText('Graphical Analysis will shut down during the update. Only devices connected by USB can be updated. If any sensors needing updates are currently connected wirelessly, connect them by USB before proceeding.'),buttons:[{id:'cancel',message:i18n.getText('Cancel'),style:'btn-tertiary'},{id:'update',message:i18n.getText('Close App and Update Firmware'),style:'btn-primary'}],cancel:'cancel'}},events:({completeWorkflow})=>({"button-clicked":e=>{const id=e.detail.msg;if('update'===id){this.appLifecycle.onClose.addPromise(Number.MAX_SAFE_INTEGER,()=>{return new Promise(resolve=>{setTimeout(()=>{backgroundPageComm.sendMessage('launch-firmware-updater',{async:!1});resolve()})})});document.dispatchEvent(new CustomEvent('close-app',{bubbles:!0,composed:!0}))}completeWorkflow()}})})}onDMBluetoothAvailable(){this.component.bluetoothAvailable=!0}onDMBluetoothUnavailable(){this.component.bluetoothAvailable=!1}onUsbBluetoothDeviceListChanged(){this.component.updateDeviceLists(this.getDevices())}getDevices(){const{usbDeviceList,bluetoothDeviceList}=this.deviceManager,combinedList=[];usbDeviceList.forEach(device=>{combinedList.push(_.cloneDeep(device))});bluetoothDeviceList.forEach(device=>{combinedList.push(_.cloneDeep(device))});return combinedList}resolveToModel(deviceView){return this.deviceManager.bluetoothDeviceList.filter(device=>device.id===deviceView.id)[0]}destroy(){this.deviceManager.stopBluetoothDiscovery().catch(err=>{console.error(err)})}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_1_corelib_featureflags_featureFlags__=__webpack_require__(17);__webpack_exports__.a=class{constructor({component,services,eventBinder}){this.dataWorld=services.get('data-world');this.popoverManager=services.get('popover-manager');this.viewManager=services.get('view-manager');this.i18n=services.get('i18n');this.newDataSets={};this.component=component;eventBinder.bindListeners({source:component,target:this,eventMap:{"user-input-change":'onComponentUserInputChange',"content-selected":'onComponentContentSelected',"clipboard-menu-selected":'onComponentClipboardMenuSelected',"data-set-selected":'onComponentDataSetSelected',"column-selected":'onComponentColumnSelected',"entered-view":'onComponentEnteredView',"exited-view":'onComponentExitedView',"ui-scrolled":'onComponentUIScrolled',"grid-tapped":'onComponentGridTapped'}});eventBinder.bindListeners({source:this.viewManager,target:this,eventMap:{"begin-keep-point":'onViewManagerBeginKeepPoint'}});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"data-set-added":'onDataWorldDataSetAdded',"column-added":'onDataWorldColumnAdded',"dataset-name-changed":'onDataWorldDataSetNameChanged',"column-removed":'onDataWorldColumnRemoved',"column-format-string-changed":'onDataWorldColumnFormatStringChanged',"column-group-updated":'onDataWorldColumnGroupUpdated',"column-values-changed":'onDataWorldColumnValuesChanged',"collection-triggered":'onDataWorldCollectionTriggered',"collection-stopped":'onDataWorldCollectionStopped',"session-ended":'onDataWorldSessionEnded'}})}load(){this.autoScrollOnCollection=!0;this.collecting=!1}onComponentEnteredView(){const{dataWorld,component}=this;dataWorld.toggleTables(!0);component.refreshHeaders()}onComponentExitedView(){this.dataWorld.toggleTables(!1)}onComponentUserInputChange(e){const{dataWorld}=this,changes=e.detail,results=changes.reduce((result,current)=>{const{column:{id},rowIndex,value}=current;let columnRows=result[id];if(!columnRows){const dwColumn=dataWorld.getColumn(id);columnRows=result[id]={id,column:dwColumn,values:dwColumn.values,changedRows:[]}}const{values,changedRows}=columnRows;values[rowIndex]=value;changedRows.push(rowIndex);return result},{}),columnChanges=Object.keys(results).map(key=>results[key]);columnChanges.forEach(({id,values,changedRows})=>{dataWorld.updateColumnValues(id,values,changedRows,!0)})}onComponentContentSelected(e){const{component}=this,selection=e.detail;if(selection.allColumns&&!selection.allRows&&selection.rows.start===selection.rows.end){component.dispatchEvent(new CustomEvent('row-clicked',{detail:{rowIndex:selection.rows.start}}))}}onComponentClipboardMenuSelected(e){const{popoverManager,component}=this,{orientation,clipboard,anchor}=e.detail,{deletable,pasteable}=clipboard;let completeWorkflow;clipboard.onClose(()=>{completeWorkflow()});popoverManager.presentPopover('vst-core-clipboard',{anchor,orientation,properties:{deletable,pasteable,onCut:()=>{clipboard.cut()},onCopy:()=>{clipboard.copy()},onPaste:()=>{clipboard.paste()}},preventCancel:!0,outsideTapEvents:{touchend:'grid-pre-touchend',click:'grid-pre-click'},events:ctx=>{completeWorkflow=ctx.completeWorkflow}}).then(result=>{if(result&&result.cancelled){setTimeout(()=>{clipboard.close()})}component.focusGrid()})}onComponentDataSetSelected(e){const{dataSetId,orientation,anchor}=e.detail,{component,dataWorld,popoverManager,i18n}=this,dataSet=dataWorld.getDataSetByID(dataSetId);component.disabled=!0;popoverManager.presentPopoverList({anchor,orientation,items:[{id:'rename_data_set',title:i18n.getText('Rename Data Set'),selectAction:()=>popoverManager.presentDialog('vst-core-rename',{title:i18n.getText('Rename Data Set'),properties:{name:dataSet.name,nameDescription:i18n.getText('Data Set Name'),nameMaxLength:100,nameMaxLengthError:Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)(i18n.getText('Data set name has %s character limit.'),'100')},events:({component,completeWorkflow,cancelWorkflow})=>({save:()=>{dataWorld.updateDataSet(dataSet.id,{name:component.name});completeWorkflow()},cancel:()=>{cancelWorkflow()}})})},{id:'add_new_data_set',title:i18n.getText('Add New Data Set'),include:'ManualEntry'===dataWorld.sessionType,selectAction:()=>{return dataWorld.createNewDataSet()}},{id:'delete_data_set',title:i18n.getText('Delete Data Set'),selectAction:()=>{return dataWorld.removeDataSet(dataSetId).catch(err=>console.error(err))},include:Object(__WEBPACK_IMPORTED_MODULE_1_corelib_featureflags_featureFlags__.c)('ff-data-set-deletion')}]}).finally(()=>{component.focusGrid();component.disabled=!1})}onComponentColumnSelected(e){const{columnId,orientation,anchor}=e.detail,{component,dataWorld,popoverManager,i18n}=this,group=dataWorld.getColumn(columnId).group,groupId=group.id;component.disabled=!0;popoverManager.presentPopoverList({anchor,orientation,items:[{id:'column_options',title:i18n.getText('Column Options'),selectAction:()=>popoverManager.presentDialog('vst-core-column-group-options',{title:i18n.getText('Column Options'),controllerType:'ColumnGroupOptionsController',controllerParams:{sourceGroupId:groupId,sourceColumnId:columnId,action:'edit'}})},{id:'add_manual_column',title:i18n.getText('Add Manual Column'),selectAction:()=>popoverManager.presentDialog('vst-core-column-group-options',{title:i18n.getText('Add Manual Column'),controllerType:'ColumnGroupOptionsController',controllerParams:{sourceGroupId:groupId,sourceColumnId:columnId,action:'add',type:'manual'}})},{id:'add_calc_column',title:i18n.getText('Add Calculated Column'),selectAction:()=>popoverManager.presentDialog('vst-core-column-group-options',{title:i18n.getText('Add Calculated Column'),controllerType:'ColumnGroupOptionsController',controllerParams:{sourceGroupId:groupId,sourceColumnId:columnId,action:'add',type:'calc'}})},{id:'delete_column',title:i18n.getText('Delete Column'),include:group.deletable,selectAction:()=>{const messageBoxConfig={title:Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)(i18n.getText('Delete Column %s?'),group.name),body:i18n.getText('Column will be deleted in all data sets. The deletion cannot be undone.'),buttons:[{id:'cancel',message:i18n.getText('Cancel'),style:'btn-tertiary'},{id:'delete',message:i18n.getText('Delete'),style:'btn-error'}],cancel:'cancel'};return popoverManager.presentDialog('vst-core-message-box',{title:messageBoxConfig.title,properties:{view:messageBoxConfig},events:({cancelWorkflow,completeWorkflow})=>({"button-clicked":args=>{const action=args.detail.msg;if('delete'===action){dataWorld.removeColumnGroup(groupId).then(()=>completeWorkflow())}else if('cancel'===action){cancelWorkflow()}}})})}}]}).finally(()=>{component.focusGrid();component.disabled=!1})}onComponentUIScrolled(){this.autoScrollOnCollection=!1}onComponentGridTapped(){this.autoScrollOnCollection=!0}onViewManagerBeginKeepPoint(){const{component}=this;component.clearInterations()}onDataWorldDataSetAdded(dataset){this.newDataSets[dataset.id]=!0}onDataWorldColumnAdded(column){if(column.special){return}const{component,dataWorld,collecting,autoScrollOnCollection}=this;if(!this.newDataSets[column.setID]&&!component.hasDataSet(column.setID)){this.newDataSets[column.setID]=!0}const format=value=>column.group.getFormattedValue(value),scrollToRow=collecting&&autoScrollOnCollection;if(this.newDataSets[column.setID]){const dataSet=dataWorld.getDataSetByID(column.setID),dataSetColumns=dataWorld.getColumnsForSet(column.setID),columns=dataSetColumns.map(column=>({id:column.id,name:column.group.name,units:column.group.units,values:column.values,readonly:!column.editable,format}));component.addDataSet({id:dataSet.id,name:dataSet.name,columns,scrollToRow});delete this.newDataSets[column.setID]}else{const dataSetColumns=dataWorld.getColumnsForSet(column.setID),position=dataSetColumns.findIndex(col=>col.id===column.id);component.addColumn({id:column.id,name:column.group.name,units:column.group.units,position,values:column.values,readonly:!column.editable,format,dataSetID:column.setID,scrollToRow})}}onDataWorldDataSetNameChanged(dataSet){if('regular'===dataSet.type){const{component}=this;component.updateDataSetName({id:dataSet.id,name:dataSet.name})}}onDataWorldColumnRemoved(column){if(column.special){return}const{component}=this;component.removeColumn({id:column.id,dataSetId:column.setID})}onDataWorldDataSetRemoved(...args){console.log('data-set-removed');console.log(args)}onDataWorldColumnFormatStringChanged(column){if(column.special){return}const{component}=this;component.updateColumnFormatter({id:column.id,dataSetId:column.setID,format:value=>column.group.getFormattedValue(value)})}onDataWorldColumnGroupUpdated(group){const{component}=this;group.columns.forEach(col=>component.updateColumnName({id:col.id,dataSetId:col.setID,name:col.group.name,units:col.group.units}))}onDataWorldColumnValuesChanged(column,values){if(column.special){return}const{component,dataWorld,collecting,autoScrollOnCollection}=this,dwColumn=dataWorld.getColumn(column.id);component.updateColumnValues({id:column.id,dataSetId:column.setID,values,scrollToRow:collecting&&autoScrollOnCollection});dwColumn.group.checkAutomaticPrecision()}onDataWorldRemovingColumn(...args){console.log('removing-column');console.log(args)}onDataWorldCollectionTriggered(){const{component}=this;this.collecting=!0;this.autoScrollOnCollection=!0;component.interactionsDisabled=!0}onDataWorldCollectionStopped(){const{component}=this;this.collecting=!1;component.interactionsDisabled=!1}onDataWorldSessionEnded(){const{component}=this;component.clearGrid()}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_executePromise__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__);__webpack_exports__.a=class{constructor({component,eventBinder,services}={}){this.i18n=services.get('i18n');this.dataWorld=services.get('data-world');this.sensorWorld=services.get('sensor-world');this.popoverManager=services.get('popover-manager');this.component=component;eventBinder.bindListeners({source:component,target:this,eventMap:{save:'onComponentSave',cancel:'onComponentCancel',"show-functions":'onComponentShowFunctions',"update-units":'onComponentUpdateUnits',"update-precision-type":'onComponentUpdatePrecisionType',"update-scientific-notation":'onComponentUpdateScientificNotation'}})}load({action='add',type='manual',sourceGroupId=null,sourceColumnId=0}={}){const{i18n,dataWorld,sensorWorld,component}=this,nextGroupName=(nameType,text)=>{const localizedText=i18n.getText(text),nextIndex=(numberType=>{return dataWorld.getColumnGroupIndex(numberType)})(nameType),result=Object(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__.sprintf)(localizedText,nextIndex);return result},sourceGroup=dataWorld.getColumnGroupById(sourceGroupId);if(0===sourceColumnId){sourceColumnId=sourceGroup.columns[0].id}const{name,units,precision,sensorId}=sourceGroup,{precision:precisionNumber,useSigFigs,useSciNotation}=precision,sensor=sensorWorld.sensorCollection.get(sensorId);let automaticPrecision=sourceGroup.automaticPrecision;if('edit'===action){type=sourceGroup.type}else if('add'===action){automaticPrecision='manual'===type}this.params={action,type,sourceGroup,sourceColumnId};this.sensor=sensor;component.name='add'===action&&'manual'===type?nextGroupName('manual','Manual %s'):'add'===action&&'calc'===type?nextGroupName('calc','Calculated %s'):'edit'===action?name:'';component.units='add'===action?'':'edit'===action?units:'';component.unitsDisabled='calc'===type&&'add'!==action||'time'===type||'sensor'===type&&!sensor;component.unitsSelected='sensor'===type&&sensor;component.scientificNotation='add'===action?!1:'edit'===action?useSciNotation:!1;component.precisionNumber='add'===action?'manual'===type?'Auto':'3':'edit'===action?automaticPrecision?'Auto':precisionNumber+'':'3';component.precisionType='add'===action?'decimal':'edit'===action?useSigFigs?'sigFig':'decimal':'decimal';this.updatePrecisionNumberView(component,component);if('calc'===type){const otherGroup=(groups,firstId,secondId)=>{let otherGroups;if(secondId===void 0){otherGroups=groups.filter(col=>col.id!==firstId)}else{otherGroups=groups.filter(col=>col.id!==firstId&&col.id!==secondId)}const otherSensorGroups=otherGroups.filter(col=>'sensor'===col.type),otherNonTimeGroups=otherGroups.filter(col=>'time'!==col.type),selectedGroup=otherSensorGroups[0]||otherNonTimeGroups[0]||otherGroups[0];return selectedGroup?selectedGroup.id:firstId};component.showCalcOptions=!0;if('add'===action){component.calcSourceGroups=dataWorld.getColumnGroups().map(({id,name})=>({id,name}));component.calcExpressionDisabled=!1;component.calcExpression=null;const secondGroup=otherGroup(component.calcSourceGroups,sourceGroup.id),thirdGroup=otherGroup(component.calcSourceGroups,sourceGroup.id,secondGroup);component.defaultCalcSourceGroups={X:sourceGroup.id,Y:secondGroup,Z:thirdGroup}}else if('edit'===action){const sortedGroups=dataWorld.getColumnGroups(),otherGroups=sortedGroups.filter(group=>group.id!==sourceGroup.id),circularRef=(sourceId,currentGroup)=>{const dependentGroupIds=currentGroup.calcDependentGroups||[],hasCycle=dependentGroupIds.some(dependentGroup=>dependentGroup===sourceId);if(hasCycle){return!0}const dependentGroups=otherGroups.filter(group=>dependentGroupIds.some(dependentGroupId=>group.id===dependentGroupId));return dependentGroups.some(dependentGroup=>circularRef(sourceId,dependentGroup))},nonCircularGroups=otherGroups.filter(otherGroup=>!circularRef(sourceGroup.id,otherGroup)),calcSourceGroups=nonCircularGroups.map(({id,name})=>({id,name}));component.calcSourceGroups=calcSourceGroups;const equation=sourceGroup.calcEquation;component.calcExpressionDisabled=!sourceGroup.calcUserEditable;component.unitsDisabled=!sourceGroup.calcUserEditable;const dependentGroupsArray=sourceGroup.calcDependentGroups.slice(0,sourceGroup.calcDependentGroups.length),coefficientsArray=sourceGroup.calcCoefficients.slice(0,sourceGroup.calcCoefficients.length),invalidIndices=[];dependentGroupsArray.forEach((depGroup,i)=>{if(!calcSourceGroups.some(srcGroup=>srcGroup.id===depGroup)){invalidIndices.push(i)}});invalidIndices.forEach(i=>{dependentGroupsArray.splice(i,1)});const firstGroup=dependentGroupsArray[0],secondGroup=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isUndefined(dependentGroupsArray[1])?otherGroup(component.calcSourceGroups,firstGroup):dependentGroupsArray[1],thirdGroup=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isUndefined(dependentGroupsArray[2])?otherGroup(component.calcSourceGroups,secondGroup):dependentGroupsArray[2],defaultCalcSourceGroups=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.zip(['X','Y','Z'],[firstGroup,secondGroup,thirdGroup]).reduce((result,[key,value])=>{result[key]=value;return result},{}),reduceArrays=(keys,values)=>__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.zip(keys,values).reduce((result,[key,value])=>{if(!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isUndefined(value)){result[key]=value}return result},{}),dependentGroups=reduceArrays(['X','Y','Z'],dependentGroupsArray),coefficients=reduceArrays(['A','B','C'],coefficientsArray);component.calcExpression={equation,dependentGroups,coefficients};component.defaultCalcSourceGroups=defaultCalcSourceGroups}}else if('edit'===action&&'sensor'===type&&sensor){component.unitsOptions=sensor.availableUnits}}onComponentUpdateUnits(){const{sensor,params}=this,{type,action}=params,view=this.getView();if('edit'===action&&'sensor'===type&&sensor){const{precision,useSigFigs,useSciNotation}=sensor.getPrecisionForUnit(view.units);this.setView({precisionNumber:precision+'',precisionType:useSigFigs?'sigFig':'decimal',scientificNotation:useSciNotation})}}onComponentSave(){const view=this.getView(),{dataWorld}=this,{action,sourceGroup,type,sourceColumnId}=this.params,isAutomatic='edit'===action?sourceGroup.allowAutomaticPrecision&&'Auto'===view.precisionNumber:'add'===action?'Auto'===view.precisionNumber:!1,precision={precision:isAutomatic?0:+view.precisionNumber,useSigFigs:'sigFig'===view.precisionType,useSciNotation:view.scientificNotation};if('edit'===action&&sourceGroup.allowAutomaticPrecision||'add'===action&&'manual'===type){precision.automatic=isAutomatic}Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_executePromise__.a)(()=>{const extractCalcInfo=()=>{const extractInOrder=obj=>Object.keys(obj).sort().map(key=>{return+obj[key]}),calcExpression=view.calcExpression,calcEquation=calcExpression.equation,calcDependentGroups=extractInOrder(calcExpression.dependentGroups),calcCoefficients=extractInOrder(calcExpression.coefficients||{});return{calcEquation,calcDependentGroups,calcCoefficients}};if('add'===action){if('manual'===type){return dataWorld.createManualColumnGroup({name:view.name,units:view.units,automaticPrecision:isAutomatic,precision,sourceColumnId})}else if('calc'===type){const{calcEquation,calcDependentGroups,calcCoefficients}=extractCalcInfo();return dataWorld.createCalcColumnGroup({name:view.name,units:view.units,precision,calcEquation,calcDependentGroups,calcCoefficients,sourceColumnId})}return Promise.reject(new Error(`Cannot add column of type ${type}`))}else if('edit'===action){if('manual'===type||'event'===type){return dataWorld.updateColumnGroup(sourceGroup.id,{name:view.name,units:view.units,precision,automaticPrecision:isAutomatic})}else if('time'===type){return dataWorld.updateColumnGroup(sourceGroup.id,{name:view.name,units:view.units,precision})}else if('calc'===type){const{calcEquation,calcDependentGroups,calcCoefficients}=extractCalcInfo();return dataWorld.updateColumnGroup(sourceGroup.id,{name:view.name,units:view.units,precision,calcEquation,calcDependentGroups,calcCoefficients})}else if('sensor'===type){return dataWorld.updateColumnGroup(sourceGroup.id,{name:view.name,units:view.units,precision,automaticPrecision:isAutomatic})}}}).catch(error=>{console.error(error);this.component.failWorkflow(error)});this.component.completeWorkflow()}onComponentShowFunctions(e){const{anchor,orientation}=e.detail,{popoverManager,component}=this;popoverManager.presentPopover('vst-core-calc-functions',{anchor,orientation}).then(result=>{if(result&&!result.cancelled){component.setCalcExpression(result)}})}onComponentUpdatePrecisionType(){const currentView=this.getView(),newView={};this.updatePrecisionNumberView(currentView,newView);this.setView(newView)}onComponentUpdateScientificNotation(){const currentView=this.getView(),newView={};this.updatePrecisionNumberView(currentView,newView);this.setView(newView)}onComponentCancel(){this.component.cancelWorkflow()}getView(){const component=this.component;return{name:component.name,units:component.units,unitsOptions:component.unitsOptions,unitsDisabled:component.unitsDisabled,precisionNumber:component.precisionNumber,precisionType:component.precisionType,significantFiguresDisabled:component.significantFiguresDisabled,scientificNotation:component.scientificNotation,precisionNumberOptions:component.precisionNumberOptions,unitsSelected:component.unitsSelected,showCalcOptions:component.showCalcOptions,calcSourceGroups:component.calcSourceGroups,defaultCalcSourceGroups:component.defaultCalcSourceGroups,calcExpressionDisabled:component.calcExpressionDisabled,calcExpression:component.calcExpression}}setView(view){const component=this.component;__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.toPairs(view).forEach(([key,value])=>{component.set(key,value)})}populatePrecisionNumberOptions(allowAutomaticPrecision,decimalSelected){const i18n=this.i18n,startIndex=decimalSelected?0:1;return(allowAutomaticPrecision&&decimalSelected?[{value:'Auto',text:i18n.getText('Auto')}]:[]).concat(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.range(startIndex,10).map(num=>({value:num+'',text:num+''})))}updatePrecisionNumberView(currentView,newView){const{sourceGroup,action,type}=this.params,allowAutomaticPrecision='edit'===action?sourceGroup.allowAutomaticPrecision:'add'===action&&('manual'===type||'event'===type);newView.precisionType=currentView.scientificNotation?'decimal':currentView.precisionType;newView.significantFiguresDisabled=currentView.scientificNotation;const decimalSelected='decimal'===newView.precisionType,autoSelected='Auto'===currentView.precisionNumber;newView.precisionNumberOptions=this.populatePrecisionNumberOptions(allowAutomaticPrecision,decimalSelected);newView.precisionNumber=!decimalSelected&&autoSelected?'1':currentView.precisionNumber}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_controllers_core_WelcomeController__=__webpack_require__(233);class WelcomeController extends __WEBPACK_IMPORTED_MODULE_0_corelib_controllers_core_WelcomeController__.a{constructor({component,services,eventBinder}){super({component,services,eventBinder});this.i18n=services.get('i18n');this.dataWorld=services.get('data-world');this.dataCollection=services.get('data-collection');this.sensorWorld=services.get('sensor-world');this.deviceManager=services.get('device-manager');this.popoverManager=services.get('popover-manager');this.viewManager=services.get('view-manager');eventBinder.bindListeners({source:component,target:this,eventMap:{"create-session":'onComponentCreateSession'}});eventBinder.bindListeners({source:this.deviceManager,target:this,eventMap:{"usb-device-list-changed":'onDeviceManagerUsbDeviceListChanged'}})}onComponentCreateSession(e){const sessionType=e.detail.mode;switch(sessionType){case'manual-entry':this.connectManualEntry();break;case'sensor-based':this.connectSensorBased();break;case'data-sharing':this.connectDataSharing();break;default:this.connectSensorBased();}}async onComponentOpenFile(){try{const fileOpened=await this.dataWorld.importData();if(fileOpened){this.popoverManager.closeAll()}}catch(err){console.error(err)}}connectSensorBased(){const{deviceManager,dataCollection,sensorWorld,component,i18n}=this,sessionType='DataCollection';let sessionTypeName='time-based';if(sensorWorld.sensors.find(s=>'Drop'===s.dataMode)){sessionTypeName='drop-counting'}else if(sensorWorld.sensors.find(s=>'Gate'===s.dataMode)){sessionTypeName='photogate-timing'}const sessionConfig={type:sessionTypeName};dataCollection.searchForSensors(!0).then(()=>{let showDeviceManager=!0;const allDeviceList=deviceManager.usbDeviceList.concat(deviceManager.bluetoothDeviceList);allDeviceList.forEach(device=>{if(device.connected){showDeviceManager=!1}});this._startNewSession(sessionType,sessionConfig,showDeviceManager)},()=>{component.showErrorMessage(sessionType,i18n.getText('Connect a <a href="https://www.vernier.com/til/2871/" target="_blank">supported Vernier USB device</a>.'))})}connectManualEntry(){this._startNewSession('ManualEntry',{type:'manual'})}connectDataSharing(){const{i18n,popoverManager,component}=this;popoverManager.presentDialog('vst-core-datashare-connect',{title:i18n.getText('Data Share'),controllerType:'DataShareConnectController'});component.completeWorkflow()}_startNewSession(sessionType,sessionConfig,showDeviceManager){const{viewManager,i18n,popoverManager,component}=this;viewManager.startNewSession(sessionType,sessionConfig).then(result=>{if(result&&result.cancelled){component.cancelWorkflow();return}if(showDeviceManager){popoverManager.presentDialog('vst-core-device-manager',{title:i18n.getText('Sensors'),controllerType:'DeviceManagerController'})}component.completeWorkflow()}).catch(error=>{console.error(error);const errorMsg=error.message||i18n.getText('Connection error');component.showErrorMessage(sessionType,errorMsg)})}onDeviceManagerUsbDeviceListChanged(deviceList){let hasConnectedDevice=!1;deviceList.forEach(device=>{if(device.connected){hasConnectedDevice=!0}});if(hasConnectedDevice){this.component.completeWorkflow()}}}__webpack_exports__.a=WelcomeController},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({component,eventBinder,services}){this.component=component;this.dataWorld=services.get('data-world');this.popoverManager=services.get('popover-manager');eventBinder.bindListeners({source:component,target:this,eventMap:{"open-file":'onComponentOpenFile'}})}onComponentOpenFile(){const{popoverManager,dataWorld}=this;dataWorld.importData().then(fileOpened=>{if(fileOpened){popoverManager.closeAll()}}).catch(err=>{console.error(err)})}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({eventBinder,component,services}){this.component=component;this.popoverManager=services.get('popover-manager');eventBinder.bindListeners({source:component,target:this,eventMap:{"line-weight-changed":'onComponentLineWeightChanged',"label-size-changed":'onComponentLableSizeChanged'}})}load(){}onComponentLineWeightChanged(){const{component}=this;component.completeWorkflow()}onComponentLableSizeChanged(){const{component}=this;component.completeWorkflow()}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=class{constructor({services,component,eventBinder}){this.appUpdate=services.get('app-update');this.configuration=services.get('configuration');this.i18n=services.get('i18n');this.eventBinder=eventBinder;this.component=component;eventBinder.bindListeners({source:this.appUpdate,target:this,eventMap:{"checking-for-update":'onAppUpdateCheckingForUpdate',error:'onAppUpdateError',"update-available":'onAppUpdateUpdateAvailable',"update-not-available":'onAppUpdateUpdateNotAvailable',"download-progress":'onAppUpdateDownloadProgress',"update-downloaded":'onAppUpdateUpdateDownloaded'}});eventBinder.bindListeners({source:component,target:this,eventMap:{"check-for-updates":'onComponentCheckForUpdates',"download-update":'onComponentDownloadUpdate',"quit-and-install":'onComponentQuitAndInstall'}})}load(){const{component,configuration,appUpdate}=this;if('Electron'===configuration.platform.name){component.isElectron=!0;component.checkingForUpdate=appUpdate.checkingForUpdate;component.updateAvailable=appUpdate.updateAvailable;component.updateDownloading=appUpdate.updateDownloading;component.updateDownloaded=appUpdate.updateDownloaded;appUpdate.checkForUpdates()}}onComponentCheckForUpdates(){this.appUpdate.checkForUpdates()}onComponentDownloadUpdate(){this.appUpdate.downloadUpdate()}onComponentQuitAndInstall(){this.appUpdate.quitAndInstall()}onAppUpdateCheckingForUpdate(){this.component.updateErrorMsg='';this.component.checkingForUpdate=!0;console.log('checking for update')}onAppUpdateError(err){this.component.updateErrorMsg=err;console.log('auto update error');console.error(err)}onAppUpdateUpdateAvailable(infoObj){this.component.updateAvailable=!0;this.component.checkingForUpdate=!1;console.log('update available');console.dir(infoObj)}onAppUpdateUpdateNotAvailable(){this.component.updateAvailable=!1;this.component.checkingForUpdate=!1;console.log('update not available')}onAppUpdateDownloadProgress(progObj){this.component.updateDownloading=!0;console.log('download progress');console.dir(progObj)}onAppUpdateUpdateDownloaded(){this.component.updateDownloading=!1;this.component.updateDownloaded=!0;console.log('update downloaded. restart app.')}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__app_lifecycle__=__webpack_require__(237);__webpack_exports__.a=()=>{const appLifecycle=Object(__WEBPACK_IMPORTED_MODULE_0__app_lifecycle__.a)();return{appLifecycle}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_promiseSequence__=__webpack_require__(238),__WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__=__webpack_require__(239);const close=()=>{if(__WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__.a){__WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__.a();return}window.close()},isEventValid=event=>{if(__WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__.b){return __WEBPACK_IMPORTED_MODULE_1__PLATFORM_ID__.b(event)}return!0};__webpack_exports__.a=(preClosePromises=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_util_promiseSequence__.a)(),forceCloseNextAttempt=!1)=>{return{closeWindow(force=!1,event={returnValue:!0,type:void 0}){if(!isEventValid(event)){return Promise.resolve()}if(!0===force||forceCloseNextAttempt){return close()}event.returnValue=!1;forceCloseNextAttempt=!0;return preClosePromises.execute().then(close).catch(err=>{if(err.cancelClose){forceCloseNextAttempt=!1}else{event.returnValue=!0;close()}})},onClose:{addPromise(priority,promise){preClosePromises.add(priority,promise)}}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(){let rawSequence={};return{add:function(priority,promiseFunc){while(rawSequence[priority]){priority++}if(promiseFunc instanceof Promise){rawSequence[priority]=()=>promiseFunc()}else{rawSequence[priority]=promiseFunc}},execute:function(){const promises=[],keys=Object.keys(rawSequence).map(n=>parseInt(n)).sort();keys.forEach(key=>{promises.push(rawSequence[key])});return new Promise((resolve,reject)=>{const doNext=()=>{const promise=promises.shift();if(!promise){rawSequence={};resolve()}else{promise().then(doNext).catch(reject)}};doNext()})}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';const browserWindow=__webpack_require__(10).remote.getCurrentWindow();__webpack_exports__.a=()=>browserWindow.close();__webpack_exports__.b=()=>!0},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-popover> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@-webkit-keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}@keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}.header{display:block;position:relative;background:#e3e4e5;padding:.5625rem .75rem}.header h2{display:inline-block;font-weight:700;margin:0;font-size:.75rem;text-transform:uppercase}.header .btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;position:absolute;top:.2rem;right:.2rem}.header .btn-cancel::-moz-focus-inner{border:0;padding:0}.header .btn-cancel *{pointer-events:none}.header .btn-cancel a,.header .btn-cancel button{pointer-events:auto}.header .btn-cancel:active{outline:0}.header .btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.header .btn-cancel:active,.header .btn-cancel:hover{background-color:rgba(0,2,4,.1)}.header .btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.header .btn-cancel vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}.dialog-screen{display:none}.shadow-wrapper{z-index:200;position:fixed}.popover{-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);position:fixed;height:auto;max-width:100%;max-height:calc(100% - 3.125rem - var(--chrome-menubar-height,0px));border:1px solid #bdbebf;z-index:200;border-radius:.25rem;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex}.padded-content,.unpadded-content{height:100%;overflow:auto;background:#fff}:host(.dialog){-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-name:fadeIn;animation-name:fadeIn;width:100%;height:100%;position:fixed;top:var(--chrome-menubar-height,0);left:0;z-index:200}:host(.dialog) .dialog-screen{display:block;position:fixed;top:var(--chrome-menubar-height,0);left:0;width:100%;height:100%;z-index:198;background:rgba(0,0,0,.65)}:host(.dialog) .content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;z-index:199;width:calc(100% - 50px);max-width:calc(100% - 50px);max-height:calc(100vh - 50px - var(--chrome-menubar-height,0px));border-radius:.25rem;overflow:hidden}@media (min-width:30em){:host(.dialog) .content{width:auto}}:host(.dialog) .padded-content{padding:1.125rem;overflow-y:auto;overflow-x:hidden}:host(.dialog) .header{display:block;position:relative;background:#e3e4e5;padding:.875rem 1.125rem;height:3.125rem;-ms-flex-negative:0;flex-shrink:0}:host(.dialog) .header h2{display:inline-block;font-weight:700;margin:0;font-size:1rem}:host(.dialog) .header .btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;position:absolute;top:.45rem;right:.45rem}:host(.dialog) .header .btn-cancel::-moz-focus-inner{border:0;padding:0}:host(.dialog) .header .btn-cancel *{pointer-events:none}:host(.dialog) .header .btn-cancel a,:host(.dialog) .header .btn-cancel button{pointer-events:auto}:host(.dialog) .header .btn-cancel:active{outline:0}:host(.dialog) .header .btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}:host(.dialog) .header .btn-cancel:active,:host(.dialog) .header .btn-cancel:hover{background-color:rgba(0,2,4,.1)}:host(.dialog) .header .btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}:host(.dialog) .header .btn-cancel vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}:host(.dialog) .header h2{text-transform:none}:host(.dialog) .popover{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border:0;border-radius:0;position:fixed;top:var(--chrome-menubar-height,0);left:0;width:100%;height:calc(100% - var(--chrome-menubar-height,0px));max-height:none}:host(.dialog) .pointer{display:none}:host(.no-padding) .content{padding:0}:host(.no-padding) .content .header{margin:0}.pointer{display:block;position:fixed;z-index:199;width:30px;height:30px}.top{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}.bottom{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}.right{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}.left{-webkit-animation-name:fadeInRight;animation-name:fadeInRight}.pointer.top{width:0;height:0;border-right:8px solid transparent;border-left:8px solid transparent;border-top:8px solid #fff}.pointer.bottom{width:0;height:0;border-right:8px solid transparent;border-left:8px solid transparent;border-bottom:8px solid #fff}.pointer.right{width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-right:8px solid #fff}.pointer.left{width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:8px solid #fff}.popover.contextmenu{width:150px;overflow:hidden;border:1px solid #bdbebf}.contextmenu{-webkit-animation:none;animation:none}.contextmenu+.pointer{display:none}[can-close=false] .header .btn-cancel{display:none}</style> <div class=shadow-wrapper> <div id=pointer class=pointer></div> <div id=popover class=popover show$=[[show]] can-close$=[[canClose]]> <div class=content> <template is=dom-if if=[[header]]> <header class=header id=header> <h2 id=title>[[getText(header.title)]]</h2> <template is=dom-if if=[[canClose]]> <button class=btn-cancel on-click=closeClicked title=[[text.cancel]]><vst-core-icon class=icon-close icon=icon-close></vst-core-icon></button> </template> </header> <div class=padded-content> <slot id=content></slot> </div> </template> <template is=dom-if if=![[header]]> <div class=unpadded-content> <slot id=content></slot> </div> </template> </div> <div id=popover_screen class=dialog-screen on-click=screenClicked></div> </div> </div> </template> </dom-module>');__webpack_require__(241)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCorePopover extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-popover'}static get properties(){return{anchor:{notify:!0},canClose:{type:Boolean,notify:!0,reflectToAttribute:!0,value(){return!0}},canCloseFromScreen:{type:Boolean,notify:!0,reflectToAttribute:!0,value:!0},show:{type:Boolean,notify:!0,value(){return!0}},header:{type:Object,notify:!0}}}constructor(){super();document.addEventListener('keyup',this.keyPressed.bind(this))}disconnectedCallback(){super.disconnectedCallback();document.removeEventListener('keyup',this.keyPressed.bind(this))}setPopoverChild(childEl,popoverConfig){if(popoverConfig&&popoverConfig.header){this.header=popoverConfig.header}this.appendChild(childEl)}screenClicked(e){e.stopPropagation();if(this.canClose&&this.canCloseFromScreen){this.close()}}closeClicked(e){e.stopPropagation();if(this.canClose){this.close()}}keyPressed(e){if(27===e.which){this.close()}}close(){this.dispatchEvent(new CustomEvent('close'))}}customElements.define(VstCorePopover.is,VstCorePopover)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-content-layout> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative}:host(.download-image) ::slotted(vst-core-meter-container){background:#fff}</style> <slot></slot> </template> </dom-module>');__webpack_require__(243)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreContentLayout extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-content-layout'}static get properties(){return{currentView:{type:String,notify:!0,reflectToAttribute:!0}}}}customElements.define(VstCoreContentLayout.is,VstCoreContentLayout)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-graph> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{--tick-width:0px;--y-axis-width:3.125rem;--label-size:0.67em;--graph-tools-color:#000;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;background:#bdbebf}.graph{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1;background:#fff}.graph-wrapper{background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex-col{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:1;flex-shrink:1;-ms-flex-preferred-size:calc(100% - var(--y-axis-width) - var(--tick-width));flex-basis:calc(100% - var(--y-axis-width) - var(--tick-width));position:relative}#event_box,#x_axis_box,#y_axis_box{position:absolute}#event_box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;top:0;right:0;bottom:0;left:0}#event_box>*{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#x_axis_box{right:0;bottom:0;cursor:ew-resize}#y_axis_box{top:0;left:0;height:100%;cursor:ns-resize}:host([axis-translate-disabled]) #x_axis_box{cursor:default}:host([axis-translate-disabled]) #y_axis_box{cursor:default}.graph-x-axis,.graph-y-axis{-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.graph-placeholder{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1}.graph-title h6{width:inherit;font-size:.875em;font-weight:400;text-align:center;margin:1em 0 -.5em 0;position:relative;z-index:1}.graph-axis-label-unset{color:#646464}.graph-x-axis{cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.graph-y-axis{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:var(--y-axis-width)}.left-axis-label-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:left;transform-origin:left;position:absolute;bottom:1.8em;left:1.4375em;text-align:center;margin:0;z-index:99;width:100%}.base-axis-label,.left-axis-label{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;position:relative;pointer-events:auto;background:0 0;border:1px solid #e3e4e5;border-radius:.25rem;padding:.75em 1em;font-size:var(--label-size);font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:3em;max-width:100%;margin:.5625em .25em;z-index:100}.base-axis-label::-moz-focus-inner,.left-axis-label::-moz-focus-inner{border:0;padding:0}.base-axis-label *,.left-axis-label *{pointer-events:none}.base-axis-label a,.base-axis-label button,.left-axis-label a,.left-axis-label button{pointer-events:auto}.base-axis-label:active,.left-axis-label:active{outline:0}.base-axis-label:hover,.left-axis-label:hover{color:#000;border-color:#bdbebf;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1)}.base-axis-label:active,.left-axis-label:active{-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 0 1px 1px rgba(0,0,0,.15)}.base-axis-label[disabled],.base-axis-label[disabled]:hover,.left-axis-label[disabled],.left-axis-label[disabled]:hover{border-color:transparent;-webkit-box-shadow:none;box-shadow:none;cursor:default}.left-axis-label{display:-webkit-box;display:-ms-flexbox;display:flex}.left-axis-label:hover{-webkit-box-shadow:-1px 0 1px rgba(0,0,0,.1);box-shadow:-1px 0 1px rgba(0,0,0,.1)}.left-axis-label:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.left-axis-label__colname-color-wrapper{padding:0 .35em;overflow:hidden}.left-axis-label__color-indicator-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1}.left-axis-label__color-indicator{-webkit-box-flex:1;-ms-flex:1;flex:1;height:.125rem}.left-axis-label__colname-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.left-axis-label__colname{overflow:hidden;text-overflow:ellipsis}.left-axis-label__colunits{margin-left:.1875rem;-ms-flex-negative:0;flex-shrink:0}#plot_box{position:absolute;top:0;right:0;cursor:crosshair}.rainbow-wrapper{width:100%;height:100%;position:relative;overflow:hidden;pointer-events:none}[data-lq-name=graph-data-tags]{position:absolute;width:100%;height:100%}.graph-selection{cursor:default;border-left:1px #373839 solid;background:rgba(120,122,124,.0875)}.graph-selection .info-boxes{display:none}.graph-selection .info-box{display:none;position:absolute;top:136px;width:auto;min-width:146px;min-height:120px;height:auto;max-height:210px;padding:.2em;cursor:ns-resize;border:1px solid #bdbebf;background:#fff;z-index:300;-webkit-transition:-webkit-transform 250ms cubic-bezier(.4,0,.2,1);transition:-webkit-transform 250ms cubic-bezier(.4,0,.2,1);transition:transform 250ms cubic-bezier(.4,0,.2,1);transition:transform 250ms cubic-bezier(.4,0,.2,1),-webkit-transform 250ms cubic-bezier(.4,0,.2,1)}.graph-selection .info-box h5{margin:0 0 .125em 0;font-size:14px}.graph-selection .info-box ul{font-size:.75em;position:relative;min-width:90px;color:#787a7c}.graph-selection .info-box li{display:block;min-width:100%;text-align:left;vertical-align:top;white-space:nowrap;text-overflow:ellipsis}.graph-selection .info-box li::after,.graph-selection .info-box li::before{content:" ";display:table}.graph-selection .info-box li::after{clear:both}.graph-selection .info-box li em{color:#373839;font-style:normal}.graph-selection .info-box li em span{white-space:nowrap;vertical-align:bottom}.graph-selection .info-box li em .value{max-width:115px}.graph-selection .info-box li em .unit{max-width:40px}.graph-selection .info-box .trace-color{display:block;width:100%;border:1px solid #373839}.graph-selection [data-lq-name=data-tag-stats]{left:0;padding:10px 0 2px 16px;-webkit-transform:translate(-100%,0);transform:translate(-100%,0)}.graph-selection [data-lq-name=data-tag-stats] .vertical-grab{left:6px}.graph-selection [data-lq-name=data-tag-stats].flip{border-right:inherit}.graph-selection [data-lq-name=data-tag-fit-data]{right:0;padding:10px 18px 2px 16px;-webkit-transform:translate(100%,0);transform:translate(100%,0)}.graph-selection [data-lq-name=data-tag-fit-data] .vertical-grab{right:6px;left:auto}.graph-selection [data-lq-name=data-tag-fit-data].flip,.graph-selection [data-lq-name=data-tag-stats].flip{-webkit-transform:translate(0,0);transform:translate(0,0)}.graph-selection [data-lq-name=data-tag-stats].flip{left:-1px}.graph-selection [data-lq-name=data-tag-fit-data].flip{right:-1px}.graph-selection .vertical-grab{position:absolute;top:calc(50% - 7px);left:2px;opacity:.6;width:7px;height:14px;background:url(\'./elements/core/vst-core-icon/icons/icon-vertical-grab.svg\') no-repeat}.graph-selection .scroll-wrap{position:relative;min-width:100px;max-width:140px;max-height:175px;overflow:auto;cursor:default}.graph-selection .scroll-wrap .scroll-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text;position:relative;min-width:88px;padding:4px 2px}.graph-selection .scroll-wrap .delta-x{margin-bottom:0;padding-left:0;border-left:0}.graph-selection .scroll-wrap ul{margin-top:0;margin-bottom:.25em;padding-left:.5em;padding-right:.5em;border-left:2px solid transparent}.graph-selection .scroll-wrap .trace-group{border-left:2px solid}.graph-selection .scroll-wrap.no-scroll::before{-webkit-box-shadow:none;box-shadow:none}.graph-selection .scroll-wrap.no-scroll::after{-webkit-box-shadow:none;box-shadow:none}.graph-selection .scroll-wrap.scroll::after{content:\'\';position:absolute;bottom:0;left:10px;width:80%;height:0;-webkit-box-shadow:0 0 2px 1px rgba(0,0,0,.5);box-shadow:0 0 2px 1px rgba(0,0,0,.5)}.no-touch .scroll-content{margin-right:10px!important}[data-lq-name=graph-selection-left],[data-lq-name=graph-selection-right]{position:absolute;top:42px;min-width:70px;max-width:110px;padding:.35em .35em .3em .35em;overflow:hidden;cursor:col-resize;color:rgba(75,45,45,.8);font-size:14px;font-weight:400;text-overflow:ellipsis;white-space:nowrap;background-color:rgba(0,0,0,.6);z-index:200;-webkit-transition:-webkit-transform 250ms cubic-bezier(.4,0,.2,1);transition:-webkit-transform 250ms cubic-bezier(.4,0,.2,1);transition:transform 250ms cubic-bezier(.4,0,.2,1);transition:transform 250ms cubic-bezier(.4,0,.2,1),-webkit-transform 250ms cubic-bezier(.4,0,.2,1)}[data-lq-name=graph-selection-left]::after,[data-lq-name=graph-selection-right]::after{content:\'\';position:absolute;display:block;top:8px;left:3px;width:1px;height:14px;border-left:1px solid rgba(255,255,255,.4);background-color:rgba(0,0,0,.15)}[data-lq-name=graph-selection-left]{left:-1px;text-align:right;background-position:2% center;-webkit-transform:translate(-100%,0);transform:translate(-100%,0)}[data-lq-name=graph-selection-right]{right:0;text-align:left;background-position:98% center;-webkit-transform:translate(100%,0);transform:translate(100%,0)}[data-lq-name=graph-selection-right]::after{left:auto;right:2px}[data-lq-name=graph-selection-right].hidden{opacity:0;-webkit-transition:all 1s ease-in-out;transition:all 1s ease-in-out}[data-lq-name=graph-selection-left].flip,[data-lq-name=graph-selection-right].flip{z-index:100;-webkit-transform:translate(0,0);transform:translate(0,0)}[data-lq-name=graph-selection-edge-left],[data-lq-name=graph-selection-edge-right]{position:absolute;top:0;bottom:0;left:-4px;width:8px;cursor:col-resize;background-color:transparent;z-index:199}[data-lq-name=graph-selection-edge-right]{right:-4px;left:auto}.graph-selection.nonempty{border-right:1px #373839 solid}.graph-selection.nonempty .info-boxes{display:block}.graph-selection.nonempty [data-lq-name=graph-selection-right]{right:-1px}.graph-selection.nonempty [data-lq-name=examine-point]{display:none!important}.graph-selection.nonempty .info-box{display:block}[data-lq-graph-item^=data-tag]{border-left-color:#bdbebf;border-right-color:#bdbebf!important}[data-lq-name=graph-selection-content]{border:inherit}[data-lq-name=graph-selection-content] .data-tag-x-delta{position:absolute;bottom:20px;left:50%;padding:3px;color:#000;width:auto;min-width:20px;max-width:160px;overflow:hidden;text-overflow:ellipsis;background:rgba(255,255,255,.8);white-space:nowrap;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.3);box-shadow:0 2px 6px 0 rgba(0,0,0,.3);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}[data-lq-name=graph-selection-content] [data-lq-name=data-tag-stat]{padding:2px;color:#373839;background:#fff;white-space:nowrap;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.5);box-shadow:0 2px 6px 0 rgba(0,0,0,.5)}[data-lq-name=graph-selection-content] [data-lq-name=data-tag-caption]{position:absolute;top:6px;left:50%;padding:3px 6px;width:auto;min-width:20px;max-width:160px;overflow:hidden;text-overflow:ellipsis;background:rgba(255,255,255,.8);white-space:nowrap;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.3);box-shadow:0 2px 6px 0 rgba(0,0,0,.3);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.selection-examine-value{font-size:.875em;padding:.35em .35em .2875em .35em;background:#fff;-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.3);box-shadow:0 1px 2px 0 rgba(0,0,0,.3);white-space:nowrap}.selection-examine-value span{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.selection-examine-value span.value{max-width:115px}.selection-examine-value span.unit{max-width:40px}.leftVal,.rightVal{-webkit-transition:all .4s cubic-bezier(.4,0,.2,1);transition:all .4s cubic-bezier(.4,0,.2,1);-webkit-transform:translate(0,0);transform:translate(0,0)}.rightVal.flipLeft{-webkit-transform:translate(-100%,0);transform:translate(-100%,0)}.leftVal.flipRight{-webkit-transform:translate(100%,0);transform:translate(100%,0)}.graph-quick-message{font-size:1.5rem;font-weight:400;margin:0 0 .5em;position:absolute;left:50%;top:50%;text-align:center;line-height:1em;border-radius:.25rem;background:rgba(214,215,219,.8);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:300}.graph-quick-message>div:first-child{padding:1em}.graph-debug-output-console{position:absolute;top:0;left:30px;bottom:20px;right:0;overflow:hidden;margin:10px;padding:10px;font-family:monospace;font-weight:700;font-size:8pt;color:#000;border:1px #000 solid;background:rgba(50,50,50,.15)}.graph-debug-output-console>div{position:absolute;left:0;bottom:0;right:0}.graph-debug-dev{position:absolute;right:8px;top:8px}.graph-debug-dev>button{opacity:.75}.graph-debug-box:hover{background:rgba(0,0,128,.5)}.graph-debug-box>div{background:rgba(0,0,0,.5)}.graph-debug-box>div:hover{-webkit-box-shadow:inset 0 0 0 1px #ff0;box-shadow:inset 0 0 0 1px #ff0}.flot-text{font-size:.75em;color:#373839}.graph-tools-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;font-size:1em;position:absolute;bottom:.375em;left:.375em;width:2.25em;height:2.25em;z-index:75;background:0 0;padding:.375em;border:1px solid #e3e4e5;border-radius:.25rem;-webkit-transition:all .4s cubic-bezier(.4,0,.2,1);transition:all .4s cubic-bezier(.4,0,.2,1)}.graph-tools-btn::-moz-focus-inner{border:0;padding:0}.graph-tools-btn *{pointer-events:none}.graph-tools-btn a,.graph-tools-btn button{pointer-events:auto}.graph-tools-btn:active{outline:0}.graph-tools-btn icon-graph-tools{opacity:.7}.graph-tools-btn:hover{border-color:#bdbebf;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1)}.graph-tools-btn:hover icon-graph-tools{opacity:1}.graph-tools-btn:active{-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 0 1px 1px rgba(0,0,0,.15)}.look-at-me{background-color:var(--color-hot-selection-fill);border-color:var(--color-hot-selection-border)}.look-at-me icon-graph-tools{--graph-tools-color:var(--color-hot-selection-border);opacity:1}.look-at-me:hover{-webkit-transition:none;transition:none;background-color:#fff;border-color:var(--color-hot-selection-border)}.look-at-me:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}:host(.download-image) #graph_tools_btn{display:none}:host(.download-image) .base-axis-label,:host(.download-image) .left-axis-label{border:0}:host(.download-image) ::slotted([slot=graph_mini]){display:none}:host(.graph-mini) .graph-title{display:none}:host(.graph-mini) .base-axis-label,:host(.graph-mini) .left-axis-label{padding:0}:host(.graph-mini) .graph-y-axis{min-width:0;width:1.125rem;-webkit-box-flex:0;-ms-flex:none;flex:none}:host(.graph-mini) .left-axis-label-wrapper{height:auto;left:.75em;bottom:1em}</style> <div class=graph id=graph> <template is=dom-if if=options.title> <div class=graph-title on-click=titleClicked><h6>[[options.title]]</h6></div> </template> <div class=graph-wrapper> <div class=graph-y-axis> <div class=left-axis-label-wrapper> <button class=left-axis-label on-click=leftAxisClicked disabled=[[readOnly]]> <template is=dom-repeat items=[[leftColumnLabels]] as=label> <div class=left-axis-label__colname-color-wrapper> <div class=left-axis-label__color-indicator-wrapper> <template is=dom-repeat items=[[label.colors]] as=color> <div class=left-axis-label__color-indicator style=background-color:[[color]]></div> </template> </div> <div class=left-axis-label__colname-wrapper> <span class=left-axis-label__colname>[[label.text]]</span> <template is=dom-if if=[[label.units]]> <span class=left-axis-label__colunits>([[label.units]])</span> </template> </div> </div> </template> </button> </div> </div> <div class=flex-col> <div class=graph-placeholder id="\'+id+\'"></div> <div class="graph-xAxis graph-x-axis"> <button class=base-axis-label on-click=baseAxisClicked disabled=[[readOnly]]>[[baseColumnLabel]]</button> </div> </div> <div id=event_box> <div id=x_axis_box on-track=axisTranslateHandler></div> <div id=y_axis_box on-track=axisTranslateHandler></div> <div id=plot_box> <slot name=graph_mini></slot> <slot name=analysis></slot> <div class=rainbow-wrapper> <slot name=rainbow></slot> </div> </div> </div> </div> </div> <template is=dom-if if=[[!readOnly]]> <button class="simptip-position-right graph-tools-btn" id=graph_tools_btn on-click=graphToolsHandler data-tooltip$="[[getText(\'Graph Tools\')]]" aria-label$="[[getText(\'Graph Tools\')]]"> <icon-graph-tools></icon-graph-tools> </button> </template> <slot name=predictions></slot> </template> </dom-module>');__webpack_require__(245)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_corelib_graph_Graph__=__webpack_require__(246),__WEBPACK_IMPORTED_MODULE_3_corelib_util_touchGestures__=__webpack_require__(256),__WEBPACK_IMPORTED_MODULE_4_corelib_util_graphNavigation__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_5_corelib_util_RenderStatus__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_6_corelib_graph_plugins_axisTranslate__=__webpack_require__(266),__WEBPACK_IMPORTED_MODULE_7_corelib_graph_plugins_analysis__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_8_corelib_featureflags_featureFlags__=__webpack_require__(17),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};class VstCoreGraph extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.GestureEventListeners(Polymer.Element)){static get is(){return'vst-core-graph'}static get properties(){return{accessibilityScale:{type:Number,observer:'_accessibilityScaleChanged'},axisTranslateDisabled:{value:!1,type:Boolean,reflectToAttribute:!0},dataManager:{type:Object,observer:'dataManagerChanged'},labelSize:{type:Number,value:0.67,observer:'labelSizeChanged'},readOnly:{type:Boolean,value:!1,notify:!0},dataSetIds:{type:Array,value(){return[]},observer:'_dataSetIdsChanged'},baseColumnLabel:{type:String},baseColumnId:{type:String},baseUnits:{type:String},leftColumnGroupIds:{type:Array,value(){return[]},observer:'_leftColumnGroupIdsChanged'},autoscalePadding:{type:Number,observer:'_autoscalePaddingChanged'},defaultLeftAxisName:{type:String},defaultBottomAxisName:{type:String},options:{type:Object,observer:'_optionsChanged'},miniGraphOptions:{type:Object,value(){return{visible:!1}}},selectionsById:{type:Object,value:{},observer:'_selectionsByIdChanged'},highlightGraphTools:{type:Boolean,observer:'_highlightGraphToolsChanged'},udmId:{type:Number,value:0,observer:'_notifyUdmIdChanged'},traces:{type:Object,value(){return{}}},axisScalingModes:{type:Object,observer:'_scalingModesChanged'},leftColumnLabels:{type:Array,value(){return[]}}}}constructor(){super();if(Object(__WEBPACK_IMPORTED_MODULE_8_corelib_featureflags_featureFlags__.c)('graph-touch-interactions')){const touchGestures=Object(__WEBPACK_IMPORTED_MODULE_3_corelib_util_touchGestures__.a)({onPinchmove:(traveled,midpoint,event)=>this.navigate.zoom(traveled,midpoint,event),onPanmove:traveled=>this.navigate.pan(traveled)});this.addEventListener('touchstart',touchGestures.touchstart);this.addEventListener('touchmove',touchGestures.touchmove);this.addEventListener('touchcancel',touchGestures.touchend);this.addEventListener('touchend',touchGestures.touchend)}}async connectedCallback(){super.connectedCallback();this.defaultBottomAxisName=this.getText('[ x-axis ]');this.defaultLeftAxisName=this.getText('[ y-axis ]');this._graphInstance=new __WEBPACK_IMPORTED_MODULE_2_corelib_graph_Graph__.a('graph_0',this);this._graphInstance.on('data-values-updated',this._notifyDataUpdated,this);this.graphInstance=this._graphInstance.getReadOnly();this.shadowRoot.appendChild(this._graphInstance.root());this.activeXAxis='title';if(Object(__WEBPACK_IMPORTED_MODULE_8_corelib_featureflags_featureFlags__.c)('graph-touch-interactions')){this.navigate=Object(__WEBPACK_IMPORTED_MODULE_4_corelib_util_graphNavigation__.a)(this._graphInstance)}this.setupPlugins();this.setupAnalysis();window.graphs=window.graphs||[];window.graphs.push(this._graphInstance);await Object(__WEBPACK_IMPORTED_MODULE_5_corelib_util_RenderStatus__.a)();this.predictionsEl=this.querySelector('vst-core-graph-predictions');this.miniGraphWrapper=this.querySelector('vst-ui-draggable');this.waveLengthStripEl=this.querySelector('vst-spec-wavelength-strip');this.graphToolsBtnEl=this.shadowRoot.querySelector('#graph_tools_btn');const coreGraphAnalysis=this.querySelector('vst-core-graph-analysis'),spectrumAnalysis=this.querySelector('vst-sa-spectrum-analysis');this.analysisEl=coreGraphAnalysis||spectrumAnalysis;this.hasCoreAnalysis=!!coreGraphAnalysis;if(this.analysisEl){this.analysisEl.graphInstance=this.graphInstance}}graphToolsHandler(e){this.dispatchEvent(new CustomEvent('graph-tools-clicked',{detail:e}))}axisTranslateHandler(e){if(!this.axisTranslateDisabled){const state=e.detail.state,which='x_axis_box'===e.currentTarget.id?'x':'y',axis=this._graphInstance.getAxis(which);if('start'===state){axis.translateStart()}else if('track'===state){axis.translateMove(e.detail)}else if('end'===state){axis.translateEnd()}}}titleClicked(){this.dispatchEvent(new CustomEvent('title-clicked'))}baseAxisClicked(e){this.dispatchEvent(new CustomEvent('base-axis-clicked',{detail:e.target}))}leftAxisClicked(e){this.dispatchEvent(new CustomEvent('left-axis-clicked',{detail:e.target}))}addGraphMatch(colId){this.dispatchEvent(new CustomEvent('add-graph-match',{detail:colId}))}setupPlugins(){if(!this.axisTranslateDisabled){__WEBPACK_IMPORTED_MODULE_6_corelib_graph_plugins_axisTranslate__.a.init(this._graphInstance)}}setupAnalysis(){__WEBPACK_IMPORTED_MODULE_7_corelib_graph_plugins_analysis__.a.init(this._graphInstance)}dataManagerChanged(){const dm=this.dataManager;this._graphInstance.setDataManager(dm)}labelSizeChanged(size){const yAxisLabel=this.shadowRoot.querySelector('.left-axis-label');if(yAxisLabel&&this._graphInstance){this.updateStyles({"--label-size":`${size}em`});const yWidth=yAxisLabel.clientHeight+18;this.updateStyles({"--y-axis-width":`${yWidth}px`});this.resizeGraph()}}resizeGraph(){this._graphInstance.resize();this.dispatchEvent(new CustomEvent('resize'))}_notifyDataUpdated(){this.dispatchEvent(new CustomEvent('data-values-updated'))}_highlightGraphToolsChanged(highlightTools){if(this.graphToolsBtnEl){if(highlightTools){this.graphToolsBtnEl.classList.add('look-at-me')}else{this.graphToolsBtnEl.classList.remove('look-at-me')}}}_notifyUdmIdChanged(udmId){if(0!==udmId){this.dispatchEvent(new CustomEvent('udm-id-set',{detail:udmId}))}}updateOptions(options){this.dispatchEvent(new CustomEvent('options-change',{detail:options}))}_accessibilityScaleChanged(scale){this._graphInstance.accessibilityScale=scale;this._graphInstance.updateData();this.resizeGraph()}_scalingModesChanged(newModes,oldModes){if(this._graphInstance&&!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newModes,oldModes)){this._graphInstance.setScalingModes(newModes)}}_optionsChanged(newOptions={},oldOptions={}){if(this.controller){this.controller.updateUdm(newOptions)}if(!oldOptions.title&&newOptions.title||oldOptions.title&&!newOptions.title){this.resizeGraph()}if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newOptions.appearance,oldOptions.appearance)){const{lines,points}=newOptions.appearance;this._graphInstance.showLines(lines);this._graphInstance.showPoints(points)}if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newOptions.graphXRange,oldOptions.graphXRange)){const{graphXRange}=newOptions,prevRange=this._graphInstance.getAxis('x').getRange();graphXRange.min=!isNaN(graphXRange.min)?graphXRange.min:prevRange.min;graphXRange.max=!isNaN(graphXRange.max)?graphXRange.max:prevRange.max;this._graphInstance.setBaseRange(graphXRange.min,graphXRange.max)}if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newOptions.graphYRange,oldOptions.graphYRange)){const{graphYRange}=newOptions,prevRange=this._graphInstance.getAxis('y').getRange();graphYRange.min=!isNaN(graphYRange.min)?graphYRange.min:prevRange.min;graphYRange.max=!isNaN(graphYRange.max)?graphYRange.max:prevRange.max;this._graphInstance.setLeftRange(graphYRange.min,graphYRange.max);this.dispatchEvent(new CustomEvent('left-range-changed'))}if(newOptions.labelSize!==oldOptions.labelSize){this.labelSize=parseFloat(newOptions.labelSize);this.resizeGraph()}}_selectionsByIdChanged(newSelections,oldSelections){const{analysisEl}=this;if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newSelections,oldSelections)){Object.keys(_extends({},newSelections,oldSelections)).forEach(id=>{const[newSelection,oldSelection]=[newSelections,oldSelections].map(s=>s[id]);if(!oldSelection){const{range,permanent}=newSelection;analysisEl.createSelection({range,permanent,id})}else if(!newSelection){analysisEl.getSelectionElementById(id).deleteSelection()}else{if(newSelection.permanent!==oldSelection.permanent){analysisEl.getSelectionElementById(id).permanent=newSelection.permanent}if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newSelection.range,oldSelection.range)){analysisEl.getSelectionElementById(id).setPtRange(newSelection.range)}}});this.dispatchEvent(new CustomEvent('selections-by-id-changed',{detail:{newSelections,oldSelections}}));if(this.hasCoreAnalysis){analysisEl.isTempSelection=Object.values(newSelections).some(s=>!s.permanent)}}}_dataSetIdsChanged(newIds=[],oldIds=[]){oldIds.forEach(id=>{if(!newIds.includes(id)){this.graphInstance.removeDataSet(id)}});newIds.forEach(id=>{if(!oldIds.includes(id)){this.graphInstance.addDataSet(id)}});this.dispatchEvent(new CustomEvent('regular-traces-updated'))}_leftColumnGroupIdsChanged(newIds=[],oldIds=[]){oldIds.forEach(id=>{if(!newIds.includes(id)){this.graphInstance.removeLeftColumnGroup(id)}});newIds.forEach(id=>{if(!oldIds.includes(id)){this.graphInstance.addLeftColumnGroup(id)}});this.dispatchEvent(new CustomEvent('regular-traces-updated'));if(this._graphInstance&&Array.isArray(this.leftColumnGroupIds)){this._graphInstance.refreshLeftLabel()}}_selectionCreatedOrDeleted(isCreationUpdate,initialSelectionUpdate,elementId){if(isCreationUpdate){this.dispatchEvent(new CustomEvent('selection-created',{detail:{initialSelectionUpdate}}))}else{this.dispatchEvent(new CustomEvent('selection-deleted',{detail:{elementId}}))}}_selectionModified(selectionId,selectionUpdates){this.dispatchEvent(new CustomEvent('selection-modified',{detail:{selectionId,selectionUpdates}}))}_updateAnalysisTrace(selectionId,xColumnId,yColumnId,updates){this.dispatchEvent(new CustomEvent('analysis-trace-updated',{detail:{selectionId,xColumnId,yColumnId,updates}}))}updateAddDataSet(setId){this.dispatchEvent(new CustomEvent('data-set-id-added',{detail:{id:setId}}))}updateRemoveDataSet(setId){this.dispatchEvent(new CustomEvent('data-set-id-removed',{detail:{id:setId}}))}updateAddLeftColumnGroup(groupId){groupId=parseInt(groupId);this.dispatchEvent(new CustomEvent('left-column-group-id-added',{detail:{id:groupId}}))}updateRemoveLeftColumnGroup(groupId){groupId=parseInt(groupId);this.dispatchEvent(new CustomEvent('left-column-group-id-removed',{detail:{id:groupId}}))}updateSetsAndGroups(dataSetIds=[],groupIds=[]){this.dispatchEvent(new CustomEvent('column-groups-data-sets-updated',{detail:{dataSetIds,groupIds}}))}updateScalingMode({detail}){this.dispatchEvent(new CustomEvent('axis-scaling-mode-changed',{detail}))}updateAutomaticAutoscale(rangeUpdates){this.dispatchEvent(new CustomEvent('automatic-autoscale',{detail:rangeUpdates}))}updateUserAutoscale(rangeUpdates){this.dispatchEvent(new CustomEvent('user-requested-autoscale',{detail:rangeUpdates}))}_recalcBoxes(){const plot=this._graphInstance.plot,root=this.shadowRoot.querySelector('#graph'),xParent=this.shadowRoot.querySelector('#x_axis_box'),yParent=this.shadowRoot.querySelector('#y_axis_box'),graphPlaceholder=this.shadowRoot.querySelector('.graph-placeholder'),plotBox=this.shadowRoot.querySelector('#plot_box'),offset=this._graphInstance.plot.getPlotOffset();plotBox.style.height=`${plot.height()}px`;plotBox.style.width=`${plot.width()}px`;plotBox.style.right=`${offset.right}px`;plotBox.style.top=`${offset.top}px`;yParent.style.width=`${root.offsetWidth-plotBox.offsetWidth-offset.right}px`;xParent.style.width=`${plotBox.offsetWidth-offset.right}px`;xParent.style.height=`${root.offsetHeight-plotBox.offsetHeight-offset.bottom}px`;this.graphInstance.traces.forEach(trace=>trace.trimAllSeriesData());this.graphInstance.updateData();root.querySelector('.left-axis-label-wrapper').style.width=`${graphPlaceholder.offsetHeight}px`;if(this.analysisEl){this.analysisEl.updateExamineAndSelectionPositions();this.dispatchEvent(new CustomEvent('update-all-curve-fits'))}if(this.waveLengthStripEl){const left=this._graphInstance.getAxis('x').p2c(380),right=this._graphInstance.getAxis('x').p2c(780),plotWidth=this._graphInstance.plot.width();this.waveLengthStripEl.left=left;this.waveLengthStripEl.right=plotWidth-right;this.waveLengthStripEl.width=right-left}}get selections(){let selections=[];if(this.analysisEl){selections=this.analysisEl.selections}else{console.warn(`vst-core-graph-analysis not found`)}return selections}get hasTrace(){return!!this._graphInstance.getLeftTraces().length}_autoscalePaddingChanged(){if(this._graphInstance){this._graphInstance.defaultLeftPaddingPercent=this.autoscalePadding}}setBaseColumnID(baseColumnId){const baseColumn=this._graphInstance.baseColumn;if(!baseColumn||baseColumn.id!==baseColumnId){this._graphInstance.setBaseColumnID(baseColumnId)}this.dispatchEvent(new CustomEvent('graph-base-column-id-update',{detail:{baseColumnId}}));if(this.analysisEl){this.dispatchEvent(new CustomEvent('obsolete-analysis'))}}getBaseColumn(){return this._graphInstance.getBaseColumn()}getBaseRange(){return this._graphInstance.getBaseRange()}getLeftTraces(){return this._graphInstance.getLeftTraces()}setGetTraceColor(getNextTraceColor){this._graphInstance.setGetTraceColor(getNextTraceColor)}removeLeftTraces(){this._graphInstance.removeLeftTraces()}removeBaseColumn(){this._graphInstance.removeBaseColumn()}addLeftTrace(columnId){this._graphInstance.addTrace(columnId)}removeLeftTrace(columnId){this._graphInstance.removeTrace(columnId)}triggerUserAction(type='graph'){this.dispatchEvent(new CustomEvent('user-action',{detail:{type}}))}autoscale(args={},actor='automatic'){const optionsRangeProps={base:'graphXRange',left:'graphYRange'};if(!this.readOnly){const axisRanges=this._graphInstance.autoscale(args),ranges=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapKeys)(axisRanges,(_,key)=>optionsRangeProps[key]);if('automatic'===actor){this.updateAutomaticAutoscale(ranges)}else if('user'===actor){this.updateUserAutoscale(ranges)}}}}customElements.define(VstCoreGraph.is,VstCoreGraph)},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathabs6=Math.abs,_Mathmin5=Math.min,_Mathmax8=Math.max;__webpack_exports__.a=Graph;var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__WEBPACK_IMPORTED_MODULE_2_corelib_graph_Plot__=__webpack_require__(247),__WEBPACK_IMPORTED_MODULE_3_corelib_graph_Axis__=__webpack_require__(248),__WEBPACK_IMPORTED_MODULE_4_corelib_graph_Trace__=__webpack_require__(249),__WEBPACK_IMPORTED_MODULE_5_corelib_graph_Graph_flot__=__webpack_require__(250),__WEBPACK_IMPORTED_MODULE_6_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_7_corelib_util_helpers__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_8_corelib_graph_GraphDataManager__=__webpack_require__(253),__WEBPACK_IMPORTED_MODULE_9_corelib_graph_GraphItem__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_10_corelib_graph_plugins__=__webpack_require__(254),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};let graphId=0;const deprecationWarnings={set:{name:'DEPRECATED SET ACTIONS',errs:[]},call:{name:'DEPRECATED FUNCTION CALLS',errs:[]},access:{name:'DEPRECATED INTERNAL ACCESSES',errs:[]}},warn=()=>!1;let inStartupPhase=!0;setTimeout(()=>{inStartupPhase=!1;Object.values(deprecationWarnings).forEach(val=>{warn(`${val.name}: ${val.errs.length} instances`);val.errs.forEach(errItem=>{warn(errItem)})})},7e3);const generateWarning=(type,msg)=>{if(inStartupPhase){const err=new Error(msg);if(!deprecationWarnings[type].errs.find(item=>item.stack===err.stack)){deprecationWarnings[type].errs.push(err)}}else{warn(msg)}},DEFAULT_PLUGINS=['ignoreAutoScale'];function Graph(name,element){this.pendingTraces=[];this.pendingGraphUpdate={};this._id=graphId++;this._graphDataManager=new __WEBPACK_IMPORTED_MODULE_8_corelib_graph_GraphDataManager__.a;this.el=this._getElements(element);this.component=element;this.eventBinder=new __WEBPACK_IMPORTED_MODULE_6_corelib_util_EventBinder__.a;this.baseColumn=null;this.baseColumnGroup=null;this.traces=[];this.fitTraces=[];this.integralTraces=[];this.tangentTraces=[];this.rawTracePairs=[];this.autoscaleToFit=!1;this.autoscaleLarger=!1;this.isInterpolating=!1;this.defaultLeftPaddingPercent=0.1;this.accessibilityScale=1;this._defaultLineWeight=2;this.enableUpdates=!0;this.updateRequested=!1;this.hideFits=!1;this.hideIntegrals=!1;this.hideTangents=!1;this.throttledUpdateData=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.throttle)(()=>{this.updateData(!0);this.trigger('data-values-updated')},100);this._getNextTraceColor=function(){return'#000000'};this.drawOptions={lines:!0,points:!1};this.plot=__WEBPACK_IMPORTED_MODULE_5_corelib_graph_Graph_flot__.a.create(this.el.placeholder);this.plotObj=new __WEBPACK_IMPORTED_MODULE_2_corelib_graph_Plot__.a(this,{box:this.el.plotBox,_flotPlot:this.plot});this.plotObj.box().graphItem=this.plotObj;this.plotObj.box().setAttribute('data-lq-graph-item','plot');this.axes=this._createAxes();this.plugins=[];DEFAULT_PLUGINS.forEach(name=>{this._loadPlugin(name)});this.refreshBaseLabel();this.refreshLeftLabel()}Object.assign(Graph.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events);Object.assign(Graph.prototype,{getReadOnly(){return this},updateUdm(props){const{component}=this;if(0===component.udmId){this.pendingGraphUpdate=_extends({},this.pendingGraphUpdate,props)}else{this.getDataManager().changeGraph(component.udmId,props)}},setEnableUpdates(enable){this.enableUpdates=enable;if(enable&&this.updateRequested){this.updateData();this.autoscale();this.updateRequested=!1;this.throttledUpdateData()}},pluginLoaded(name){return!!this.plugins.find(plugin=>plugin.name===name)},setGetTraceColor(func){this._getNextTraceColor=func},log(){},elements(){return this.el},root(){return this.el.root},getPlaceholder(){return this.plot.getPlaceholder()},update(){['base','left'].forEach(axis=>{this.axes[axis].flotAxis.options.font={size:12*this.accessibilityScale}});this.plot.setupGrid();this.plot.draw();this.component._recalcBoxes();this.trigger('graph-updated')},redraw(){this.plot.draw()},queueUpdate(){const graph=this;function updateFunc(){graph.update();graph.updateTimeout=null}if(!graph.updateTimeout){graph.updateTimeout=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.defer)(updateFunc)}},queueRedraw(){this.redraw()},pointToCanvas(point){const xaxis=this.plot.getAxes().xaxis,yaxis=this.plot.getAxes().yaxis;point.x=xaxis.p2c(point.x);point.y=yaxis.p2c(point.y);return point},canvasToPoint(point){const xaxis=this.plot.getAxes().xaxis,yaxis=this.plot.getAxes().yaxis;point.x=xaxis.c2p(point.x);point.y=yaxis.c2p(point.y);return point},getDataManager(){return this._graphDataManager},setDataManager(dataManager){this._graphDataManager=dataManager;this._graphDataManager.bind('graph-updated',this.updateOptions,this)},updateData(allowSpecialAutoscale){if(this.enableUpdates){const data=[[]],range=Object(__WEBPACK_IMPORTED_MODULE_7_corelib_util_helpers__.c)(this.traces.map(trace=>trace.range));this.traces.forEach(trace=>{data.push({data:trace.seriesData,color:trace.color,lines:{show:trace.drawOptions?trace.drawOptions.lines:this.drawOptions.lines,lineWidth:trace.lineWeight*this.accessibilityScale},points:{show:trace.drawOptions?trace.drawOptions.points:this.drawOptions.points,radius:1.5*trace.lineWeight*this.accessibilityScale,fillColor:trace.color},ignoreAutoscale:trace.ignoreAutoscale})});this.rawTracePairs.forEach(trace=>{data.push({data:trace.points,color:trace.color,lines:{show:!0,lineWidth:trace.lineWeight},ignoreAutoscale:!0})});if(!this.hideFits){this.fitTraces.forEach(fitTrace=>{data.push({color:fitTrace.color,lines:{show:!0,lineWidth:3*this._defaultLineWeight*this.accessibilityScale},data:fitTrace.data,ignoreAutoscale:!0})})}if(!this.hideIntegrals){this.integralTraces.forEach(intTrace=>{const baseRange=this.getBaseRange(),leftRange=this.getLeftRange(),height=this.getPlot()._flotPlot.height(),baseDistPerPx=(baseRange.max-baseRange.min)/this.getPlot()._flotPlot.width(),leftDistPerPx=(leftRange.max-leftRange.min)/height,{trimmedData}=__WEBPACK_IMPORTED_MODULE_4_corelib_graph_Trace__.a.trimData(intTrace.data,baseDistPerPx,leftDistPerPx,height);data.push({color:intTrace.color,lines:{show:!0,fill:!0,lineWidth:0},data:trimmedData,ignoreAutoscale:!0})})}if(!this.hideTangents){this.tangentTraces.forEach(tangentTrace=>{tangentTrace.tangentLines.forEach(line=>{data.push({color:'rgba(0,0,0,1)',lines:{show:!0,lineWidth:line.lineWidthFactor*this.accessibilityScale},data:line.data,ignoreAutoscale:!0})})})}if(allowSpecialAutoscale&&this.autoscaleLarger&&range.valid){this.component.autoscale({autoscaleSize:'larger',dataExtremes:range})}if(allowSpecialAutoscale&&this.autoscaleToFit&&range.valid){this.component.autoscale({autoscaleSize:'to-fit',dataExtremes:range})}this.plot.setData(data);this.plot.draw()}else{this.updateRequested=!0}},updateOptions(opts){const options=_extends({},opts);if(this._id%3===options.index){this.component.udmId=options.graphId;if(options.curveFits&&0<options.curveFits.length){options.traces=options.traces.filter(trace=>!options.curveFits.find(fit=>fit.fitId===trace.traceColumnId))}if(options.baseColumnId){this.component.setBaseColumnID(`${options.baseColumnId}`)}this.component.updateOptions({appearance:{lines:options.lines,points:options.points}});const baseRange=this.getBaseRange(),xMin=baseRange.min,xMax=baseRange.max;if(xMin!==options.xMin||xMax!==options.xMax){this.component.updateOptions({graphXRange:{min:options.xMin,max:options.xMax}})}const leftRange=this.getLeftRange(),yMin=leftRange.min,yMax=leftRange.max;if(yMin!==options.yMin||yMax!==options.yMax){this.component.updateOptions({graphYRange:{min:options.yMin,max:options.yMax}})}const xScalingMode=this.axes.x.autoscaleMode,yScalingMode=this.axes.y.autoscaleMode;if(xScalingMode!==options.xScalingMode||yScalingMode!==options.yScalingMode){this.component.updateScalingMode({detail:{base:options.xScalingMode,left:options.yScalingMode}})}if(options.title){this.component.updateOptions({title:options.title})}if(options.traces){this.removeLeftTraces();options.traces.forEach(trace=>{const dataManager=this.getDataManager(),traceId=`${trace.traceColumnId}`,baseId=`${trace.baseColumnId}`,baseColumn=dataManager.getColumn(baseId),dataset=dataManager.getDataSetByID(baseColumn.setID);if('regular'===dataset.type){const column=dataManager.getColumn(traceId);if(column){this.component.updateAddDataSet(column.setID);this.component.updateAddLeftColumnGroup(column.group.id)}}else if('prediction'===dataset.type){this.component.addLeftTrace(dataset.columnIDs[1])}else if('graph-match'===dataset.type){this.component.addLeftTrace(dataset.columnIDs[1])}})}if(options.annotations&&!this.component.hasCoreAnalysis){throw new Error('vst-core-analysis not enabled')}this.component.dispatchEvent(new CustomEvent('graph-entity-options-update',{detail:{options,entity:this}}))}},resize(){const placeholder=this.el.placeholder;placeholder.style.width='auto';placeholder.style.height='auto';if(0!==placeholder.offsetWidth&&0!==placeholder.offsetHeight){this.plot.resize();this.update()}},visible(){return!this.component.hidden},getTitle(){return this.component.title},getAxis(name){return this.axes[name]},getPlot(){return this.plotObj},_showBox(show){this.el.box[show?'show':'hide']()},setBaseColumnID(columnId){const component=this.component,dataManager=this.getDataManager(),column=dataManager.getColumn(columnId);if(column&&(!this.baseColumn||this.baseColumn.id!==columnId)){const columnGroup=column.group;this.baseColumnGroup=columnGroup;this.baseColumn=column;if(this.component.leftColumnGroupIds.includes(columnGroup.id)){this.component.updateRemoveLeftColumnGroup(columnGroup.id)}const cacheIds=this.component.leftColumnGroupIds;this.component.leftColumnGroupIds=[];this.component.leftColumnGroupIds=cacheIds;this.refreshBaseLabel();this.updateData(!0);this.getAxis('x').trigger('column-changed',columnId);['name','units'].forEach(key=>{columnGroup.bind(`${key}-changed`,()=>{this.refreshBaseLabel()})});if(0===component.udmId&&!component.udmIdPending){const range=this.getBaseRange(),rangeY=this.getLeftRange(),props={};props.baseColumnId=this.baseColumn.id;props.visible=this.visible();props.xMin=range.min;props.xMax=range.max;props.yMin=rangeY.min;props.yMax=rangeY.max;props.lines=this.drawOptions.lines;props.points=this.drawOptions.points;props.title=this.getTitle();component.udmIdPending=!0;dataManager.addGraph(this,props).then(response=>{component.udmId=response.graphId;component.udmIdPending=!1;dataManager.changeGraph(component.udmId,this.pendingGraphUpdate);this.pendingGraphUpdate={};if(0<this.pendingTraces.length){const traces=[];this.pendingTraces.forEach(trace=>{if(null!==trace){traces.push({baseColumnId:parseInt(this.baseColumn.id),traceColumnId:parseInt(trace.yColumn.id)})}});this.pendingTraces=[];dataManager.addGraphTraces(component.udmId,{traces}).then(response=>{if(!response.success){console.warn('Failed to add trace to graph')}})}})}else{const props={baseColumnId:this.baseColumn.id};this.updateUdm(props)}}},removeBaseColumn(){this.removeLeftTraces();this.baseColumnGroup=null;this.baseColumn=null;this.refreshBaseLabel();this.updateData(!0);this.getAxis('x').trigger('column-removed')},getBaseColumn(dataSetID){const dataManager=this.getDataManager();if(!this.baseColumnGroup||!dataManager.getDataSets||!dataManager.getColumnForGroupAndSet){return null}if(dataSetID===void 0||null===dataSetID){const regularSets=dataManager.getDataSets(),lastSet=regularSets[regularSets.length-1];dataSetID=lastSet?lastSet.id:null}return dataManager.getColumnForGroupAndSet(this.baseColumnGroup.id,dataSetID)},getLeftTraces(){return this.traces.filter(trace=>'regular'===trace.type)},getTracesByType(type){return this.traces.filter(trace=>{return trace.type===type})},getTrace(columnId){return this.traces.find(t=>`${columnId}`===t.yColumn.id)},getTracesByBaseColId(baseColumnId){return this.traces.filter(t=>`${baseColumnId}`===t.baseColumn.id)},getTraceByTraceId(traceId){return this.traces.find(t=>t.id===traceId)},refreshBaseLabel(customLabel){let label=null;if(customLabel){label=customLabel}else if(this.baseColumnGroup){label=this.baseColumnGroup.getNameUnits()}if(!label){label=this.component.defaultBottomAxisName}this.component.baseColumnLabel=label},refreshLeftLabel(customLabel){const dataManager=this.getDataManager(),labels=[];if(customLabel){this.component.leftColumnLabels=[{text:customLabel}]}else if(0<this.traces.length||0<this.rawTracePairs.length){this.traces.forEach(trace=>{const yColumn=trace.yColumn,columnGroup=yColumn.group;if(columnGroup){const isSpecial=yColumn.special;if(isSpecial){const dataSet=dataManager.getDataSetByID(yColumn.setID);labels.push({text:dataSet.name,colors:[yColumn.color]})}else{labels.push({text:columnGroup.name,units:columnGroup.units,colors:[yColumn.color]})}}});this.rawTracePairs.forEach(trace=>{labels.push({text:trace.name,colors:[trace._getNextTraceColor]})});const uniqueLabels=[];labels.forEach(label=>{const match=uniqueLabels.find(uniquelabel=>uniquelabel.text===label.text);if(match){match.colors=match.colors.concat(label.colors)}else{uniqueLabels.push(label)}});this.component.leftColumnLabels=uniqueLabels}else if(this.component.leftColumnGroupIds.length){this.component.leftColumnGroupIds.forEach(id=>{const columnGroup=dataManager.getColumnGroupById(id);if(columnGroup){labels.push({text:columnGroup.name,units:columnGroup.units,colors:['transparent']})}else{labels.push({text:this.component.defaultLeftAxisName})}});this.component.leftColumnLabels=labels}else{this.component.leftColumnLabels=[{text:this.component.defaultLeftAxisName}]}},getNextTraceColor(preferredColor){return this._getNextTraceColor(preferredColor)},addDataSet(setId){const component=this.component,dataManager=this.getDataManager(),dataSet=dataManager.getDataSetByID(setId),dataSetColumns=dataSet.columnIDs.map(id=>dataManager.getColumn(id)),columns=dataSetColumns.filter(col=>component.leftColumnGroupIds.includes(col.groupID));columns.forEach(column=>this.addTrace(column.id))},removeDataSet(setId){const dataManager=this.getDataManager(),dataSet=dataManager.getDataSetByID(setId);if(!dataSet){return}const dataSetColumns=dataSet.columnIDs.map(id=>dataManager.getColumn(id));dataSetColumns.forEach(column=>this.removeTrace(column.id))},addLeftColumnGroup(groupId){const component=this.component,dataManager=this.getDataManager(),columnGroup=dataManager.getColumnGroupById(groupId),columns=columnGroup.columns.filter(col=>component.dataSetIds.includes(col.setID));columns.forEach(column=>this.addTrace(column.id))},removeLeftColumnGroup(groupId){const dataManager=this.getDataManager(),columnGroup=dataManager.getColumnGroupById(groupId);if(!columnGroup){return}columnGroup.columns.forEach(column=>this.removeTrace(column.id))},addTrace(columnId){const component=this.component,dataManager=this.getDataManager(),column=dataManager.getColumn(columnId),dataSet=dataManager.getDataSetByID(column.setID);let traceBaseColumn=this.getBaseColumn(dataSet.id);if(!traceBaseColumn&&dataSet){const baseColId=dataSet.columnIDs[0];traceBaseColumn=dataManager.getColumn(baseColId)}if(!column||!traceBaseColumn){console.warn(`Unable to add trace for columnId=${columnId}`);return}let trace=null,color='rgba(120,120,120,0.7)',lineWeight=6;if(!this.baseColumn){console.warn(`attempting to add trace ${columnId} before base column set!`);return}const getColor=column=>{const columnGroup=column.group,dependentGroups=columnGroup.calcDependentGroups,leftColumnGroups=component.leftColumnGroupIds.map(id=>dataManager.getColumnGroupById(id)),leftColumns=this.getLeftColumnIds().map(id=>dataManager.getColumn(id)),isGroupDependent=leftColumnGroups.find(group=>group.calcDependentGroups.includes(columnGroup.id));let newColor=color;if(0<dependentGroups.length){for(let i=0;i<dependentGroups.length;++i){const dependentColGroup=dataManager.getColumnGroupById(dependentGroups[i]);if('sensor'===dependentColGroup.type){const currentDependentCol=dependentColGroup.columns.find(col=>col.setID===column.setID),hasColumnWithSameDependent=leftColumns.find(col=>col.group.calcDependentGroups.find(id=>dataManager.getColumnGroupById(id).columns.find(col=>col.id===currentDependentCol.id)));if(!this.getTrace(currentDependentCol.id)&&!hasColumnWithSameDependent){newColor=currentDependentCol.color}else{newColor=this.getNextTraceColor()}break}}}else if(isGroupDependent){newColor=this.getNextTraceColor()}else{newColor=this.getNextTraceColor(column.color)}return newColor};if(!this.getTrace(columnId)){const columnGroup=column.group;if('regular'===dataSet.type){color=getColor(column);if(color!==column.color){column.color=color}lineWeight=this._defaultLineWeight*this.accessibilityScale}trace=new __WEBPACK_IMPORTED_MODULE_4_corelib_graph_Trace__.a(this,{type:dataSet.type,yColumn:column,baseColumn:traceBaseColumn,color,lineWeight});column.color=trace.getColor();this.traces.push(trace);trace.bindAll();this.trigger('trace-added',trace);this.getAxis('y').trigger('column-added',columnId);trace.bind('data-points-updated',this.throttledUpdateData,this);['name','units'].forEach(key=>{columnGroup.bind(`${key}-changed`,()=>{this.refreshLeftLabel()})});if('prediction'===trace.type){dataSet.bind('name-changed',()=>{this.refreshLeftLabel()})}if(0===component.udmId){this.pendingTraces.push(trace)}else{const baseColumn=trace.getBaseColumn();let baseColumnId;if(baseColumn){baseColumnId=baseColumn.id}else{baseColumnId=dataSet.columnIDs[0];console.assert(baseColumnId!==columnId)}const traces=[{baseColumnId:parseInt(baseColumnId),traceColumnId:parseInt(columnId)}];if(!dataManager.importing){dataManager.addGraphTraces(component.udmId,{traces}).then(response=>{if(!response.success){console.warn('Failed to add graph trace to udm')}})}}this.refreshLeftLabel();this.updateData(!0);if(columnGroup.replaceDependent&&'calc'===columnGroup.type&&0<column.values.length){this.component.autoscale()}return trace}},removeTrace(columnId){const component=this.component,trace=this.getTrace(columnId);if(trace){this.traces=this.traces.filter(t=>t.id!==trace.id);this.refreshLeftLabel();trace.unbind('data-points-updated',this.throttledUpdateData,this);this.trigger('trace-removed',trace);trace.destroy();this.updateData(!0);this.getAxis('y').trigger('column-removed',columnId);if(0===component.udmId){const idx=this.pendingTraces.indexOf(trace);if(-1!==idx){this.pendingTraces[idx]=null}this.pendingTraces.push(trace)}else{const dataManager=this.getDataManager();if(trace.getBaseColumn()){const traces=[{baseColumnId:parseInt(trace.getBaseColumn().id),traceColumnId:parseInt(columnId)}];dataManager.removeGraphTraces(component.udmId,{traces})}}}},removeLeftTraces(){const traces=this.traces.filter(trace=>{return'regular'===trace.type}),dataManager=this.getDataManager();traces.forEach(trace=>{const column=dataManager.getColumn(trace.yColumn.id);if(column){this.component.removeLeftTrace(column.id)}})},removeTracesByType(type){const traces=this.traces.filter(trace=>{return trace.type===type});traces.forEach(trace=>{this.removeTrace(trace.yColumn.id)})},_triggerUserAction(type){this.component.triggerUserAction(type)},getLeftColumnIds(){return this.getLeftTraces().map(t=>t.yColumn.id)},getColumnIdsByType(type){return this.traces.filter(t=>t.type===type).map(t=>t.yColumn.id)},getAllColumnIds(){return this.traces.map(t=>t.yColumn.id)},getLeftRange(){const axis=this.plot.getAxes().yaxis;return{min:axis.min,max:axis.max}},getBaseRange(){const axis=this.plot.getAxes().xaxis;return{min:axis.min,max:axis.max}},setLeftRange(min,max){if(!isNaN(min)&&!isNaN(max)){const yaxis=this.plot.getAxes().yaxis;yaxis.options.min=min;yaxis.options.max=max;this.queueUpdate();this.updateUdm({yMin:min,yMax:max})}},setBaseRange(min,max){if(!isNaN(min)&&!isNaN(max)){const xaxis=this.plot.getAxes().xaxis;xaxis.options.min=min;xaxis.options.max=max;this.queueUpdate();this.once('graph-updated',()=>{this.traces.forEach(trace=>trace.trimAllSeriesData())});this.updateUdm({xMin:min,xMax:max})}},setScalingModes(modes){const props={};Object.values(this.axes).filter(({alias})=>modes[alias]).forEach(axis=>{axis.autoscaleMode=modes[axis.alias];props[`${axis.name}ScalingMode`]=modes[axis.alias]});if(0!==Object.keys(props).length){this.updateUdm(props)}}});Object.assign(Graph.prototype,{addGraphItem(name,item,parentItem){if('string'===typeof parentItem){parentItem=this.getGraphItem(parentItem)}if(this.getGraphItem(name)){console.warn('Graph: GraphItem "%s" already exists',name)}item.box().graphItem=item;item.box().setAttribute('data-lq-graph-item',name||'');parentItem.box().appendChild(item.box());item._setParentItem(parentItem);item.bind('destroy',()=>{item._setParentItem(null);item.box.remove()})},removeGraphItem(item){if('string'===typeof item){item=this.getGraphItem(item)}if(item){item.destroy()}return!!item},getGraphItem(name){const item=this.el.root.querySelector(`[data-lq-graph-item="${name}"]`);return item?item.graphItem:null},_getGraphItems(){const itemEls=Array.from(this.el.root.querySelectorAll('[data-lq-graph-item]')),items=[];itemEls.forEach(item=>{items.push(item.getAttribute('data-graph-item'))});return items}});Object.assign(Graph.prototype,{box(){return this.el.box},autoscalePrediction(range){this.component.updateOptions({graphXRange:{min:range.xMin,max:range.xMax},graphYRange:{min:range.yMin,max:range.yMax}})},getBaseMinMax(){const dataManager=this.getDataManager(),curBaseColumn=this.getBaseColumn(),minMaxForColumn=(baseCol,min,max)=>{const values=baseCol.getValues();for(let i=0;i<values.length;++i){const value=values[i];if(null===min&&null===max){min=value;max=value}else{if(value<min){min=value}if(value>max){max=value}}}return{min,max}};let setIDs=[],specialIDs=[];this.traces.forEach(trace=>{if('prediction'===trace.type){specialIDs.push(trace.yColumn.setID)}else{setIDs.push(trace.yColumn.setID)}});setIDs=[...new Set(setIDs)];specialIDs=[...new Set(specialIDs)];let min=null,max=null;const updateMinMax=range=>{if(null===min||range.min<min){min=range.min}if(null===max||range.max>max){max=range.max}};setIDs.forEach(setId=>{const baseColumn=dataManager.getColumnForSet(curBaseColumn,setId);if(baseColumn){const range=minMaxForColumn(baseColumn,min,max);updateMinMax(range)}});specialIDs.forEach(setId=>{const columnIds=dataManager.getDataSetByID(setId).columnIDs;columnIds.forEach(colId=>{const column=dataManager.getColumn(colId);if(column.prefersBase){const range=minMaxForColumn(column,min,max);updateMinMax(range)}})});return{min,max}},getLeftMinMaxSmaxyFromZero(){const dataManager=this.getDataManager();let min=null,max=null,smaxy=0,autoscaleFromZero=!1;const colIds=this.traces.filter(t=>'graph-match'!==t.type).map(t=>t.yColumn.id);colIds.forEach(colId=>{const col=dataManager.getColumn(colId),values=col.getValues();for(let i=0;i<values.length;++i){const value=values[i];if(!isNaN(value)){if(null===min&&null===max){min=value;max=value}else{if(value<min){min=value}if(value>max){max=value}}}}if(col.smaxy>smaxy){smaxy=col.smaxy}if(!autoscaleFromZero&&col.autoscaleFromZero){autoscaleFromZero=!0}});return{min,max,smaxy,autoscaleFromZero}},_autoscaleBaseLarger(options){const{dataExtremes,currentRange}=options;let{max}=currentRange;if(dataExtremes.baseMax>max+1e-8){max*=1.2}return{min:dataExtremes.baseMin,max}},_autoscaleLeftLarger(options){const{dataExtremes,currentRange}=options;let{min,max}=currentRange;const yDelta=max-min;if(dataExtremes.leftMin<min){min=dataExtremes.leftMin-0.2*yDelta}if(dataExtremes.leftMax>max){max=dataExtremes.leftMax+0.2*yDelta}return{min,max}},_autoscaleBaseToFit(options){let{baseMin,baseMax}=options.dataExtremes;if(this.baseColumn&&1===this.baseColumn.values.length){const{min:curXMin}=options.currentRange;if(baseMin===baseMax){baseMin=_Mathmin5(baseMin,curXMin);baseMax=_Mathmax8(baseMax,curXMin)}}return{min:baseMin,max:baseMax}},_autoscaleLeftToFit(options){let{leftMin,leftMax}=options.dataExtremes;if(this.baseColumn&&1===this.baseColumn.values.length){const{min:curYMin,max:curYMax}=options.currentRange;if(leftMin===leftMax){leftMin=_Mathmin5(leftMin,curYMin);leftMax=_Mathmax8(leftMax,curYMax)}}return{min:leftMin,max:leftMax}},_autoscaleBaseNormal(options){const{padding}=options;let{min,max}=this.getBaseMinMax();min-=padding.right;max+=padding.left;return{min,max}},_autoscaleLeftNormal(options){const{padding,ignoreSmaxy}=options,leftMinMaxSmaxyFromZero=this.getLeftMinMaxSmaxyFromZero(),{smaxy,autoscaleFromZero}=leftMinMaxSmaxyFromZero;let{min,max}=leftMinMaxSmaxyFromZero;if(!ignoreSmaxy&&0!==smaxy){min-=smaxy;max+=smaxy}else{const defaultPadding=(max-min)*this.defaultLeftPaddingPercent;min-=defaultPadding+padding.bottom;max+=defaultPadding+padding.top}if(autoscaleFromZero){if(_Mathabs6(max)>=_Mathabs6(min)){min=0}else{max=0}}return{min,max}},autoscale({autoscaleSize='normal',axis,ignoreSmaxy,toFit,padding,dataExtremes}={}){padding=_extends({top:0,left:0,bottom:0,right:0},padding);if('normal'===autoscaleSize){this.autoscaleToFit=toFit}const autoscaleAxis=axis=>{const currentRanges={base:this.getBaseRange(),left:this.getLeftRange()},autoscaleRoutine={"base-axis-normal":'_autoscaleBaseNormal',"left-axis-normal":'_autoscaleLeftNormal',"base-axis-to-fit":'_autoscaleBaseToFit',"left-axis-to-fit":'_autoscaleLeftToFit',"base-axis-larger":'_autoscaleBaseLarger',"left-axis-larger":'_autoscaleLeftLarger'}[`${axis}-axis-${autoscaleSize}`],currentRange=currentRanges[axis],options={padding,ignoreSmaxy,dataExtremes,currentRange};if(autoscaleRoutine&&this[autoscaleRoutine]){return this[autoscaleRoutine](options)}return currentRange},validAxes=['base','left'],autoscaledRanges={};if(axis&&validAxes.includes(axis)){return{[axis]:autoscaleAxis(axis)}}validAxes.forEach(axis=>{autoscaledRanges[axis]=autoscaleAxis(axis)});return autoscaledRanges},enableAutoscaleLarger(){this.autoscaleLarger=!0},disableAutoscaleLarger(){this.throttledUpdateData.flush();this.autoscaleLarger=!1},showPoints(show){this.drawOptions.points=show;this.updateData();this.updateUdm({points:show})},showLines(show){this.drawOptions.lines=show;this.updateData();this.updateUdm({lines:show})},getDrawOptions(){return _extends({},this.drawOptions)}});Object.assign(Graph.prototype,{getClosestX(xPixel){const{isInterpolating}=this,flotAxis=this.getAxis('x')._flotAxis();let closestX=flotAxis.c2p(xPixel);const xPointOrig=closestX;let nextClosestX=null,prevPoint=null,delta=Infinity,prevDelta=Infinity,index=-1,traces;if(isInterpolating){if(0<this.fitTraces.length){traces=this.fitTraces}}if(!traces){traces=this.getLeftTraces()}traces.forEach(trace=>{trace.getData(data=>{const points=data.points;for(let i=0;i<points.length;i++){const x=points.x[i],y=points.y[i];if(!isNaN(x)&&!isNaN(y)){const diff=_Mathabs6(xPointOrig-x);if(diff<delta){prevDelta=delta;prevPoint=closestX;delta=diff;closestX=x;index=i}else if(diff<prevDelta&&x!==closestX){prevDelta=diff;nextClosestX=x}else if(null===nextClosestX&&prevPoint!==closestX){nextClosestX=prevPoint}}}})});return{pt:closestX,px:flotAxis.p2c(closestX),nextClosest:{pt:nextClosestX,px:flotAxis.p2c(nextClosestX)},index}},getPointsForX(xPoint){const{isInterpolating,fitTraces}=this,tracePoints=[];let traces;const usingFitTraces=isInterpolating&&0<fitTraces.length;if(usingFitTraces){traces=this.fitTraces}if(!traces){traces=this.getLeftTraces()}traces.forEach(trace=>{trace.getData(data=>{const points=data.points;for(let i=0;i<points.length;i++){const x=points.x[i],y=points.y[i];if(!isNaN(x)&&!isNaN(y)){if(1e-13>_Mathabs6(x-xPoint)){if(usingFitTraces){trace=this.getTraceByTraceId(trace.traceId)}tracePoints.push({trace,id:trace.yColumn?trace.yColumn.id:trace.id,leftUnits:trace.yColumn.group.units,point:{index:i,x,y}})}}}})});return tracePoints}});Object.assign(Graph.prototype,{_loadPlugin(name){let plugin;if(!this.plugins.find(plugin=>name===plugin.name)){plugin=__WEBPACK_IMPORTED_MODULE_10_corelib_graph_plugins__.a[name];if(plugin){plugin.init(this);this.plugins.push(plugin)}else{console.warn('Graph: plugins doesn\'t exist: %s',name)}}},_getElements(element){const graphEl=element.shadowRoot.querySelector('.graph'),elObj={root:graphEl,wrapper:graphEl.querySelector('.graph-wrapper'),placeholder:graphEl.querySelector('.graph-placeholder'),xAxis:graphEl.querySelector('.graph-x-axis'),yAxis:graphEl.querySelector('.graph-y-axis'),box:graphEl.querySelector('#event_box'),xAxisBox:graphEl.querySelector('#x_axis_box'),yAxisBox:graphEl.querySelector('#y_axis_box'),plotBox:graphEl.querySelector('#plot_box'),baseAxisBtnEl:graphEl.querySelector('.base-axis-label'),leftAxisBtnEl:graphEl.querySelector('.left-axis-label')};return elObj},_createAxes(){const axes={};[new __WEBPACK_IMPORTED_MODULE_3_corelib_graph_Axis__.a(this,{name:'x',alias:'base',box:this.el.xAxisBox,flotAxis:this.plot.getAxes().xaxis,axisBtnEl:this.el.baseAxisBtnEl}),new __WEBPACK_IMPORTED_MODULE_3_corelib_graph_Axis__.a(this,{name:'y',alias:'left',box:this.el.yAxisBox,flotAxis:this.plot.getAxes().yaxis,axisBtnEl:this.el.leftAxisBtnEl})].forEach(axis=>{axis.box().graphItem=axis;axis.box().setAttribute('data-lq-graph-item',`${axis.name}-axis`);axes[axis.name]=axis;axes[axis.alias]=axis});return axes}})},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_exports__.a=Plot;var __WEBPACK_IMPORTED_MODULE_0_corelib_graph_GraphItem__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery__);function Plot(graph,options){this._flotPlot=options._flotPlot;this._box=options.box||__WEBPACK_IMPORTED_MODULE_1_corelib_lib_jquery___default()('<div/>');this._setItemGraph(graph);this._setItemBox(this._box)}Plot.prototype=new __WEBPACK_IMPORTED_MODULE_0_corelib_graph_GraphItem__.a},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_graph_GraphItem__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__=__webpack_require__(6);class Axis extends __WEBPACK_IMPORTED_MODULE_0_corelib_graph_GraphItem__.a{constructor(graph,options={}){super();this.graph=graph;this.name=options.name||'?';this.alias=options.alias||'';this.autoscaleMode='';this.axisBox=options.box||document.createElement('div');this.eventBinder=new __WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__.a;this.axisBtnEl=options.axisBtnEl;this._setItemGraph(graph);this._setItemBox(this.axisBox);this.flotAxis=options.flotAxis;console.assert(this.graph,'must supply graph');console.assert(this.flotAxis,'must supply flotAxis')}getGraph(){return this.graph}_triggerUserUpdate(){this.graph._triggerUserAction('axis')}_flotAxis(){return this.flotAxis}c2p(p){return this._flotAxis().c2p(p)}p2c(p){return this._flotAxis().p2c(p)}setRange(min,max){const{graph}=this,axis=this._flotAxis();if('object'===typeof min){max=min.max;min=min.min}if('x'===axis.direction){graph.component.updateOptions({graphXRange:{min,max}})}else if('y'===axis.direction){graph.component.updateOptions({graphYRange:{min,max}})}}getRange(){const axis=this._flotAxis();return{min:axis.min,max:axis.max}}getRangePx(){const range=this.getRange(),rangePx={};Object.keys(range).forEach(key=>{rangePx[key]=this.p2c(range[key])});return rangePx}translate(delta){const axis=this._flotAxis(),min=axis.min-delta,max=axis.max-delta;this.setRange(min,max)}}__webpack_exports__.a=Axis},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathmin6=Math.min,_Mathmax9=Math.max,__WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__=__webpack_require__(18),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};class Trace{constructor(graph,options){options=options||{};this.id=__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.uniqueId('trace-');this.graph=graph;this.graphPlot=graph.getPlot();this.getGraphBaseRange=graph.getBaseRange.bind(graph);this.getGraphLeftRange=graph.getLeftRange.bind(graph);this.type=options.type||'regular';if('regular'!==this.type){this.drawOptions={lines:!0,points:!1}}this.yColumn=options.yColumn;this.baseColumn=options.baseColumn;this.range=__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.a;this.seriesData=[];this.trimAllSeriesData();this.allowUpdatesToAppend=!0;this.latestBucket=null;this.numPointsFromLatestBucket=0;this.color=options.color||'#000000';this.lineWeight=options.lineWeight||2;console.assert(this.graph);console.assert(this.yColumn);console.assert(this.baseColumn)}static generateSeriesData(columnRows,baseValues,leftValues){const isValidVal=val=>val!==void 0&&null!==val&&!Number.isNaN(val),data=[];let lastBaseValue=-Infinity,isIncreasing=!0,range=_extends({},__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.a);for(let i=0;i<columnRows.length;++i){const baseValue=baseValues[columnRows[i]],leftValue=leftValues[columnRows[i]];if(isValidVal(baseValue)&&isValidVal(leftValue)){data.push([baseValue,leftValue]);range={baseMin:_Mathmin6(range.baseMin,baseValue),baseMax:_Mathmax9(range.baseMax,baseValue),leftMin:_Mathmin6(range.leftMin,leftValue),leftMax:_Mathmax9(range.leftMax,leftValue),valid:!0};isIncreasing=isIncreasing&&lastBaseValue<baseValue;lastBaseValue=baseValue}}return{data,range,isIncreasing}}static trimData(data,baseDistPerPx,leftDistPerPx,leftPxHeight,seedBucket){const trimmedData=[];let x,y,bucket=null;const buckets=seedBucket?[seedBucket]:[];function getBucket(xIndex,pt){let bucket=buckets.find(b=>b.xIndex===xIndex);if(!bucket){bucket={xIndex,x:xIndex*baseDistPerPx,points:[pt],avg:{xSum:0,ySum:0,count:0},min:{x:Infinity,y:Infinity},max:{x:-Infinity,y:-Infinity}};buckets.push(bucket)}else{bucket.points.push(pt)}return bucket}const dataLength=data.length;for(let i=0;i<dataLength;++i){x=data[i][0];y=data[i][1];bucket=getBucket(Math.floor(x/baseDistPerPx),data[i]);if(y<bucket.min.y){bucket.min.x=x;bucket.min.y=y}if(y>bucket.max.y){bucket.max.x=x;bucket.max.y=y}bucket.avg.xSum+=x;bucket.avg.ySum+=y;bucket.avg.count++}let seriesPointsAdded;const bucketsLength=buckets.length;for(let i=0;i<bucketsLength;++i){bucket=buckets[i];if(bucket){if(1===bucket.avg.count){trimmedData.push(bucket.points[0]);seriesPointsAdded=1}else if(bucket.max.y-bucket.min.y>2*leftDistPerPx){if(bucket.points.length<leftPxHeight){trimmedData.push(...bucket.points);seriesPointsAdded=bucket.points.length}else{trimmedData.push([bucket.min.x,bucket.min.y]);trimmedData.push([bucket.max.x,bucket.max.y]);seriesPointsAdded=2}}else{trimmedData.push([bucket.avg.xSum/bucket.avg.count,bucket.avg.ySum/bucket.avg.count]);seriesPointsAdded=1}}}return{trimmedData,lastBucket:buckets[buckets.length-1],lastBucketPointsCount:seriesPointsAdded}}}__webpack_exports__.a=Trace;Object.assign(Trace.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events);Object.assign(Trace.prototype,{getBaseColumn(){return this.baseColumn},getColor(){return this.color},getPlotSizeInfo(){const plot=this.graphPlot,pxWidth=plot._flotPlot.width(),pxHeight=plot._flotPlot.height(),baseRange=this.getGraphBaseRange(),leftRange=this.getGraphLeftRange(),baseDistPerPx=(baseRange.max-baseRange.min)/pxWidth,leftDistPerPx=(leftRange.max-leftRange.min)/pxHeight;return{pxWidth,pxHeight,baseDistPerPx,leftDistPerPx}},appendToSeriesDataAndRange(rows){const baseValues=this.baseColumn.getValues(),leftValues=this.yColumn.getValues(),{data,range}=Trace.generateSeriesData(rows,baseValues,leftValues);if(data.length){const{pxHeight,baseDistPerPx,leftDistPerPx}=this.getPlotSizeInfo(),trimDataResult=Trace.trimData(data,baseDistPerPx,leftDistPerPx,pxHeight,this.latestBucket),{trimmedData,lastBucket,lastBucketPointsCount}=trimDataResult;this.seriesData.splice(-this.numPointsFromLatestBucket,this.numPointsFromLatestBucket,...trimmedData);this.range=Object(__WEBPACK_IMPORTED_MODULE_2_corelib_util_helpers__.c)([this.range,range]);this.latestBucket=lastBucket;this.numPointsFromLatestBucket=lastBucketPointsCount;this.trigger('data-points-updated')}},updateAllSeriesDataAndRange({notify}={}){const baseValues=this.baseColumn.getValues(),leftValues=this.yColumn.getValues(),allRowIndexes=this.baseColumn.getValues().map((_,i)=>i),{data,range,isIncreasing}=Trace.generateSeriesData(allRowIndexes,baseValues,leftValues);if(data.length){if(isIncreasing){const{pxHeight,baseDistPerPx,leftDistPerPx}=this.getPlotSizeInfo(),trimDataResult=Trace.trimData(data,baseDistPerPx,leftDistPerPx,pxHeight),{trimmedData,lastBucket,lastBucketPointsCount}=trimDataResult;this.seriesData=trimmedData;this.latestBucket=lastBucket;this.numPointsFromLatestBucket=lastBucketPointsCount}else{this.seriesData=data}this.range=range;if(notify){this.trigger('data-points-updated')}}},trimAllSeriesData(){this.updateAllSeriesDataAndRange({notify:!1})},_onValuesChanged(rows,column){const values=column.getValues(),areSequentialRows=rows.every((row,i,rows)=>row-i===rows[0]),rowsPositionedAtEnd=rows[0]===values.length-rows.length,overwritePrevValues=rows.some(row=>this.seriesData[row]);if(areSequentialRows&&rowsPositionedAtEnd&&!overwritePrevValues&&this.allowUpdatesToAppend){this.appendToSeriesDataAndRange(rows)}else{this.allowUpdatesToAppend=!1;this.updateAllSeriesDataAndRange({notify:!0})}},bindAll(){this.yColumn.bind('row-values-updated',this._onValuesChanged,this);this.baseColumn.bind('row-values-updated',this._onValuesChanged,this)},unbindAll(){this.yColumn.unbind('row-values-updated',this._onValuesChanged,this);this.baseColumn.unbind('row-values-updated',this._onValuesChanged,this)},getData(callback){const baseColumn=this.getBaseColumn();let x=baseColumn?baseColumn.getValues():null,y=this.yColumn.getValues();x=x||[];y=y||[];callback({points:{x,y,length:_Mathmin6(x.length,y.length)}})},destroy(){this.unbindAll()}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_flot__=__webpack_require__(251);const localeDecimal=(+1.1).toLocaleString().substring(1,2);function _tickFormatter(value,axis){const factor=axis.tickDecimals?10**axis.tickDecimals:1;let formatted=`${Math.round(value*factor)/factor}`;formatted=formatted.replace('.',localeDecimal);if(null!==axis.tickDecimals){const decimal=formatted.indexOf(localeDecimal),precision=-1===decimal?0:formatted.length-decimal-1;if(precision<axis.tickDecimals){return(precision?formatted:formatted+localeDecimal)+`${factor}`.substr(1,axis.tickDecimals-precision)}}return formatted}const axisDefaults={xaxis:{min:0,max:1},yaxis:{min:0,max:1}},xMin=axisDefaults.xaxis.min,xMax=axisDefaults.xaxis.max,yMin=axisDefaults.yaxis.min,yMax=axisDefaults.yaxis.max,config={series:{clickable:!0,hoverable:!0,shadowSize:0},grid:{backgroundColor:'white',markings:[{yaxis:{from:0,to:0},color:'#555'},{xaxis:{from:0,to:0},color:'#555'}],borderWidth:0,margin:{top:18,left:0,bottom:0,right:18}},xaxis:{position:'bottom',min:xMin,max:xMax,tickFormatter:_tickFormatter},yaxis:{position:'left',min:yMin,max:yMax,tickFormatter:_tickFormatter}},graphFlot={config,create(placeholder){placeholder.width='100px';placeholder.height='100px';return Object(__WEBPACK_IMPORTED_MODULE_0_corelib_util_flot__.a)(placeholder,[[]],config)}};__webpack_exports__.a=graphFlot},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_lib_jquery__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_0_corelib_lib_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_jquery__);const oldjQuery=window.jQuery;window.jQuery=__WEBPACK_IMPORTED_MODULE_0_corelib_lib_jquery___default.a;__webpack_require__(252);const flot=window.jQuery.plot;__webpack_exports__.a=flot;window.jQuery=oldjQuery},function(){var _Mathsin=Math.sin,_Mathround3=Math.round,_Mathcos=Math.cos,_MathPI2=Math.PI,_Mathabs7=Math.abs,_Mathmin7=Math.min,_Mathmax10=Math.max,_Mathfloor4=Math.floor,_Mathceil2=Math.ceil;(function($){$.color={};$.color.make=function(r,g,b,a){const o={r:r||0,g:g||0,b:b||0,a:null!=a?a:1};o.add=function(c,d){for(let i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()};o.scale=function(c,f){for(let i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()};o.toString=function(){if(1<=o.a){return`rgb(${[o.r,o.g,o.b].join(',')})`}return`rgba(${[o.r,o.g,o.b,o.a].join(',')})`};o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}o.r=clamp(0,parseInt(o.r),255);o.g=clamp(0,parseInt(o.g),255);o.b=clamp(0,parseInt(o.b),255);o.a=clamp(0,o.a,1);return o};o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};$.color.extract=function(elem,css){let c;do{c=elem.css(css).toLowerCase();if(''!=c&&'transparent'!=c)break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),'body'));if('rgba(0, 0, 0, 0)'==c)c='transparent';return $.color.parse(c)};$.color.parse=function(str){let res,m=$.color.make;if(res=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]));if(res=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]),parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));const name=$.trim(str).toLowerCase();if('transparent'==name)return m(255,255,255,0);res=lookupColors[name]||[0,0,0];return m(res[0],res[1],res[2])};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function($){const hasOwnProperty=Object.prototype.hasOwnProperty;if(!$.fn.detach){$.fn.detach=function(){return this.each(function(){if(this.parentNode){this.parentNode.removeChild(this)}})}}function Canvas(cls,container){let element=container.children(`.${cls}`)[0];if(null==element){element=document.createElement('canvas');element.className=cls;$(element).css({direction:'ltr',position:'absolute',left:0,top:0}).appendTo(container);if(!element.getContext){if(window.G_vmlCanvasManager){element=window.G_vmlCanvasManager.initElement(element)}else{throw new Error('Canvas is not available. If you\'re using IE with a fall-back such as Excanvas, then there\'s either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.')}}}this.element=element;const context=this.context=element.getContext('2d');let devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.pixelRatio=devicePixelRatio/backingStoreRatio;this.resize(container.width(),container.height());this.textContainer=null;this.text={};this._textCache={}}Canvas.prototype.resize=function(width,height){if(0>=width||0>=height){}let element=this.element,context=this.context,pixelRatio=this.pixelRatio;if(this.width!=width){element.width=width*pixelRatio;element.style.width=`${width}px`;this.width=width}if(this.height!=height){element.height=height*pixelRatio;element.style.height=`${height}px`;this.height=height}context.restore();context.save();context.scale(pixelRatio,pixelRatio)};Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};Canvas.prototype.render=function(){const cache=this._textCache;for(const layerKey in cache){if(hasOwnProperty.call(cache,layerKey)){let layer=this.getTextLayer(layerKey),layerCache=cache[layerKey];layer.hide();for(const styleKey in layerCache){if(hasOwnProperty.call(layerCache,styleKey)){const styleCache=layerCache[styleKey];for(const key in styleCache){if(hasOwnProperty.call(styleCache,key)){const positions=styleCache[key].positions;for(var i=0,position;position=positions[i];i++){if(position.active){if(!position.rendered){layer.append(position.element);position.rendered=!0}}else{positions.splice(i--,1);if(position.rendered){position.element.detach()}}}if(0==positions.length){delete styleCache[key]}}}}}layer.show()}}};Canvas.prototype.getTextLayer=function(classes){let layer=this.text[classes];if(null==layer){if(null==this.textContainer){this.textContainer=$('<div class=\'flot-text\'></div>').css({position:'absolute',top:0,left:0,bottom:0,right:0}).insertAfter(this.element)}layer=this.text[classes]=$('<div></div>').addClass(classes).css({position:'absolute',top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return layer};Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){let textStyle,layerCache,styleCache,info;text=`${text}`;if('object'===typeof font){textStyle=`${font.style} ${font.variant} ${font.weight} ${font.size}px/${font.lineHeight}px ${font.family}`}else{textStyle=font}layerCache=this._textCache[layer];if(null==layerCache){layerCache=this._textCache[layer]={}}styleCache=layerCache[textStyle];if(null==styleCache){styleCache=layerCache[textStyle]={}}info=styleCache[text];if(null==info){const element=$('<div></div>').html(text).css({position:'absolute',"max-width":width,top:-9999}).appendTo(this.getTextLayer(layer));if('object'===typeof font){element.css({font:textStyle,color:font.color})}else if('string'===typeof font){element.addClass(font)}info=styleCache[text]={width:element.outerWidth(!0),height:element.outerHeight(!0),element,positions:[]};element.detach()}else{if(0===info.width||0===info.height){const attached=0!==info.element.parent().length;if(!attached){info.element.appendTo(this.getTextLayer(layer))}info.width=info.element.outerWidth(!0);info.height=info.element.outerHeight(!0);if(!attached){info.element.detach()}}}return info};Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){let info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions;if('center'==halign){x-=info.width/2}else if('right'==halign){x-=info.width}if('middle'==valign){y-=info.height/2}else if('bottom'==valign){y-=info.height}for(var i=0,position;position=positions[i];i++){if(position.x==x&&position.y==y){position.active=!0;return}}position={active:!0,rendered:!1,element:positions.length?info.element.clone():info.element,x,y};positions.push(position);position.element.css({top:_Mathround3(y),left:_Mathround3(x),"text-align":halign})};Canvas.prototype.removeText=function(layer,x,y,text,font,angle){if(null==text){const layerCache=this._textCache[layer];if(null!=layerCache){for(const styleKey in layerCache){if(hasOwnProperty.call(layerCache,styleKey)){const styleCache=layerCache[styleKey];for(const key in styleCache){if(hasOwnProperty.call(styleCache,key)){for(var positions=styleCache[key].positions,i=0,position;position=positions[i];i++){position.active=!1}}}}}}}else{for(var positions=this.getTextInfo(layer,text,font,angle).positions,i=0,position;position=positions[i];i++){if(position.x==x&&position.y==y){position.active=!1}}}};function Plot(placeholder,data_,options_,plugins){var _NumberMAX_VALUE=Number.MAX_VALUE;let series=[],options={colors:['#edc240','#afd8f8','#cb4b4b','#4da74d','#9440ed'],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:'#ccc',container:null,position:'ne',margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:'bottom',mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:'left'},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:'#ffffff',symbol:'circle'},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:'left',horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:'#545454',backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:'#f4f4f4',markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],plotOffset={left:0,right:0,top:0,bottom:0},plotWidth=0,plotHeight=0,hooks={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},plot=this;plot.setData=setData;plot.setupGrid=setupGrid;plot.draw=draw;plot.getPlaceholder=function(){return placeholder};plot.getCanvas=function(){return surface.element};plot.getPlotOffset=function(){return plotOffset};plot.width=function(){return plotWidth};plot.height=function(){return plotHeight};plot.offset=function(){const o=eventHolder.offset();o.left+=plotOffset.left;o.top+=plotOffset.top;return o};plot.getData=function(){return series};plot.getAxes=function(){let res={};$.each(xaxes.concat(yaxes),(_,axis)=>{if(axis){res[`${axis.direction+(1!=axis.n?axis.n:'')}axis`]=axis}});return res};plot.getXAxes=function(){return xaxes};plot.getYAxes=function(){return yaxes};plot.c2p=canvasToAxisCoords;plot.p2c=function(pos){let res={},i,axis,key;for(i=0;i<xaxes.length;++i){axis=xaxes[i];if(axis&&axis.used){key=`x${axis.n}`;if(null==pos[key]&&1==axis.n){key='x'}if(null!=pos[key]){res.left=axis.p2c(pos[key]);break}}}for(i=0;i<yaxes.length;++i){axis=yaxes[i];if(axis&&axis.used){key=`y${axis.n}`;if(null==pos[key]&&1==axis.n){key='y'}if(null!=pos[key]){res.top=axis.p2c(pos[key]);break}}}return res};plot.getOptions=function(){return options};plot.highlight=highlight;plot.unhighlight=unhighlight;plot.triggerRedrawOverlay=triggerRedrawOverlay;plot.pointOffset=function(point){return{left:parseInt(xaxes[axisNumber(point,'x')-1].p2c(+point.x)+plotOffset.left,10),top:parseInt(yaxes[axisNumber(point,'y')-1].p2c(+point.y)+plotOffset.top,10)}};plot.shutdown=shutdown;plot.destroy=function(){shutdown();placeholder.removeData('plot').empty();series=[];options=null;surface=null;overlay=null;eventHolder=null;ctx=null;octx=null;xaxes=[];yaxes=[];hooks=null;highlights=[];plot=null};plot.resize=function(){let width=placeholder.width(),height=placeholder.height();surface.resize(width,height);overlay.resize(width,height)};plot.hooks=hooks;(function(){const classes={Canvas};for(let i=0;i<plugins.length;++i){const p=plugins[i];p.init(plot,classes);if(p.options){$.extend(!0,options,p.options)}}})(plot);(function(opts){$.extend(!0,options,opts);if(opts&&opts.colors){options.colors=opts.colors}if(null==options.xaxis.color){options.xaxis.color=$.color.parse(options.grid.color).scale('a',0.22).toString()}if(null==options.yaxis.color){options.yaxis.color=$.color.parse(options.grid.color).scale('a',0.22).toString()}if(null==options.xaxis.tickColor){options.xaxis.tickColor=options.grid.tickColor||options.xaxis.color}if(null==options.yaxis.tickColor){options.yaxis.tickColor=options.grid.tickColor||options.yaxis.color}if(null==options.grid.borderColor){options.grid.borderColor=options.grid.color}if(null==options.grid.tickColor){options.grid.tickColor=$.color.parse(options.grid.color).scale('a',0.22).toString()}let i,axisOptions,axisCount,fontSize=placeholder.css('font-size'),fontSizeDefault=fontSize?+fontSize.replace('px',''):13,fontDefaults={style:placeholder.css('font-style'),size:_Mathround3(0.8*fontSizeDefault),variant:placeholder.css('font-variant'),weight:placeholder.css('font-weight'),family:placeholder.css('font-family')};axisCount=options.xaxes.length||1;for(i=0;i<axisCount;++i){axisOptions=options.xaxes[i];if(axisOptions&&!axisOptions.tickColor){axisOptions.tickColor=axisOptions.color}axisOptions=$.extend(!0,{},options.xaxis,axisOptions);options.xaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);if(!axisOptions.font.color){axisOptions.font.color=axisOptions.color}if(!axisOptions.font.lineHeight){axisOptions.font.lineHeight=_Mathround3(1.15*axisOptions.font.size)}}}axisCount=options.yaxes.length||1;for(i=0;i<axisCount;++i){axisOptions=options.yaxes[i];if(axisOptions&&!axisOptions.tickColor){axisOptions.tickColor=axisOptions.color}axisOptions=$.extend(!0,{},options.yaxis,axisOptions);options.yaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);if(!axisOptions.font.color){axisOptions.font.color=axisOptions.color}if(!axisOptions.font.lineHeight){axisOptions.font.lineHeight=_Mathround3(1.15*axisOptions.font.size)}}}if(options.xaxis.noTicks&&null==options.xaxis.ticks){options.xaxis.ticks=options.xaxis.noTicks}if(options.yaxis.noTicks&&null==options.yaxis.ticks){options.yaxis.ticks=options.yaxis.noTicks}if(options.x2axis){options.xaxes[1]=$.extend(!0,{},options.xaxis,options.x2axis);options.xaxes[1].position='top';if(null==options.x2axis.min){options.xaxes[1].min=null}if(null==options.x2axis.max){options.xaxes[1].max=null}}if(options.y2axis){options.yaxes[1]=$.extend(!0,{},options.yaxis,options.y2axis);options.yaxes[1].position='right';if(null==options.y2axis.min){options.yaxes[1].min=null}if(null==options.y2axis.max){options.yaxes[1].max=null}}if(options.grid.coloredAreas){options.grid.markings=options.grid.coloredAreas}if(options.grid.coloredAreasColor){options.grid.markingsColor=options.grid.coloredAreasColor}if(options.lines){$.extend(!0,options.series.lines,options.lines)}if(options.points){$.extend(!0,options.series.points,options.points)}if(options.bars){$.extend(!0,options.series.bars,options.bars)}if(null!=options.shadowSize){options.series.shadowSize=options.shadowSize}if(null!=options.highlightColor){options.series.highlightColor=options.highlightColor}for(i=0;i<options.xaxes.length;++i){getOrCreateAxis(xaxes,i+1).options=options.xaxes[i]}for(i=0;i<options.yaxes.length;++i){getOrCreateAxis(yaxes,i+1).options=options.yaxes[i]}for(const n in hooks){if(options.hooks[n]&&options.hooks[n].length){hooks[n]=hooks[n].concat(options.hooks[n])}}executeHooks(hooks.processOptions,[options])})(options_);(function(){placeholder.css('padding',0).children().filter(function(){return!$(this).hasClass('flot-overlay')&&!$(this).hasClass('flot-base')}).remove();if('static'==placeholder.css('position')){placeholder.css('position','relative')}surface=new Canvas('flot-base',placeholder);overlay=new Canvas('flot-overlay',placeholder);ctx=surface.context;octx=overlay.context;eventHolder=$(overlay.element).unbind();const existing=placeholder.data('plot');if(existing){existing.shutdown();overlay.clear()}placeholder.data('plot',plot)})();setData(data_);setupGrid();draw();(function(){if(options.grid.hoverable){eventHolder.mousemove(onMouseMove);eventHolder.bind('mouseleave',onMouseLeave)}if(options.grid.clickable){eventHolder.click(onClick)}executeHooks(hooks.bindEvents,[eventHolder])})();function executeHooks(hook,args){args=[plot].concat(args);for(let i=0;i<hook.length;++i){hook[i].apply(this,args)}}function setData(d){series=parseData(d);fillInSeriesOptions();processData()}function parseData(d){const res=[];for(let i=0;i<d.length;++i){const s=$.extend(!0,{},options.series);if(null!=d[i].data){s.data=d[i].data;delete d[i].data;$.extend(!0,s,d[i]);d[i].data=s.data}else{s.data=d[i]}res.push(s)}return res}function axisNumber(obj,coord){let a=obj[`${coord}axis`];if('object'===typeof a){a=a.n}if('number'!==typeof a){a=1}return a}function allAxes(){return $.grep(xaxes.concat(yaxes),a=>{return a})}function canvasToAxisCoords(pos){let res={},i,axis;for(i=0;i<xaxes.length;++i){axis=xaxes[i];if(axis&&axis.used){res[`x${axis.n}`]=axis.c2p(pos.left)}}for(i=0;i<yaxes.length;++i){axis=yaxes[i];if(axis&&axis.used){res[`y${axis.n}`]=axis.c2p(pos.top)}}if(res.x1!==void 0){res.x=res.x1}if(res.y1!==void 0){res.y=res.y1}return res}function getOrCreateAxis(axes,number){if(!axes[number-1]){axes[number-1]={n:number,direction:axes==xaxes?'x':'y',options:$.extend(!0,{},axes==xaxes?options.xaxis:options.yaxis)}}return axes[number-1]}function fillInSeriesOptions(){let neededColors=series.length,maxIndex=-1,i;for(i=0;i<series.length;++i){const sc=series[i].color;if(null!=sc){neededColors--;if('number'===typeof sc&&sc>maxIndex){maxIndex=sc}}}if(neededColors<=maxIndex){neededColors=maxIndex+1}let c,colors=[],colorPool=options.colors,colorPoolSize=colorPool.length,variation=0;for(i=0;i<neededColors;i++){c=$.color.parse(colorPool[i%colorPoolSize]||'#666');if(0==i%colorPoolSize&&i){if(0<=variation){if(0.5>variation){variation=-variation-0.2}else variation=0}else variation=-variation}colors[i]=c.scale('rgb',1+variation)}let colori=0,s;for(i=0;i<series.length;++i){s=series[i];if(null==s.color){s.color=colors[colori].toString();++colori}else if('number'===typeof s.color){s.color=colors[s.color].toString()}if(null==s.lines.show){var v,show=!0;for(v in s){if(s[v]&&s[v].show){show=!1;break}}if(show){s.lines.show=!0}}if(null==s.lines.zero){s.lines.zero=!!s.lines.fill}s.xaxis=getOrCreateAxis(xaxes,axisNumber(s,'x'));s.yaxis=getOrCreateAxis(yaxes,axisNumber(s,'y'))}}function processData(){let topSentry=Number.POSITIVE_INFINITY,bottomSentry=Number.NEGATIVE_INFINITY,fakeInfinity=_NumberMAX_VALUE,i,j,k,m,s,points,ps,val,f,p,data,format;function updateAxis(axis,min,max){if(min<axis.datamin&&min!=-fakeInfinity){axis.datamin=min}if(max>axis.datamax&&max!=fakeInfinity){axis.datamax=max}}$.each(allAxes(),(_,axis)=>{axis.datamin=topSentry;axis.datamax=bottomSentry;axis.used=!1});for(i=0;i<series.length;++i){s=series[i];s.datapoints={points:[]};executeHooks(hooks.processRawData,[s,s.data,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];data=s.data;format=s.datapoints.format;if(!format){format=[];format.push({x:!0,number:!0,required:!0});format.push({y:!0,number:!0,required:!0});if(s.bars.show||s.lines.show&&s.lines.fill){const autoscale=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);format.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale});if(s.bars.horizontal){delete format[format.length-1].y;format[format.length-1].x=!0}}s.datapoints.format=format}if(null!=s.datapoints.pointsize){continue}s.datapoints.pointsize=format.length;ps=s.datapoints.pointsize;points=s.datapoints.points;const insertSteps=s.lines.show&&s.lines.steps;s.xaxis.used=s.yaxis.used=!0;for(j=k=0;j<data.length;++j,k+=ps){p=data[j];let nullify=null==p;if(!nullify){for(m=0;m<ps;++m){val=p[m];f=format[m];if(f){if(f.number&&null!=val){val=+val;if(isNaN(val)){val=null}else if(val==Infinity){val=fakeInfinity}else if(val==-Infinity){val=-fakeInfinity}}if(null==val){if(f.required){nullify=!0}if(null!=f.defaultValue){val=f.defaultValue}}}points[k+m]=val}}if(nullify){for(m=0;m<ps;++m){val=points[k+m];if(null!=val){f=format[m];if(!1!==f.autoscale){if(f.x){updateAxis(s.xaxis,val,val)}if(f.y){updateAxis(s.yaxis,val,val)}}}points[k+m]=null}}else{if(insertSteps&&0<k&&null!=points[k-ps]&&points[k-ps]!=points[k]&&points[k-ps+1]!=points[k+1]){for(m=0;m<ps;++m){points[k+ps+m]=points[k+m]}points[k+1]=points[k-ps+1];k+=ps}}}}for(i=0;i<series.length;++i){s=series[i];executeHooks(hooks.processDatapoints,[s,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];points=s.datapoints.points;ps=s.datapoints.pointsize;format=s.datapoints.format;let xmin=topSentry,ymin=topSentry,xmax=bottomSentry,ymax=bottomSentry;for(j=0;j<points.length;j+=ps){if(null==points[j]){continue}for(m=0;m<ps;++m){val=points[j+m];f=format[m];if(!f||!1===f.autoscale||val==fakeInfinity||val==-fakeInfinity){continue}if(f.x){if(val<xmin){xmin=val}if(val>xmax){xmax=val}}if(f.y){if(val<ymin){ymin=val}if(val>ymax){ymax=val}}}}if(s.bars.show){var delta;switch(s.bars.align){case'left':delta=0;break;case'right':delta=-s.bars.barWidth;break;default:delta=-s.bars.barWidth/2;}if(s.bars.horizontal){ymin+=delta;ymax+=delta+s.bars.barWidth}else{xmin+=delta;xmax+=delta+s.bars.barWidth}}updateAxis(s.xaxis,xmin,xmax);updateAxis(s.yaxis,ymin,ymax)}$.each(allAxes(),(_,axis)=>{if(axis.datamin==topSentry){axis.datamin=null}if(axis.datamax==bottomSentry){axis.datamax=null}})}function shutdown(){if(redrawTimeout){clearTimeout(redrawTimeout)}eventHolder.unbind('mousemove',onMouseMove);eventHolder.unbind('mouseleave',onMouseLeave);eventHolder.unbind('click',onClick);executeHooks(hooks.shutdown,[eventHolder])}function setTransformationHelpers(axis){function identity(x){return x}let s,m,t=axis.options.transform||identity,it=axis.options.inverseTransform;if('x'==axis.direction){s=axis.scale=plotWidth/_Mathabs7(t(axis.max)-t(axis.min));m=_Mathmin7(t(axis.max),t(axis.min))}else{s=axis.scale=plotHeight/_Mathabs7(t(axis.max)-t(axis.min));s=-s;m=_Mathmax10(t(axis.max),t(axis.min))}if(t==identity){axis.p2c=function(p){return(p-m)*s}}else{axis.p2c=function(p){return(t(p)-m)*s}}if(!it){axis.c2p=function(c){return m+c/s}}else{axis.c2p=function(c){return it(m+c/s)}}}function measureTickLabels(axis){let opts=axis.options,ticks=axis.ticks||[],labelWidth=opts.labelWidth||0,labelHeight=opts.labelHeight||0,maxWidth=labelWidth||('x'==axis.direction?_Mathfloor4(surface.width/(ticks.length||1)):null),legacyStyles=`${axis.direction}Axis ${axis.direction}${axis.n}Axis`,layer=`flot-${axis.direction}-axis flot-${axis.direction}${axis.n}-axis ${legacyStyles}`,font=opts.font||'flot-tick-label tickLabel';for(let i=0;i<ticks.length;++i){const t=ticks[i];if(!t.label){continue}const info=surface.getTextInfo(layer,t.label,font,null,maxWidth);labelWidth=_Mathmax10(labelWidth,info.width);labelHeight=_Mathmax10(labelHeight,info.height)}axis.labelWidth=opts.labelWidth||labelWidth;axis.labelHeight=opts.labelHeight||labelHeight}function allocateAxisBoxFirstPhase(axis){let lw=axis.labelWidth,lh=axis.labelHeight,pos=axis.options.position,isXAxis='x'===axis.direction,tickLength=axis.options.tickLength,axisMargin=options.grid.axisMargin,padding=options.grid.labelMargin,innermost=!0,outermost=!0,first=!0,found=!1;$.each(isXAxis?xaxes:yaxes,(i,a)=>{if(a&&(a.show||a.reserveSpace)){if(a===axis){found=!0}else if(a.options.position===pos){if(found){outermost=!1}else{innermost=!1}}if(!found){first=!1}}});if(outermost){axisMargin=0}if(null==tickLength){tickLength=first?'full':5}if(!isNaN(+tickLength)){padding+=+tickLength}if(isXAxis){lh+=padding;if('bottom'==pos){plotOffset.bottom+=lh+axisMargin;axis.box={top:surface.height-plotOffset.bottom,height:lh}}else{axis.box={top:plotOffset.top+axisMargin,height:lh};plotOffset.top+=lh+axisMargin}}else{lw+=padding;if('left'==pos){axis.box={left:plotOffset.left+axisMargin,width:lw};plotOffset.left+=lw+axisMargin}else{plotOffset.right+=lw+axisMargin;axis.box={left:surface.width-plotOffset.right,width:lw}}}axis.position=pos;axis.tickLength=tickLength;axis.box.padding=padding;axis.innermost=innermost}function allocateAxisBoxSecondPhase(axis){if('x'==axis.direction){axis.box.left=plotOffset.left-axis.labelWidth/2;axis.box.width=surface.width-plotOffset.left-plotOffset.right+axis.labelWidth}else{axis.box.top=plotOffset.top-axis.labelHeight/2;axis.box.height=surface.height-plotOffset.bottom-plotOffset.top+axis.labelHeight}}function adjustLayoutForThingsStickingOut(){let minMargin=options.grid.minBorderMargin,i;if(null==minMargin){minMargin=0;for(i=0;i<series.length;++i){minMargin=_Mathmax10(minMargin,2*(series[i].points.radius+series[i].points.lineWidth/2))}}const margins={left:minMargin,right:minMargin,top:minMargin,bottom:minMargin};$.each(allAxes(),(_,axis)=>{if(axis.reserveSpace&&axis.ticks&&axis.ticks.length){if('x'===axis.direction){margins.left=_Mathmax10(margins.left,axis.labelWidth/2);margins.right=_Mathmax10(margins.right,axis.labelWidth/2)}else{margins.bottom=_Mathmax10(margins.bottom,axis.labelHeight/2);margins.top=_Mathmax10(margins.top,axis.labelHeight/2)}}});plotOffset.left=_Mathceil2(_Mathmax10(margins.left,plotOffset.left));plotOffset.right=_Mathceil2(_Mathmax10(margins.right,plotOffset.right));plotOffset.top=_Mathceil2(_Mathmax10(margins.top,plotOffset.top));plotOffset.bottom=_Mathceil2(_Mathmax10(margins.bottom,plotOffset.bottom))}function setupGrid(){let i,axes=allAxes(),showGrid=options.grid.show;for(var a in plotOffset){const margin=options.grid.margin||0;plotOffset[a]='number'===typeof margin?margin:margin[a]||0}executeHooks(hooks.processOffset,[plotOffset]);for(var a in plotOffset){if('object'===typeof options.grid.borderWidth){plotOffset[a]+=showGrid?options.grid.borderWidth[a]:0}else{plotOffset[a]+=showGrid?options.grid.borderWidth:0}}$.each(axes,(_,axis)=>{const axisOpts=axis.options;axis.show=null==axisOpts.show?axis.used:axisOpts.show;axis.reserveSpace=null==axisOpts.reserveSpace?axis.show:axisOpts.reserveSpace;setRange(axis)});if(showGrid){const allocatedAxes=$.grep(axes,axis=>{return axis.show||axis.reserveSpace});$.each(allocatedAxes,(_,axis)=>{setupTickGeneration(axis);setTicks(axis);snapRangeToTicks(axis,axis.ticks);measureTickLabels(axis)});for(i=allocatedAxes.length-1;0<=i;--i){allocateAxisBoxFirstPhase(allocatedAxes[i])}adjustLayoutForThingsStickingOut();$.each(allocatedAxes,(_,axis)=>{allocateAxisBoxSecondPhase(axis)})}plotWidth=surface.width-plotOffset.left-plotOffset.right;plotHeight=surface.height-plotOffset.bottom-plotOffset.top;$.each(axes,(_,axis)=>{setTransformationHelpers(axis)});if(showGrid){drawAxisLabels()}insertLegend()}function setRange(axis){let opts=axis.options,min=+(null!=opts.min?opts.min:axis.datamin),max=+(null!=opts.max?opts.max:axis.datamax),delta=max-min;if(0==delta){const widen=0==max?1:0.01;if(null==opts.min){min-=widen}if(null==opts.max||null!=opts.min){max+=widen}}else{const margin=opts.autoscaleMargin;if(null!=margin){if(null==opts.min){min-=delta*margin;if(0>min&&null!=axis.datamin&&0<=axis.datamin){min=0}}if(null==opts.max){max+=delta*margin;if(0<max&&null!=axis.datamax&&0>=axis.datamax){max=0}}}}axis.min=min;axis.max=max}function setupTickGeneration(axis){var _Mathpow=Math.pow,_MathLN=Math.LN10,_Mathlog2=Math.log;const opts=axis.options;let noTicks;if('number'===typeof opts.ticks&&0<opts.ticks){noTicks=opts.ticks}else{noTicks=0.3*Math.sqrt('x'==axis.direction?surface.width:surface.height)}let delta=(axis.max-axis.min)/noTicks,dec=-_Mathfloor4(_Mathlog2(delta)/_MathLN),maxDec=opts.tickDecimals;if(null!=maxDec&&dec>maxDec){dec=maxDec}let magn=_Mathpow(10,-dec),norm=delta/magn,size;if(1.5>norm){size=1}else if(3>norm){size=2;if(2.25<norm&&(null==maxDec||dec+1<=maxDec)){size=2.5;++dec}}else if(7.5>norm){size=5}else{size=10}size*=magn;if(null!=opts.minTickSize&&size<opts.minTickSize){size=opts.minTickSize}axis.delta=delta;axis.tickDecimals=_Mathmax10(0,null!=maxDec?maxDec:dec);axis.tickSize=opts.tickSize||size;if('time'==opts.mode&&!axis.tickGenerator){throw new Error('Time mode requires the flot.time plugin.')}if(!axis.tickGenerator){axis.tickGenerator=function(axis){let ticks=[],start=floorInBase(axis.min,axis.tickSize),i=0,v=Number.NaN,prev;do{prev=v;v=start+i*axis.tickSize;ticks.push(v);++i}while(v<axis.max&&v!=prev);return ticks};axis.tickFormatter=function(value,axis){const factor=axis.tickDecimals?_Mathpow(10,axis.tickDecimals):1,formatted=`${_Mathround3(value*factor)/factor}`;if(null!=axis.tickDecimals){const decimal=formatted.indexOf('.'),precision=-1==decimal?0:formatted.length-decimal-1;if(precision<axis.tickDecimals){return(precision?formatted:`${formatted}.`)+`${factor}`.substr(1,axis.tickDecimals-precision)}}return formatted}}if($.isFunction(opts.tickFormatter)){axis.tickFormatter=function(v,axis){return`${opts.tickFormatter(v,axis)}`}}if(null!=opts.alignTicksWithAxis){const otherAxis=('x'==axis.direction?xaxes:yaxes)[opts.alignTicksWithAxis-1];if(otherAxis&&otherAxis.used&&otherAxis!=axis){const niceTicks=axis.tickGenerator(axis);if(0<niceTicks.length){if(null==opts.min){axis.min=_Mathmin7(axis.min,niceTicks[0])}if(null==opts.max&&1<niceTicks.length){axis.max=_Mathmax10(axis.max,niceTicks[niceTicks.length-1])}}axis.tickGenerator=function(axis){let ticks=[],v,i;for(i=0;i<otherAxis.ticks.length;++i){v=(otherAxis.ticks[i].v-otherAxis.min)/(otherAxis.max-otherAxis.min);v=axis.min+v*(axis.max-axis.min);ticks.push(v)}return ticks};if(!axis.mode&&null==opts.tickDecimals){let extraDec=_Mathmax10(0,-_Mathfloor4(_Mathlog2(axis.delta)/_MathLN)+1),ts=axis.tickGenerator(axis);if(!(1<ts.length&&/\..*0$/.test((ts[1]-ts[0]).toFixed(extraDec)))){axis.tickDecimals=extraDec}}}}}function setTicks(axis){let oticks=axis.options.ticks,ticks=[];if(null==oticks||'number'===typeof oticks&&0<oticks){ticks=axis.tickGenerator(axis)}else if(oticks){if($.isFunction(oticks)){ticks=oticks(axis)}else{ticks=oticks}}let i,v;axis.ticks=[];for(i=0;i<ticks.length;++i){let label=null;const t=ticks[i];if('object'===typeof t){v=+t[0];if(1<t.length){label=t[1]}}else{v=+t}if(null==label){label=axis.tickFormatter(v,axis)}if(!isNaN(v)){axis.ticks.push({v,label})}}}function snapRangeToTicks(axis,ticks){if(axis.options.autoscaleMargin&&0<ticks.length){if(null==axis.options.min){axis.min=_Mathmin7(axis.min,ticks[0].v)}if(null==axis.options.max&&1<ticks.length){axis.max=_Mathmax10(axis.max,ticks[ticks.length-1].v)}}}function draw(){surface.clear();executeHooks(hooks.drawBackground,[ctx]);const grid=options.grid;if(grid.show&&grid.backgroundColor){drawBackground()}if(grid.show&&!grid.aboveData){drawGrid()}for(let i=0;i<series.length;++i){executeHooks(hooks.drawSeries,[ctx,series[i]]);drawSeries(series[i])}executeHooks(hooks.draw,[ctx]);if(grid.show&&grid.aboveData){drawGrid()}surface.render();triggerRedrawOverlay()}function extractRange(ranges,coord){let axis,from,to,key,axes=allAxes();for(let i=0;i<axes.length;++i){axis=axes[i];if(axis.direction==coord){key=`${coord+axis.n}axis`;if(!ranges[key]&&1==axis.n){key=`${coord}axis`}if(ranges[key]){from=ranges[key].from;to=ranges[key].to;break}}}if(!ranges[key]){axis='x'==coord?xaxes[0]:yaxes[0];from=ranges[`${coord}1`];to=ranges[`${coord}2`]}if(null!=from&&null!=to&&from>to){const tmp=from;from=to;to=tmp}return{from,to,axis}}function drawBackground(){ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.fillStyle=getColorOrGradient(options.grid.backgroundColor,plotHeight,0,'rgba(255, 255, 255, 0)');ctx.fillRect(0,0,plotWidth,plotHeight);ctx.restore()}function drawGrid(){let i,axes,bw,bc;ctx.save();ctx.translate(plotOffset.left,plotOffset.top);let markings=options.grid.markings;if(markings){if($.isFunction(markings)){axes=plot.getAxes();axes.xmin=axes.xaxis.min;axes.xmax=axes.xaxis.max;axes.ymin=axes.yaxis.min;axes.ymax=axes.yaxis.max;markings=markings(axes)}for(i=0;i<markings.length;++i){let m=markings[i],xrange=extractRange(m,'x'),yrange=extractRange(m,'y');if(null==xrange.from){xrange.from=xrange.axis.min}if(null==xrange.to){xrange.to=xrange.axis.max}if(null==yrange.from){yrange.from=yrange.axis.min}if(null==yrange.to){yrange.to=yrange.axis.max}if(xrange.to<xrange.axis.min||xrange.from>xrange.axis.max||yrange.to<yrange.axis.min||yrange.from>yrange.axis.max){continue}xrange.from=_Mathmax10(xrange.from,xrange.axis.min);xrange.to=_Mathmin7(xrange.to,xrange.axis.max);yrange.from=_Mathmax10(yrange.from,yrange.axis.min);yrange.to=_Mathmin7(yrange.to,yrange.axis.max);let xequal=xrange.from===xrange.to,yequal=yrange.from===yrange.to;if(xequal&&yequal){continue}xrange.from=_Mathfloor4(xrange.axis.p2c(xrange.from));xrange.to=_Mathfloor4(xrange.axis.p2c(xrange.to));yrange.from=_Mathfloor4(yrange.axis.p2c(yrange.from));yrange.to=_Mathfloor4(yrange.axis.p2c(yrange.to));if(xequal||yequal){let lineWidth=m.lineWidth||options.grid.markingsLineWidth,subPixel=lineWidth%2?0.5:0;ctx.beginPath();ctx.strokeStyle=m.color||options.grid.markingsColor;ctx.lineWidth=lineWidth;if(xequal){ctx.moveTo(xrange.to+subPixel,yrange.from);ctx.lineTo(xrange.to+subPixel,yrange.to)}else{ctx.moveTo(xrange.from,yrange.to+subPixel);ctx.lineTo(xrange.to,yrange.to+subPixel)}ctx.stroke()}else{ctx.fillStyle=m.color||options.grid.markingsColor;ctx.fillRect(xrange.from,yrange.to,xrange.to-xrange.from,yrange.from-yrange.to)}}}axes=allAxes();bw=options.grid.borderWidth;for(let j=0;j<axes.length;++j){var axis=axes[j],box=axis.box,t=axis.tickLength,x,y,xoff,yoff;if(!axis.show||0==axis.ticks.length){continue}ctx.lineWidth=1;if('x'==axis.direction){x=0;if('full'==t){y='top'==axis.position?0:plotHeight}else{y=box.top-plotOffset.top+('top'==axis.position?box.height:0)}}else{y=0;if('full'==t){x='left'==axis.position?0:plotWidth}else{x=box.left-plotOffset.left+('left'==axis.position?box.width:0)}}if(!axis.innermost){ctx.strokeStyle=axis.options.color;ctx.beginPath();xoff=yoff=0;if('x'==axis.direction){xoff=plotWidth+1}else{yoff=plotHeight+1}if(1==ctx.lineWidth){if('x'==axis.direction){y=_Mathfloor4(y)+0.5}else{x=_Mathfloor4(x)+0.5}}ctx.moveTo(x,y);ctx.lineTo(x+xoff,y+yoff);ctx.stroke()}ctx.strokeStyle=axis.options.tickColor;ctx.beginPath();for(i=0;i<axis.ticks.length;++i){const v=axis.ticks[i].v;xoff=yoff=0;if(isNaN(v)||v<axis.min||v>axis.max||'full'==t&&('object'===typeof bw&&0<bw[axis.position]||0<bw)&&(v==axis.min||v==axis.max)){continue}if('x'==axis.direction){x=axis.p2c(v);yoff='full'==t?-plotHeight:t;if('top'==axis.position){yoff=-yoff}}else{y=axis.p2c(v);xoff='full'==t?-plotWidth:t;if('left'==axis.position){xoff=-xoff}}if(1==ctx.lineWidth){if('x'==axis.direction){x=_Mathfloor4(x)+0.5}else{y=_Mathfloor4(y)+0.5}}ctx.moveTo(x,y);ctx.lineTo(x+xoff,y+yoff)}ctx.stroke()}if(bw){bc=options.grid.borderColor;if('object'===typeof bw||'object'===typeof bc){if('object'!==typeof bw){bw={top:bw,right:bw,bottom:bw,left:bw}}if('object'!==typeof bc){bc={top:bc,right:bc,bottom:bc,left:bc}}if(0<bw.top){ctx.strokeStyle=bc.top;ctx.lineWidth=bw.top;ctx.beginPath();ctx.moveTo(0-bw.left,0-bw.top/2);ctx.lineTo(plotWidth,0-bw.top/2);ctx.stroke()}if(0<bw.right){ctx.strokeStyle=bc.right;ctx.lineWidth=bw.right;ctx.beginPath();ctx.moveTo(plotWidth+bw.right/2,0-bw.top);ctx.lineTo(plotWidth+bw.right/2,plotHeight);ctx.stroke()}if(0<bw.bottom){ctx.strokeStyle=bc.bottom;ctx.lineWidth=bw.bottom;ctx.beginPath();ctx.moveTo(plotWidth+bw.right,plotHeight+bw.bottom/2);ctx.lineTo(0,plotHeight+bw.bottom/2);ctx.stroke()}if(0<bw.left){ctx.strokeStyle=bc.left;ctx.lineWidth=bw.left;ctx.beginPath();ctx.moveTo(0-bw.left/2,plotHeight+bw.bottom);ctx.lineTo(0-bw.left/2,0);ctx.stroke()}}else{ctx.lineWidth=bw;ctx.strokeStyle=options.grid.borderColor;ctx.strokeRect(-bw/2,-bw/2,plotWidth+bw,plotHeight+bw)}}ctx.restore()}function drawAxisLabels(){$.each(allAxes(),(_,axis)=>{let box=axis.box,legacyStyles=`${axis.direction}Axis ${axis.direction}${axis.n}Axis`,layer=`flot-${axis.direction}-axis flot-${axis.direction}${axis.n}-axis ${legacyStyles}`,font=axis.options.font||'flot-tick-label tickLabel',tick,x,y,halign,valign;surface.removeText(layer);if(!axis.show||0==axis.ticks.length){return}for(let i=0;i<axis.ticks.length;++i){tick=axis.ticks[i];if(!tick.label||tick.v<axis.min||tick.v>axis.max){continue}if('x'==axis.direction){halign='center';x=plotOffset.left+axis.p2c(tick.v);if('bottom'==axis.position){y=box.top+box.padding}else{y=box.top+box.height-box.padding;valign='bottom'}}else{valign='middle';y=plotOffset.top+axis.p2c(tick.v);if('left'==axis.position){x=box.left+box.width-box.padding;halign='right'}else{x=box.left+box.padding}}surface.addText(layer,x,y,tick.label,font,null,null,halign,valign)}})}function drawSeries(series){if(series.lines.show){drawSeriesLines(series)}if(series.bars.show){drawSeriesBars(series)}if(series.points.show){drawSeriesPoints(series)}}function drawSeriesLines(series){function plotLine(datapoints,xoffset,yoffset,axisx,axisy){let points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null;ctx.beginPath();for(let i=ps;i<points.length;i+=ps){let x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(null==x1||null==x2){continue}if(y1<=y2&&y1<axisy.min){if(y2<axisy.min){continue}x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y2<=y1&&y2<axisy.min){if(y1<axisy.min){continue}x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max){continue}x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max){continue}x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x1<=x2&&x1<axisx.min){if(x2<axisx.min){continue}y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min){continue}y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max){continue}y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max){continue}y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}if(x1!=prevx||y1!=prevy){ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset)}prevx=x2;prevy=y2;ctx.lineTo(axisx.p2c(x2)+xoffset,axisy.p2c(y2)+yoffset)}ctx.stroke()}function plotLineArea(datapoints,axisx,axisy){let points=datapoints.points,ps=datapoints.pointsize,bottom=_Mathmin7(_Mathmax10(0,axisy.min),axisy.max),i=0,areaOpen=!1,ypos=1,segmentStart=0,segmentEnd=0;while(!0){if(0<ps&&i>points.length+ps){break}i+=ps;let x1=points[i-ps],y1=points[i-ps+ypos],x2=points[i],y2=points[i+ypos];if(areaOpen){if(0<ps&&null!=x1&&null==x2){segmentEnd=i;ps=-ps;ypos=2;continue}if(0>ps&&i==segmentStart+ps){ctx.fill();areaOpen=!1;ps=-ps;ypos=1;i=segmentStart=segmentEnd+ps;continue}}if(null==x1||null==x2){continue}if(x1<=x2&&x1<axisx.min){if(x2<axisx.min){continue}y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min){continue}y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max){continue}y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max){continue}y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}if(!areaOpen){ctx.beginPath();ctx.moveTo(axisx.p2c(x1),axisy.p2c(bottom));areaOpen=!0}if(y1>=axisy.max&&y2>=axisy.max){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.max));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.max));continue}else if(y1<=axisy.min&&y2<=axisy.min){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.min));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.min));continue}let x1old=x1,x2old=x2;if(y1<=y2&&y1<axisy.min&&y2>=axisy.min){x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y2<=y1&&y2<axisy.min&&y1>=axisy.min){x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max&&y2<=axisy.max){x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max&&y1<=axisy.max){x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x1!=x1old){ctx.lineTo(axisx.p2c(x1old),axisy.p2c(y1))}ctx.lineTo(axisx.p2c(x1),axisy.p2c(y1));ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));if(x2!=x2old){ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));ctx.lineTo(axisx.p2c(x2old),axisy.p2c(y2))}}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineJoin='round';let lw=series.lines.lineWidth,sw=series.shadowSize;if(0<lw&&0<sw){ctx.lineWidth=sw;ctx.strokeStyle='rgba(0,0,0,0.1)';const angle=_MathPI2/18;plotLine(series.datapoints,_Mathsin(angle)*(lw/2+sw/2),_Mathcos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis);ctx.lineWidth=sw/2;plotLine(series.datapoints,_Mathsin(angle)*(lw/2+sw/4),_Mathcos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;const fillStyle=getFillStyle(series.lines,series.color,0,plotHeight);if(fillStyle){ctx.fillStyle=fillStyle;plotLineArea(series.datapoints,series.xaxis,series.yaxis)}if(0<lw){plotLine(series.datapoints,0,0,series.xaxis,series.yaxis)}ctx.restore()}function drawSeriesPoints(series){function plotPoints(datapoints,radius,fillStyle,offset,shadow,axisx,axisy,symbol){let points=datapoints.points,ps=datapoints.pointsize;for(let i=0;i<points.length;i+=ps){let x=points[i],y=points[i+1];if(null==x||x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max){continue}ctx.beginPath();x=axisx.p2c(x);y=axisy.p2c(y)+offset;if('circle'==symbol){ctx.arc(x,y,radius,0,shadow?_MathPI2:2*_MathPI2,!1)}else{symbol(ctx,x,y,radius,shadow)}ctx.closePath();if(fillStyle){ctx.fillStyle=fillStyle;ctx.fill()}ctx.stroke()}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);let lw=series.points.lineWidth,sw=series.shadowSize,radius=series.points.radius,symbol=series.points.symbol;if(0==lw){lw=1e-4}if(0<lw&&0<sw){const w=sw/2;ctx.lineWidth=w;ctx.strokeStyle='rgba(0,0,0,0.1)';plotPoints(series.datapoints,radius,null,w+w/2,!0,series.xaxis,series.yaxis,symbol);ctx.strokeStyle='rgba(0,0,0,0.2)';plotPoints(series.datapoints,radius,null,w/2,!0,series.xaxis,series.yaxis,symbol)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;plotPoints(series.datapoints,radius,getFillStyle(series.points,series.color),0,!1,series.xaxis,series.yaxis,symbol);ctx.restore()}function drawBar(x,y,b,barLeft,barRight,fillStyleCallback,axisx,axisy,c,horizontal,lineWidth){let left,right,bottom,top,drawLeft,drawRight,drawTop,drawBottom,tmp;if(horizontal){drawBottom=drawRight=drawTop=!0;drawLeft=!1;left=b;right=x;top=y+barLeft;bottom=y+barRight;if(right<left){tmp=right;right=left;left=tmp;drawLeft=!0;drawRight=!1}}else{drawLeft=drawRight=drawTop=!0;drawBottom=!1;left=x+barLeft;right=x+barRight;bottom=b;top=y;if(top<bottom){tmp=top;top=bottom;bottom=tmp;drawBottom=!0;drawTop=!1}}if(right<axisx.min||left>axisx.max||top<axisy.min||bottom>axisy.max){return}if(left<axisx.min){left=axisx.min;drawLeft=!1}if(right>axisx.max){right=axisx.max;drawRight=!1}if(bottom<axisy.min){bottom=axisy.min;drawBottom=!1}if(top>axisy.max){top=axisy.max;drawTop=!1}left=axisx.p2c(left);bottom=axisy.p2c(bottom);right=axisx.p2c(right);top=axisy.p2c(top);if(fillStyleCallback){c.fillStyle=fillStyleCallback(bottom,top);c.fillRect(left,top,right-left,bottom-top)}if(0<lineWidth&&(drawLeft||drawRight||drawTop||drawBottom)){c.beginPath();c.moveTo(left,bottom);if(drawLeft){c.lineTo(left,top)}else{c.moveTo(left,top)}if(drawTop){c.lineTo(right,top)}else{c.moveTo(right,top)}if(drawRight){c.lineTo(right,bottom)}else{c.moveTo(right,bottom)}if(drawBottom){c.lineTo(left,bottom)}else{c.moveTo(left,bottom)}c.stroke()}}function drawSeriesBars(series){ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineWidth=series.bars.lineWidth;ctx.strokeStyle=series.color;let barLeft;switch(series.bars.align){case'left':barLeft=0;break;case'right':barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2;}const fillStyleCallback=series.bars.fill?function(bottom,top){return getFillStyle(series.bars,series.color,bottom,top)}:null;(function(datapoints,barLeft,barRight,fillStyleCallback,axisx,axisy){let points=datapoints.points,ps=datapoints.pointsize;for(let i=0;i<points.length;i+=ps){if(null==points[i]){continue}drawBar(points[i],points[i+1],points[i+2],barLeft,barRight,fillStyleCallback,axisx,axisy,ctx,series.bars.horizontal,series.bars.lineWidth)}})(series.datapoints,barLeft,barLeft+series.bars.barWidth,fillStyleCallback,series.xaxis,series.yaxis);ctx.restore()}function getFillStyle(filloptions,seriesColor,bottom,top){const fill=filloptions.fill;if(!fill){return null}if(filloptions.fillColor){return getColorOrGradient(filloptions.fillColor,bottom,top,seriesColor)}const c=$.color.parse(seriesColor);c.a='number'===typeof fill?fill:0.4;c.normalize();return c.toString()}function insertLegend(){if(null!=options.legend.container){$(options.legend.container).html('')}else{placeholder.find('.legend').remove()}if(!options.legend.show){return}let fragments=[],entries=[],rowStarted=!1,lf=options.legend.labelFormatter,s,label;for(var i=0;i<series.length;++i){s=series[i];if(s.label){label=lf?lf(s.label,s):s.label;if(label){entries.push({label,color:s.color})}}}if(options.legend.sorted){if($.isFunction(options.legend.sorted)){entries.sort(options.legend.sorted)}else if('reverse'==options.legend.sorted){entries.reverse()}else{const ascending='descending'!=options.legend.sorted;entries.sort((a,b)=>{return a.label==b.label?0:a.label<b.label!=ascending?1:-1})}}for(var i=0;i<entries.length;++i){const entry=entries[i];if(0==i%options.legend.noColumns){if(rowStarted){fragments.push('</tr>')}fragments.push('<tr>');rowStarted=!0}fragments.push(`<td class="legendColorBox"><div style="border:1px solid ${options.legend.labelBoxBorderColor};padding:1px"><div style="width:4px;height:0;border:5px solid ${entry.color};overflow:hidden"></div></div></td>`+`<td class="legendLabel">${entry.label}</td>`)}if(rowStarted){fragments.push('</tr>')}if(0==fragments.length){return}const table=`<table style="font-size:smaller;color:${options.grid.color}">${fragments.join('')}</table>`;if(null!=options.legend.container){$(options.legend.container).html(table)}else{let pos='',p=options.legend.position,m=options.legend.margin;if(null==m[0]){m=[m,m]}if('n'==p.charAt(0)){pos+=`top:${m[1]+plotOffset.top}px;`}else if('s'==p.charAt(0)){pos+=`bottom:${m[1]+plotOffset.bottom}px;`}if('e'==p.charAt(1)){pos+=`right:${m[0]+plotOffset.right}px;`}else if('w'==p.charAt(1)){pos+=`left:${m[0]+plotOffset.left}px;`}const legend=$(`<div class="legend">${table.replace('style="',`style="position:absolute;${pos};`)}</div>`).appendTo(placeholder);if(0!=options.legend.backgroundOpacity){let c=options.legend.backgroundColor;if(null==c){c=options.grid.backgroundColor;if(c&&'string'===typeof c){c=$.color.parse(c)}else{c=$.color.extract(legend,'background-color')}c.a=1;c=c.toString()}const div=legend.children();$(`<div style="position:absolute;width:${div.width()}px;height:${div.height()}px;${pos}background-color:${c};"> </div>`).prependTo(legend).css('opacity',options.legend.backgroundOpacity)}}}var highlights=[],redrawTimeout=null;function findNearbyItem(mouseX,mouseY,seriesFilter){let maxDistance=options.grid.mouseActiveRadius,smallestDistance=maxDistance*maxDistance+1,item=null,i,j,ps;for(i=series.length-1;0<=i;--i){if(!seriesFilter(series[i])){continue}let s=series[i],axisx=s.xaxis,axisy=s.yaxis,points=s.datapoints.points,mx=axisx.c2p(mouseX),my=axisy.c2p(mouseY),maxx=maxDistance/axisx.scale,maxy=maxDistance/axisy.scale;ps=s.datapoints.pointsize;if(axisx.options.inverseTransform){maxx=_NumberMAX_VALUE}if(axisy.options.inverseTransform){maxy=_NumberMAX_VALUE}if(s.lines.show||s.points.show){for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1];if(null==x){continue}if(x-mx>maxx||x-mx<-maxx||y-my>maxy||y-my<-maxy){continue}let dx=_Mathabs7(axisx.p2c(x)-mouseX),dy=_Mathabs7(axisy.p2c(y)-mouseY),dist=dx*dx+dy*dy;if(dist<smallestDistance){smallestDistance=dist;item=[i,j/ps]}}}if(s.bars.show&&!item){var barLeft,barRight;switch(s.bars.align){case'left':barLeft=0;break;case'right':barLeft=-s.bars.barWidth;break;default:barLeft=-s.bars.barWidth/2;}barRight=barLeft+s.bars.barWidth;for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1],b=points[j+2];if(null==x){continue}if(series[i].bars.horizontal?mx<=_Mathmax10(b,x)&&mx>=_Mathmin7(b,x)&&my>=y+barLeft&&my<=y+barRight:mx>=x+barLeft&&mx<=x+barRight&&my>=_Mathmin7(b,y)&&my<=_Mathmax10(b,y)){item=[i,j/ps]}}}}if(item){i=item[0];j=item[1];ps=series[i].datapoints.pointsize;return{datapoint:series[i].datapoints.points.slice(j*ps,(j+1)*ps),dataIndex:j,series:series[i],seriesIndex:i}}return null}function onMouseMove(e){if(options.grid.hoverable){triggerClickHoverEvent('plothover',e,s=>{return!1!=s.hoverable})}}function onMouseLeave(e){if(options.grid.hoverable){triggerClickHoverEvent('plothover',e,()=>{return!1})}}function onClick(e){triggerClickHoverEvent('plotclick',e,s=>{return!1!=s.clickable})}function triggerClickHoverEvent(eventname,event,seriesFilter){let offset=eventHolder.offset(),canvasX=event.pageX-offset.left-plotOffset.left,canvasY=event.pageY-offset.top-plotOffset.top,pos=canvasToAxisCoords({left:canvasX,top:canvasY});pos.pageX=event.pageX;pos.pageY=event.pageY;const item=findNearbyItem(canvasX,canvasY,seriesFilter);if(item){item.pageX=parseInt(item.series.xaxis.p2c(item.datapoint[0])+offset.left+plotOffset.left,10);item.pageY=parseInt(item.series.yaxis.p2c(item.datapoint[1])+offset.top+plotOffset.top,10)}if(options.grid.autoHighlight){for(let i=0;i<highlights.length;++i){const h=highlights[i];if(h.auto==eventname&&!(item&&h.series==item.series&&h.point[0]==item.datapoint[0]&&h.point[1]==item.datapoint[1])){unhighlight(h.series,h.point)}}if(item){highlight(item.series,item.datapoint,eventname)}}placeholder.trigger(eventname,[pos,item])}function triggerRedrawOverlay(){const t=options.interaction.redrawOverlayInterval;if(-1==t){drawOverlay();return}if(!redrawTimeout){redrawTimeout=setTimeout(drawOverlay,t)}}function drawOverlay(){redrawTimeout=null;octx.save();overlay.clear();octx.translate(plotOffset.left,plotOffset.top);let i,hi;for(i=0;i<highlights.length;++i){hi=highlights[i];if(hi.series.bars.show){drawBarHighlight(hi.series,hi.point)}else{drawPointHighlight(hi.series,hi.point)}}octx.restore();executeHooks(hooks.drawOverlay,[octx])}function highlight(s,point,auto){if('number'===typeof s){s=series[s]}if('number'===typeof point){const ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}const i=indexOfHighlight(s,point);if(-1==i){highlights.push({series:s,point,auto});triggerRedrawOverlay()}else if(!auto){highlights[i].auto=!1}}function unhighlight(s,point){if(null==s&&null==point){highlights=[];triggerRedrawOverlay();return}if('number'===typeof s){s=series[s]}if('number'===typeof point){const ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}const i=indexOfHighlight(s,point);if(-1!=i){highlights.splice(i,1);triggerRedrawOverlay()}}function indexOfHighlight(s,p){for(let i=0;i<highlights.length;++i){const h=highlights[i];if(h.series==s&&h.point[0]==p[0]&&h.point[1]==p[1]){return i}}return-1}function drawPointHighlight(series,point){let x=point[0],y=point[1],axisx=series.xaxis,axisy=series.yaxis,highlightColor='string'===typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale('a',0.5).toString();if(x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max){return}const pointRadius=series.points.radius+series.points.lineWidth/2;octx.lineWidth=pointRadius;octx.strokeStyle=highlightColor;const radius=1.5*pointRadius;x=axisx.p2c(x);y=axisy.p2c(y);octx.beginPath();if('circle'==series.points.symbol){octx.arc(x,y,radius,0,2*_MathPI2,!1)}else{series.points.symbol(octx,x,y,radius,!1)}octx.closePath();octx.stroke()}function drawBarHighlight(series,point){let highlightColor='string'===typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale('a',0.5).toString(),barLeft;switch(series.bars.align){case'left':barLeft=0;break;case'right':barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2;}octx.lineWidth=series.bars.lineWidth;octx.strokeStyle=highlightColor;drawBar(point[0],point[1],point[2]||0,barLeft,barLeft+series.bars.barWidth,()=>{return highlightColor},series.xaxis,series.yaxis,octx,series.bars.horizontal,series.bars.lineWidth)}function getColorOrGradient(spec,bottom,top,defaultColor){if('string'===typeof spec){return spec}const gradient=ctx.createLinearGradient(0,top,0,bottom);for(let i=0,l=spec.colors.length,c;i<l;++i){c=spec.colors[i];if('string'!==typeof c){let co=$.color.parse(defaultColor);if(null!=c.brightness){co=co.scale('rgb',c.brightness)}if(null!=c.opacity){co.a*=c.opacity}c=co.toString()}gradient.addColorStop(i/(l-1),c)}return gradient}}$.plot=function(placeholder,data,options){const plot=new Plot($(placeholder),data,options,$.plot.plugins);return plot};$.plot.version='0.8.3';$.plot.plugins=[];$.fn.plot=function(data,options){return this.each(function(){$.plot(this,data,options)})};function floorInBase(n,base){return base*_Mathfloor4(n/base)}})(jQuery)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_backbone__);class GraphDataManager{}__webpack_exports__.a=GraphDataManager;Object.assign(GraphDataManager.prototype,__WEBPACK_IMPORTED_MODULE_0_backbone___default.a.Events);Object.assign(GraphDataManager.prototype,{getColumns(){return[]},getColumn(){return null},getColumnForSet(){return null},getDataSets(){return[]},getDataSetByID(){return null}})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_graph_plugins_ignoreAutoScale__=__webpack_require__(255);function GraphPlugin(name,config){this.name=name;this.config=config}const PLUGINS={ignoreAutoScale:new GraphPlugin('ignoreAutoScale',__WEBPACK_IMPORTED_MODULE_0_corelib_graph_plugins_ignoreAutoScale__.a)};__webpack_exports__.a=PLUGINS;Object.assign(GraphPlugin.prototype,{init(graph){if(this.config.init){this.config.init.call(this,graph)}},deinit(graph){if(this.config.deinit){this.config.deinit.call(this,graph)}}})},function(module,__webpack_exports__){'use strict';function processDatapoints(plot,series,datapoints){if(series.ignoreAutoScale){datapoints.format={autoscale:!1}}}const ignoreAutoScale={init(graph){graph.plot.hooks.processDatapoints.push(processDatapoints)}};__webpack_exports__.a=ignoreAutoScale},function(module,__webpack_exports__){'use strict';const distanceOf=([x0,y0,x1,y1])=>Math.hypot(x0-x1,y0-y1),midpointOf=([x0,y0,x1,y1])=>[(x0+x1)/2,(y0+y1)/2],toCoords=event=>[event.touches[0].pageX,event.touches[0].pageY,event.touches[1].pageX,event.touches[1].pageY];__webpack_exports__.a=({onPanmove,onPinchmove})=>{let previousMidpoint=[0,0],previousPinchDistance=0;return{touchstart:event=>{if(2!==event.touches.length)return;const coords=toCoords(event);previousMidpoint=midpointOf(coords);previousPinchDistance=distanceOf(coords)},touchmove:event=>{if(2!==event.touches.length)return;const coords=toCoords(event),midpoint=midpointOf(coords),midpointTraveled=distanceOf([...previousMidpoint,...midpoint]);if(midpointTraveled>2){const traveled=[midpoint[0]-previousMidpoint[0],midpoint[1]-previousMidpoint[1]];onPanmove(traveled,event);previousMidpoint=midpoint}const pinchDistance=distanceOf(coords),pinchDistanceTraveled=pinchDistance-previousPinchDistance;if(Math.abs(pinchDistanceTraveled)>4){onPinchmove(Math.round(pinchDistanceTraveled),midpoint,event);previousPinchDistance=pinchDistance}},touchend:event=>{if(0!==event.touches.length)return;previousMidpoint=[0,0];previousPinchDistance=0}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathabs8=Math.abs,__WEBPACK_IMPORTED_MODULE_0_lodash_debounce__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_0_lodash_debounce___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_debounce__);const AXIS_THRESHOLD=50,getMinMax=(plot,[midpointX,midpointY],amount)=>{const w=plot.width(),h=plot.height(),xf=midpointX/w,yf=midpointY/h;return{x:{min:midpointX-xf*w/amount,max:midpointX+(1-xf)*w/amount},y:{min:midpointY-yf*h/amount,max:midpointY+(1-yf)*h/amount}}},getAxisMinMax=(axis,minmax)=>{let min=minmax[axis.direction].min,max=minmax[axis.direction].max;min=axis.c2p(min);max=axis.c2p(max);if(min>max){const tmp=min;min=max;max=tmp}return{min,max}};__webpack_exports__.a=graph=>{const triggerUserAction=__WEBPACK_IMPORTED_MODULE_0_lodash_debounce___default()(graph._triggerUserAction.bind(graph),1e3),axisX=graph.getAxis('x'),axisY=graph.getAxis('y');let lastFrame,plotBoxRect;return{pan([traveledX,traveledY]){window.cancelAnimationFrame(lastFrame);lastFrame=requestAnimationFrame(()=>{axisX.translate(axisX.c2p(axisX.p2c(0)+traveledX));axisY.translate(axisY.c2p(axisY.p2c(0)+traveledY))});triggerUserAction('axis')},zoom(traveled,midpoint,{touches}){plotBoxRect=plotBoxRect||graph.el.plotBox.getBoundingClientRect();window.cancelAnimationFrame(lastFrame);lastFrame=window.requestAnimationFrame(()=>{const amount=traveled*4/window.screen.availWidth+1,plotBoxMidpoint=[midpoint[0]-plotBoxRect.left,midpoint[1]-plotBoxRect.top],minMax=getMinMax(graph.plot,plotBoxMidpoint,amount);if(_Mathabs8(touches[0].pageX-touches[1].pageX)>AXIS_THRESHOLD){axisX.setRange(getAxisMinMax(axisX.flotAxis,minMax))}if(_Mathabs8(touches[0].pageY-touches[1].pageY)>AXIS_THRESHOLD){axisY.setRange(getAxisMinMax(axisY.flotAxis,minMax))}triggerUserAction('axis')})}}}},function(module,exports,__webpack_require__){var root=__webpack_require__(70);module.exports=function(){return root.Date.now()}},function(module){var freeGlobal='object'==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal},function(module,exports,__webpack_require__){var isObject=__webpack_require__(69),isSymbol=__webpack_require__(261),NAN=0/0,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if('number'==typeof value){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other='function'==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+'':other}if('string'!=typeof value){return 0===value?value:+value}value=value.replace(reTrim,'');var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(262),isObjectLike=__webpack_require__(265);module.exports=function(value){return'symbol'==typeof value||isObjectLike(value)&&baseGetTag(value)=='[object Symbol]'}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(71),getRawTag=__webpack_require__(263),objectToString=__webpack_require__(264),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){if(null==value){return value===void 0?'[object Undefined]':'[object Null]'}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(71),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0}catch(e){}var result=nativeObjectToString.call(value);if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}return result}},function(module){var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module){module.exports=function(value){return null!=value&&'object'==typeof value}},function(module,__webpack_exports__){'use strict';function setupTranslation(graph,axisName){const axis=graph.getAxis(axisName);Object.assign(axis,{isTranslating(){return this.translating},translateStart(){this.translating=!0},translateMove(e){const deltaCanvas='x'===axisName?-e.ddx:-e.ddy,deltaWorld=axis.c2p(0)-axis.c2p(deltaCanvas);axis.translate(deltaWorld);axis._triggerUserUpdate('axis-translate');axis.axisBtnEl.style.pointerEvents='none'},translateEnd(){setTimeout(()=>{this.translating=!1;axis.axisBtnEl.style.pointerEvents='auto'})}})}const axisTranslate={init(graph){setupTranslation(graph,'x');setupTranslation(graph,'y')}};__webpack_exports__.a=axisTranslate},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_graph_FitTrace__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_1_corelib_graph_IntegralTrace__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_2_corelib_graph_TangentTrace__=__webpack_require__(270);function setupAnalysis(graph){Object.assign(graph,{createFitTrace(traceId){const traceColor=this.getTraceByTraceId(traceId).color,color=traceColor.replace('1)','0.5)'),trace=new __WEBPACK_IMPORTED_MODULE_0_corelib_graph_FitTrace__.a(traceId,color);this.fitTraces.push(trace);return trace},removeFitTrace(id,skipUpdate){const index=this.fitTraces.findIndex(trace=>trace.id===id);this.fitTraces.splice(index,1);if(!skipUpdate){this.updateData()}},getFitTrace(id){const fitTrace=this.fitTraces.find(trace=>trace.id===id);return fitTrace},createIntegralTrace(traceId){const traceColor=this.getTraceByTraceId(traceId).color,color=traceColor.replace('1)','0.5)'),trace=new __WEBPACK_IMPORTED_MODULE_1_corelib_graph_IntegralTrace__.a(traceId,color);this.integralTraces.push(trace);return trace},removeIntegralTrace(id,skipUpdate){const index=this.integralTraces.findIndex(trace=>trace.id===id);this.integralTraces.splice(index,1);if(!skipUpdate){this.updateData()}},getIntegralTrace(id){const intTrace=this.integralTraces.find(trace=>trace.id===id);return intTrace},createTangentTrace(){const{accessibilityScale}=this,xAxis=this.getAxis('x'),yAxis=this.getAxis('y'),dataManager=this.getDataManager(),trace=new __WEBPACK_IMPORTED_MODULE_2_corelib_graph_TangentTrace__.a(dataManager,xAxis,yAxis,accessibilityScale);this.tangentTraces.push(trace);return trace},removeTangentTrace(id,skipUpdate){const index=this.tangentTraces.findIndex(trace=>trace.id===id);this.tangentTraces.splice(index,1);if(!skipUpdate){this.updateData()}},getTangentTrace(id){return this.tangentTraces.find(trace=>trace.id===id)},removeAllTangentTraces(){this.tangentTraces=[];this.updateData()}})}const analysis={init(graph){setupAnalysis(graph)}};__webpack_exports__.a=analysis},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);__webpack_exports__.a=class{constructor(traceId,color){this.data=[];this.id=`fit-${__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniqueId()}_${traceId}`;this.color=color;this.traceId=traceId}setData(data){this.data=data}getData(callback){const dataPairs=this.data,x=[],y=[];for(let i=0;i<dataPairs.length;++i){x[i]=dataPairs[i][0];y[i]=dataPairs[i][1]}const length=Math.min(x.length,y.length);callback({points:{x,y,length}})}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);__webpack_exports__.a=class{constructor(traceId,color){this.data=[];this.id=`integral-${Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)()}_${traceId}`;this.color=color}setData(data){this.data=data}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__=__webpack_require__(18);__webpack_exports__.a=class{constructor(dataManager,xAxis,yAxis,accessibilityScale){this.accessibilityScale=accessibilityScale;this.dataManager=dataManager;this.xAxis=xAxis;this.yAxis=yAxis;this.tangentLines=[];this.id=`tangent-${__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniqueId()}`}clearTangentTraceData(){this.tangentLines=[]}generateTangentTraceData(xid,yid,xPoint,slope){const{dataManager,xAxis,yAxis,accessibilityScale}=this,yCol=dataManager.getColumn(yid),xCol=dataManager.getColumn(xid),rawYData=yCol?yCol.getValues():[],rawXData=xCol?xCol.getValues():[],index=rawXData.findIndex(x=>Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_helpers__.d)(x,xPoint)),graphXRange=xAxis.getRange(),graphYRange=yAxis.getRange(),graphXRangePx=xAxis.getRangePx(),graphYRangePx=yAxis.getRangePx(),[graphWidth,graphHeight]=[graphXRange,graphYRange].map(range=>range.max-range.min),[graphPxWidth,graphPxHeight]=[graphXRangePx,graphYRangePx].map(range=>range.max-range.min),graphPxDiagonal=Math.sqrt(graphPxWidth**2+graphPxHeight**2);if(-1!==index&&0<graphWidth&&0<graphHeight){const yPoint=rawYData[index],xPointPx=xAxis.p2c(xPoint),yPointPx=yAxis.p2c(yPoint);this.tangentLines=[];Object.values({shortLine:{lineWidthFactor:4,pxLength:42*accessibilityScale},longLine:{lineWidthFactor:1,pxLength:2*graphPxDiagonal}}).forEach(line=>{const slopeAngle=Math.atan(slope*(graphPxHeight/graphHeight/(graphPxWidth/graphWidth))),xPxFromCenter=Math.cos(slopeAngle)*(line.pxLength/2),yPxFromCenter=Math.sin(slopeAngle)*(line.pxLength/2),lineData=[[xPointPx-xPxFromCenter,yPointPx-yPxFromCenter],[xPointPx+xPxFromCenter,yPointPx+yPxFromCenter]].map(point=>[xAxis.c2p(point[0]),yAxis.c2p(point[1])]);this.tangentLines.push({data:lineData,lineWidthFactor:line.lineWidthFactor})});return!0}return!1}}},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-graph-analysis> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{--y-value-flag-height:1.75rem;position:absolute;height:100%;width:100%;left:0;top:0}:host(.hidden){display:none}.analysis-wrapper{width:100%;height:100%}.annotation-wrapper,.selection-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}.graph-examine-wrapper.is-tracking .graph-examine,.graph-examine-wrapper.is-tracking .point-highlight{-webkit-transition:none;transition:none}.graph-examine{position:absolute;height:100%;padding:0 .875rem;cursor:ew-resize;-webkit-transition:left .2s cubic-bezier(.4,0,.2,1);transition:left .2s cubic-bezier(.4,0,.2,1);z-index:125}.graph-examine__pin{position:relative;width:1px;height:100%;background:#000}.delete-examine-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;width:2rem;height:2rem;position:absolute;z-index:126;top:0;left:.875rem;-webkit-transition:all .25s cubic-bezier(.4,0,.2,1);transition:all .25s cubic-bezier(.4,0,.2,1)}.delete-examine-btn::-moz-focus-inner{border:0;padding:0}.delete-examine-btn *{pointer-events:none}.delete-examine-btn a,.delete-examine-btn button{pointer-events:auto}.delete-examine-btn:active{outline:0}.delete-examine-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.delete-examine-btn:active,.delete-examine-btn:hover{background-color:rgba(0,2,4,.1)}.delete-examine-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.delete-examine-btn vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}.graph-selection-right{position:absolute;bottom:-1.75rem;left:0;z-index:126;min-width:3.125rem;max-width:6.875rem;padding:.4em .5em;overflow:hidden;cursor:col-resize;color:#373839;font-size:.75rem;font-weight:400;text-overflow:ellipsis;white-space:nowrap;text-align:center;background-color:#e3e4e5;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:-webkit-transform 250ms cubic-bezier(.4,0,.2,1);transition:-webkit-transform 250ms cubic-bezier(.4,0,.2,1);transition:transform 250ms cubic-bezier(.4,0,.2,1);transition:transform 250ms cubic-bezier(.4,0,.2,1),-webkit-transform 250ms cubic-bezier(.4,0,.2,1)}.graph-selection-right span{pointer-events:none}.point-overflow-window{list-style:none;margin:0;padding:0;position:absolute;top:2rem;left:1.05rem;max-height:calc(100% - 2rem);font-size:.75rem;white-space:nowrap;background:rgba(255,255,255,.95);border-radius:.25rem;overflow-x:hidden;overflow-y:auto}.point-overflow-window--tangent{left:2.175rem}.point-overflow-window__y-value{padding:.15em .5em}.point-highlight{position:absolute;z-index:124;width:.625rem;height:.625rem;border-radius:100%;border:.1875rem solid;background:#000;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transition:all .1s cubic-bezier(.4,0,.2,1);transition:all .1s cubic-bezier(.4,0,.2,1)}.point-highlight__y-value{display:block;position:absolute;height:var(--y-value-flag-height,1.75rem);z-index:125;font-size:.75rem;padding:.4em .5em;white-space:nowrap;background:rgba(255,255,255,.95);border-radius:.25rem;-webkit-transform:translate(.5625rem,-.75rem);transform:translate(.5625rem,-.75rem);-webkit-transition:all 250ms cubic-bezier(.4,0,.2,1);transition:all 250ms cubic-bezier(.4,0,.2,1)}.point-highlight--tangent .point-highlight__y-value{-webkit-transform:translate(1.6875rem,-1.25rem);transform:translate(1.6875rem,-1.25rem)}.flip-x-flag-left .graph-selection-right{-webkit-transform:translateX(calc(-100% + 1px));transform:translateX(calc(-100% + 1px));border-right:1px solid #000;border-left:0}.flip-x-flag-left .delete-examine-btn{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.flip-y-flag-left .point-highlight__y-value{-webkit-transform:translate(calc(-100% - .5625rem),-.625rem);transform:translate(calc(-100% - .5625rem),-.625rem)}.flip-y-flag-left .point-highlight--tangent .point-highlight__y-value{-webkit-transform:translate(calc(-100% - 1.375rem),-1.25rem);transform:translate(calc(-100% - 1.375rem),-1.25rem)}.flip-y-flag-left .point-overflow-window{-webkit-transform:translateX(calc(-100% - 1.05rem));transform:translateX(calc(-100% - 1.05rem))}.flip-y-flag-left .point-overflow-window--tangent{-webkit-transform:translateX(calc(-100% - 3.17rem));transform:translateX(calc(-100% - 3.17rem))}</style> <div class=analysis-wrapper on-up=examineHandler on-down=selectionHandler on-click=tapHandler on-track=selectionHandler> <div class$="graph-examine-wrapper [[_classForIsTracking(isExamineTracking)]]" hidden=[[examineHidden]]> <div class=graph-examine on-track=examineHandler style=left:[[examinePx]]px> <template is=dom-if if=[[!examinePreventClose]]> <button class=delete-examine-btn on-click=deleteExamineHandler on-down=deleteExamineHandler on-up=deleteExamineHandler title="[[getText(\'Delete Examine Tool\')]]"><vst-core-icon class=icon-close icon=icon-close></vst-core-icon></button> </template> <div class=graph-examine__pin> <div class="graph-selection-handle graph-selection-right" on-track=examineHandler> <span>[[xPoint.value]]</span> <span>[[xPoint.units]]</span> </div> </div> <template is=dom-if if=[[!examineFlagsAllFit]]> <ul class$=[[_classForOverflowWindow(tangent)]] on-up=stopPropagation> <template is=dom-repeat id=yPointsList items=[[yPoints]] as=yPoint> <template is=dom-if if=[[tangent]]> <li class=point-overflow-window__y-value on-track=examineHandler style=color:[[yPoint.traceColor]]> <div>[[yPoint.value]] [[yPoint.units]]</div> <div>[[getText(\'Slope\')]]: [[yPoint.slope]] [[yPoint.slopeUnits]]</div> </li> </template> <template is=dom-if if=[[interpolate]]> <li class=point-overflow-window__y-value on-track=examineHandler style=background-color:[[yPoint.traceColor]];color:#fff> [[yPoint.value]] [[yPoint.units]] </li> </template> <template is=dom-if if=[[!tangent]]> <template is=dom-if if=[[!interpolate]]> <li class=point-overflow-window__y-value on-track=examineHandler style=color:[[yPoint.traceColor]]> [[yPoint.value]] [[yPoint.units]] </li> </template> </template> </template> </ul> </template> </div> <template is=dom-if if=[[!examineFlagsAllFit]]> <template is=dom-repeat id=yPointsList items=[[yPoints]] as=yPoint> <div class=point-highlight style=top:[[yPoint.top]];left:[[yPoint.left]];border-color:[[yPoint.traceColor]]></div> </template> </template> <template is=dom-if if=[[examineFlagsAllFit]]> <template is=dom-repeat id=yPointsList items=[[yPoints]] as=yPoint> <template is=dom-if if=[[tangent]] restamp=true> <div class="point-highlight point-highlight--tangent" style=top:[[yPoint.top]];left:[[yPoint.left]];border-color:[[yPoint.traceColor]]> <div class=point-highlight__y-value on-track=examineHandler style=top:[[yPoint.flagTop]];color:[[yPoint.traceColor]];border-color:[[yPoint.traceColor]]> <div>[[yPoint.value]] [[yPoint.units]]</div> <div>[[getText(\'Slope\')]]: [[yPoint.slope]] [[yPoint.slopeUnits]]</div> </div> </div> </template> <template is=dom-if if=[[!tangent]] restamp=true> <template is=dom-if if=[[interpolate]] restamp=true> <div class=point-highlight style=top:[[yPoint.top]];left:[[yPoint.left]];border-color:[[yPoint.traceColor]]> <div class=point-highlight__y-value on-track=examineHandler style=top:[[yPoint.flagTop]];background-color:[[yPoint.traceColor]];border-color:[[yPoint.traceColor]];color:#fff> [[yPoint.value]] [[yPoint.units]] </div> </div> </template> </template> <template is=dom-if if=[[!tangent]] restamp=true> <template is=dom-if if=[[!interpolate]] restamp=true> <div class=point-highlight style=top:[[yPoint.top]];left:[[yPoint.left]];border-color:[[yPoint.traceColor]]> <div class=point-highlight__y-value on-track=examineHandler style=top:[[yPoint.flagTop]];color:[[yPoint.traceColor]];border-color:[[yPoint.traceColor]]> [[yPoint.value]] [[yPoint.units]] </div> </div> </template> </template> </template> </template> </div> <div class=annotation-wrapper id=annotation_wrapper></div> <div class=selection-wrapper id=selection_wrapper></div> </div> </template> </dom-module>');__webpack_require__(272)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4_corelib_util_preventFlagOverlap__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_5_corelib_util_helpers__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_6_corelib_services__=__webpack_require__(2),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(0<=keys.indexOf(i))continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function increasePrecision(str,byCount=1){const pieces=str.split('.');let num=pieces[1];num=num.replace('f','');num=parseInt(num)+byCount;const newStr=`${pieces[0]}.${num}f`;return newStr}class VstCoreGraphAnalsis extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.GestureEventListeners(Polymer.Element)){static get is(){return'vst-core-graph-analysis'}static get properties(){return{graphId:{type:String},pinching:Boolean,selections:{type:Array,value(){return[]}},annotations:{type:Object,observer:'_annotationsChanged',value(){return[]}},interpolate:{type:Boolean,reflectToAttribute:!0,observer:'_interpolateChanged'},tangent:{type:Boolean,reflectToAttribute:!0},examineHidden:{type:Boolean,notify:!0},examinePx:{type:Number,value:0},examineUnits:{type:String,value:''},xPoint:{type:String,value:''},yPoints:{type:Array,value:[]},examineFormatStr:{type:String,value:'%.2f'},examinePreventClose:{type:Boolean,value:!1,reflectToAttribute:!0},examineFlagsAllFit:{type:Boolean,value:!0},examinePin:{type:Object,observer:'_examinePinChanged'},isTempSelection:{type:Boolean,observer:'_isTempSelectionChanged'},tempSelection:{type:Object}}}constructor(){super();this._annotations=[];this.addEventListener('touchstart',event=>{if(1<event.touches.length){this.pinching=!0}});this.addEventListener('touchend',event=>{if(this.pinching&&0===event.touches.length){this.pinching=!1}});this.addEventListener('touchcancel',event=>{if(this.pinching&&0===event.touches.length){this.pinching=!1}})}controllerReady(){this.popoverManager=__WEBPACK_IMPORTED_MODULE_6_corelib_services__.a.get('popover-manager');this.graph=this.parentElement;this.yPoints=[];this.tapCount=0;this.examWrapperEl=this.shadowRoot.querySelector('.graph-examine-wrapper');this.examEl=this.shadowRoot.querySelector('.graph-examine');const _updateAnnotationPositions=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.throttle)(this.updateAnnotationPositions.bind(this),25),_updateExamineAndSelectionPositions=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.throttle)(this.updateExamineAndSelectionPositions.bind(this),300);this._updateDataForRangeOnResize=()=>{_updateAnnotationPositions();_updateExamineAndSelectionPositions()};setTimeout(()=>{this.graph.addEventListener('resize',this._updateDataForRangeOnResize);this.analysisWrapper=this.shadowRoot.querySelector('.analysis-wrapper');this.selectionWrapper=this.shadowRoot.querySelector('#selection_wrapper');this.annotationWrapper=this.shadowRoot.querySelector('#annotation_wrapper')})}disconnctedCallback(){super.disconnctedCallback();this.graph.removeEventListener('resize',this._updateDataForRangeOnResize)}tapHandler(e){if(this.pinching){return}this.tapCount++;if(1===this.tapCount){setTimeout(()=>{if(1!==this.tapCount){this.dblClickHandler.call(this,e)}this.tapCount=0},300)}}dblClickHandler(){this.fireExaminePositionUpdate({examineHidden:!0});this.graph.autoscale(void 0,'user')}examineHandler(e){const{popoverManager,graphInstance,_annotations}=this;let ignoreEvent=this.pinching;ignoreEvent=ignoreEvent||popoverManager.hasPopovers()&&!popoverManager.hasDialogs();_annotations.forEach(annotation=>{ignoreEvent=ignoreEvent||annotation.editing||annotation.preventExamine});if(ignoreEvent){return}if(this.isSelecting){this.isSelecting=!1}else{this.dispatchEvent(new CustomEvent('delete-temp-selection'));const elRect=this.getBoundingClientRect();let relativePx=e.detail.x-elRect.left;if(0>elRect.right-e.detail.x){relativePx=elRect.width-1}if(0>e.detail.x-elRect.left){relativePx=0}if('track'===e.type){this.isExamineTracking='track'===e.detail.state;e.stopPropagation()}const closestXPt=graphInstance.getClosestX(relativePx).pt,xPosition=graphInstance.getAxis('x').c2p(relativePx);this.fireExaminePositionUpdate({closestXPt,xPosition:this.interpolate?xPosition:closestXPt,isGestureFinished:'up'===e.type,examineHidden:!1})}}_examinePinChanged(newState={},oldState={}){if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newState.examinePosition,oldState.examinePosition)){const{examinePosition:{examineHidden=!0}={}}=newState;this.examineHidden=examineHidden;this.updateExamineAndTangent()}if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEqual)(newState.examineSettings,oldState.examineSettings)){const{examineSettings}=newState;this.tangent=examineSettings.tangentEnabled;this.interpolate=examineSettings.interpolate;this.updateExamineAndTangent()}}fireExaminePositionUpdate(positionUpdate){this.dispatchEvent(new CustomEvent('examine-positioning-changed',{detail:{graphId:this.graphId,positionUpdate}}))}fireExamineSettingsUpdate(settingsUpdate){this.dispatchEvent(new CustomEvent('examine-settings-changed',{detail:{graphId:this.graphId,settingsUpdate}}))}updateExamineAndTangent(){const{interpolate,tangent,examEl,examWrapperEl,examineFlagsAllFit,graphInstance:graph,examinePin={}}=this,{examinePosition:{xPosition,examineHidden=!0}={}}=examinePin,analysisElRect=this.getBoundingClientRect(),baseColumn=graph&&graph.baseColumn;if(null===xPosition||!(examEl&&graph&&baseColumn&&baseColumn.group&&!examineHidden)){return}const examineUnits=baseColumn.group.units;let examineFormatStr=baseColumn.getFormatStr();const examinePx=graph.getAxis('x').p2c(xPosition),closestX=graph.getClosestX(examinePx),tracePointsForClosestX=graph.getPointsForX(closestX.pt),xFlagEl=examEl.querySelector('.graph-selection-handle'),xFlagRect=xFlagEl.getBoundingClientRect();if(analysisElRect.width-closestX.px<xFlagRect.width){examWrapperEl.classList.add('flip-x-flag-left')}else{examWrapperEl.classList.remove('flip-x-flag-left')}setTimeout(()=>{const flagEl=examineFlagsAllFit?this.shadowRoot.querySelector('.point-highlight__y-value'):this.shadowRoot.querySelector('.point-overflow-window');if(flagEl){const flagRect=flagEl.getBoundingClientRect();if(analysisElRect.width-closestX.px<flagRect.width){examWrapperEl.classList.add('flip-y-flag-left')}else{examWrapperEl.classList.remove('flip-y-flag-left')}}});let computeYPoint,formatYPoint;if(interpolate){computeYPoint=VstCoreGraphAnalsis.toInterpolatedYPoint(VstCoreGraphAnalsis.calculateInterpolatedPoints(closestX,graph,examinePx));formatYPoint=VstCoreGraphAnalsis.formatInterpolatedYPoint(graph.getAxis('x'),graph.getAxis('y'));examineFormatStr=increasePrecision(examineFormatStr,2)}else if(tangent){const dataAnalysis=__WEBPACK_IMPORTED_MODULE_6_corelib_services__.a.get('data-analysis'),{computeTangentSlope}=dataAnalysis;computeYPoint=VstCoreGraphAnalsis.getComputeYPointWithTangentInfo(computeTangentSlope.bind(dataAnalysis));formatYPoint=VstCoreGraphAnalsis.formatYPoint(graph.getAxis('x'),graph.getAxis('y'))}else{computeYPoint=VstCoreGraphAnalsis.toYPoint;formatYPoint=VstCoreGraphAnalsis.formatYPoint(graph.getAxis('x'),graph.getAxis('y'))}const yPoints=tracePointsForClosestX.map(computeYPoint),xPoint=VstCoreGraphAnalsis.toXPoint(yPoints[0],tracePointsForClosestX[0],closestX.pt),xPointFormatted=VstCoreGraphAnalsis.formatXPoint(examineFormatStr,xPoint,examineUnits),yPointsFormatted=yPoints.map(formatYPoint),yPointsInView=yPointsFormatted.filter(yPoint=>parseFloat(yPoint.top)<=analysisElRect.height&&0<=parseFloat(yPoint.top)),accessibilityService=__WEBPACK_IMPORTED_MODULE_6_corelib_services__.a.get('accessibility'),bodyFontSize=parseFloat(window.getComputedStyle(document.body).fontSize);if(tangent){this.style.setProperty('--y-value-flag-height','3rem')}else{this.style.removeProperty('--y-value-flag-height')}const closeXEl=this.examEl.querySelector('.delete-examine-btn'),flagHeight=parseFloat(getComputedStyle(this).getPropertyValue('--y-value-flag-height'))*bodyFontSize*accessibilityService.accessibilityScale,allowedFlagOverlap=9*accessibilityService.accessibilityScale,bottomBounds=parseFloat(analysisElRect.height),topBounds=closeXEl.clientTop+closeXEl.clientHeight;this.examineFlagsAllFit=yPointsInView.length*(flagHeight-allowedFlagOverlap)<=bottomBounds-topBounds;if(this.examineFlagsAllFit){this.yPoints=Object(__WEBPACK_IMPORTED_MODULE_4_corelib_util_preventFlagOverlap__.a)(yPointsInView,flagHeight,topBounds,bottomBounds,allowedFlagOverlap)}else{this.yPoints=yPointsInView}this.xPoint=xPointFormatted;this.examinePx=VstCoreGraphAnalsis.calculateExaminePos(graph.getAxis('x'),xPoint,examEl.offsetWidth);graph.removeAllTangentTraces();if(tangent&&!examineHidden){yPoints.forEach(({baseColId,yColId,xPoint,slope})=>{graph.createTangentTrace().generateTangentTraceData(baseColId,yColId,xPoint,slope)});graph.updateData()}}static calculateExaminePos(xGraph,xPoint,examElOffsetWidth){return xGraph.p2c(xPoint)-examElOffsetWidth/2}static toXPoint({xPoint}={},{point:{x}}={point:{}},closestXPt){return xPoint||x||closestXPt}static toYPoint({trace:{yColumn,color},point}){return{formatStr:yColumn&&yColumn.getFormatStr(),xPoint:point.x,yPoint:point.y,units:yColumn?yColumn.group.units:'',color,point}}static getComputeYPointWithTangentInfo(computeTangentSlope){return tracePoint=>{const{point,trace,id:yColId}=tracePoint,yUnits=trace.yColumn?trace.yColumn.group.units:'',baseColumn=trace.getBaseColumn(),baseColId=baseColumn?baseColumn.id:'',baseColUnits=baseColumn?baseColumn.units:'',slopeResult=computeTangentSlope(baseColId,yColId,point.x);return _extends({},VstCoreGraphAnalsis.toYPoint(tracePoint),{slope:slopeResult.success?slopeResult.slope:'',slopeUnits:baseColUnits?`${yUnits||1}/${baseColUnits}`:`${yUnits}`,baseColId,yColId})}}static toInterpolatedYPoint(interpolatePoint){return({trace:{yColumn,color},leftUnits,point},i)=>{const{xPoint,yPoint}=interpolatePoint(i);return{formatStr:yColumn&&yColumn.getFormatStr(),xPoint,yPoint,units:leftUnits,point,color}}}static formatXPoint(examineFormatStr='%.2f',xPoint,units){return{value:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__.sprintf)(examineFormatStr,xPoint),units}}static formatYPoint(xAxis,yAxis){return({yPoint,xPoint,units,point,color,slope,slopeUnits,formatStr='%.2f'})=>({value:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__.sprintf)(formatStr,yPoint),units,top:`${yAxis.p2c(yPoint)}px`,left:`${xAxis.p2c(xPoint)}px`,point,slope:`${Number.parseFloat(slope).toPrecision(3)}`,slopeUnits,traceColor:color})}static formatInterpolatedYPoint(xAxis,yAxis){return({yPoint,xPoint,units,point,color,formatStr='%.2f'})=>({value:Object(__WEBPACK_IMPORTED_MODULE_2_corelib_lib_sprintf__.sprintf)(increasePrecision(formatStr,2),yPoint),units,top:`${yAxis.p2c(yPoint)}px`,left:`${xAxis.p2c(xPoint)}px`,point,traceColor:Object(__WEBPACK_IMPORTED_MODULE_5_corelib_util_helpers__.b)(color,1)})}static calculateInterpolatedPoints(closestXPoint,graph,examinePx){const leftX=closestXPoint.pt<closestXPoint.nextClosest.pt?closestXPoint:closestXPoint.nextClosest,rightX=closestXPoint.pt>closestXPoint.nextClosest.pt?closestXPoint:closestXPoint.nextClosest;let percentage=(examinePx-leftX.px)/(rightX.px-leftX.px);percentage=isFinite(percentage)?percentage:0;const xPoint=rightX.pt*percentage+(1-percentage)*leftX.pt,leftY=graph.getPointsForX(leftX.pt),rightY=graph.getPointsForX(rightX.pt);return i=>{let yPoint=0;if(!leftY[i]){yPoint=rightY[i].point.y*percentage}else if(!rightY[i]){yPoint=leftY[i].point.y*percentage}else{yPoint=rightY[i].point.y*percentage+(1-percentage)*leftY[i].point.y}return{xPoint,yPoint}}}selectionHandler(e){if(this.pinching){return}const elRect=this.getBoundingClientRect(),state=e.detail.state,xPos=e.detail.x-elRect.left;let currentRange={};if('down'===e.type){this._startX=xPos}if('track'===state&&this._startX){if(25<e.detail.dx||-25>e.detail.dx||this.isSelecting){this.isSelecting=!0;if(this.examWrapperEl&&!this.examineHidden){this.fireExaminePositionUpdate({examineHidden:!0})}if(0>e.detail.dx){currentRange={min:Math.max(xPos,0),max:this._startX}}else{currentRange={min:this._startX,max:Math.min(xPos,elRect.width)}}this.dispatchEvent(new CustomEvent('new-selection-gesture',{detail:{graphId:this.graphId,currentRange:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(currentRange,px=>this.graphInstance.getClosestX(px).pt)}}))}}else if('end'===state){this._startX=null;setTimeout(()=>{this.isSelecting=!1})}}deleteExamineHandler(e){if(this.pinching){return}this.fireExaminePositionUpdate({examineHidden:!0});e.stopPropagation()}_interpolateChanged(interpolate){if(this.graphInstance){this.graphInstance.isInterpolating=interpolate}}_isTempSelectionChanged(isTemp){if(!isTemp){this.tempSelection=null}}_classForIsTracking(isTracking=!1){return isTracking?'is-tracking':''}_classForOverflowWindow(tangent=!1){return tangent?'point-overflow-window point-overflow-window--tangent':'point-overflow-window'}infoBoxMoveHandler(infoBoxEl,e){const infoBoxHeaderEl=infoBoxEl.shadowRoot.querySelector('#header'),infoBoxHeaderHeight=infoBoxHeaderEl.getBoundingClientRect().height,analysisRect=this.getBoundingClientRect(),event=e.detail,state=event.state,updatePosition=()=>{requestAnimationFrame(()=>{const{boxTopAtStart}=this.infoBoxMoveHandler;let dy=event.dy;if(boxTopAtStart+dy<analysisRect.top&&0>dy){dy=analysisRect.top-boxTopAtStart}else if(boxTopAtStart+dy+infoBoxHeaderHeight>analysisRect.bottom&&0<dy){dy=analysisRect.bottom-boxTopAtStart-infoBoxHeaderHeight}infoBoxEl.translateYLength=`${dy}px`})};if('start'===state){infoBoxEl.classList.add('translating');this.infoBoxMoveHandler.boxTopAtStart=infoBoxEl.getBoundingClientRect().top}else if('track'===state){updatePosition()}else if('end'===state){const boxRect=infoBoxEl.getBoundingClientRect();requestAnimationFrame(()=>{infoBoxEl.style.top=`${100*((boxRect.top-analysisRect.top)/analysisRect.height)}%`;infoBoxEl.translateYLength='';setTimeout(()=>{infoBoxEl.classList.remove('translating')})})}}dragHandler(config,e){const{draggingEl,containerEl,dragX,dragY}=config,event=e.detail.detail,state=event.state;let translateX=0,translateY=0;if('start'===state){draggingEl.style.willChange='transform';this.containerRect=containerEl.getBoundingClientRect();this.draggingRect=draggingEl.getBoundingClientRect();this.maxTranslate={left:this.containerRect.left-this.draggingRect.left,right:this.containerRect.right-this.draggingRect.right,top:this.containerRect.top-this.draggingRect.top,bottom:this.containerRect.bottom-this.draggingRect.bottom}}else if('track'===state){requestAnimationFrame(()=>{if(dragX){if(this.maxTranslate.left<=event.dx&&event.dx<=this.maxTranslate.right){translateX=event.dx}else if(this.maxTranslate.left>event.dx){translateX=this.maxTranslate.left}else if(this.maxTranslate.right<event.dx){translateX=this.maxTranslate.right}}if(dragY){if(this.maxTranslate.top<=event.dy&&event.dy<=this.maxTranslate.bottom){translateY=event.dy}else if(this.maxTranslate.top>event.dy){translateY=this.maxTranslate.top}else if(this.maxTranslate.bottom<event.dy){translateY=this.maxTranslate.bottom}}draggingEl.style.transform=`translate(${translateX}px, ${translateY}px)`})}else if('end'===state){this.draggingRect=draggingEl.getBoundingClientRect();setTimeout(()=>{draggingEl.xPos=this.draggingRect.left-this.containerRect.left;draggingEl.yPos=this.draggingRect.top-this.containerRect.top;draggingEl.style.removeProperty('transform');draggingEl.style.removeProperty('will-change')},10)}}createSelection(args){const selection=document.createElement('vst-core-graph-selection');selection.graphInstance=this.graphInstance;this.selectionWrapper.appendChild(selection);if(args.id){selection.id=args.id}if(args.permanent){selection.permanent=args.permanent}if(args.min!==void 0&&args.max!==void 0){selection.min=args.min;selection.max=args.max}if(args.range){selection.setPtRange(args.range)}if(args.persistForSession){selection.persistForSession=args.persistForSession}const selectionBinder=new __WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__.a;selectionBinder.on(selection,'selection-el-deleted',()=>{const index=this.selections.findIndex(sel=>sel.id===selection.id);if(-1<index){this.selections.splice(index,1)}selectionBinder.unbindAll()});this.push('selections',selection);return selection}_annotationsChanged(annotations={}){const existingIds=this._annotations.map(annotation=>annotation.id),changedIds=Object.keys(annotations),toAddIds=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.difference)(changedIds,existingIds);toAddIds.forEach(id=>{const isHydrating=!!annotations[id].udmId,annotation=this._createAnnotation(annotations[id]);if(isHydrating){annotation.saveAnnotation()}});const toRemoveIds=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.difference)(existingIds,changedIds);toRemoveIds.forEach(id=>{const annotationEl=this._annotations.find(a=>a.id===id);annotationEl.deleteAnnotation()});if(0<toAddIds.length){this.graph.resizeGraph()}}_createAnnotation(_ref){let{id}=_ref,args=_objectWithoutProperties(_ref,['id']);const annotation=document.createElement('vst-core-graph-annotation');annotation.id=id;const analysisRect=this.getBoundingClientRect();annotation.graphInstance=this.graphInstance;this.annotationWrapper.appendChild(annotation);if(annotation.animate){annotation.animate([{opacity:'0',transform:'translate3d(0, 10px, 0)',offset:0},{opacity:'1',transform:'none',offset:1}],{duration:250,easing:'cubic-bezier(.4, 0, .2, 1)',iterations:1})}if(args.udmId){annotation.udmId=args.udmId;if(args.xPos&&args.yPos){annotation.xPos=args.xPos;annotation.yPos=args.yPos}if(args.annotationText){annotation.annotationText=args.annotationText}}else{const annotationRect=annotation.shadowRoot.querySelector('.annotation').getBoundingClientRect(),xCenter=(analysisRect.width-annotationRect.width)/2,yCenter=(analysisRect.height-annotationRect.height)/2;annotation.xPos=xCenter;annotation.yPos=yCenter}const annotationBinder=new __WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__.a;annotationBinder.on(annotation,'delete-annotation',e=>{annotationBinder.unbindAll();annotation.remove();const newAnnotations=this._annotations.filter(item=>{return item.id!==annotation.id});this._annotations=newAnnotations;this.dispatchEvent(new CustomEvent('delete-annotation',{detail:annotation}));e.stopPropagation()});annotationBinder.on(annotation,'update-annotation',e=>{this.dispatchEvent(new CustomEvent('update-annotation',{detail:annotation}));e.stopPropagation()});annotationBinder.on(annotation,'drag-annotation',e=>{if(annotation.editing){return}const config={draggingEl:annotation,containerEl:this,dragX:!0,dragY:!0,hasTail:!1};this.dragHandler(config,e)});annotationBinder.on(annotation,'show-annotation-actions',e=>{e.stopPropagation();this.dispatchEvent(new CustomEvent('show-annotation-actions',{detail:e.detail}))});this.push('_annotations',annotation);return annotation}refreshAnnotation(annotationEl,props){annotationEl.udmId=props.annotationId;this.dispatchEvent(new CustomEvent('annotation-update',{detail:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.pick)(annotationEl,'id','udmId','annotationText','xPos','yPos')}))}bindInfoBox(el,which){setTimeout(()=>{const infoBox=el.shadowRoot.querySelector(`#${which}`);if(infoBox){if(infoBox.eventBinder){infoBox.eventBinder.unbindAll();infoBox.eventBinder=null}infoBox.eventBinder=new __WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__.a;infoBox.eventBinder.on(infoBox,`infobox-moving`,e=>{if(this.pinching){return}this.infoBoxMoveHandler(infoBox,e)})}})}getGraphBaseRange(){if(this.graphInstance){return this.graphInstance.getBaseRange()}return{}}getGraphPxWidth(){return this.clientWidth}updateAnnotationPositions(){this._annotations.forEach(annotation=>{annotation.reposition()})}updateExamineAndSelectionPositions(){if(this.examEl){this.updateExamineAndTangent()}this.selections.forEach(selection=>{selection.reposition()})}getSelectionElementById(id){return this.selections.find(s=>s.id===id)}getBaseColumn(){return this.graphInstance.getBaseColumn()}_getBaseColumnUnits(){const baseColumn=this.graphInstance.getBaseColumn();return baseColumn?baseColumn.group.units:null}_getBaseColumnFormatString(){const baseColumn=this.graphInstance.getBaseColumn();return baseColumn?baseColumn.getFormatStr():'%0.3f'}stopPropagation(e){e.stopPropagation()}}__webpack_exports__.VstCoreGraphAnalsis=VstCoreGraphAnalsis;customElements.define(VstCoreGraphAnalsis.is,VstCoreGraphAnalsis)},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(yPoints,initialFlagHeight,topBounds,bottomBounds,allowedFlagOverlap){const flagHeight=initialFlagHeight-allowedFlagOverlap,sortedList=yPoints.sort((a,b)=>{return parseFloat(a.top)>parseFloat(b.top)?1:parseFloat(b.top)>parseFloat(a.top)?-1:0}).map(point=>{point.flagTop=parseFloat(point.top);if(point.flagTop>bottomBounds-flagHeight){point.flagTop=bottomBounds-flagHeight+allowedFlagOverlap}else if(point.flagTop<topBounds){point.flagTop=topBounds}return point});function makeOverlapPairs(arr){const result=[];let prev;arr.forEach(item=>{if(!prev||item.flagTop<prev.flagTop+flagHeight){if(!prev){prev=item}else{result.push([prev,item]);prev=item}}else{prev=item}});return result}let loopCount=0;const maxLoops=sortedList.length*flagHeight;while(makeOverlapPairs(sortedList).length&&loopCount<maxLoops){loopCount++;makeOverlapPairs(sortedList).forEach(flagPair=>{while(flagPair[1].flagTop-flagPair[0].flagTop<=flagHeight){if(flagPair[0].flagTop>topBounds){flagPair[0].flagTop--}else{flagPair[0].flagTop=topBounds}if(flagPair[1].flagTop>=bottomBounds-flagHeight+allowedFlagOverlap){flagPair[1].flagTop--}else{flagPair[1].flagTop++}}})}const finalList=sortedList.map(point=>{point.flagTop=`${point.flagTop-parseFloat(point.top)}px`;return point});return finalList}},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-bottombar> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#e3e4e5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:2.375rem;border-top:1px solid #bdbebf;padding:0;overflow-x:auto;overflow-y:hidden;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left);padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.modes-sensors-wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow-x:auto;display:-webkit-box;display:-ms-flexbox;display:flex}.modes,.sensors{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-ms-flexbox;display:flex}.modes{padding-left:.1875rem}.sensors{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-left:.3125rem}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;background:#fff;color:#373839;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1);border:1px solid #bdbebf;border-radius:.25rem;font-size:.67em;padding:.25rem .5rem;text-overflow:ellipsis;max-width:100%;overflow:hidden;white-space:nowrap;height:1.75rem;margin:.4375rem .1875rem;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn:active,.btn:hover{-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3);box-shadow:0 1px 3px rgba(0,0,0,.3);border:1px solid #a3a5a6}.btn:active{-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3),inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:0 1px 3px rgba(0,0,0,.3),inset 0 0 1px 1px rgba(0,0,0,.15)}.btn[disabled]{background-color:transparent;-webkit-box-shadow:none;box-shadow:none;cursor:default;border-color:transparent}.btn[disabled]:hover{-webkit-box-shadow:none;box-shadow:none}.mode-prefix::after{content:\':\'}.mode-name{margin-right:1em}.mode-name:last-child{margin:0}.device-manager-btn{-ms-flex-negative:0;flex-shrink:0;margin-right:.375rem}.device-manager-btn:hover .device-manager-icon{opacity:1}.device-manager-icon{opacity:.8;width:1.125rem;height:1.125rem}:host([device-needs-firmware-update]) .device-manager-btn{position:relative}:host([device-needs-firmware-update]) .device-manager-btn::after{display:block;content:\'\';width:.5rem;height:.5rem;border-radius:100%;background-color:#d22630;position:absolute;top:.1875rem;right:.1875rem}</style> <div class=modes-sensors-wrapper> <div class=modes> <button class="btn simptip-position-top" id=collection_mode_btn on-click=openDataCollectionSettings disabled$=[[collectionModeDisabled]] data-tooltip$="[[getText(\'Data Collection Settings\')]]"> <template is=dom-if if=[[isDataShare]]> <div class=session-type> <span class=mode-prefix>[[getText(\'Mode\')]]</span> <span class=mode-prefix>[[getText(\'Data Share\')]]</span> <span class=mode-name id=data_share_source>[[dataShareSource]]</span> </div> </template> <template is=dom-if if=[[isManualEntry]]> <div class=session-type> <span class=mode-prefix>[[getText(\'Mode\')]]</span> <span class=mode-name>[[getText(\'Manual Entry\')]]</span> </div> </template> <template is=dom-if if=[[isDataCollection]]> <div class="session-type type-data-collection"> <template is=dom-if if=[[isTimeBased]]> <div class=mode> <span class=mode-prefix>[[getText(\'Mode\')]]</span> <span class=mode-name>[[getText(\'Time Based\')]]</span> <span class=mode-prefix>[[getText(\'Rate\')]]</span> <span>[[collectionRate]]</span> <span class=mode-name>[[collectionTimeUnits]]</span> </div> </template> <template is=dom-if if=[[isEventsWithEntry]]> <div class="mode mode-events-with-entry"> <span class=mode-prefix>[[getText(\'Mode\')]]</span> <span class=mode-name>[[getText(\'Events with Entry\')]]</span> </div> </template> <template is=dom-if if=[[isSelectedEvents]]> <div class="mode mode-selected-events"> <span class=mode-prefix>[[getText(\'Mode\')]]</span> <span class=mode-name>[[getText(\'Selected Events\')]]</span> </div> </template> <template is=dom-if if=[[isDropCounting]]> <div class="mode mode-drop-counting"> <span class=mode-prefix>[[getText(\'Mode\')]]</span> <span class=mode-name>[[getText(\'Drop Counting\')]]</span> </div> </template> <template is=dom-if if=[[isPhotogateTiming]]> <div class="mode mode-photogate"> <span class=mode-prefix>[[getText(\'Mode\')]]</span> <span class=mode-name>[[getText(\'Photogate Timing\')]]</span> <template is=dom-if if=[[photogateSubmode]]> <span>[[photogateSubmode]]</span> </template> </div> </template> </div> </template> </button> </div> <div class=sensors id=sensors> <slot></slot> </div> </div> <button class="device-manager-btn btn" id=device_manager on-click=openDeviceManager> <vst-core-icon icon=icon-sensor class=device-manager-icon title$="[[getText(\'Sensors\')]]"></vst-core-icon> </button> </template> </dom-module>');__webpack_require__(275)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_ViewElementMixin__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_3_corelib_datacollection_photogateParamMap__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf__);const inverseFunction=decimal=>{if(0!==decimal){return 1/decimal}return decimal};class VstCoreBottombar extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Object(__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_ViewElementMixin__.a)(Polymer.Element)){static get is(){return'vst-core-bottombar'}static get properties(){return{mode:{type:String,notify:!0,observer:'modeChanged',value:'',reflectToAttribute:!0},sessionType:{type:String,notify:!0,value:'DataCollection',observer:'typeChanged',reflectToAttribute:!0},hasBluetooth:{type:Boolean,value:!0,reflectToAttribute:!0},dataShareSource:{type:String,value(){return''}},collectionModeDisabled:{type:Boolean,reflectToAttribute:!0,value(){return!1}},collectionRate:{type:String},collectionTimeUnits:{type:String},photogateSubmode:{type:String},deviceNeedsFirmwareUpdate:{type:Boolean,value:!1,reflectToAttribute:!0}}}componentLoaded(){this.meterContainerEl=this.querySelector('vst-core-meter-container')}componentReady(){this.meterContainerEl.enteredView()}connectedCallback(){super.connectedCallback();this.disabledChangeObserver=new MutationObserver(mutationsList=>{const changedToEnabled=mutationsList.find(mutation=>'disabled'===mutation.attributeName&&!mutation.target.disabled);if(changedToEnabled&&!0===this.collectionModeDisabled){changedToEnabled.target.disabled=!0}}).observe(this.shadowRoot.querySelector('button#collection_mode_btn'),{attributes:!0})}disconnectedCallback(){super.disconnectedCallback();if(this.disabledChangeObserver)this.disabledChangeObserver.disconnect()}openDataCollectionSettings(){this.dispatchEvent(new CustomEvent('open-data-collection-settings'))}collectionParamsUpdated(params){let delta,rate;if(params.mode&&params.mode!==this.mode){this.mode=params.mode}if('time-based'===params.mode&&params.params&&params.params.hasOwnProperty('delta')){delta=__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.convertTimeUnits(params.params.delta,'s',params.params.units);rate=inverseFunction(delta);const curRate=__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.sigFig(rate,6),curPrecision=__WEBPACK_IMPORTED_MODULE_0_corelib_util_formatter__.a.getPrecision(curRate);this.collectionRate=Object(__WEBPACK_IMPORTED_MODULE_4_corelib_lib_sprintf__.sprintf)(`%.${curPrecision}f`,curRate);this.collectionTimeUnits=`${this.getText('samples')}/${params.params.units}`}if('photogate-timing'===params.mode){switch(__WEBPACK_IMPORTED_MODULE_3_corelib_datacollection_photogateParamMap__.a.backendToFrontend(params.params).measurementType){case'speed-through-gate':this.photogateSubmode=this.getText('Speed through Gate');break;case'linear-motion':this.photogateSubmode=this.getText('Linear Motion');break;case'angular-motion':this.photogateSubmode=this.getText('Angular Motion');break;case'timer':this.photogateSubmode=this.getText('Timer');break;case'gate-state':this.photogateSubmode=this.getText('Gate State');break;case'projectile':this.photogateSubmode=this.getText('Projectile Launcher');break;default:this.photogateSubmode='';}}}typeChanged(newType){this.isDataShare='DataShare'===newType;this.isManualEntry='ManualEntry'===newType;this.isDataCollection='DataCollection'===newType;if(!this.isDataShare&&!this.isManualEntry&&!this.isDataCollection){this.isManualEntry=!0}this.collectionModeDisabled=!this.isDataCollection}modeChanged(newMode){this.isTimeBased='time-based'===newMode;this.isEventsWithEntry='events-with-entry'===newMode;this.isSelectedEvents='selected-events'===newMode;this.isDropCounting='drop-counting'===newMode;this.isPhotogateTiming='photogate-timing'===newMode}openDeviceManager(){this.dispatchEvent(new CustomEvent('open-device-manager'))}setSensorMessage(message){if('string'===typeof message){this.meterContainerEl.message=this.getText('No sensor connected');this.meterContainerEl.showMessage=!0}else{this.meterContainerEl.showMessage=!1}}}customElements.define(VstCoreBottombar.is,VstCoreBottombar)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-graph-predictions> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@-webkit-keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}@keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}:host{display:none;position:absolute;width:100%;height:calc(100% - var(--chrome-menubar-height,0px));top:var(--chrome-menubar-height,0);left:0;z-index:200}.animate-in,:host(.animate-in){-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-name:fadeInDown;animation-name:fadeInDown}.animate-out,:host(.animate-out){-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}.fade-out,:host(.fade-out){-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-name:fadeOut;animation-name:fadeOut}.prediction-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:calc(100% - var(--chrome-menubar-height,0px))}.prediction-toolbar{-webkit-box-flex:0;-ms-flex:none;flex:none;height:calc(3.125rem + 2px);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#fff;-webkit-box-shadow:0 2px 14px rgba(0,0,0,.2);box-shadow:0 2px 14px rgba(0,0,0,.2);padding:0 .5625rem;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left);padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.prediction-btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c}.prediction-btn-cancel::-moz-focus-inner{border:0;padding:0}.prediction-btn-cancel *{pointer-events:none}.prediction-btn-cancel a,.prediction-btn-cancel button{pointer-events:auto}.prediction-btn-cancel:active{outline:0}.prediction-btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.prediction-btn-cancel:active,.prediction-btn-cancel:hover{color:#373839;background-color:transparent}.prediction-btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.prediction-btn-save{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.prediction-btn-save::-moz-focus-inner{border:0;padding:0}.prediction-btn-save *{pointer-events:none}.prediction-btn-save a,.prediction-btn-save button{pointer-events:auto}.prediction-btn-save:active{outline:0}.prediction-btn-save[disabled]{opacity:.2;cursor:default;pointer-events:none}.prediction-btn-save:hover{background-color:#005153}.prediction-btn-save:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.prediction-drawing-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.prediction-drawing{display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;top:0;bottom:3.25rem;left:calc(4.25rem + constant(safe-area-inset-left));left:calc(4.25rem + env(safe-area-inset-left));right:calc(1.0625rem + constant(safe-area-inset-right));right:calc(1.0625rem + env(safe-area-inset-right));background:rgba(255,255,255,.6)}.prediction-title-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.prediction-title-label{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.prediction-title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px;margin:0 .5em 0 0}.prediction-btn-wrapper{-ms-flex-negative:0;flex-shrink:0}.svg-canvas{-webkit-box-flex:1;-ms-flex:1;flex:1}.svg-canvas polyline{stroke:rgba(120,120,120,.7);stroke-width:5;fill:none}.intro{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;z-index:2;pointer-events:none;max-width:50%}.intro.hidden{display:none}.intro-svg{max-width:100%}.intro-svg-path{stroke:rgba(120,120,120,.7);stroke-width:10px;-webkit-animation:dashoffset 1s ease-in-out forwards;animation:dashoffset 1s ease-in-out forwards}.intro-text{font-size:1.75rem;font-weight:700;margin:0}@-webkit-keyframes dashoffset{to{stroke-dashoffset:0}}@keyframes dashoffset{to{stroke-dashoffset:0}}</style> <div class=prediction-wrapper> <vst-core-form on-submit=savePrediction> <form class=prediction-toolbar id=prediction_form> <div class=prediction-title-wrapper> <label class=prediction-title-label for=prediction_title>[[getText(\'Prediction Title\')]]</label> <input type=text id=prediction_title class=prediction-title placeholder="[[getText(\'Prediction\')]] 1"> </div> <div class=prediction-btn-wrapper> <button type=button class=prediction-btn-cancel on-click=cancelClicked>[[getText(\'Cancel\')]]</button> <button type=submit class=prediction-btn-save>[[getText(\'Save\')]]</button> </div> </form> </vst-core-form> <div class=prediction-drawing-wrapper> <div class=intro id=intro> <p class=intro-text>[[getText(\'Draw a Prediction\')]]</p> <svg class=intro-svg id=intro_svg> <path class=intro-svg-path id=intro_svg_path fill=transparent stroke-linecap=round d=""></path> </svg> </div> <div id=prediction_drawing_area class=prediction-drawing on-track=drawHandler on-down=downHandler> <svg id=svg_canvas class=svg-canvas preserveAspectRatio=none> <polyline id=svg_canvas_polyline></polyline> </svg> </div> </div> </div> </template> </dom-module>');__webpack_require__(277)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__=__webpack_require__(6);class VstCoreGraphPredictions extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.GestureEventListeners(Polymer.Element)){static get is(){return'vst-core-graph-predictions'}static get properties(){return{graphId:{type:String},graphModeTransition:Object,isActive:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:'isActiveChanged'},predictionName:{type:String},examinePin:{type:Object},restoreExaminePin:{type:Boolean}}}componentLoaded(){this.eventBinder=new __WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__.a;this.svgCanvas=this.shadowRoot.querySelector('#svg_canvas');this.polylineEl=this.svgCanvas.querySelector('#svg_canvas_polyline');this.introEl=this.shadowRoot.getElementById('intro');this.introSvgEl=this.shadowRoot.querySelector('#intro_svg');this.introSvgPathEl=this.shadowRoot.querySelector('#intro_svg_path');this.predictionDrawingAreaEl=this.shadowRoot.getElementById('prediction_drawing_area');this.graph=this.parentElement;this.graphInstance=this.graph.graphInstance;this.predictionFormEl=this.shadowRoot.querySelector('#prediction_form');this.titleEl=this.predictionFormEl.querySelector('#prediction_title');window.addEventListener('resize',()=>requestAnimationFrame(()=>{this._resizeHandler()}))}savePrediction(){const points=this.polylineEl.points;if(0<points.numberOfItems){const name=this.titleEl.value;this._savePrediction({rawPoints:points,name});this._closePredictions();this._clearPrediction()}else{this.cancelClicked()}}cancelClicked(){this._cancelPrediction();this._closePredictions()}downHandler(){this.introEl.classList.add('hidden')}drawHandler(e){const state=e.detail.state;if('start'===state){this._clearPrediction()}else if('track'===state){this._drawPrediction(e)}}isActiveChanged(isActive){if(!this.graph){return}const plotBoxEls=Array.from(this.graph.shadowRoot.querySelector('#plot_box').children);if(isActive){this.graphModeTransition.open(this.graph);this._initPrediction();this.titleEl.value=this.predictionName;plotBoxEls.forEach(plotBoxEl=>{plotBoxEl.classList.add('hidden')});this.introEl.classList.remove('hidden');this.introEl.classList.add('animate-in');this.showIntro();this.eventBinder.on(document,'keyup',e=>{if(27===e.which){this.cancelClicked()}else if(13===e.which){this.savePrediction()}})}else{this.graphModeTransition.close(this.graph);plotBoxEls.forEach(plotBoxEl=>{plotBoxEl.classList.remove('hidden')});this.introEl.classList.remove('animate-in');this.predictionFormEl.querySelector('#prediction_title');this.titleEl.value='';this.eventBinder.unbindAll()}}setDrawingAreaSize(){const plotBoxRect=this.graph.shadowRoot.querySelector('#plot_box').getBoundingClientRect(),drawingArea=this.shadowRoot.querySelector('.prediction-drawing');drawingArea.style.top=`${plotBoxRect.top}px`;drawingArea.style.right=`${plotBoxRect.right}px`;drawingArea.style.bottom=`${plotBoxRect.bottom}px`;drawingArea.style.left=`${plotBoxRect.left}px`;drawingArea.style.width=`${plotBoxRect.width}px`;drawingArea.style.height=`${plotBoxRect.height}px`;this.svgCanvas.setAttribute('viewBox',`0 0 ${plotBoxRect.width} ${plotBoxRect.height}`)}showIntro(){const self=this,width=300,height=200,prettyPaths=['M10,79 S 75,136 150,68 225,69 290,96','M10,67 S 75,130 150,87 225,46 290,85','M10,39 S 75,129 150,47 225,91 290,107','M10,39 S 75,133 150,87 225,137 290,95'];this.introSvgEl.setAttribute('width',width);this.introSvgEl.setAttribute('height',height);this.introSvgEl.setAttribute('viewBox',`0 0 ${width} ${height}`);function randomInt(minimum,maximum){return Math.floor(Math.random()*(maximum-minimum+1)+minimum)}(function(){self.introSvgPathEl.setAttribute('d',function(){return prettyPaths[randomInt(0,prettyPaths.length-1)]}());const length=self.introSvgPathEl.getTotalLength();self.introSvgPathEl.style.strokeDasharray=length;self.introSvgPathEl.style.strokeDashoffset=length})()}addTrace(traceColId){const{graph}=this;graph.addLeftTrace(traceColId)}_formatPredictionData(data){const{graphInstance}=this,points=[];for(let i=0;i<data.numberOfItems;i++){const pointPair=data.getItem(i),point=graphInstance.canvasToPoint(pointPair);points.push([point.x,point.y])}return points}_drawPrediction(e){const{svgCanvas,polylineEl,predictionDrawingAreaEl}=this,rect=predictionDrawingAreaEl.getBoundingClientRect(),point=svgCanvas.createSVGPoint();point.x=e.detail.x-rect.left;point.y=e.detail.y-rect.top;polylineEl.points.appendItem(point);this.predictionPoints.push({x:e.detail.x,y:e.detail.y});this.predictionRectOriginal=rect}_resizeHandler(){const{svgCanvas,polylineEl,predictionDrawingAreaEl}=this;this.setDrawingAreaSize();if(this.predictionRectOriginal){polylineEl.points.clear();const rect=predictionDrawingAreaEl.getBoundingClientRect(),rectWidthMultiplier=rect.width/this.predictionRectOriginal.width,rectHeightMultiplier=rect.height/this.predictionRectOriginal.height;this.predictionPoints.forEach(pointPair=>{const point=svgCanvas.createSVGPoint();point.x=(pointPair.x-rect.left)*rectWidthMultiplier;point.y=(pointPair.y-rect.top)*rectHeightMultiplier;polylineEl.points.appendItem(point)})}}_clearPrediction(){this.predictionPoints=[];this.polylineEl.points.clear()}_initPrediction(){this._hideGraphAnalysis(!0);const graphEl=this.graph;this.dispatchEvent(new CustomEvent('init-prediction',{detail:{graphEl}}))}_closePredictions(){this.dispatchEvent(new CustomEvent('close-predictions',{detail:{graphEl:this.graph}}))}_cancelPrediction(){this._clearPrediction();this._hideGraphAnalysis(!1)}_savePrediction({rawPoints,name}={}){const{graphInstance}=this,points=this._formatPredictionData(rawPoints);this._hideGraphAnalysis(!1);graphInstance.removeTracesByType('prediction');this.dispatchEvent(new CustomEvent('save-prediction',{detail:{points,name}}))}_hideGraphAnalysis(hide){const{graphInstance}=this;graphInstance.hideFits=hide;graphInstance.hideIntegrals=hide;graphInstance.hideTangents=hide;graphInstance.updateData();if(hide){this.restoreExaminePin=!this.examinePin.examinePosition.examineHidden}this.dispatchEvent(new CustomEvent('examine-positioning-changed',{detail:{graphId:this.graphId,positionUpdate:{examineHidden:hide||!this.restoreExaminePin}}}))}}customElements.define(VstCoreGraphPredictions.is,VstCoreGraphPredictions)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-curvefit-selector> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{display:block;background:#fff;min-width:215px}.curve-fits{padding:1.125rem}.curve-fits ul{list-style:none;padding-left:0;margin:0}.curve-fit-label{font-weight:700}.curve-fit-btns{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:1rem}.submit-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.submit-btn::-moz-focus-inner{border:0;padding:0}.submit-btn *{pointer-events:none}.submit-btn a,.submit-btn button{pointer-events:auto}.submit-btn:active{outline:0}.submit-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.submit-btn:hover{background-color:#005153}.submit-btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.cancel-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c}.cancel-btn::-moz-focus-inner{border:0;padding:0}.cancel-btn *{pointer-events:none}.cancel-btn a,.cancel-btn button{pointer-events:auto}.cancel-btn:active{outline:0}.cancel-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.cancel-btn:active,.cancel-btn:hover{color:#373839;background-color:transparent}.cancel-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}</style> <vst-core-form on-submit=applyFit> <form id=selection_form> <fieldset class=curve-fits> <label class=curve-fit-label for=apply_fit_select>[[getText(\'Curve Fit\')]]</label> <select id=apply_fit_select on-change=fitSelected> <template is=dom-repeat items=[[supportedFits]] as=fitItem> <option class=curve-fit value=[[fitItem.id]] selected=[[isSelectedFit(fitItem.id)]]>[[fitItem.name]]</option> </template> </select> <div class=curve-fit-btns> <button type=button on-click=cancelFit class=cancel-btn>[[getText(\'Cancel\')]]</button> <button type=submit class=submit-btn>[[getText(\'Apply\')]]</button> </div> </fieldset> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(279)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_platform__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_0_platform___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_platform__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreCurvefitSelector extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-curvefit-selector'}static get properties(){return{supportedFits:{type:Array,value(){return[]}},selected:String}}connectedCallback(){super.connectedCallback();setTimeout(()=>{this.fitSelectEl=this.shadowRoot.querySelector('#apply_fit_select');this.selectOptionEls=this.fitSelectEl.querySelectorAll('option');const fitSupported=this.supportedFits.some(fit=>fit.id===this.selected);if(this.selected&&fitSupported){this.dispatchEvent(new CustomEvent('curve-fit-selected',{detail:{fitType:this.selected,isInitialSelection:!0}}))}setTimeout(()=>{if('iOS'!==__WEBPACK_IMPORTED_MODULE_0_platform___default.a.os.family&&'Android'!==__WEBPACK_IMPORTED_MODULE_0_platform___default.a.os.family){this.fitSelectEl.focus()}})})}fitSelected(){let selectedId='';const selectOptionEls=Array.from(this.selectOptionEls);selectOptionEls.forEach(el=>{if(el.selected){selectedId=el.value}});this.dispatchEvent(new CustomEvent('curve-fit-selected',{detail:{fitType:selectedId,isInitialSelection:!1}}))}cancelFit(){this.dispatchEvent(new CustomEvent('curve-fit-canceled'))}applyFit(){this.dispatchEvent(new CustomEvent('curve-fit-applied'))}isSelectedFit(id){const isSelected=id===this.selected;return isSelected}}customElements.define(VstCoreCurvefitSelector.is,VstCoreCurvefitSelector)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-autoupdate> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}.updates__status{margin:0 0 1rem 0}.updates__action-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#e3e4e5;border-color:#bdbebf;color:#007377}.updates__action-btn::-moz-focus-inner{border:0;padding:0}.updates__action-btn *{pointer-events:none}.updates__action-btn a,.updates__action-btn button{pointer-events:auto}.updates__action-btn:active{outline:0}.updates__action-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.updates__action-btn:active,.updates__action-btn:hover{background-color:#fff;color:#005153}.updates__action-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.updates__error{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text;margin-top:1rem}.updates__error summary{display:inline-block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.updates__error summary::-webkit-details-marker{display:none}.updates__error summary::after{display:inline-block;margin-left:.5em;content:\'[+]\';font-size:.75em;vertical-align:text-bottom;color:#787a7c}.updates__error[open] summary::after{content:\'[\\2013]\'}.updates__error summary{color:#d22630}.loading-spinner{width:1.75rem;height:1.75rem}</style> <template is=dom-if if=[[isElectron]]> <div class=updates> <template is=dom-if if=[[!updateError]]> <template is=dom-if if=[[checkingForUpdate]]> <p class=updates__status>[[getText(\'Checking for update...\')]]</p> </template> <template is=dom-if if=[[!checkingForUpdate]]> <template is=dom-if if=[[!updateAvailable]]> <p class=updates__status>[[getText(\'App is up to date\')]]</p> <button class=updates__action-btn on-click=checkForUpdates>[[getText(\'Check for Updates\')]]</button> </template> </template> <template is=dom-if if=[[updateAvailable]]> <template is=dom-if if=[[!updateDownloading]]> <template is=dom-if if=[[!updateDownloaded]]> <p class=updates__status>[[getText(\'Update Available\')]]</p> <button class=updates__action-btn on-click=downloadUpdate>[[getText(\'Download Update\')]]</button> </template> </template> </template> <template is=dom-if if=[[updateDownloading]]> <p class=updates__status>[[getText(\'Update is downloading...\')]]</p> <paper-spinner class=loading-spinner active=true></paper-spinner> </template> <template is=dom-if if=[[updateDownloaded]]> <p class=updates__status>[[getText(\'Download complete. Updates will be installed the next time you launch the app\')]]</p> <button class=updates__action-btn on-click=quitAndInstall>[[getText(\'Restart app\')]]</button> </template> </template> <template is=dom-if if=[[updateError]]> <button class=updates__action-btn on-click=checkForUpdates>[[getText(\'Check for Updates\')]]</button> <details class=updates__error> <summary>[[getText(\'Update error\')]]</summary> <div>[[updateErrorMsg]]</div> </details> </template> </div> </template> </template> </dom-module>');__webpack_require__(281)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreAutoupdate extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-autoupdate'}static get properties(){return{isElectron:{type:Boolean,value:!1},checkingForUpdate:{type:Boolean,value:!1},updateAvailable:{type:Boolean,value:!1},updateDownloading:{type:Boolean,value:!1},updateDownloaded:{type:Boolean,value:!1},updateError:{type:Boolean,computed:'_hasErrorMessage(updateErrorMsg)'},updateErrorMsg:{type:String}}}checkForUpdates(){this.dispatchEvent(new CustomEvent('check-for-updates'))}downloadUpdate(){this.dispatchEvent(new CustomEvent('download-update'))}quitAndInstall(){this.dispatchEvent(new CustomEvent('quit-and-install'))}_hasErrorMessage(updateErrorMsg){return''!==updateErrorMsg}}customElements.define(VstCoreAutoupdate.is,VstCoreAutoupdate)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-battery> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:root{--battery-ok-color:#d4e458;--battery-caution-color:#f79b2e;--battery-low-color:#d22630}.battery-icon{width:100%;height:100%}.charging-false .lightning-bolt{display:none}</style> <svg class$="battery-icon charging-[[charging]]" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px width=24px height=24px viewBox="0 0 24 24" style="enable-background:new 0 0 24 24" xml:space=preserve> <path class=battery-outline fill$=[[indicatorColor]] d="M16,20H8V6h8 M16.7,4H15V2H9v2H7.3C6.6,4,6,4.6,6,5.3v15.3C6,21.4,6.6,22,7.3,22h9.3c0.7,0,1.3-0.6,1.3-1.3V5.3C18,4.6,17.4,4,16.7,4z"></path> <rect class=charge-bar x=8 y=6 width=8 height=14 fill$=[[indicatorColor]] style$="height: [[indicatorHeight]]px; y: [[indicatorY]]px;"></rect> <polyline class=lightning-bolt points="11,20 11,14.5 9,14.5 13,7 13,12.5 15,12.5 "></polyline> </svg> </template> </dom-module>');__webpack_require__(283)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreBattery extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-battery'}static get properties(){return{batteryPercent:{type:Number,value:100,reflectToAttribute:!0,notify:!0},charging:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},indicatorColor:{type:String,computed:'getIndicatorColor(batteryPercent)'},indicatorHeight:{type:Number,computed:'getIndicatorHeight(batteryPercent)'},indicatorY:{type:Number,computed:'getIndicatorY(indicatorHeight)'}}}getIndicatorColor(batteryPercent){if(0<batteryPercent&&10>batteryPercent){return'#EE3524'}else if(10<=batteryPercent&&25>batteryPercent){return'#F79B2E'}return'#BFCD4F'}getIndicatorHeight(batteryPercent){return 14*(batteryPercent/100)}getIndicatorY(indicatorHeight){return 20-indicatorHeight}}customElements.define(VstCoreBattery.is,VstCoreBattery)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-calc-functions> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}.tab-nav{background-color:#dbdcde;padding-left:.5625rem;margin:-1.125rem -1.125rem 1.125rem}.tab-nav ul{list-style:none;padding-left:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex}.tab-nav li{display:inline-block}.tab-nav li+li{margin-left:.5em}.tab-nav button{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;font-size:.75em;font-weight:700;text-transform:uppercase;margin-bottom:.1875em;background:0 0;margin-bottom:0;border:0;padding:.5625rem .5625rem .375rem .5625rem;border-bottom:3px solid transparent}.tab-nav button::-moz-focus-inner{border:0;padding:0}.tab-nav button *{pointer-events:none}.tab-nav button a,.tab-nav button button{pointer-events:auto}.tab-nav button:active{outline:0}.tab-nav button:focus,.tab-nav button:hover{outline:0;color:#007377}.tab-nav .active button{border-bottom-color:#007377}.tab-panes{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto}.tab-panes>*{display:none}.tab-panes>.active{display:block;height:100%}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host{width:100%;max-width:25rem}.notes{margin-top:0}.func-list-wrapper{padding:1.125rem}.func-list{list-style:none;padding-left:0;margin:0 0 -.85rem;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.func-list li{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-preferred-size:11rem;flex-basis:11rem;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;margin:0 0 .85rem 0}.func-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#e3e4e5;border-color:#bdbebf;color:#007377;background-color:#fff;text-transform:none;width:100%}.func-btn::-moz-focus-inner{border:0;padding:0}.func-btn *{pointer-events:none}.func-btn a,.func-btn button{pointer-events:auto}.func-btn:active{outline:0}.func-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.func-btn:active,.func-btn:hover{background-color:#fff;color:#005153}.func-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}</style> <div class=func-list-wrapper> <p class=notes>[[getText(\'A and B are parameters you can set. X and Y are existing columns in your data table.\')]]</p> <ul class=func-list> <li><button class=func-btn type=button data-function=AdotXpowB on-click=funcBtnClicked>[[getText(\'A*X^B\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AdivX on-click=funcBtnClicked>[[getText(\'A/X\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AlnX on-click=funcBtnClicked>[[getText(\'A ln(X)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AlogX on-click=funcBtnClicked>[[getText(\'A log(X)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AsublogX on-click=funcBtnClicked>[[getText(\'A-log(X)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AdivBaddX on-click=funcBtnClicked>[[getText(\'A / (B+X)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AdivXpowB on-click=funcBtnClicked>[[getText(\'A/X^B\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=XsubA on-click=funcBtnClicked>[[getText(\'X-A\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AsubX on-click=funcBtnClicked>[[getText(\'A-X\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=XaddA on-click=funcBtnClicked>[[getText(\'X+A\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=XdotY on-click=funcBtnClicked>[[getText(\'X*Y\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=XsubY on-click=funcBtnClicked>[[getText(\'X-Y\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=AabsX on-click=funcBtnClicked>[[getText(\'A abs(X)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=sqrtXXaddYYaddZZ on-click=funcBtnClicked>[[getText(\'\u221A(X\xB2+Y\xB2+Z\xB2)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=derivative on-click=funcBtnClicked>[[getText(\'1st Derivative(Y\\, X)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> <li><button class=func-btn type=button data-function=secondDerivative on-click=funcBtnClicked>[[getText(\'2nd Derivative(Y\\, X)\', \'general\', \'Part of Calculated Column definitions\')]]</button></li> </ul> </div> </template> </dom-module>');__webpack_require__(285)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreCalcFunctions extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-calc-functions'}funcBtnClicked(e){const calcExpression=e.target.dataset.function;this.completeWorkflow(calcExpression)}}customElements.define(VstCoreCalcFunctions.is,VstCoreCalcFunctions)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-clipboard> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;min-width:210px;max-width:210px}.buttons{min-width:210px;max-width:210px;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex}.clipboard-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);text-align:left;font-size:1em;border:0;color:#007377;padding:0;background:0 0;padding:.5625em 10px;width:70px;position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-color:#e3e4e5;border-style:solid;border-width:0;display:block;float:left}.clipboard-btn::-moz-focus-inner{border:0;padding:0}.clipboard-btn *{pointer-events:none}.clipboard-btn a,.clipboard-btn button{pointer-events:auto}.clipboard-btn:active{outline:0}.clipboard-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.clipboard-btn:active,.clipboard-btn:hover{color:#005153;background-color:#f0f1f1}.clipboard-btn:active{background-color:#e3e4e5}.clipboard-btn:hover{cursor:pointer}.clipboard-btn[disabled],.clipboard-btn[disabled]:hover{opacity:.5;color:#787a7c;cursor:not-allowed;background-color:#fff}.clipboard-btn.delete{color:#d22630}.clipboard-btn.separated{border-width:0 1px 0 0}</style> <nav> <div class=buttons> <button id=cut_btn on-click=cutClicked class="clipboard-btn separated" disabled=[[!deletable]]> <span>[[getText(\'Cut\')]]</span> </button> <button id=copy_btn on-click=copyClicked class="clipboard-btn separated"> <span>[[getText(\'Copy\')]]</span> </button> <button id=paste_btn on-click=pasteClicked class=clipboard-btn disabled=[[!pasteable]]> <span>[[getText(\'Paste\')]]</span> </button> </div> </nav> </template> </dom-module>');__webpack_require__(287)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreClipboard extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-clipboard'}static get properties(){return{deletable:{type:Boolean,value:()=>!0},pasteable:{type:Boolean,value:()=>!0},onCut:{type:Object,value:()=>null},onCopy:{type:Object,value:()=>null},onPaste:{type:Object,value:()=>null}}}cutClicked(){if(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isFunction(this.onCut)){this.onCut()}this.completeWorkflow()}copyClicked(){if(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isFunction(this.onCopy)){this.onCopy()}this.completeWorkflow()}pasteClicked(){if(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isFunction(this.onPaste)){this.onPaste()}this.completeWorkflow()}}customElements.define(VstCoreClipboard.is,VstCoreClipboard)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-column-group-options> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}label{margin-bottom:.375em}section{margin-bottom:1.125em}fieldset{padding:0}.column-options-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.form-inputs{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto}.form-buttons{-ms-flex-negative:0;flex-shrink:0}.column-name{-webkit-box-flex:1;-ms-flex:1;flex:1}.column-units{min-width:4.125rem;margin-left:1.125rem}.column-units-input{width:4.125rem}.precision-number{margin-right:.5625rem;margin-top:.15rem}.precision-type{list-style:none;padding-left:0;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0}.precision-scientific{margin-top:1em}.calc-wrapper{margin:.5em 0 0 1.5em}.calc-expression-wrapper{padding:.5625rem;border:1px solid #bdbebf;background-color:#e3e4e5;position:relative;overflow:auto}.calc-expression{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding-right:2em}.calc-expression>div{padding:0 .15rem}.calc-expression label{font-size:.65rem;display:block;margin:0;padding:.125em .25em;white-space:nowrap}.calc-expression input,.calc-expression select{display:inline-block}.calc-expression select{height:2.5rem;width:auto}.calc-expression-clear{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;position:absolute;overflow:hidden;display:block;top:0;right:0}.calc-expression-clear::-moz-focus-inner{border:0;padding:0}.calc-expression-clear *{pointer-events:none}.calc-expression-clear a,.calc-expression-clear button{pointer-events:auto}.calc-expression-clear:active{outline:0}.calc-expression-clear[disabled]{opacity:.2;cursor:default;pointer-events:none}.calc-expression-clear:active,.calc-expression-clear:hover{background-color:rgba(0,2,4,.1)}.calc-expression-clear:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.calc-expression-clear vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}.calc-expression-functions{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#e3e4e5;border-color:#bdbebf;color:#007377;background-color:#fff}.calc-expression-functions::-moz-focus-inner{border:0;padding:0}.calc-expression-functions *{pointer-events:none}.calc-expression-functions a,.calc-expression-functions button{pointer-events:auto}.calc-expression-functions:active{outline:0}.calc-expression-functions[disabled]{opacity:.2;cursor:default;pointer-events:none}.calc-expression-functions:active,.calc-expression-functions:hover{background-color:#fff;color:#005153}.calc-expression-functions:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.has-expression .calc-expression-clear{display:block}.has-expression .calc-expression-functions{display:none}.operator{-ms-flex-item-align:end;align-self:flex-end;white-space:nowrap;font-size:1.5rem}.operator sup{font-size:.75em;position:relative;top:-.65em}.coefficient-input{width:4.125rem}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}.bold{font-weight:700}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1.125rem;float:right}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn:hover{background-color:#005153}.btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.btn[disabled]{-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1)}.btn[disabled][disabled]{opacity:.2;cursor:default;pointer-events:none}.btn-tertiary{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:.5625rem}.btn-tertiary::-moz-focus-inner{border:0;padding:0}.btn-tertiary *{pointer-events:none}.btn-tertiary a,.btn-tertiary button{pointer-events:auto}.btn-tertiary:active{outline:0}.btn-tertiary[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn-tertiary:active,.btn-tertiary:hover{color:#373839;background-color:transparent}.btn-tertiary:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}</style> <vst-core-form on-submit=save> <form id=column_options_form name=column_options_form class=column-options-form> <div class=form-inputs> <section class=flex> <div class=column-name> <label class=bold for=column_name>[[getText(\'Name\')]]</label> <input type=text id=column_name required="" maxlength=1000 value={{name::input}} autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> </div> <div class=column-units> <label class=bold for=column_units>[[getText(\'Units\')]]</label> <template is=dom-if if=[[!unitsSelected]]> <input class=column-units-input type=text id=column_units maxlength=1000 value={{units::input}} disabled=[[unitsDisabled]] autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> </template> <template is=dom-if if=[[unitsSelected]]> <select id=column_units value={{units::input}} on-input=updateUnits> <template is=dom-repeat items=[[unitsOptions]] as=unitsOption> <option value=[[unitsOption]] selected=[[optionSelected(unitsOption,units)]]>[[unitsOption]]</option> </template> </select> </template> </div> </section> <section> <label class=bold for=precision_number>[[getText(\'Displayed Precision\')]]</label> <div class=flex> <div class=precision-number> <select id=precision_number class=num-input value={{precisionNumber::input}}> <template is=dom-repeat items=[[precisionNumberOptions]] as=precisionNumberOption> <option value=[[precisionNumberOption.value]] selected=[[optionSelected(precisionNumberOption.value,precisionNumber)]]>[[precisionNumberOption.text]]</option> </template> </select> </div> <ul class=precision-type> <li> <input type=radio id=decimal name=precision_type value=decimal on-change=updatePrecisionType checked="{{optionSelected(\'decimal\',precisionType)}}"> <label for=decimal>[[getText(\'Decimal Places\')]]</label> </li> <li> <input type=radio id=sig_fig name=precision_type value=sigFig on-change=updatePrecisionType checked="{{optionSelected(\'sigFig\',precisionType)}}" disabled=[[significantFiguresDisabled]]> <label for=sig_fig>[[getText(\'Significant Figures\')]]</label> </li> </ul> </div> <div class=precision-scientific> <input type=checkbox id=scientific_notation name=scientific_notation checked={{scientificNotation::change}} on-change=updateScientificNotation> <label for=scientific_notation>[[getText(\'Use Scientific Notation\')]]</label> </div> </section> <template is=dom-if if=[[showCalcOptions]]> <section id=column_type> <legend class=bold>[[getText(\'Expression\')]]</legend> <div class=calc-expression-wrapper id=calc_expression_wrapper> <div class=calc-expression id=calc_expression></div> <template is=dom-if if=[[!calcExpression]]> <button class=calc-expression-functions id=calc_expression_functions on-click=showFunctions type=button>[[getText(\'Insert Expression\')]]</button> </template> <template is=dom-if if=[[calcExpression]] restamp=true> <div class=calc-expression> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'unsupported\')]]"> \'[[calcExpression.equation]]\' [[getText(\'is not currently supported. Try another.\', \'general\', \'chosen expression is not currently supported\')]]\' </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AdotXpowB\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>*</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>^</div> <div> <label for=B>[[getText(\'Parameter B\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=B id=B type=number step=any value={{calcExpression.coefficients.B::input}} required=""> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AdivX\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>/</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AdivBaddX\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>/</div> <div class=operator>(</div> <div> <label for=B>[[getText(\'Parameter B\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=B id=B type=number step=any value={{calcExpression.coefficients.B::input}} required=""> </div> <div class=operator>+</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>)</div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AabsX\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>abs</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AlnX\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>ln</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AdivXpowB\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>/</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>^</div> <div> <label for=B>[[getText(\'Parameter B\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=B id=B type=number step=any value={{calcExpression.coefficients.B::input}} required=""> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'XsubA\')]]"> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>-</div> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AsubX\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>-</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'XaddA\')]]"> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>+</div> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'XdotY\')]]"> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>*</div> <div> <label for=Y>[[getText(\'Column Y\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Y value={{calcExpression.dependentGroups.Y::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Y)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'XsubY\')]]"> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>-</div> <div> <label for=Y>[[getText(\'Column Y\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Y value={{calcExpression.dependentGroups.Y::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Y)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'derivative\')]]"> <div class=operator>[[getText(\'1st Derivative\')]]</div> <div class=operator>(</div> <div> <label for=Y>[[getText(\'Column Y\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Y value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>,</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.Y::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Y)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>)</div> </template> <template is=dom-if if="{{optionSelected(calcExpression.equation,\'secondDerivative\')}}"> <div class=operator>[[getText(\'2nd derivative\')]]</div> <div class=operator>(</div> <div> <label for=Y>[[getText(\'Column Y\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Y value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>,</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.Y::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Y)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>)</div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'derivativeTimeShift\')]]"> <div class=operator>[[getText(\'1st Derivative Time Shift\')]]</div> <div class=operator>(</div> <div> <label for=Y>[[getText(\'Column Y\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Y value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>,</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.Y::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Y)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>)</div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'secondDerivativeTimeShift\')]]"> <div class=operator>[[getText(\'2nd Derivative Time Shift\')]]</div> <div class=operator>(</div> <div> <label for=Y>[[getText(\'Column Y\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Y value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>,</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.Y::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Y)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>)</div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'stepColumnBased\')]]"> [[getText(\'This column was automatically generated and cannot be changed\')]] </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'log\')]]"> <div class=operator>log</div> <div class=operator>(</div> <div class=operator>100</div> <div class=operator>/</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator>)</div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AsublogX\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>-</div> <div class=operator>log</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'AlogX\')]]"> <div> <label for=A>[[getText(\'Parameter A\', \'general\', \'Part of Calculated Column definitions\')]]</label> <input disabled=[[calcExpressionDisabled]] class=coefficient-input placeholder=A id=A type=number step=any value={{calcExpression.coefficients.A::input}} required=""> </div> <div class=operator>log</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> </template> <template is=dom-if if="[[optionSelected(calcExpression.equation,\'sqrtXXaddYYaddZZ\')]]"> <div class=operator>\u221A(</div> <div> <label for=X>[[getText(\'Column X\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=X value={{calcExpression.dependentGroups.X::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.X)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator><sup>2</sup> + </div> <div> <label for=Y>[[getText(\'Column Y\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Y value={{calcExpression.dependentGroups.Y::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Y)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator><sup>2</sup> + </div> <div> <label for=Z>[[getText(\'Column Z\', \'general\', \'Part of Calculated Column definitions\')]]</label> <select disabled=[[calcExpressionDisabled]] class=dependent-group-input id=Z value={{calcExpression.dependentGroups.Z::input}} required=""> <template is=dom-repeat items=[[calcSourceGroups]] as=sourceGroupOption> <option value=[[sourceGroupOption.id]] selected=[[optionSelected(sourceGroupOption.id,calcExpression.dependentGroups.Z)]]>[[sourceGroupOption.name]]</option> </template> </select> </div> <div class=operator><sup>2</sup>)</div> </template> </div> <template is=dom-if if=[[!calcExpressionDisabled]]> <button class=calc-expression-clear on-click=clearExpression type=button title="[[getText(\'Clear\')]]"><vst-core-icon class=icon-close icon=icon-close></vst-core-icon></button> </template> </template> </div> </section> </template> </div> <div class=form-buttons> <button id=submit_button class=btn type=submit>[[getText(\'Apply\')]]</button> <button id=cancel_button class="btn btn-tertiary" type=button on-click=cancel>[[getText(\'Cancel\')]]</button> </div> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(289)},function(module,__webpack_exports__,__webpack_require__){'use strict';var _NumberisNaN=Number.isNaN;Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_corelib_services__=__webpack_require__(2);const priv=Symbol('priv');class VstCoreColumnGroupOptions extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-column-group-options'}static get properties(){return{name:String,units:String,unitsDisabled:{type:Boolean,value:!1},unitsSelected:{type:Boolean,value:!1},unitsOptions:{type:Array,value:()=>{return[]}},precisionNumber:String,precisionType:{type:String,value:'decimal'},significantFiguresDisabled:{type:Boolean,value:!1},scientificNotation:Boolean,precisionNumberOptions:{type:Array,value:()=>{return[]}},showCalcOptions:{type:Boolean,value:!1},calcExpressionDisabled:{type:Boolean,value:!0},defaultCalcSourceGroups:{type:Object,value:()=>{return{X:'',Y:''}}},calcSourceGroups:{type:Array,value:()=>{return[]}},calcExpression:{type:Object,value:()=>{return null}},calcExpressionOptions:{type:Object,readonly:!0,value:()=>{return{AdotXpowB:{dependentGroups:{X:''},coefficients:{A:'1',B:'2'}},AdivX:{dependentGroups:{X:''},coefficients:{A:'1'}},AdivBaddX:{dependentGroups:{X:''},coefficients:{A:'1',B:'1'}},AabsX:{dependentGroups:{X:''},coefficients:{A:'1'}},AlnX:{dependentGroups:{X:''},coefficients:{A:'1'}},AlogX:{dependentGroups:{X:''},coefficients:{A:'1'}},AdivXpowB:{dependentGroups:{X:''},coefficients:{A:'1',B:'2'}},XsubA:{dependentGroups:{X:''},coefficients:{A:'1'}},AsubX:{dependentGroups:{X:''},coefficients:{A:'1'}},XaddA:{dependentGroups:{X:''},coefficients:{A:'1'}},XdotY:{dependentGroups:{X:'',Y:''}},XsubY:{dependentGroups:{X:'',Y:''}},derivative:{dependentGroups:{Y:'',X:''}},secondDerivative:{dependentGroups:{Y:'',X:''}},derivativeTimeShift:{dependentGroups:{Y:'',X:''}},secondDerivativeTimeShift:{dependentGroups:{Y:'',X:''}},stepColumnBased:{dependentGroups:{Y:'',X:''}},log:{dependentGroups:{X:''}},AsublogX:{dependentGroups:{X:''},coefficients:{A:'1'}},sqrtXXaddYYaddZZ:{dependentGroups:{X:'',Y:'',Z:''}}}}}}}controllerReady(){this[priv]={currentDefaultCalcSources:{},popoverManager:__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('popover-manager'),submitButtonEl:this.shadowRoot.querySelector('#submit_button')};this.validate()}updateUnits(){setTimeout(()=>this.dispatchEvent(new CustomEvent('update-units')))}save(){this.dispatchEvent(new CustomEvent('save'))}cancel(){this.dispatchEvent(new CustomEvent('cancel'))}showFunctions(evt){this.dispatchEvent(new CustomEvent('show-functions',{detail:{anchor:evt.target,orientation:'top'}}))}clearExpression(){this.set('calcExpression',null);this.validate()}updatePrecisionType(e){if(e.target.checked){this.precisionType=e.target.value;this.dispatchEvent(new CustomEvent('update-precision-type'))}}updateScientificNotation(){setTimeout(()=>{this.dispatchEvent(new CustomEvent('update-scientific-notation'))})}optionSelected(target,selection){const t=+target,s=+selection;if(!_NumberisNaN(t)&&!_NumberisNaN(s)){return t===s}return target===selection}validate(){const submitButtonEl=this[priv].submitButtonEl;submitButtonEl.disabled=this.showCalcOptions&&!this.calcExpression}setCalcExpression(calcExpressionType){const selected=this.calcExpressionOptions[calcExpressionType],calcExpression=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.cloneDeep(selected);calcExpression.equation=calcExpressionType;const currentDefaults=this.defaultCalcSourceGroups;Object.keys(calcExpression.dependentGroups).forEach(key=>{calcExpression.dependentGroups[key]=currentDefaults[key]});this.set('calcExpression',calcExpression);this.validate()}}customElements.define(VstCoreColumnGroupOptions.is,VstCoreColumnGroupOptions)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-data-collection-settings> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}@media (min-width:42em){:host{width:36.875rem}}fieldset{padding:0}label{margin:0}[type=checkbox]+label{display:inline-block}select{height:2.5em;border-radius:0}section{margin-bottom:1.5em}.collection-settings-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-height:calc(100vh - 3.125rem - 3.125rem - var(--chrome-menubar-height,0px));-webkit-transition:all .6s cubic-bezier(.4,0,.2,1);transition:all .6s cubic-bezier(.4,0,.2,1);margin:-1.125rem}.fieldset-primary{background:#787a7c;color:#fff;padding:1.125rem;margin:0;-ms-flex-negative:0;flex-shrink:0}.fieldset-secondary{border:0;padding:1.125rem 1.125rem 0;display:block;-webkit-box-flex:1;-ms-flex:1;flex:1;overflow-x:hidden;overflow-y:auto}.fieldset-secondary[disabled]{display:none}.action-btns{padding:1.125rem;-ms-flex-negative:0;flex-shrink:0}.action-btns__btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;float:right}.action-btns__btn::-moz-focus-inner{border:0;padding:0}.action-btns__btn *{pointer-events:none}.action-btns__btn a,.action-btns__btn button{pointer-events:auto}.action-btns__btn:active{outline:0}.action-btns__btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.action-btns__btn:hover{background-color:#005153}.action-btns__btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.action-btns__btn--cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:.5625rem}.action-btns__btn--cancel::-moz-focus-inner{border:0;padding:0}.action-btns__btn--cancel *{pointer-events:none}.action-btns__btn--cancel a,.action-btns__btn--cancel button{pointer-events:auto}.action-btns__btn--cancel:active{outline:0}.action-btns__btn--cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.action-btns__btn--cancel:active,.action-btns__btn--cancel:hover{color:#373839;background-color:transparent}.action-btns__btn--cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.row{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 -.28125rem .25rem;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media (min-width:42em){.row{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}}@media (min-width:42em){[class*=col-]{margin:0 .5625rem 0 .1875rem}}@media (min-width:42em) and (min-width:42em){.col-2{-ms-flex-preferred-size:calc(16.66667% - .5625rem);flex-basis:calc(16.66667% - .5625rem)}}@media (min-width:42em) and (min-width:42em){.col-3{-ms-flex-preferred-size:calc(25% - .5625rem);flex-basis:calc(25% - .5625rem)}}@media (min-width:42em) and (min-width:42em){.col-4{-ms-flex-preferred-size:calc(33.33333% - .5625rem);flex-basis:calc(33.33333% - .5625rem)}}@media (min-width:42em) and (min-width:42em){.col-5{-ms-flex-preferred-size:calc(41.66667% - .5625rem);flex-basis:calc(41.66667% - .5625rem)}}@media (min-width:42em) and (min-width:42em){.col-6{-ms-flex-preferred-size:calc(50% - .5625rem);flex-basis:calc(50% - .5625rem)}}@media (min-width:42em) and (min-width:42em){.col-7{-ms-flex-preferred-size:calc(58.33333% - .5625rem);flex-basis:calc(58.33333% - .5625rem)}}@media (min-width:42em) and (min-width:42em){.col-8{-ms-flex-preferred-size:calc(66.66667% - .5625rem);flex-basis:calc(66.66667% - .5625rem)}}@media (min-width:42em){.offset-1{margin-left:calc(8.33333% + .1875rem)}.offset-2{margin-left:calc(16.66667% + .1875rem)}.offset-3{margin-left:calc(25% + .1875rem)}.offset-4{margin-left:calc(33.33333% + .1875rem)}}.rate-interval label{display:block}.time-based-continuous-collection-input{width:calc(100% - 30px)}.time-based-duration-row{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}@media (min-width:42em){.finite-collection-radio{margin-top:-.75rem}}.total-samples{margin:1.5em 0 0 0}.total-samples>.row{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.rate-interval .row:first-child label{position:relative}@media (min-width:42em){.rate-interval .row:first-child label::after{display:block;content:\'\';width:1.5rem;height:1.5rem;background:url(\'./elements/core/vst-core-icon/icons/icon-link-material.svg\') no-repeat 50% 50%;background-size:cover;position:absolute;opacity:.4;top:1.5rem;right:.3125rem}}.error,.warn{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text;display:block}.warn{color:#f79b2e}.error{color:#d22630}.triggering-fieldset{margin:1em 0 0 1.5em}.triggering-sensors{list-style:none;padding-left:0;margin-top:0;margin-bottom:.5em}.triggering-slope{width:auto;display:inline-block}.text-right{text-align:right}.align-top{-ms-flex-item-align:start;align-self:flex-start}.inline-block{display:inline-block}.align-start{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.bold{font-weight:700}.quiet{color:#787a7c}.w240{width:15rem}.w115{width:7.1875rem}.w95{width:5.9375rem}.w75{width:4.6875rem}.w65{width:4.0625rem}.margin-bottom-0{margin-bottom:0}.inline-block{display:inline-block}@media (min-width:42em){.split-input{display:-webkit-box;display:-ms-flexbox;display:flex}}.split-input__input{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-bottom:1.125rem}.radio-block{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.radio-block input[type=radio]{margin:.175rem .375em 0 0}.radio-block input[type=checkbox]{margin:.25rem .375em 0 0}.photogate-modes__list{list-style:none;padding-left:0;margin:0}.photogate-modes__list-item{margin-bottom:.5rem}.photogate-modes__mode-body{position:relative;background:#e3e4e5;padding:1.125rem;margin-top:.5rem;margin-bottom:1.5rem;margin-left:1.5rem}.photogate-modes__info-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;float:right;margin-left:.5rem;width:1.125rem;height:1.125rem;background:0 0;padding:0;border:0}.photogate-modes__info-btn::-moz-focus-inner{border:0;padding:0}.photogate-modes__info-btn *{pointer-events:none}.photogate-modes__info-btn a,.photogate-modes__info-btn button{pointer-events:auto}.photogate-modes__info-btn:active{outline:0}.photogate-modes__label{margin-bottom:.25rem}.photogate-linear-motion-accessory{width:auto;margin-bottom:1rem}.helper-text{font-size:.75em;padding:1em;margin:0 0 1rem 0;background:#fff;display:none}.helper-text--visible{display:block}.helper-text__figure{position:relative;text-align:center;margin:0}.helper-text__figure-img{max-width:100%;height:auto}.helper-text__figure-img--angular-wheel{margin-top:.5rem;width:7rem}.helper-text p{margin:0 0 1rem 0}.helper-text p:last-of-type{margin:0}.graphic-linear{margin-bottom:1rem;text-align:center;display:grid;grid-template-columns:15% 20% 20% 5% 1% 39%;grid-template-rows:repeat(4,auto);grid-template-areas:"flag_num1 flag_num1 flag_num1 . flag_num2 flag_num2" "bar_img bar_img bar_img bar_img . wheel_img" "arrow_top_right top_spacing arrow_top_left . . wheel_spacing"}.graphic-linear__flag-num1,.graphic-linear__flag-num2{color:red;padding:.5rem 0}.graphic-linear__flag-num1{grid-area:flag_num1}.graphic-linear__flag-num2{grid-area:flag_num2}.graphic-linear__top-spacing{grid-area:top_spacing;color:#00f}.graphic-linear__bar-img{grid-area:bar_img}.graphic-linear__wheel-img{grid-area:wheel_img;padding:0 25%}.graphic-linear__arrow-top-right{grid-area:arrow_top_right;justify-self:end}.graphic-linear__arrow-top-right img{width:2rem}.graphic-linear__arrow-top-left{grid-area:arrow_top_left;justify-self:start}.graphic-linear__arrow-top-left img{width:2rem}.graphic-linear__wheel-spacing{grid-area:wheel_spacing;color:#00f}.graphic-speed{margin:1rem 0;text-align:center;display:grid;grid-template-columns:11% 11% 11% 5.5% 11% 11% 11% 11% 11% 5.5%;grid-template-rows:repeat(4,auto);grid-template-areas:"owt owt owt fwt fwt fwt fwt fwt fwt fwt" "oar . oal . . fal . far . ." ". cir . f1 f2 f3 f4 f5 f6 f7" "ft ft ft . ft1 . ft2 . ft3 ."}.graphic-speed__owt{grid-area:owt;color:red;padding:.25em 0}.graphic-speed__fwt{grid-area:fwt;color:red;padding:.25em 0}.graphic-speed__oar{grid-area:oar}.graphic-speed__oal{grid-area:oal}.graphic-speed__fal{grid-area:fal}.graphic-speed__far{grid-area:far}.graphic-speed__cir{grid-area:cir}.graphic-speed__cir>div{background:#e3e4e5;width:100%;height:0;padding-bottom:calc(100% - 6px);border:3px solid #000;border-radius:100%}.graphic-speed__f1{grid-area:f1;height:4rem;border:solid 1px #000}.graphic-speed__f2{grid-area:f2;background-color:#000}.graphic-speed__f3{grid-area:f3;border:solid 1px #000}.graphic-speed__f4{grid-area:f4;background-color:#000}.graphic-speed__f5{grid-area:f5;border:solid 1px #000}.graphic-speed__f6{grid-area:f6;background-color:#000}.graphic-speed__f7{grid-area:f7;border:solid 1px #000}.graphic-speed__ft{grid-area:ft;text-align:right;color:#00f;padding:.25em 0}.graphic-speed__ft1{grid-area:ft1;text-align:left;color:#00f;padding:.25em 0}.graphic-speed__ft2{grid-area:ft2;text-align:left;color:#00f;padding:.25em 0}.graphic-speed__ft3{grid-area:ft3;text-align:left;color:#00f;padding:.25em 0}.graphic-projectile{margin:1rem 0 0;display:grid;grid-template-columns:23% 77% 0;grid-template-rows:repeat(2,auto);grid-template-areas:"left-pad distance right-pad" "main-img main-img main-img"}.graphic-projectile--ball{grid-template-columns:8% 67% 25%}.graphic-projectile__left-pad{grid-area:left-pad}.graphic-projectile__right-pad{grid-area:right-pad}.graphic-projectile__distance{grid-area:distance;text-align:center;color:#00f;padding:0 0 .125em 0}.graphic-projectile__main-img{grid-area:main-img}.graphic-gate-separation{padding:1rem;display:grid;grid-template-columns:30% 10% 45% 10% 5%;grid-template-rows:repeat(2,auto);grid-template-areas:"pic pic pic pic pic" ". la gate_sep ra ."}.graphic-gate-separation__pic{grid-area:pic}.graphic-gate-separation__la{grid-area:la;justify-self:end}.graphic-gate-separation__ra{grid-area:ra;justify-self:start}.graphic-gate-separation__gate-sep{grid-area:gate_sep;text-align:center;color:#00f}</style> <vst-core-form on-submit=submitForm> <form id=collection_settings_form class=collection-settings-form disabled$=[[_formDisabled]]> <fieldset class=fieldset-primary id=fieldset_mode> <div class="row margin-bottom-0"> <label for=collection_mode class="col-4 text-right bold">[[getText(\'Mode\')]]</label> <select class=col-5 name=collection_mode id=collection_mode on-change=_changeCollectionMode> <option value=time-based>[[getText(\'Time Based\')]]</option> <option value=event-based>[[getText(\'Event Based\')]]</option> <option value=drop-counting>[[getText(\'Drop Counting\')]]</option> <option value=photogate-timing>Photogate Timing</option> </select> </div> </fieldset> <fieldset class=fieldset-secondary id=fieldset_mode_time_based> <section> <div class=row> <label for=time_based_units class="col-4 text-right bold">[[getText(\'Time Units\')]]</label> <div class=col-8> <select class=w75 name=time_based_units id=time_based_units on-change=_changeTimeBasedUnits> <option value=ms>[[getText(\'ms\')]]</option> <option value=s selected="">[[getText(\'s\')]]</option> <option value=min>[[getText(\'min\')]]</option> <option value=h>[[getText(\'h\')]]</option> </select> </div> </div> </section> <section class=rate-interval> <div class=row> <div class=col-4> <label for=time_based_rate class="text-right bold">[[getText(\'Rate\')]]</label> </div> <div class=col-8> <input class="w115 inline-block" type=number name=time_based_rate id=time_based_rate value="" step=any on-input=_rateInput required="" min=0.0000000000000001> <span class=label-suffix><span>[[getText(\'samples\')]]</span>/<span class=time-unit>[[timeBasedConfig.units]]</span></span> </div> </div> <div class=row> <div class=col-4> <label for=time_based_interval class="text-right bold">[[getText(\'Interval\')]]</label> </div> <div class=col-8> <input class="w115 inline-block" type=number name=time_based_interval id=time_based_interval value="" step=any on-input=_intervalInput required="" min=0> <span class=label-suffix><span>[[timeBasedConfig.units]]</span>/<span class=time-unit>[[getText(\'sample\')]]</span></span> </div> </div> </section> <section class=start-collection> <div class="row align-start"> <div class="col-4 text-right bold">[[getText(\'Start Collection\')]]</div> <div class=col-8> <div class=radio-block> <input class=radio type=radio id=triggering_disabled name=start_collection value=false on-change=_changeTriggeringEnabled checked=[[!timeBasedConfig.triggering.enabled]]> <label for=triggering_disabled>[[getText(\'Manually\')]]</label> </div> <div class=radio-block> <input class=radio disabled=[[!triggerableSensors.length]] type=radio id=triggering_enabled name=start_collection value=true on-change=_changeTriggeringEnabled checked=[[timeBasedConfig.triggering.enabled]]> <label for=triggering_enabled>[[getText(\'On a triggering event\')]]</label> </div> <fieldset id=triggering_fieldset class=triggering-fieldset hidden=[[!timeBasedConfig.triggering.enabled]]> <section> <span>[[getText(\'Start collection when\')]]</span><br> <ul class=triggering-sensors id=triggering_sensors> <template is=dom-repeat items=[[triggerableSensors]] as=sensor> <li class=radio-block> <input type=radio name=triggering_sensor value=[[sensor.id]] id$=sensor_[[sensor.id]] on-change=updateTriggeringSensor checked=[[_isTriggeringSensor(sensor.id)]]> <label for$=sensor_[[sensor.id]]>[[sensor.name]]</label> </li> </template> </ul> <label for=triggering_slope>[[getText(\'is\')]]</label> <select class=triggering-slope id=triggering_slope name=triggering_slope on-change=_changeTriggeringSlope> <option value=1>[[getText(\'increasing\')]]</option> <option value=-1>[[getText(\'decreasing\')]]</option> </select> <label for=triggering_threshold class=col-7> <span>[[getText(\'across\')]]</span> <input type=number step=any name=triggering_threshold id=triggering_threshold value={{timeBasedConfig.triggering.threshold::input}} class="w75 inline-block"> <span id=triggering_sensor_units></span> </label> </section> <section> <label for=triggering_prestore> [[getText(\'Collect\')]] <input type=number class="inline-block w75" value={{timeBasedConfig.triggering.prestore::input}} step=1 min=0 id=triggering_prestore on-change={{setTotalSamples}}> [[getText(\'points before trigger\')]] </label> </section> </fieldset> </div> </div> </section> <section id=time_based_duration_wrapper class=margin-bottom-0> <div class="row time-based-duration-row"> <div class="col-4 text-right bold">[[getText(\'End Collection\')]]</div> <div class=col-8> <div class="end-collection-radio finite-collection-radio flex-v-centered"> <input class=radio type=radio name=time_based_collection value=false id=time_based_finite_duration on-change=_changeContinuousCollection checked=[[!timeBasedConfig.continuous]]> <label for=time_based_finite_duration> <span>[[getText(\'After\')]]</span> <input class="inline-block w75" type=number name=time_based_duration id=time_based_duration step=any value={{timeBasedConfig.duration::input}} min=0 disabled$=[[timeBasedConfig.continuous]] required$=[[!timeBasedConfig.continuous]]> <span class=time-unit>[[timeBasedConfig.units]]</span> <span>[[getText(\'duration\')]]</span> </label> </div> <div class="end-collection-radio radio-block"> <input class="radio time-based-continuous-collection-input" type=radio name=time_based_collection value=true id=time_based_continuous_collection on-change=_changeContinuousCollection checked=[[timeBasedConfig.continuous]]> <label for=time_based_continuous_collection>[[getText(\'Manually\')]]</label> </div> <div class=warn id=warning_duration_required>[[warningDurationRequired]]</div> </div> </div> </section> <section id=time_based_total_samples class=total-samples hidden=[[timeBasedConfig.continuous]]> <div class=row> <div class="col-4 text-right"><span>[[getText(\'Total samples\')]]</span>:</div> <div class=col-8> <span>[[timeBasedTotalSamples]]</span> <span class=warn id=warning_samples_threshold>[[warningSamplesThreshold]]</span> </div> </div> </section> </fieldset> <fieldset class=fieldset-secondary id=fieldset_mode_event_based> <section> <fieldset> <div class=row> <legend class="col-4 text-right bold align-top">[[getText(\'Event Mode\')]]</legend> <div class=col-8> <div class=radio-block> <input type=radio name=event_based_submode id=events_with_entry value=events-with-entry checked=""> <label class=text-right for=events_with_entry>[[getText(\'Events with Entry\')]]</label> </div> <div class=radio-block> <input type=radio name=event_based_submode id=selected_events value=selected-events> <label class=text-right for=selected_events>[[getText(\'Selected Events\')]]</label> </div> </div> </div> </fieldset> </section> <section> <div class=row> <label class="col-4 text-right bold" for=events_column_name>[[getText(\'Event Name\')]]</label> <input class="col-5 w240" type=text value={{eventConfig.name::input}} name=events_column_name id=events_column_name autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> </div> <div class=row> <label class="col-4 text-right bold" for=events_column_units>[[getText(\'Units\')]]</label> <input class="col-3 w115" type=text value={{eventConfig.units::input}} name=events_column_units id=events_column_units autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> </div> </section> <section> <div class=row> <template is=dom-if if=[[hasRadiationMonitor]]> <label class="col-4 text-right bold" for=events_count_interval>[[getText(\'Count Interval\')]]</label> <div class=col-5> <input class="w65 inline-block" type=number min=1 step=1 name=events_count_interval id=events_count_interval value={{eventConfig.accumulate::input}}> <span>[[getText(\'seconds\')]]</span> </div> </template> <template is=dom-if if=[[!hasRadiationMonitor]]> <div class="col-8 offset-4"> <div class=radio-block> <input type=checkbox name=events_average_ten_seconds id=events_average_ten_seconds checked={{eventConfig.average::change}}> <label for=events_average_ten_seconds>[[getText(\'Average sensor reading over 10 seconds\')]]</label> </div> </div> </template> </div> </section> </fieldset> <fieldset class=fieldset-secondary id=fieldset_mode_drop_counting> <section> <fieldset> <div class=row> <p>[[getText(\'Take reading from a sensor (e.g.\\, pH\\, conductivity) on every drop.\')]]</p> </div> </fieldset> </section> </fieldset> <fieldset class=fieldset-secondary id=fieldset_mode_full_spectrum> <section> <fieldset> <div class=row> <p>Take data across a full spectrum.</p> </div> </fieldset> </section> </fieldset> <fieldset class="fieldset-secondary photogate-modes" id=fieldset_mode_photogate_timing> <div class=row> <legend class="col-4 text-right bold align-top">[[getText(\'Measurement\')]]</legend> <div class=col-8> <ul class=photogate-modes__list> <li class=photogate-modes__list-item> <div class=radio-block> <input checked="" type=radio on-change=_changePhotogateMode name=photogate_submode id=photogate_submode_speed_through_gate value=speed_through_gate> <label for=photogate_submode_speed_through_gate>[[getText(\'Speed through Gate\')]]</label> </div> <fieldset class="photogate-modes__mode-body fieldset-secondary" id=photogate_submode_speed_through_gate__content> <button class=photogate-modes__info-btn type=button data-photogate-submode=speed_through_gate on-click=showHelperText><vst-core-icon icon=icon-information-outline-20x20></vst-core-icon></button> <ul class=photogate-modes__list> <li> <div class=radio-block style=margin-bottom:.5rem> <input checked=[[!_photogateIsPulseTiming]] on-change=_changePhotogateIsPulseTiming type=radio name=photogate_speed__speed_calculation id=photogate_speed__speed_calculation_gate value=gate> <label for=photogate_speed__speed_calculation_gate>[[getText(\'Use object / flag width\')]] ([[getText(\'Gate timing\')]])</label> </div> <fieldset disabled$=[[_photogateIsPulseTiming]] style=margin-left:1.25rem> <div class=split-input> <div class=split-input__input> <label> <span>[[getText(\'Flag Width\')]]</span> <div> <input class="w75 inline-block" type=number value={{photogateConfig.speedThroughGate.flagWidth::input}} min=0.00001 step=any required=""> <span class=inline-block>m</span> </div> </label> </div> <div class=split-input__input> <label>[[getText(\'Number of flags\')]] <input class=w65 type=number value={{photogateConfig.speedThroughGate.numberOfFlags::input}} min=1 max=100000 step=1 required=""> </label> </div> </div> </fieldset> <div class=helper-text> <p>[[getText(\'The Object/Flag Width is divided by the time the photogate is blocked (Blocked-Gate Duration) to determine the object\\\u2019s speed through the gate.\')]]</p> <p>[[getText(\'Enter the number of flags that will break the beam as the object passes through the gate. This setting assumes all flags are the same width.\')]]</p> <figure class=helper-text__figure> <div class=graphic-speed> <div class=graphic-speed__owt>[[getText(\'Object Width\')]]</div> <div class=graphic-speed__fwt>[[getText(\'Flag Width\')]]</div> <div class=graphic-speed__oar><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-right.svg></div> <div class=graphic-speed__oal><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-left.svg></div> <div class=graphic-speed__fal><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-right.svg></div> <div class=graphic-speed__far><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-left.svg></div> <div class=graphic-speed__cir><div class=circle></div></div> <div class=graphic-speed__f1></div> <div class=graphic-speed__f2></div> <div class=graphic-speed__f3></div> <div class=graphic-speed__f4></div> <div class=graphic-speed__f5></div> <div class=graphic-speed__f6></div> <div class=graphic-speed__f7></div> <div class=graphic-speed__ft>[[getText(\'Flags\')]]:</div> <div class=graphic-speed__ft1>1</div> <div class=graphic-speed__ft2>2</div> <div class=graphic-speed__ft3>3</div> </div> </figure> </div> </li> <li> <div class=radio-block style=margin-bottom:.5rem> <input checked=[[_photogateIsPulseTiming]] on-change=_changePhotogateIsPulseTiming type=radio name=photogate_speed__speed_calculation id=photogate_speed__speed_calculation_pulse value=pulse> <label for=photogate_speed__speed_calculation_pulse>[[getText(\'Use gate separation\')]] ([[getText(\'Pulse timing\')]])</label> </div> <fieldset disabled$=[[!_photogateIsPulseTiming]] style=margin-left:1.25rem> <label> <span>[[getText(\'Distance between gates\')]]</span> <div> <input class="w75 inline-block" type=number value={{photogateConfig.speedThroughGate.gateSeparationWidth::input}} min=0.00001 step=any required=""> <span class=inline-block>m</span> </div> </label> </fieldset> </li> </ul> <div class=helper-text> <p>[[getText(\'When using two photogates\\, you can use the distance between gates instead of the Object / Flag Width to calculate speed. The reported speed would be the speed between the two gates.\')]]</p> <figure class=helper-text__figure> <div class=graphic-gate-separation> <div class=graphic-gate-separation__pic><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-speed-separation.svg></div> <div class=graphic-gate-separation__la><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-left.svg></div> <div class=graphic-gate-separation__gate-sep>[[getText(\'Gate Separation\')]]</div> <div class=graphic-gate-separation__ra><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-right.svg></div> </div> </figure> </div> <div hidden=""> <label class=radio-block> <input checked={{photogateConfig.speedThroughGate.showMidTime::change}} type=checkbox name=photogate_mid_time_through_gate> <span>[[getText(\'Show mid-time through gate\')]]</span> </label> <p class=helper-text>[[getText(\'Use this option to investigate speed with respect to time. The reported time is the midpoint time between the time the gate is blocked and the time the gate becomes unblocked.\')]]</p> </div> </fieldset> </li> <li class=photogate-modes__list-item> <div class=radio-block> <input type=radio on-change=_changePhotogateMode name=photogate_submode id=photogate_submode_linear_motion value=linear_motion> <label for=photogate_submode_linear_motion>[[getText(\'Linear Motion\')]] <span class=quiet>[[getText(\'(distance\\, velocity\\, acceleration)\')]]</span></label> </div> <fieldset class="photogate-modes__mode-body fieldset-secondary" id=photogate_submode_linear_motion__content disabled=""> <button class=photogate-modes__info-btn data-photogate-submode=linear_motion on-click=showHelperText type=button><vst-core-icon icon=icon-information-outline-20x20></vst-core-icon></button> <label for=photogate_linear_motion__accessory>[[getText(\'Object\')]]</label> <select class=photogate-linear-motion-accessory on-change=_changePhotogateLinearMotionAccessory name=accessory id=photogate_linear_motion__accessory> <option value=vernier_picket_fence>[[getText(\'Vernier Picket Fence\')]]</option> <option value=cart_picket_fence>[[getText(\'Cart Picket Fence\')]]</option> <option value=ultra_pulley_in_groove>[[getText(\'Ultra Pulley - in groove\')]]</option> <option value=ultra_pulley_outside_edge>[[getText(\'Ultra Pulley - outside edge\')]]</option> <option value=bar_tape>[[getText(\'Bar Tape\')]]</option> <option value=user_defined>[[getText(\'Other / User Defined\')]]</option> </select> <div class=split-input> <div class=split-input__input> <label> <span>[[getText(\'Spacing\')]]</span> <div> <input id=linear_motion_spacing_input disabled$=[[!_photogateAccessoryIsUserDefined]] class="w75 inline-block" type=number min=0.00001 step=any value={{photogateConfig.linearMotion.spacing::input}} required=""> <span class=inline-block>m</span> </div> </label> </div> <div class=split-input__input> <label> <div>[[getText(\'Number of flags\')]]</div> <input id=linear_motion_number_of_flags_input disabled$=[[!_photogateAccessoryIsUserDefinedOrBarTape]] class=w75 type=number value={{photogateConfig.linearMotion.numberOfFlags::input}} min=1 max=100000 step=1 required=""> </label> </div> </div> <div class=helper-text> <p>[[getText(\'Multiple\\, uniformly-spaced flags on a object are used to determine position as the object passes through the photogate. The first blocked event determines the zero position. Subsequent blocked events increase the position by the spacing value. Velocity and acceleration data are calculated using first- and second- derivatives of position with respect to time.\')]]</p> <p>[[getText(\'For Vernier objects, the spacing and flag number are shown for the selected object. For Bar Tape\\, enter the number of flags.\')]]</p> <figure class=helper-text__figure> <div class=graphic-linear> <div class=graphic-linear__flag-num1>[[getText(\'Flags\')]]: 3</div> <div class=graphic-linear__flag-num2>[[getText(\'Flags\')]]: 3</div> <div class=graphic-linear__bar-img><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-bar.svg></div> <div class=graphic-linear__wheel-img><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-wheel.svg></div> <div class=graphic-linear__arrow-top-right><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-right.svg></div> <div class=graphic-linear__top-spacing>[[getText(\'Spacing\')]]</div> <div class=graphic-linear__arrow-top-left><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-arrow-left.svg></div> <div class=graphic-linear__wheel-spacing>[[getText(\'Spacing = Circumference / Number of Spokes\')]]</div> </div> </figure> <p>[[getText(\'Other/User Defined: Enter the spacing and flag number as shown above. If your object is a wheel\\, the spacing value would be the wheel\\\u2019s circumference divided by the number of spokes.\')]]</p> </div> <fieldset> <legend>[[getText(\'End data collection\')]]</legend> <ul class=photogate-modes__list> <li> <label class=radio-block> <input on-change=_changePhotogateLinearMotionEndCollection checked=[[photogateConfig.linearMotion.endAfterTrial]] type=radio name=photogate_linear_motion__end_collection value=after-each-trial id=linear_motion_end_each_trial> <span>[[getText(\'After set number of flags\')]]</span> </label> <div class=helper-text> <p>[[getText(\'Data Collection will automatically stop after all gates have the expected number of position measurements (same as number of flags). Starting collection again will start a new data set.\')]]</p> </div> </li> <li> <label class=radio-block> <input on-change=_changePhotogateLinearMotionEndCollection checked=[[!photogateConfig.linearMotion.endAfterTrial]] type=radio name=photogate_linear_motion__end_collection value=manually id=linear_motion_end_manually> <span>[[getText(\'Manually\')]]</span> </label> <div class=helper-text> <p>[[getText(\'Data collection will continue until you manually click or tap Stop. Position values will continue to increment by the spacing value until data collection stops.\')]]</p> </div> </li> </ul> </fieldset> </fieldset> </li> <li class=photogate-modes__list-item> <div class=radio-block> <input type=radio on-change=_changePhotogateMode name=photogate_submode id=photogate_submode_angular_motion value=angular_motion> <label for=photogate_submode_angular_motion>[[getText(\'Angular Motion\')]] <span class=quiet>[[getText(\'(distance\\, velocity\\, acceleration)\')]]</span></label> </div> <fieldset class="photogate-modes__mode-body fieldset-secondary" id=photogate_submode_angular_motion__content disabled=""> <button class=photogate-modes__info-btn data-photogate-submode=angular_motion on-click=showHelperText type=button><vst-core-icon icon=icon-information-outline-20x20></vst-core-icon></button> <div class=helper-text> <p>[[getText(\'Multiple\\, uniformly-spaced spokes on a wheel are used to determine the angular position of the wheel as it turns. The first blocked event determines the zero angle. Subsequent blocked events increase the angle by 2\u03C0/n radians\\, where n is the number of spokes on the wheel. Angular velocity and acceleration data are calculated using first- and second- derivatives of angle with respect to time.\')]]</p> </div> <div style=margin-bottom:1rem> <label> <div>[[getText(\'Number of spokes\')]]</div> <input class="w75 inline-block" type=number value={{photogateConfig.angularMotion.numberOfSpokes::input}} min=1 step=1 required=""> </label> <div class=helper-text> <p>[[getText(\'This number defines the fraction of a turn the angular position changes with each blocked event.\')]]</p> <figure class=helper-text__figure> <img class="helper-text__figure-img helper-text__figure-img--angular-wheel" src=elements/core/vst-core-data-collection-settings/pg-graphic-wheel.svg> <div class=helper-text__figure-caption>[[getText(\'Spokes:\')]] 3</div> </figure> </div> </div> <fieldset> <legend>[[getText(\'Angle units\')]]</legend> <ul class=photogate-modes__list> <li> <label class=radio-block> <input on-change=_changePhotogateAngleUnits checked$="[[_angleUnits(\'rad\')]]" type=radio name=photogate_angular_motion__units value=rad id=photogate_angular_motion__units_rad> <span>[[getText(\'Radians (rad)\')]]</span> </label> </li> <li> <label class=radio-block> <input on-change=_changePhotogateAngleUnits checked$="[[_angleUnits(\'rev\')]]" type=radio name=photogate_angular_motion__units value=rev id=photogate_angular_motion__units_rev> <span>[[getText(\'Revolutions (rev)\')]]</span> </label> </li> <li> <label class=radio-block> <input on-change=_changePhotogateAngleUnits checked$="[[_angleUnits(\'\xB0\')]]" type=radio name=photogate_angular_motion__units value=\xB0 id=photogate_angular_motion__units_\xB0> <span>[[getText(\'Degrees (\xB0)\')]]</span> </label> </li> </ul> <div class=helper-text> <p>[[getText(\'Select the desired units for reporting the angular position.\')]]</p> <p><b>2\u03C0</b> <i>[[getText(\'radians\')]]</i> = <b>1</b> <i>[[getText(\'revolution\')]]</i> = <b>360</b> <i>[[getText(\'degrees\')]] (\xB0)</i></p> </div> </fieldset> </fieldset> </li> <li class=photogate-modes__list-item> <div class=radio-block> <input type=radio on-change=_changePhotogateMode name=photogate_submode id=photogate_submode_timer value=timer> <label for=photogate_submode_timer>[[getText(\'Timer or Period\')]]</label> </div> <fieldset class="photogate-modes__mode-body fieldset-secondary" id=photogate_submode_timer__content disabled=""> <button class=photogate-modes__info-btn data-photogate-submode=timer on-click=showHelperText type=button><vst-core-icon icon=icon-information-outline-20x20></vst-core-icon></button> <fieldset> <legend>[[getText(\'Time measurements\')]]</legend> <div class=helper-text> <p>[[getText(\'Photogates can time objects that pass between gates or report the period of oscillation of a pendulum. The time between successive blocked events is reported as the interval time. When exactly two gates are used\\, both gates must be blocked before a value is reported.\')]]</p> <figure class=helper-text__figure> <img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-timer.svg> </figure> </div> <ul class=photogate-modes__list> <li> <label class=radio-block> <input on-change=_changePhotogateTimeMeasurements checked="[[_timeMeasurements(\'between-gates\')]]" type=radio name=photogate_timer__measurements value=between-gates id=photogate_timer__measurements_between_gates> <span>[[getText(\'Time between gates\')]]</span> </label> <div class=helper-text> <p>[[getText(\'The time between successive blocked events is reported as Interval.\')]]</p> </div> </li> <li> <label class=radio-block> <input on-change=_changePhotogateTimeMeasurements checked="[[_timeMeasurements(\'pendulum\')]]" type=radio name=photogate_timer__measurements value=pendulum id=photogate_timer__measurements_pendulum> <span>[[getText(\'Pendulum Period\')]]</span> </label> <div class=helper-text> <p>[[getText(\'When pendulum is selected\\, the time between every second blocked event is reported as the Period since a pendulum will block a gate three times as it completes a single swing.\')]]</p> </div> </li> </ul> </fieldset> </fieldset> </li> <li class=photogate-modes__list-item> <div class=radio-block> <input type=radio on-change=_changePhotogateMode name=photogate_submode id=photogate_submode_projectile value=projectile> <label for=photogate_submode_projectile>[[getText(\'Projectile Launcher\')]]</label> </div> <fieldset class="photogate-modes__mode-body fieldset-secondary" id=photogate_submode_projectile__content disabled=""> <button class=photogate-modes__info-btn data-photogate-submode=projectile on-click=showHelperText type=button><vst-core-icon icon=icon-information-outline-20x20></vst-core-icon></button> <fieldset> <legend>[[getText(\'Launch Speed\')]]</legend> <ul class=photogate-modes__list> <li> <label class=radio-block> <input on-change=_changePhotogateProjectileLaunchSpeed type=radio name=photogate_projectile__measurements value=gate-separation id=photogate_projectile__measurements_gate_separation checked$="[[_projectileLaunchSpeed(\'gate-separation\')]]"> <span>[[getText(\'Use gate separation\')]]</span> </label> <div class=helper-text> <p>[[getText(\'The launch speed is the average speed of the projectile as it passes between the two built-in gates.\')]]</p> <figure class=helper-text__figure> <div class=graphic-projectile> <div class=graphic-projectile__left-pad></div> <div class=graphic-projectile__distance>[[getText(\'Distance\')]]</div> <div class=graphic-projectile__right-pad></div> <div class=graphic-projectile__main-img><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-projectile-launcher.svg></div> </div> </figure> </div> </li> <li> <label class=radio-block> <input on-change=_changePhotogateProjectileLaunchSpeed type=radio name=photogate_projectile__measurements value=projectile-diameter id=photogate_projectile__measurements_projectile_diameter checked$="[[_projectileLaunchSpeed(\'projectile-diameter\')]]"> <span>[[getText(\'Use projectile diameter\')]]</span> </label> <div class=helper-text> <p>[[getText(\'The launch speed is the average speed of the projectile as it passes the first built-in gate.\')]]</p> <figure class=helper-text__figure> <div class="graphic-projectile graphic-projectile--ball"> <div class=graphic-projectile__left-pad></div> <div class=graphic-projectile__distance>[[getText(\'Diameter\')]]</div> <div class=graphic-projectile__right-pad></div> <div class=graphic-projectile__main-img><img class=helper-text__figure-img src=elements/core/vst-core-data-collection-settings/pg-graphic-projectile-launcher-ball.svg></div> </div> </figure> </div> </li> </ul> <div style="margin:1rem 0 1rem 1.25rem"> <label> <template is=dom-if if=[[_photogateProjectileIsGateSeparation]]> <div>[[getText(\'Distance\')]]</div> </template> <template is=dom-if if=[[!_photogateProjectileIsGateSeparation]]> <div>[[getText(\'Diameter\')]]</div> </template> <input class="w95 inline-block" type=number value={{photogateConfig.projectile.gateSeparationWidth::input}} step=any required=""> <span>m</span> </label> </div> <div class=radio-block> <input type=checkbox name=photogate_projectile__tof_pad id=photogate_projectile__tof_pad checked={{photogateConfig.projectile.timeOfFlightPad::change}}> <label for=photogate_projectile__tof_pad>[[getText(\'Use Time of Flight Pad\')]]</label> </div> <div class=helper-text> <p>[[getText(\'This feature requires a\')]] <a href=https://www.vernier.com/tof-vpl/ target=_blank>[[getText(\'Time of Flight Pad\')]]</a>, [[getText(\'an optional projectile launcher accessory\\, and is used to report the Time of Flight of the projectile.\')]]</p> </div> </fieldset> </fieldset> </li> </ul> </div> </div></fieldset> <div class=action-btns id=action_btns> <div> <div class=error id=error_no_sensors>[[errorNoSensors]]</div> </div> <button class=action-btns__btn type=submit id=submit_btn disabled$=[[_formDisabled]]>[[getText(\'Done\')]]</button> <button class="action-btns__btn action-btns__btn--cancel" on-click=cancelClicked type=button id=cancel_btn>[[getText(\'Cancel\')]]</button> </div> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(291)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__=__webpack_require__(11),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};class VstCoreDataCollectionSettings extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-data-collection-settings'}static get properties(){return{interfaces:{type:Array,value:()=>{return[]}},sensors:{type:Array,value:()=>{return[]}},triggerableSensors:{type:Array,value:()=>{return[]}},triggeringSensorId:{type:Number,value:-1},hasRadiationMonitor:{type:Boolean,value:!1},collectionMode:{type:String,value:'time-based'},timeBasedConfig:{type:Object,value:()=>{return{delta:1.23,duration:200,continuous:!1,units:'s',triggering:{enabled:!1,prestore:0,sensor:0,slope:1,threshold:1.23}}}},eventConfig:{type:Object,value:()=>{return{name:'Event',units:'',accumulate:0,average:!1}}},photogateConfig:{type:Object,value:()=>{return{measurementType:'speed-through-gate',speedThroughGate:{flagWidth:0.05,numberOfFlags:1,timingMode:'gate',gateSeparationWidth:0.02,showMidTime:!1},linearMotion:{accessory:'vernier_picket_fence',spacing:0.05,numberOfFlags:8,endAfterTrial:!0},angularMotion:{numberOfSpokes:10,angleUnits:'rad'},period:{timeMeasurements:'between-gates',useFirstEventAsTime0:!1},projectile:{type:'gate-separation',gateSeparationWidth:0.05,timeOfFlightPad:!1}}}},_photogateIsPulseTiming:{type:Boolean,computed:'_computedPhotogateIsPulseTiming(photogateConfig.speedThroughGate.timingMode)'},_photogateAccessoryIsUserDefined:{type:Boolean,computed:'_computedPhotogateAccessoryIsUserDefined(photogateConfig.linearMotion.accessory)'},_photogateAccessoryIsUserDefinedOrBarTape:{type:Boolean,computed:'_computedPhotogateAccessoryIsUserDefinedOrBarTape(photogateConfig.linearMotion.accessory)'},_photogateTimeMeasurementsIsTimeAtEachGate:{type:Boolean,computed:'_computedPhotogateTimeMeasurementsIsTimeAtEachGate(photogateConfig.period.timeMeasurements)'},_photogateProjectileIsGateSeparation:{type:Boolean,computed:'_computedPhotogateProjectileIsGateSeparation(photogateConfig.projectile.type)'},_formDisabled:{type:Boolean,value:!1}}}static get observers(){return['_timeBasedUnitsChanged(timeBasedConfig.units)','_timeBasedDurationChanged(timeBasedConfig.duration)','_timeBasedPrestoreChanged(timeBasedConfig.triggering.prestore)','_eventsUseAverageChanged(eventConfig.average)']}connectedCallback(){super.connectedCallback();this.samplesCautionThreshold=15000;this.maxInterfaceRate={ms:100,s:100000,min:600000,h:36000000};this.maxContinuousRate=200;this.minContinuousInterval=this._inverseFunction(this.maxContinuousRate);this.warningDurationRequired='';this.collectionModeEl=this.shadowRoot.getElementById('collection_mode');this.fieldsetEls=this.shadowRoot.querySelectorAll('#collection_settings_form > .fieldset-secondary');this.photogateFieldsetEls=this.shadowRoot.querySelectorAll('#fieldset_mode_photogate_timing .fieldset-secondary');this.photogateSubmodeRadioEls=this.shadowRoot.querySelectorAll('input[name=photogate_submode]');this.timeBasedRate=0.2;this.timeBasedRateEl=this.shadowRoot.getElementById('time_based_rate');this.timeBasedInterval=20;this.timeBasedIntervalEl=this.shadowRoot.getElementById('time_based_interval');this.timeBasedUnitsEl=this.shadowRoot.getElementById('time_based_units')}populateForm(settings){const params=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep)(settings);this.set('timeBasedConfig',params['time-based']);this.set('eventConfig',params['event-based']);this.set('photogateConfig',params['photogate-timing']);this.set('timeBasedConfig.duration',__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.sigFig(__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(this.timeBasedConfig.duration,'s',this.timeBasedConfig.units),6));this.timeBasedUnitsEl.value=this.timeBasedConfig.units;this.timeBasedInterval=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(this.timeBasedConfig.delta,'s',this.timeBasedConfig.units);this.timeBasedIntervalEl.value=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.sigFig(this.timeBasedInterval,6);this.setTimeBasedRate();this.setTotalSamples();if(this.timeBasedConfig.triggering.enabled){this.triggeringSensorId=this.timeBasedConfig.triggering.sensor}if(0===this.timeBasedConfig.triggering.slope){this.timeBasedConfig.triggering.slope=1}this.shadowRoot.getElementById('triggering_slope').value=this.timeBasedConfig.triggering.slope;this._changeTriggeringEnabled();this.updateTriggeringSensorUnits();let mode=params.mode;if(mode.match('events')){mode='event-based';const eventSubMode=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.snakeCase)(params.mode);this.shadowRoot.getElementById(eventSubMode).checked=!0}this.shadowRoot.getElementById(`photogate_submode_${Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.snakeCase)(this.photogateConfig.measurementType)}`).checked=!0;this.shadowRoot.getElementById(`photogate_angular_motion__units_${this.photogateConfig.angularMotion.angleUnits}`).checked=!0;this.shadowRoot.getElementById(`photogate_timer__measurements_${Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.snakeCase)(this.photogateConfig.period.timeMeasurements)}`).checked=!0;this.shadowRoot.getElementById(`photogate_projectile__measurements_${Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.snakeCase)(this.photogateConfig.projectile.type)}`).checked=!0;this._changePhotogateMode();this.shadowRoot.getElementById('photogate_linear_motion__accessory').querySelector(`option[value=${this.photogateConfig.linearMotion.accessory}]`).selected=!0;this.collectionMode=mode;this.collectionModeEl.querySelector(`option[value=${this.collectionMode}]`).selected=!0;this._showHideFields(`fieldset_mode_${this.collectionMode}`);this.setTotalSamples();this._checkMaxSamplingRate()}submitForm(){let mode=this.collectionModeEl.value;if('event-based'===mode){const subModesEls=Array.from(this.shadowRoot.querySelectorAll('[name="event_based_submode"]'));mode=subModesEls.filter(modeEl=>modeEl.checked)[0].value}const eventConfig=_extends({},this.eventConfig);eventConfig.accumulate=parseInt(eventConfig.accumulate);eventConfig.average=!!eventConfig.average;const photogateConfig=_extends({},this.photogateConfig);photogateConfig.measurementType=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.kebabCase)(photogateConfig.measurementType);photogateConfig.speedThroughGate.flagWidth=parseFloat(photogateConfig.speedThroughGate.flagWidth);photogateConfig.speedThroughGate.numberOfFlags=parseInt(photogateConfig.speedThroughGate.numberOfFlags);photogateConfig.speedThroughGate.gateSeparationWidth=parseFloat(photogateConfig.speedThroughGate.gateSeparationWidth);photogateConfig.linearMotion.spacing=parseFloat(photogateConfig.linearMotion.spacing);photogateConfig.linearMotion.numberOfFlags=parseInt(photogateConfig.linearMotion.numberOfFlags);photogateConfig.angularMotion.numberOfSpokes=parseInt(photogateConfig.angularMotion.numberOfSpokes);const timeBasedConfig=_extends({},this.timeBasedConfig);timeBasedConfig.delta=this._limitInterval();timeBasedConfig.duration=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(parseFloat(timeBasedConfig.duration),timeBasedConfig.units,'s');timeBasedConfig.continuous=!!this.timeBasedConfig.continuous;timeBasedConfig.triggering.prestore=parseInt(timeBasedConfig.triggering.prestore);timeBasedConfig.triggering.slope=parseFloat(timeBasedConfig.triggering.slope);timeBasedConfig.triggering.threshold=parseFloat(timeBasedConfig.triggering.threshold);timeBasedConfig.triggering.sensor=this._getTriggeringSensorId();this.dispatchEvent(new CustomEvent('settings-submitted',{detail:{mode:mode,"time-based":timeBasedConfig,"event-based":eventConfig,"photogate-timing":photogateConfig}}))}lockSettings(enable){this.collectionModeEl.disabled=enable;this.timeBasedUnitsEl.disabled=enable;const elToShow=this.shadowRoot.getElementById(`photogate_submode_${Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.snakeCase)(this.photogateConfig.measurementType)}`);for(let i=0;i<this.photogateSubmodeRadioEls.length;++i){this.photogateSubmodeRadioEls[i].disabled=enable}if('speed-through-gate'===this.photogateConfig.measurementType){if(this._photogateIsPulseTiming){this.shadowRoot.getElementById('photogate_speed__speed_calculation_gate').disabled=enable}else{this.shadowRoot.getElementById('photogate_speed__speed_calculation_pulse').disabled=enable}}if('timer'===this.photogateConfig.measurementType){this.shadowRoot.querySelectorAll('[name=photogate_timer__measurements]').forEach(el=>{el.disabled=enable})}if('projectile'===this.photogateConfig.measurementType){this.shadowRoot.getElementById('photogate_projectile__tof_pad').disabled=enable;this.shadowRoot.querySelectorAll('[name=photogate_projectile__measurements]').forEach(el=>{el.disabled=enable})}elToShow.disabled=!1}sensorAdded(sensor){this.push('sensors',sensor);if(sensor.triggerable){this.push('triggerableSensors',sensor)}if(0<this.sensors.length){this.errorNoSensors='';this.set('_formDisabled',!1)}this._verifyTriggering();this._checkMaxSamplingRate()}sensorRemoved(removedSensor){this.sensors=this.sensors.filter(sensor=>sensor.id!==removedSensor.id);this.triggerableSensors=this.triggerableSensors.filter(sensor=>sensor.id!==removedSensor.id);if(1>this.sensors.length){this.errorNoSensors=this.getText('No sensor connected');this.set('_formDisabled',!0)}this._verifyTriggering(!0);this._checkMaxSamplingRate()}getMaxInterfaceInterval(){let pluggedInterface='',maxInterval=2148;const maxInterfaceInterval={labquest:800,goMotion:180,goLink:65.535,goTemp:2147.48352};this.interfaces.forEach(device=>{if(device.type.match(/LabQuest/)){pluggedInterface='labquest'}else if('Go!Link'===device.type){pluggedInterface='goLink'}else if('Go!Temp'===device.type){pluggedInterface='goTemp'}else if('Go!Motion'===device.type){pluggedInterface='goMotion'}maxInterval=Math.min(maxInterfaceInterval[pluggedInterface],maxInterval)});return maxInterval}cancelClicked(){this.cancelWorkflow()}_changeCollectionMode(e){this.collectionMode=e.target.value;this._showHideFields(`fieldset_mode_${this.collectionMode}`)}_changePhotogateMode(e){if(e){this.set('photogateConfig.measurementType',e.target.value)}this._showHidePhotogateFields(`photogate_submode_${Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.snakeCase)(this.photogateConfig.measurementType)}__content`)}_changeTimeBasedUnits(e){this.set('timeBasedConfig.units',e.target.value)}_changeTriggeringSlope(e){this.set('timeBasedConfig.triggering.slope',e.target.value)}_changeContinuousCollection(e){if(e){this.set('timeBasedConfig.continuous','true'===e.target.value)}this.warningDurationRequired='';const rate=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(parseFloat(this.timeBasedRateEl.value),'s',this.timeBasedConfig.units);if(this.timeBasedConfig.continuous&&rate>this.maxContinuousRate){this.timeBasedRateEl.value=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(this.maxContinuousRate,this.timeBasedConfig.units,'s');this.timeBasedRate=this.timeBasedRateEl.value;this.setTimeBasedInterval()}this.setTotalSamples()}_changePhotogateIsPulseTiming(e){this.set('photogateConfig.speedThroughGate.timingMode',e.target.value)}_changePhotogateLinearMotionAccessory(e){const accessory=e.target.value;this.set('photogateConfig.linearMotion.accessory',accessory);const accessoryMap={vernier_picket_fence:{spacing:0.05,numberOfFlags:8},cart_picket_fence:{spacing:0.01,numberOfFlags:13},ultra_pulley_in_groove:{spacing:0.015,numberOfFlags:10},ultra_pulley_outside_edge:{spacing:0.016,numberOfFlags:10},bar_tape:{spacing:0.016,numberOfFlags:''},user_defined:{spacing:'',numberOfFlags:''}};if(accessoryMap[accessory]){this.set('photogateConfig.linearMotion.spacing',accessoryMap[accessory].spacing);this.set('photogateConfig.linearMotion.numberOfFlags',accessoryMap[accessory].numberOfFlags);if('ultra_pulley_in_groove'===accessory||'ultra_pulley_outside_edge'===accessory){this.set('photogateConfig.linearMotion.endAfterTrial',!1)}else{this.set('photogateConfig.linearMotion.endAfterTrial',!0)}if('bar_tape'===accessory){this.shadowRoot.querySelector('#linear_motion_number_of_flags_input').focus()}else if('user_defined'===accessory){this.shadowRoot.querySelector('#linear_motion_spacing_input').focus()}}}_changePhotogateLinearMotionEndCollection(e){this.set('photogateConfig.linearMotion.endAfterTrial','manually'!==e.target.value)}_changePhotogateAngleUnits(e){this.set('photogateConfig.angularMotion.angleUnits',e.target.value)}_changePhotogateTimeMeasurements(e){this.set('photogateConfig.period.timeMeasurements',e.target.value);if('at-each-gate'!==e.target.value){this.set('photogateConfig.period.useFirstEventAsTime0',!1)}}_changePhotogateProjectileLaunchSpeed(e){const launchSpeedChoice=e.target.value;this.set('photogateConfig.projectile.type',launchSpeedChoice);this.set('photogateConfig.projectile.gateSeparationWidth',{"gate-separation":{width:0.05},"projectile-diameter":{width:0.017247}}[launchSpeedChoice].width)}_showHideFields(idToShow){const elToShow=this.shadowRoot.getElementById(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.snakeCase)(idToShow));let i;for(i=0;i<this.fieldsetEls.length;++i){this.fieldsetEls[i].disabled=!0}elToShow.disabled=!1}_showHidePhotogateFields(idToShow){const elToShow=this.shadowRoot.getElementById(idToShow);for(let i=0;i<this.photogateFieldsetEls.length;++i){this.photogateFieldsetEls[i].disabled=!0}elToShow.disabled=!1}showHelperText(e){const modeinfo=e.target.dataset.photogateSubmode,modeEl=this.shadowRoot.querySelector(`#photogate_submode_${modeinfo}__content`);modeEl.querySelectorAll('.helper-text').forEach(el=>{el.classList.toggle('helper-text--visible')})}setTotalSamples(){if(!this.timeBasedConfig.continuous){let samples;const rate=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.sigFig(this.timeBasedRate,6),prestore=parseInt(this.timeBasedConfig.triggering.prestore)||0;samples=Math.floor(rate*this.timeBasedConfig.duration+prestore)+1;if(isNaN(samples)){samples=''}this.timeBasedTotalSamples=samples}if(this.samplesCautionThreshold<this.timeBasedTotalSamples){this.warningSamplesThreshold=this.getText('Collecting a large number of points impacts performance.')}else{this.warningSamplesThreshold=''}}setTimeBasedInterval(){this.timeBasedInterval=this._inverseFunction(this.timeBasedRate);this.timeBasedIntervalEl.value=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.sigFig(this.timeBasedInterval,6);this.setTotalSamples()}setTimeBasedRate(){this.timeBasedRate=this._inverseFunction(this.timeBasedInterval);this.timeBasedRateEl.value=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.sigFig(this.timeBasedRate,6);this.setTotalSamples()}_timeBasedUnitsChanged(){setTimeout(()=>{this._checkMaxSamplingRate();this.setTotalSamples()})}_timeBasedDurationChanged(){this.setTotalSamples()}_timeBasedPrestoreChanged(){this.setTotalSamples()}_rateInput(){this.timeBasedRate=this.timeBasedRateEl.value;this.setTimeBasedInterval();this._checkMaxSamplingRate()}_intervalInput(){this.timeBasedInterval=this.timeBasedIntervalEl.value;this.setTimeBasedRate();this._checkMaxSamplingRate()}_limitInterval(){const interval=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(parseFloat(this.timeBasedInterval),this.timeBasedConfig.units,'s'),minInterfaceInterval=this._inverseFunction(this.maxInterfaceRate.s),maxInterfaceInterval=this.getMaxInterfaceInterval();if(interval<minInterfaceInterval){return __WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(minInterfaceInterval,'s',this.timeBasedConfig.units)}else if(interval>maxInterfaceInterval){return maxInterfaceInterval}return interval}_checkMaxSamplingRate(){const rate=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(parseFloat(this.timeBasedRateEl.value),'s',this.timeBasedConfig.units);if(rate>this.maxContinuousRate&&this.timeBasedConfig.continuous){this.set('timeBasedConfig.continuous',!1);this._changeContinuousCollection();this.warningDurationRequired=this.getText('Rates exceeding 200 samples/s require a fixed duration.')}}_verifyTriggering(sensorRemoved=!1){if(1>this.triggerableSensors.length){this.set('timeBasedConfig.triggering.enabled',!1)}if(sensorRemoved){setTimeout(()=>{if(-1===this._getTriggeringSensorId()){this.set('timeBasedConfig.triggering.enabled',!1)}})}}_changeTriggeringEnabled(e){if(e){this.set('timeBasedConfig.triggering.enabled','true'===e.target.value)}if(this.timeBasedConfig.triggering.enabled){if(0>=this.triggeringSensorId){const triggeringSensorId=this._getTriggeringSensorId();if(-1===triggeringSensorId){const sensorEl=this.shadowRoot.querySelector('input[name="triggering_sensor"]');if(sensorEl){sensorEl.checked=!0}}else{this.shadowRoot.querySelector(`#sensor_${triggeringSensorId}`).checked=!0}}this.updateTriggeringSensorUnits()}else{this.set('timeBasedConfig.triggering.prestore',0)}}_getTriggeringSensorId(){let checkedValue=-1;const triggeringSensorEls=this.shadowRoot.querySelectorAll('input[name="triggering_sensor"]');for(let i=0;i<triggeringSensorEls.length;++i){if(triggeringSensorEls[i].checked){checkedValue=parseInt(triggeringSensorEls[i].value)}}return checkedValue}updateTriggeringSensor(){this.triggeringSensorId=this._getTriggeringSensorId();this.updateTriggeringSensorUnits()}updateTriggeringSensorUnits(){const triggeringSensorId=this._getTriggeringSensorId();this.triggerableSensors.forEach(sensor=>{if(sensor.id===triggeringSensorId){this.shadowRoot.getElementById('triggering_sensor_units').textContent=sensor.units}})}_isTriggeringSensor(id){return id===this.triggeringSensorId}_inverseFunction(decimal){if(0!==decimal){return 1/decimal}return decimal}_eventsUseAverageChanged(){if(this.eventConfig.average){this.set('eventConfig.accumulate',10)}}_angleUnits(units){return this.photogateConfig.angularMotion.angleUnits===units}_timeMeasurements(measurement){return this.photogateConfig.period.timeMeasurements===measurement}_projectileLaunchSpeed(type){return this.photogateConfig.projectile.type===type}_computedPhotogateIsPulseTiming(timingMode){return'pulse'===timingMode}_computedPhotogateAccessoryIsUserDefined(accessory){return'user_defined'===accessory}_computedPhotogateAccessoryIsUserDefinedOrBarTape(accessory){return'user_defined'===accessory||'bar_tape'===accessory}_computedPhotogateTimeMeasurementsIsTimeAtEachGate(measurement){return'at-each-gate'===measurement}_computedPhotogateProjectileIsGateSeparation(type){return'gate-separation'===type}}customElements.define(VstCoreDataCollectionSettings.is,VstCoreDataCollectionSettings)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-graph-plot-manager> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{display:block;width:18.75rem;max-height:calc(100vh - 3.125rem - 2.375rem - var(--chrome-menubar-height,0))}.plot-group{padding:1rem}.plot-group__header-group{display:grid;grid-template-columns:1fr auto;margin-bottom:.5rem}.plot-group__header{font-size:1rem;margin:0}.plot-group__header-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);text-align:left;font-size:1em;border:0;color:#007377;padding:0;background:0 0;font-size:.75em}.plot-group__header-btn::-moz-focus-inner{border:0;padding:0}.plot-group__header-btn *{pointer-events:none}.plot-group__header-btn a,.plot-group__header-btn button{pointer-events:auto}.plot-group__header-btn:active{outline:0}.plot-group__header-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.plot-group__header-btn:active,.plot-group__header-btn:hover{color:#005153;background-color:#f0f1f1}.plot-group__header-btn:active{background-color:#e3e4e5}.plot-group__header-btn:hover{background:0 0}.plot-group__list{list-style:none;padding-left:0;margin:0}.plot-group__list-item{display:grid;grid-template-columns:1fr 2rem;padding:.5rem 0;border-bottom:1px solid #e3e4e5}.plot-group__list-item:last-of-type{border-bottom:0}.plot-group__overflow-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);background:0 0;border:0}.plot-group__overflow-btn::-moz-focus-inner{border:0;padding:0}.plot-group__overflow-btn *{pointer-events:none}.plot-group__overflow-btn a,.plot-group__overflow-btn button{pointer-events:auto}.plot-group__overflow-btn:active{outline:0}.plot-group__overflow-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.plot-group__overflow-btn-icon{line-height:1;opacity:.6}</style> <section class=plot-group> <header class=plot-group__header-group> <h1 class=plot-group__header>[[getText(\'Columns\')]]</h1> </header> <ul class=plot-group__list> <template is=dom-repeat items=[[columnGroups]] as=columnGroup> <li class=plot-group__list-item> <template is=dom-if if=[[columnGroup.units]]> <vst-ui-switch id=[[columnGroup.id]] data-type=column-group label="[[columnGroup.name]] ([[columnGroup.units]])" on-switch-changed=_togglePlottedItem checked=[[columnGroup.isActive]] label-placement=right></vst-ui-switch> </template> <template is=dom-if if=[[!columnGroup.units]]> <vst-ui-switch id=[[columnGroup.id]] data-type=column-group label=[[columnGroup.name]] on-switch-changed=_togglePlottedItem checked=[[columnGroup.isActive]] label-placement=right></vst-ui-switch> </template> <button class=plot-group__overflow-btn on-click=_showItemOptions> <vst-core-icon class=plot-group__overflow-btn-icon icon=icon-more-horiz-material-18></vst-core-icon> </button> </li> </template> </ul> </section> <section class=plot-group> <header class=plot-group__header-group> <h1 class=plot-group__header>[[getText(\'Data Sets\')]]</h1> <template is=dom-if if=[[!allDataSetsAreVisible]]> <button class=plot-group__header-btn on-click=_showAllDataSets>[[getText(\'Show All\')]]</button> </template> <template is=dom-if if=[[allDataSetsAreVisible]]> <button class=plot-group__header-btn on-click=_hideAllDataSets>[[getText(\'Hide All\')]]</button> </template> </header> <ul class=plot-group__list> <template is=dom-repeat items=[[dataSets]] as=dataSet mutable-data=""> <li class=plot-group__list-item> <vst-ui-switch id=[[dataSet.id]] data-type=data-set label=[[dataSet.name]] on-switch-changed=_togglePlottedItem checked=[[dataSet.isActive]] label-placement=right></vst-ui-switch> <button class=plot-group__overflow-btn on-click=_showItemOptions> <vst-core-icon class=plot-group__overflow-btn-icon icon=icon-more-horiz-material-18></vst-core-icon> </button> </li> </template> </ul> </section> <template is=dom-if if=[[predictions.length]]> <section class=plot-group> <header class=plot-group__header-group> <h1 class=plot-group__header>[[getText(\'Predictions\')]]</h1> </header> <ul class=plot-group__list> <template is=dom-repeat items=[[predictions]] as=prediction> <li class=plot-group__list-item> <vst-ui-switch id=[[prediction.traceColId]] data-type=prediction label=[[prediction.name]] on-switch-changed=_togglePlottedItem checked=[[prediction.isActive]] label-placement=right></vst-ui-switch> <button class=plot-group__overflow-btn on-click=_showItemOptions> <vst-core-icon class=plot-group__overflow-btn-icon icon=icon-more-horiz-material-18></vst-core-icon> </button> </li> </template> </ul> </section> </template> <template is=dom-if if=[[graphMatches.length]]> <section class=plot-group> <header class=plot-group__header-group> <h1 class=plot-group__header>[[getText(\'Graph Match\')]]</h1> </header> <ul class=plot-group__list> <template is=dom-repeat items=[[graphMatches]] as=graphMatch> <li class=plot-group__list-item> <vst-ui-switch id=[[graphMatch.traceColId]] data-type=graph-match label=[[graphMatch.name]] on-switch-changed=_togglePlottedItem checked=[[graphMatch.isActive]] label-placement=right></vst-ui-switch> <button class=plot-group__overflow-btn on-click=_showItemOptions> <vst-core-icon class=plot-group__overflow-btn-icon icon=icon-more-horiz-material-18></vst-core-icon> </button> </li> </template> </ul> </section> </template> </template> </dom-module>');__webpack_require__(293)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_util_i18n__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);class VstCoreGraphPlotManager extends Polymer.MutableData(Polymer.Element){static get is(){return'vst-core-graph-plot-manager'}static get properties(){return{dataSets:{type:Array,value(){return[]}},columnGroups:{type:Array,value(){return[]}},predictions:{type:Array,value(){return[]}},graphMatches:{type:Array,value(){return[]}},allDataSetsAreVisible:{type:Boolean,computed:'_computedAllDataSetsAreVisible(dataSets)'}}}constructor(){super();this.getText=__WEBPACK_IMPORTED_MODULE_0_corelib_util_i18n__.a}_togglePlottedItem(e){const item=e.target,id=item.id,type=item.getAttribute('data-type');console.assert(type);if('data-set'===type){const dataSet=e.model.dataSet;dataSet.isActive=item.checked;this.notifyPath('dataSets')}if(item.checked){this.dispatchEvent(new CustomEvent(`${type}-selected`,{detail:id}))}else{this.dispatchEvent(new CustomEvent(`${type}-deselected`,{detail:id}))}e.preventDefault()}_showItemOptions(e){const itemName=e.composedPath()[1].querySelector('vst-ui-switch').getAttribute('data-type'),item=e.model[Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.camelCase)(itemName)];this.dispatchEvent(new CustomEvent(`show-${itemName}-options`,{detail:{item,anchor:e.target}}))}_showAllDataSets(){this._showOrHideAllDataSets(!0)}_hideAllDataSets(){this._showOrHideAllDataSets(!1)}_showOrHideAllDataSets(show){this.dataSets.forEach(dataSet=>{if(show&&!dataSet.isActive){this.dispatchEvent(new CustomEvent('data-set-selected',{detail:dataSet.id}));dataSet.isActive=!0}else if(!show&&dataSet.isActive){this.dispatchEvent(new CustomEvent('data-set-deselected',{detail:dataSet.id}));dataSet.isActive=!1}});this.notifyPath('dataSets')}_computedAllDataSetsAreVisible(dataSets){let allDataSetsAreVisible=!0;dataSets.forEach(dataSet=>{if(!dataSet.isActive){allDataSetsAreVisible=!1}});return allDataSetsAreVisible}}customElements.define(VstCoreGraphPlotManager.is,VstCoreGraphPlotManager)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-infobox> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;border:1px solid #bdbebf;width:12rem;z-index:175;position:relative;height:calc(100% - 1.125rem);max-height:15rem;overflow:hidden}:host([floating]){position:absolute;top:.5625rem;right:.5625rem;-webkit-box-shadow:0 2px 14px rgba(0,0,0,.2);box-shadow:0 2px 14px rgba(0,0,0,.2);z-index:176}:host([floating]) .infobox-header{cursor:move}:host([floating][type=stats]){left:.5625rem;right:auto}:host(.hidden){display:none}.infobox-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%}.infobox-header{display:block;position:relative;background:#e3e4e5;padding:.5625rem .75rem;cursor:ns-resize;-ms-flex-negative:0;flex-shrink:0}.infobox-header h2{display:inline-block;font-weight:700;margin:0;font-size:.75rem;text-transform:uppercase}.infobox-header .btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;position:absolute;top:.2rem;right:.2rem}.infobox-header .btn-cancel::-moz-focus-inner{border:0;padding:0}.infobox-header .btn-cancel *{pointer-events:none}.infobox-header .btn-cancel a,.infobox-header .btn-cancel button{pointer-events:auto}.infobox-header .btn-cancel:active{outline:0}.infobox-header .btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.infobox-header .btn-cancel:active,.infobox-header .btn-cancel:hover{background-color:rgba(0,2,4,.1)}.infobox-header .btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.infobox-header .btn-cancel vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}.infobox-body{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:.5625rem .5625rem .5625rem calc(.5625rem - 1px);font-size:.875rem;overflow:auto}.trace-group{margin:0;padding-left:calc(.5625rem - 1px);border-left-width:2px;border-left-style:solid;border-left-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.trace-group::after,.trace-group::before{display:table;content:""}.trace-group::after{clear:both}.trace-group dt{float:left;margin-right:.25em;color:#787a7c}.trace-group dd{margin-left:0}.trace-group+.trace-group{margin-top:.5625rem}.italic{font-style:italic;padding-right:.125rem}</style> <div class=infobox-wrapper on-up=stopPropagation on-track=stopPropagation> <header class=infobox-header id=header on-track=moveHandler> <h2 id=title>[[title]]</h2> <button class=btn-cancel on-click=closeInfobox title="[[getText(\'cancel\')]]"><vst-core-icon class=icon-close icon=icon-close></vst-core-icon></button> </header> <div class=infobox-body> <template is=dom-if if=[[isStatsBox]]> <dl class=trace-group> <dt>[[getText(\'x-range\')]]:</dt> <dd>[[min]] - [[max]] [[baseUnits]]</dd> <dt>[[getText(\'\u0394x\')]]:</dt> <dd><span>[[xStats.deltaX]]</span> <span>[[baseUnits]]</span></dd> </dl> <template is=dom-repeat items=[[yStats]] as=stat> <dl class=trace-group style=border-color:[[stat.traceColor]]> <dt>[[getText(\'Samples\')]]:</dt> <dd>[[stat.samples]]</dd> <dt>[[getText(\'Mean\')]]:</dt> <dd><span>[[stat.mean]]</span> <span>[[stat.yUnits]]</span></dd> <dt>[[getText(\'Std dev\')]]:</dt> <dd> [[stat.stdDev]]</dd> <dt>[[getText(\'Min\')]]:</dt> <dd><span>[[stat.min.value]]</span> <span>[[stat.yUnits]]<span> <span class=time-at>@ <span>[[stat.min.at]]</span> <span>[[xStats.xUnits]]</span></span> </span></span></dd> <dt>[[getText(\'Max\')]]:</dt> <dd><span>[[stat.max.value]]</span> <span>[[stat.yUnits]]<span> <span class=time-at>@ <span>[[stat.max.at]]</span> <span>[[xStats.xUnits]]</span></span> </span></span></dd> <dt>[[getText(\'\u0394y\')]]:</dt> <dd><span>[[stat.deltaY]]</span> <span>[[stat.yUnits]]<span></span></span></dd> </dl> </template> </template> <template is=dom-if if=[[isFitBox]]> <dl class=trace-group> <dt>[[getText(\'x-range\')]]:</dt> <dd>[[min]] - [[max]] [[baseUnits]]</dd> <template is=dom-if if=[[!error]]> <dt>[[getText(\'y =\')]]</dt> <dd id=y_equation></dd> </template> </dl> <template is=dom-if if=[[error]]> <div class=trace-group> <p>[[error]]</p> </div> </template> <template is=dom-repeat items=[[fitData]] as=fit> <dl class=trace-group style=border-color:[[fit.traceColor]]> <dt hidden=[[!hasFitData(fit.m)]]>m:</dt> <dd>[[fit.m]]</dd> <dt hidden=[[!hasFitData(fit.a)]]>a:</dt> <dd>[[fit.a]]</dd> <dt hidden=[[!hasFitData(fit.b)]]>b:</dt> <dd>[[fit.b]]</dd> <dt hidden=[[!hasFitData(fit.c)]]>c:</dt> <dd>[[fit.c]]</dd> <dt hidden=[[!hasFitData(fit.d)]]>d:</dt> <dd>[[fit.d]]</dd> <dt hidden=[[!hasFitData(fit.r)]]><span class=italic>r</span>:</dt> <dd>[[fit.r]]</dd> <dt hidden=[[!hasFitData(fit.rmse)]]>[[getText(\'RMSE\')]]:</dt> <dd>[[fit.rmse]]</dd> </dl> </template> </template> <template is=dom-if if=[[isIntegralBox]]> <dl class=trace-group> <dt>[[getText(\'x-range\')]]:</dt> <dd>[[min]] - [[max]] [[baseUnits]]</dd> </dl> <template is=dom-repeat items=[[intInfo]] as=info> <dl class=trace-group style=border-color:[[info.traceColor]]> <dt>[[getText(\'Area\')]]:</dt> <dd><span>[[info.integralValue]]</span> <span>[[info.units]]</span></dd> </dl> </template> </template> </div> </div> </template> </dom-module>');__webpack_require__(295)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreInfobox extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.GestureEventListeners(Polymer.Element)){static get is(){return'vst-core-infobox'}static get properties(){return{type:{type:String},title:{type:String},xStats:{type:Object,value(){return{}}},yStats:{type:Array,value(){return[]}},baseUnits:{type:String},fitData:{type:Array,value(){return[]},observer:'fitDataChanged'},intInfo:{type:Array,value(){return[]}},flippedLeft:{type:Boolean,value:!1},translateYLength:{type:String,value:''},min:Number,max:Number,eventBinder:Function}}static get observers(){return['_updateTransformStyle(flippedLeft, translateYLength)']}connectedCallback(){super.connectedCallback();if('stats'===this.type){this.title=this.getText('Statistics');this.isStatsBox=!0}else if('curve_fit'===this.type){this.title=this.getText('Curve Fit');this.isFitBox=!0}else if('integral'===this.type){this.title=this.getText('Integral');this.isIntegralBox=!0}}fitDataChanged(){setTimeout(()=>{const fitData=this.fitData[0];if(this.isFitBox&&fitData){this.error=null;if(fitData.error){this.error=fitData.error}else if(fitData.y){const yEquation=this.shadowRoot.querySelector('#y_equation');if(yEquation){yEquation.innerHTML=fitData.y}}}})}hasFitData(value){return value!==void 0&&null!==value}closeInfobox(){this.dispatchEvent(new CustomEvent('close-infobox',{bubbles:!0,composed:!0,detail:this.type}))}moveHandler(e){if('start'===e.detail.state){e.preventDefault()}this.dispatchEvent(new CustomEvent('infobox-moving',{detail:e.detail}))}downHandler(e){this.dispatchEvent(new CustomEvent('infobox-down-clicked',{detail:e}))}_updateTransformStyle(flippedLeft,translateYLength){if(flippedLeft||translateYLength){const translateX=flippedLeft?`translateX(-100%)`:'',translateY=translateYLength?`translateY(${translateYLength})`:'';this.style.transform=`${translateX} ${translateY}`}else{this.style.removeProperty('transform')}}stopPropagation(e){e.stopPropagation()}}customElements.define(VstCoreInfobox.is,VstCoreInfobox)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-graph-selection> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host([permanent]) .graph-selection{background-color:rgba(0,0,0,.02);border-color:#787a7c}:host([permanent]) .graph-selection-left,:host([permanent]) .graph-selection-right{opacity:0;visibility:hidden}:host([permanent]) vst-core-infobox{visibility:visible}:host(.highlight) .graph-selection-left,:host(.highlight) .graph-selection-right{opacity:1;visibility:visible}:host(.highlight) .graph-selection{background-color:rgba(181,209,255,.3);border-left:1px solid #288ffe;border-right:1px solid #288ffe}.graph-selection{position:absolute;height:100%;background-color:rgba(181,209,255,.3);border-left:1px solid #288ffe;border-right:1px solid #288ffe}.graph-selection-edge{position:absolute;top:0;bottom:0;left:-12px;width:24px;cursor:col-resize;background-color:transparent;z-index:125}.graph-selection-edge-right{right:-12px;left:auto}.graph-selection-left,.graph-selection-right{position:absolute;top:42px;min-width:50px;max-width:110px;font-size:.875rem;font-weight:400;text-overflow:ellipsis;white-space:nowrap;padding:.325em .5em;overflow:hidden;cursor:col-resize;color:#373839;background-color:rgba(255,255,255,.85);border:1px solid #373839;z-index:125;opacity:1;visibility:visible;-webkit-transition:all 250ms cubic-bezier(.4,0,.2,1);transition:all 250ms cubic-bezier(.4,0,.2,1)}.graph-selection-left{text-align:right;-webkit-transform:translateX(calc(-100% - 1px));transform:translateX(calc(-100% - 1px));border-right:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.graph-selection-left span{pointer-events:none}.graph-selection-left.flip-right{border:1px solid #373839;border-left:0;border-radius:0;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.graph-selection-right{text-align:left;-webkit-transform:translateX(100%);transform:translateX(100%);right:-1px;border-left:0;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.graph-selection-right span{pointer-events:none}.graph-selection-right.flip-left{right:0;border:1px solid #373839;border-right:0;border-radius:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.flip-left,.flip-right{-webkit-transform:translateX(0);transform:translateX(0)}.graph-selection-title{position:absolute;top:6px;left:50%;padding:3px 6px;width:auto;min-width:20px;max-width:80%;cursor:text;overflow:hidden;text-overflow:ellipsis;background:rgba(255,255,255,.8);white-space:nowrap;-webkit-box-shadow:0 2px 6px 0 rgba(0,0,0,.3);box-shadow:0 2px 6px 0 rgba(0,0,0,.3);-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.graph-selection-content{position:relative;height:100%}.delete-selection-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;position:absolute;top:0;right:0;-webkit-transition:all .25s cubic-bezier(.4,0,.2,1);transition:all .25s cubic-bezier(.4,0,.2,1);z-index:126}.delete-selection-btn::-moz-focus-inner{border:0;padding:0}.delete-selection-btn *{pointer-events:none}.delete-selection-btn a,.delete-selection-btn button{pointer-events:auto}.delete-selection-btn:active{outline:0}.delete-selection-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.delete-selection-btn:active,.delete-selection-btn:hover{background-color:rgba(0,2,4,.1)}.delete-selection-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.delete-selection-btn vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}.delete-selection-btn.flip-left{-webkit-transform:translateX(100%);transform:translateX(100%)}.infobox{visibility:hidden;width:12rem;position:absolute;top:28%;right:-12rem}.infobox:not([floating]){-webkit-transition:all .25s cubic-bezier(.4,0,.2,1);transition:all .25s cubic-bezier(.4,0,.2,1)}.infobox.translating{-webkit-transition:none;transition:none}</style> <div class=graph-selection id=[[id]] style=left:[[min]]px;right:[[rightPxOffset]]px> <div class="graph-selection-handle graph-selection-left" on-down=highlightSelection on-track=resizeSelection on-up=dehighlightSelection><span>[[_minPt]]</span> <span>[[baseUnits]]</span></div> <div class="graph-selection-handle graph-selection-right" on-down=highlightSelection on-track=resizeSelection on-up=dehighlightSelection><span>[[_maxPt]]</span> <span>[[baseUnits]]</span></div> <div class="graph-selection-edge graph-selection-edge-left" on-down=highlightSelection on-track=resizeSelection on-up=dehighlightSelection></div> <div class="graph-selection-edge graph-selection-edge-right" on-down=highlightSelection on-track=resizeSelection on-up=dehighlightSelection></div> <div class=graph-selection-content> <template is=dom-if if=[[!permanent]]> <button class=delete-selection-btn on-click=updateSelectionDeletion on-down=stopPropagation on-up=stopPropagation title="[[getText(\'Delete Selection\')]]"><vst-core-icon class=icon-close icon=icon-close></vst-core-icon></button> </template> <div class=info-boxes> <template is=dom-if if=[[statsEnabled]] restamp=true> <vst-core-infobox class=infobox type=stats id=stats min=[[_minPt]] max=[[_maxPt]] base-units=[[baseUnits]]></vst-core-infobox> </template> <template is=dom-if if=[[fitsEnabled]] restamp=true> <vst-core-infobox class=infobox type=curve_fit id=curve_fit min=[[_minPt]] max=[[_maxPt]] base-units=[[baseUnits]]></vst-core-infobox> </template> <template is=dom-if if=[[integralsEnabled]] restamp=true> <vst-core-infobox class=infobox type=integral id=integral min=[[_minPt]] max=[[_maxPt]] base-units=[[baseUnits]]></vst-core-infobox> </template> </div> </div> </div> </template> </dom-module>');__webpack_require__(297)},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathmin8=Math.min,_Mathmax11=Math.max;Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin_js__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_FitsStatsElementMixin_js__=__webpack_require__(298),__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_4_corelib_util_EventBinder__=__webpack_require__(6),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};class VstCoreGraphSelection extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin_js__.a)(Object(__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_FitsStatsElementMixin_js__.a)(Polymer.GestureEventListeners(Polymer.Element))){static get is(){return'vst-core-graph-selection'}static get properties(){return{permanent:{type:Boolean,value:!1,reflectToAttribute:!0},persistForSession:{type:Boolean,value:!1,reflectToAttribute:!0},min:{type:Number,notify:!0},max:{type:Number,notify:!0},rightPxOffset:{type:String,computed:'_setRightPxOffset(max)'},graphInstance:{type:Object},baseUnits:{type:String,notify:!0},statsEnabled:{type:Boolean,value:!1,observer:'_setInfoBoxFlipLeft'},fitsEnabled:{type:Boolean,value:!1,observer:'_setInfoBoxFlipLeft'},integralsEnabled:{type:Boolean,value:!1,observer:'_setInfoBoxFlipLeft'}}}connectedCallback(){super.connectedCallback();this.eventBinder=new __WEBPACK_IMPORTED_MODULE_4_corelib_util_EventBinder__.a;setTimeout(()=>{const graphAxis=this.graphInstance.getAxis('x');this.eventBinder.on(graphAxis,'range-changed',()=>{this.setPtRange({min:this._minPt,max:this._maxPt})});this.addEventListener('close-infobox',e=>{this.updateSelectionDeletion();e.stopPropagation()})});this.throttledIsFlagsInView=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.throttle)(this._isFlagsInView.bind(this),150);this.throttledSetInfoBoxFlipLeft=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.throttle)(this._setInfoBoxFlipLeft.bind(this),150);this.fireSelectionResizedEvent=rangeUpdates=>{const{min,max}=this.range;this.dispatchEvent(new CustomEvent('selection-modified',{bubbles:!0,composed:!0,detail:{elementId:this.id,selectionUpdates:{range:_extends({min,max},rangeUpdates)}}}))};this.throttledFireSelectionResizedEvent=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.throttle)(this.fireSelectionResizedEvent.bind(this),40)}disconnectedCallback(){this.eventBinder.unbindAll()}_setRightPxOffset(maxPx){if(this.parentElement){const parentRect=this.parentElement.getBoundingClientRect();return`${parentRect.width-maxPx}`}return''}setPtRange({min,max}){Object.entries({min,max}).forEach(([key,val])=>{this._rangeChanged(key,val)})}_rangeChanged(which,xVal){if(this.graphInstance){if(!this.range){this.range={}}this.throttledIsFlagsInView();this.throttledSetInfoBoxFlipLeft();const xAxis=this.graphInstance.getAxis('x'),xPixel=xAxis.p2c(xVal),baseColumn=this.graphInstance.baseColumn;if(baseColumn){const closestX=this.graphInstance.getClosestX(xPixel).pt,formattedPt=Object(__WEBPACK_IMPORTED_MODULE_3_corelib_lib_sprintf__.sprintf)(baseColumn.precision.formatStr,closestX);this.baseUnits=baseColumn.group.units;this.range[which]=closestX;if('min'===which){this._minPt=formattedPt}else if('max'===which){this._maxPt=formattedPt}const newVal=xAxis.p2c(closestX);this[which]=newVal}}}highlightSelection(){this.classList.add('highlight')}dehighlightSelection(e){this.classList.remove('highlight');e.stopPropagation()}resizeSelection(e){const parentRect=this.parentElement.getBoundingClientRect(),xPos=e.detail.x-parentRect.left,dx=e.detail.dx,state=e.detail.state,rangeUpdates={};if('track'===state){const edge=e.target;if(!this.ignoreWhich&&this.range.max>this.range.min){if(edge.classList.contains('graph-selection-edge-left')||edge.classList.contains('graph-selection-left')){rangeUpdates.min=_Mathmax11(xPos,0)}else if(edge.classList.contains('graph-selection-edge-right')||edge.classList.contains('graph-selection-right')){rangeUpdates.max=_Mathmin8(xPos,parentRect.width)}}else{if(0>dx){rangeUpdates.min=_Mathmax11(xPos,0)}else{rangeUpdates.max=_Mathmin8(xPos,parentRect.width)}this.ignoreWhich=!0}this.fireSelectionResizedEvent(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(rangeUpdates,px=>this.graphInstance.getClosestX(px).pt))}else if('end'===state){this.ignoreWhich=!1}e.stopPropagation()}reposition(){const{range}=this,xAxis=this.graphInstance.getAxis('x'),newMin=xAxis.p2c(range.min),newMax=xAxis.p2c(range.max);this.min=newMin;this.max=newMax;this.throttledIsFlagsInView();this.throttledSetInfoBoxFlipLeft()}deleteSelection(){this.dispatchEvent(new CustomEvent('selection-el-deleted',{bubbles:!0,composed:!0}));this.remove()}updateSelectionDeletion(){const{id:elementId}=this;this.dispatchEvent(new CustomEvent('selection-deleted',{bubbles:!0,composed:!0,detail:{elementId}}))}getFitType(){return this.fitType}_isFlagsInView(){const flagLeftEl=this.shadowRoot.querySelector('.graph-selection-left'),flagRightEl=this.shadowRoot.querySelector('.graph-selection-right'),flagLeftRect=flagLeftEl.getBoundingClientRect(),flagRightRect=flagRightEl.getBoundingClientRect(),plotBoxRect=this.graphInstance.getPlot().box().getBoundingClientRect();if(this.min<flagLeftRect.width){flagLeftEl.classList.add('flip-right')}else{flagLeftEl.classList.remove('flip-right')}if(this.max>plotBoxRect.width-flagRightRect.width){flagRightEl.classList.add('flip-left')}else{flagRightEl.classList.remove('flip-left')}}_setInfoBoxFlipLeft(){setTimeout(()=>{if(this.statsEnabled||this.fitsEnabled||this.integralsEnabled){const infoBoxEl=this.shadowRoot.querySelector('vst-core-infobox'),infoBoxRect=infoBoxEl.getBoundingClientRect(),plotBoxRect=this.graphInstance.getPlot().box().getBoundingClientRect();if(this.max>plotBoxRect.width-infoBoxRect.width){infoBoxEl.flippedLeft=!0}else{infoBoxEl.flippedLeft=!1}}},0)}_stopPropagation(e){e.stopPropagation()}}customElements.define(VstCoreGraphSelection.is,VstCoreGraphSelection)},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=superclass=>class extends superclass{static get properties(){return{statsEnabled:{type:Boolean,value:!1},fitsEnabled:{type:Boolean,value:!1},analysisType:{type:String,computed:'computeAnalysisType(fitsEnabled, statsEnabled)'},statsId:{type:Number},fitTraceIDs:{type:Array,value(){return[]}},fitType:String,fitData:{type:Array,value(){return[]}},statsData:{type:Object,value(){return{}}},fits:{type:Array,value(){return[]}}}}computeAnalysisType(fits,stats){let type='';if(fits){type='fit'}else if(stats){type='stats'}return type}}},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-datashare-connect> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host{--paper-spinner-stroke-width:0.1875rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:430px;width:22.5rem}.error-message{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text;color:#d22630}.error-message details summary{display:inline-block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.error-message details summary::-webkit-details-marker{display:none}.error-message details summary::after{display:inline-block;margin-left:.5em;content:\'[+]\';font-size:.75em;vertical-align:text-bottom;color:#787a7c}.error-message details[open] summary::after{content:\'[\\2013]\'}.error-message a{color:#911a21!important;text-decoration:underline!important}.show-error+.error-message{display:block;margin-bottom:.5625rem}.section-title{font-size:.75em;font-weight:700;text-transform:uppercase;margin-bottom:.1875em;margin-top:0;display:inline-block;min-height:auto}.help-text{font-size:.75em;color:#787a7c}.help-text p{margin-bottom:0}.help-text ul{margin:0;padding-left:1.25em}.discovered-sources{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:1.125rem}.discovered-sources__list{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow-x:hidden;overflow-y:auto;list-style:none;padding:0;margin:0}.discovered-sources__list:focus{outline:0}.discovered-sources__list-item+.discovered-sources__list-item{border-top:1px solid #e3e4e5}.discovered-sources__btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;position:relative;width:100%;text-align:left;background-color:transparent;border:0;padding:.5em 0;font-size:1em;color:#007377}.discovered-sources__btn::-moz-focus-inner{border:0;padding:0}.discovered-sources__btn *{pointer-events:none}.discovered-sources__btn a,.discovered-sources__btn button{pointer-events:auto}.discovered-sources__btn:active{outline:0}.discovered-sources__btn:hover{color:#005153}.discovered-sources__btn[disabled]{color:#bdbebf}.discovered-sources__btn[disabled]:hover{color:#bdbebf}.discovered-sources__btn[disabled] .is-connecting{color:#005153}.discovered-sources__btn[disabled] .is-connecting:hover{color:#005153}.discovered-sources__name{display:block;-webkit-transition:all .25s cubic-bezier(.4,0,.2,1);transition:all .25s cubic-bezier(.4,0,.2,1)}.discovered-sources__loading-spinner{top:.5em;left:0;width:1.75rem;height:1.75rem}.manual-source label{margin-bottom:.5em;display:block}.manual-source-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#e3e4e5;border-color:#bdbebf;color:#007377;margin-left:.5625rem}.manual-source-btn::-moz-focus-inner{border:0;padding:0}.manual-source-btn *{pointer-events:none}.manual-source-btn a,.manual-source-btn button{pointer-events:auto}.manual-source-btn:active{outline:0}.manual-source-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.manual-source-btn:active,.manual-source-btn:hover{background-color:#fff;color:#005153}.manual-source-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.input-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:relative;margin-bottom:.5em}.input-wrapper div{-webkit-box-flex:1;-ms-flex:1;flex:1}.no-sources{padding:.5em 0}.loading-spinner{display:none;position:absolute;right:3.75em;top:9px;width:22px;height:22px}.is-connecting .discovered-source-name{-webkit-transform:translateX(32px);transform:translateX(32px)}.is-connecting .loading-spinner{display:block}.is-connecting .manual-source-btn{visibility:hidden}</style> <div class=discovered-sources> <h3 class=section-title>[[getText(\'Discovered Devices\')]]</h3> <ul class=discovered-sources__list id=discovered_sources> <template is=dom-repeat items=[[dsSources]] as=source> <li class=discovered-sources__list-item> <button class=discovered-sources__btn on-click=sourceClicked> <paper-spinner active="" class="loading-spinner discovered-sources__loading-spinner"></paper-spinner> <span class=discovered-sources__name>[[source.name]]</span> </button> </li> </template> </ul> </div> <div class=manual-source> <details class=specify-source> <summary on-click=manualSourceClicked> <h3 class=section-title>[[getText(\'Specify source\')]]</h3> </summary> <div> <vst-core-form on-submit=submitDatashare> <form class=source-connect-form id=source_connect_form> <label for=ip_input>[[getText(\'Please enter the source IP address:\')]]</label> <div class=input-wrapper> <div> <input id=ip_input type=text placeholder="[[getText(\'Example: 192.168.1.10\')]]" pattern=(^\\s*(http:\\/\\/)?\\s*([^:]+):?(\\d+)?$) autocomplete=off autocorrect=off spellcheck=false maxlength=75 autocapitalize=off> </div> <button type=submit id=source_connect_btn class=manual-source-btn>[[getText(\'Connect\')]]</button> <paper-spinner active="" class=loading-spinner></paper-spinner> </div> </form> </vst-core-form> <div id=data_sharing_error class=error-message></div> <div class=help-text> <p>[[getText(\'To locate the address:\')]]</p> <ul> <li>[[getText(\'On LabQuest\\, tap the Wi-Fi symbol\')]]</li> <li>[[getText(\'On Logger Pro\\, go to File -&gt; Data Sharing\')]]</li> </ul> </div> </div> </details> </div> </template> </dom-module>');__webpack_require__(300)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_corelib_util_RenderStatus__=__webpack_require__(13);class VstCoreDatashareConnect extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-datashare-connect'}static get properties(){return{dsSources:{type:Array,value(){return[]}}}}async connectedCallback(){super.connectedCallback();await Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_RenderStatus__.a)();this.discoveredSourcesEl=this.shadowRoot.querySelector('#discovered_sources');this.sourceConnectFormEl=this.shadowRoot.querySelector('#source_connect_form');this.sourceConnectBtnEl=this.shadowRoot.querySelector('#source_connect_btn');this.sourceIPInputEl=this.shadowRoot.querySelector('#ip_input');if(!this.hideDiscovery){this.sourcesUpdated()}}sourcesUpdated(){if(0===this.dsSources.length){const li=document.createElement('li');li.classList.add('no-sources');li.textContent=this.getText('No sources detected. Ensure your source has Data Sharing enabled and both devices are connected to the same network. If the problem persists, select Specify Source and manually connect to your Data Sharing source.');this.discoveredSourcesEl.appendChild(li)}else{const noSourcesEl=this.shadowRoot.querySelector('.no-sources');if(noSourcesEl){noSourcesEl.remove()}}}sourceClicked(e){e.target.classList.add('is-connecting');this.submitDatashare(null,e.model.source)}manualSourceClicked(){setTimeout(()=>{this.sourceIPInputEl.focus()})}submitDatashare(e,sourceObj){if(e){e.preventDefault()}this.sourceConnectFormEl.classList.add('is-connecting');const ipAddress=sourceObj&&sourceObj.address?sourceObj.address:this.sourceIPInputEl.value,sourceName=sourceObj&&sourceObj.name?sourceObj.name:'';this.dispatchEvent(new CustomEvent('connect-datashare-source',{detail:{address:ipAddress,name:sourceName}}));this.clearErrorMessages();this.disableButtons()}disableButtons(){this.sourceIPInputEl.blur();this.set('sourceConnectBtnEl.disabled',!0);this.set('sourceIPInputEl.disabled',!0);const discoveredSourceButtons=this.discoveredSourcesEl.querySelectorAll('button'),discoveredSourceButtonsLength=discoveredSourceButtons.length;for(let i=0;i<discoveredSourceButtonsLength;++i){discoveredSourceButtons[i].disabled=!0}}enableButtons(){this.set('sourceConnectBtnEl.disabled',!1);this.set('sourceIPInputEl.disabled',!1);const discoveredSourceButtons=this.discoveredSourcesEl.querySelectorAll('button'),discoveredSourceButtonsLength=discoveredSourceButtons.length;let i;for(i=0;i<discoveredSourceButtonsLength;++i){discoveredSourceButtons[i].disabled=!1}}clearErrorMessages(){const errorMessageEl=this.shadowRoot.querySelector('.error-message');if(errorMessageEl){errorMessageEl.remove()}}disconnect(){this.dispatchEvent(new CustomEvent('source-disconnect'));this.destroy()}showErrorMessage(userMessage){const connectionSenderEl=this.shadowRoot.querySelector('.is-connecting');connectionSenderEl.classList.remove('is-connecting');const errorMessageEl=document.createElement('div');errorMessageEl.classList.add('error-message');errorMessageEl.innerHTML=userMessage;connectionSenderEl.appendChild(errorMessageEl);this.enableButtons()}hideDiscoveredSources(){this.hideDiscovery=!0;this.shadowRoot.querySelector('.discovered-sources').style.display='none';this.shadowRoot.querySelector('.specify-source').setAttribute('open',!0)}}customElements.define(VstCoreDatashareConnect.is,VstCoreDatashareConnect)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-device-info> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.device-title{font-size:1.5rem;font-weight:400;margin:0 0 .5em}.device-info{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;margin:0}.device-info dt{display:inline-block}.device-info dt::after{content:\':\'}.device-info dd{display:inline;margin:0}.device-info dd::after{display:block;content:\'\'}.device-info dd{margin-left:.2rem}.device-info-item{display:-webkit-box;display:-ms-flexbox;display:flex;padding:.625em 0;border-bottom:1px solid #bdbebf}.device-info-item .device-info-item-battery{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.device-info-item:last-of-type{border:0}.identify-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);text-align:left;font-size:1em;border:0;color:#007377;padding:0;background:0 0;display:block;margin:-.5rem 0 .5rem 0}.identify-btn::-moz-focus-inner{border:0;padding:0}.identify-btn *{pointer-events:none}.identify-btn a,.identify-btn button{pointer-events:auto}.identify-btn:active{outline:0}.identify-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.identify-btn:active,.identify-btn:hover{color:#005153;background-color:#f0f1f1}.identify-btn:active{background-color:#e3e4e5}.identify-btn:hover .identify-btn-bulb{fill:#005153}.identify-btn-bulb{fill:#007377;width:1em;height:1em}.identify-btn[is-identifying]{color:#373839;opacity:1}.identify-btn[is-identifying] .identify-btn-bulb{-webkit-animation-name:flashing-light;animation-name:flashing-light;-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-direction:alternate;animation-direction:alternate;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes flashing-light{0%{fill:#ee3524}33%{fill:#ee3524}66%{fill:#bfcd4f}100%{fill:#bfcd4f}}@keyframes flashing-light{0%{fill:#ee3524}33%{fill:#ee3524}66%{fill:#bfcd4f}100%{fill:#bfcd4f}}.battery-icon{margin-right:.125rem;margin-top:.1rem;width:1.125rem;height:1.125rem}.gdx-sensor-map{max-width:30rem}.gdx-sensor-map summary{display:block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gdx-sensor-map summary::-webkit-details-marker{display:none}.gdx-sensor-map summary::before{display:inline-block;margin-right:.5em;width:.7em;content:\'\\25B6\';margin-top:.3em;font-size:.6em;vertical-align:text-bottom;color:#373839}.gdx-sensor-map[open] summary::before{-webkit-transform:rotate(90deg) translate(-.125rem,.1875rem);transform:rotate(90deg) translate(-.125rem,.1875rem)}sup{font-size:.5em}</style> <h2 class=device-title>[[getText(device.productName, \'sensormap\')]]</h2> <template is=dom-if if=[[device.canIdentify]]> <button class=identify-btn on-click=identifyDevice is-identifying$=[[isIdentifying]] disabled$=[[isIdentifying]] data-deviceid$=[[device.id]]> <svg class=identify-btn-bulb xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 width=16 height=16 viewBox="0 0 24 24"><path d="M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z"></path></svg> <template is=dom-if if=[[!isIdentifying]]> [[getText(\'Identify\')]] </template> <template is=dom-if if=[[isIdentifying]]> [[getText(\'Check sensor for flashing LED\')]] </template> </button> </template> <dl class=device-info> <template is=dom-if if=[[device.orderCode]]> <div class=device-info-item> <dt>[[getText(\'Order Code\')]]</dt> <dd>[[device.orderCode]]</dd> </div> </template> <template is=dom-if if=[[device.serialNumber]]> <div class=device-info-item> <dt>[[getText(\'ID\')]]</dt> <dd>[[device.serialNumber]]</dd> </div> </template> <template is=dom-if if=[[device.battery.percent]]> <div class=device-info-item> <dt>[[getText(\'Battery Level\')]]</dt> <dd class=device-info-item-battery> <vst-core-battery class=battery-icon charging$=[[device.battery.charging]] battery-percent$=[[device.battery.percent]]></vst-core-battery> <template is=dom-if if=[[device.battery.charging]]> <span>[[getText(\'Charging\\,\')]]&nbsp;</span> </template> <span>[[device.battery.percent]]%</span> </dd> </div> </template> <template is=dom-if if=[[device.firmware.primary]]> <div class=device-info-item> <dt>[[getText(\'Firmware\')]]</dt> <dd> <template is=dom-if if=[[device.firmware.primary]]> [[getText(\'Primary:\')]] [[device.firmware.primary]] </template> <template is=dom-if if=[[device.firmware.secondary]]> , [[getText(\'Secondary:\')]] [[device.firmware.secondary]] </template> </dd> </div> </template> <template is=dom-if if=[[device.manufactureDate]]> <div class=device-info-item> <dt>[[getText(\'Manufacture Date\')]]</dt> <dd>[[manufactureDateStamp]]</dd> </div> </template> <template is=dom-if if=[[device.hasFactoryCalibration]]> <template is=dom-if if=[[device.factoryCalibrationDate]]> <div class=device-info-item> <dt>[[getText(\'Factory Calibration Date\')]]</dt> <dd>[[factoryCalibDateStamp]]</dd> </div> </template> </template> <template is=dom-if if=[[device.gdxMapVersion]]> <div class=device-info-item> <dt>[[getText(\'GDX Sensor Map\')]]</dt> <dd> <details class=gdx-sensor-map> <summary>[[getText(\'Version\')]] [[device.gdxMapVersion]]</summary> <div>[[gdxSensorMap]]</div> </details> </dd> </div> </template> </dl> </template> </dom-module>');__webpack_require__(302)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreDeviceInfo extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-device-info'}static get properties(){return{device:{type:Object},sensor:{type:Object},isIdentifying:{type:Boolean,value:!1},gdxSensorMap:{type:String},manufactureDateStamp:{type:String},factoryCalibDateStamp:{type:String}}}connectedCallback(){super.connectedCallback();this.fixTrademarks()}controllerReady(){if(this.device.gdxMapVersion){this.dispatchEvent(new CustomEvent('get-gdx-sensor-map',{detail:this.device.id}))}}fixTrademarks(){const bodyText=this.shadowRoot.querySelector('.device-title');bodyText.innerHTML=bodyText.innerHTML.replace(/[™®]/g,'<sup>$&</sup>')}identifyDevice(e){const deviceId=e.target.dataset.deviceid;this.dispatchEvent(new CustomEvent('identify-device',{detail:deviceId}));this.isIdentifying=!0;setTimeout(()=>{this.isIdentifying=!1},1e4)}}customElements.define(VstCoreDeviceInfo.is,VstCoreDeviceInfo)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-device-manager> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@-webkit-keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}@keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host{width:32rem;height:calc(100vh - 3.125rem - 3.125rem - 2.25rem - var(--chrome-menubar-height,0px));max-height:34rem}.debug{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text;display:none;-ms-flex-preferred-size:80px;flex-basis:80px;font-size:.75em;-webkit-box-flex:1;-ms-flex:1;flex:1}:root{--paper-spinner-layer-1-color:#007377;--paper-spinner-layer-2-color:#007377;--paper-spinner-layer-3-color:#007377;--paper-spinner-layer-4-color:#007377;--paper-spinner-stroke-width:0.1875rem}.form-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%}.device-wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%;overflow:auto}.submit-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.section-title{font-size:1em;font-weight:700;margin:0}.connected-devices{width:100%;margin-bottom:2em}.bluetooth-error{border:1px solid #f79b2e;padding:1em;color:#e87e00;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin-top:.5em}.bluetooth-error:hover{cursor:text}.bluetooth-error a{white-space:nowrap}.bluetooth-error>p{margin:0}.devices{list-style:none;padding-left:0;overflow-y:auto;overflow-x:hidden;margin:0;-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}.device{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;border-bottom:1px solid #bdbebf}.device:last-of-type{border-bottom:0}.device-icon{width:1.125rem;height:1.125rem;-ms-flex-negative:0;flex-shrink:0;opacity:.5}.device-name{font-family:Consolas,Monaco,monospace;font-size:.95rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;padding:.625em .5em;overflow:hidden}.device-details-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;width:1.125rem;height:1.125rem;-ms-flex-negative:0;flex-shrink:0;background:0 0;padding:0;border:0;margin-left:.3rem;margin-top:.125rem;display:block}.device-details-btn::-moz-focus-inner{border:0;padding:0}.device-details-btn *{pointer-events:none}.device-details-btn a,.device-details-btn button{pointer-events:auto}.device-details-btn:active{outline:0}.device-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);text-align:left;font-size:1em;border:0;color:#007377;padding:0;background:0 0;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}.device-btn::-moz-focus-inner{border:0;padding:0}.device-btn *{pointer-events:none}.device-btn a,.device-btn button{pointer-events:auto}.device-btn:active{outline:0}.device-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.device-btn:active,.device-btn:hover{color:#005153;background-color:#f0f1f1}.device-btn:active{background-color:#e3e4e5}.device-state-connecting .device-btn[disabled]{opacity:1;color:#373839}.device-action{-ms-flex-negative:0;flex-shrink:0;padding:.5em}.device-type-usb .device-action-remove{display:none}.device-action-add,.device-action-remove{text-align:right;position:relative;-webkit-transition:all .25s cubic-bezier(.4,0,.2,1);transition:all .25s cubic-bezier(.4,0,.2,1)}.device-firmware-update{width:100%;padding:0 0 0 1.5rem;color:#d22630;margin:-.25em 0 .5em 0}.device-firmware-update__btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;color:#d22630;border-color:#d22630;background-color:#fff;position:relative;font-size:.75em;padding:.6em 1em .5em 1.9em}.device-firmware-update__btn::-moz-focus-inner{border:0;padding:0}.device-firmware-update__btn *{pointer-events:none}.device-firmware-update__btn a,.device-firmware-update__btn button{pointer-events:auto}.device-firmware-update__btn:active{outline:0}.device-firmware-update__btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.device-firmware-update__btn:active,.device-firmware-update__btn:hover{background-color:#d22630;color:#fff}.device-firmware-update__btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.device-firmware-update__btn::before{content:\'\';display:block;position:absolute;top:.85rem;left:.55rem;width:.375rem;height:.375rem;border-radius:100%;background-color:#d22630}.device-firmware-update__btn:hover::before{background-color:#fff}.device-action-remove{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);text-align:left;font-size:1em;border:0;color:#007377;padding:0;background:0 0;-ms-flex-negative:0;flex-shrink:0;padding:.5em}.device-action-remove::-moz-focus-inner{border:0;padding:0}.device-action-remove *{pointer-events:none}.device-action-remove a,.device-action-remove button{pointer-events:auto}.device-action-remove:active{outline:0}.device-action-remove[disabled]{opacity:.2;cursor:default;pointer-events:none}.device-action-remove:active,.device-action-remove:hover{color:#005153;background-color:#f0f1f1}.device-action-remove:active{background-color:#e3e4e5}.device-state-connected{-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}.device-state-connecting .device-action-add,.device-state-disconnecting .device-action-add{visibility:hidden}.device-state-connecting .loading-spinner,.device-state-disconnecting .loading-spinner{display:block;visibility:visible}.no-devices-header{font-size:1.5rem;font-weight:400;margin:0 0 .5em}.no-devices,.no-devices-found{margin:.625em 0;color:#787a7c}.no-devices-found{font-size:.75em}.loading-spinner{display:none;position:absolute;right:.4375rem;top:0;width:1.5rem;height:1.5rem}.device-channels{width:100%;padding-left:2em;padding-right:.5em;margin-bottom:.5em;margin-top:-.25em}.device-channels summary{display:block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.device-channels summary::-webkit-details-marker{display:none}.device-channels summary::before{display:inline-block;margin-right:.5em;width:.7em;content:\'\\25B6\';margin-top:.3em;font-size:.6em;vertical-align:text-bottom;color:#007377}.device-channels[open] summary::before{-webkit-transform:rotate(90deg) translate(-.125rem,.1875rem);transform:rotate(90deg) translate(-.125rem,.1875rem)}.device-channels .device-channels-wrapper{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:calc(100% - 1.3em)}.device-channels .device-channels-header:focus{outline:0}.device-channels .device-channels-header:focus .device-channels-header-head{border-bottom:1px dotted #bdbebf;margin-bottom:1px}.device-channels-header-head{font-size:.75em;font-weight:700;text-transform:uppercase;margin-bottom:.1875em;color:#007377;-ms-flex-negative:0;flex-shrink:0;margin-right:1em}.device-channels-header-channels{font-size:.75em;color:#bdbebf;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.device-channels-header-channels span::after{display:inline-block;content:\', \'}.device-channels-header-channels span:last-of-type::after{display:none}.device-channels-list{list-style:none;padding-left:0}.device-channels-list-item{margin:.125em 0}.device-channels-list-item label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.device-channels-list-item input{width:1em;height:1em}.discover-labquest-stream{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.75em;background-color:#e3e4e5;border-color:#bdbebf;color:#007377;display:block;margin:-1rem 0 1.5rem 0}.discover-labquest-stream::-moz-focus-inner{border:0;padding:0}.discover-labquest-stream *{pointer-events:none}.discover-labquest-stream a,.discover-labquest-stream button{pointer-events:auto}.discover-labquest-stream:active{outline:0}.discover-labquest-stream[disabled]{opacity:.2;cursor:default;pointer-events:none}.discover-labquest-stream:active,.discover-labquest-stream:hover{background-color:#fff;color:#005153}.discover-labquest-stream:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.filter{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:.5rem 0}.filter__label{font-weight:400;margin-right:.5625rem}.filter__input{width:13rem;padding-right:2rem}.filter__input::-webkit-input-placeholder{color:#bdbebf}.filter__input:-ms-input-placeholder{color:#bdbebf}.filter__input::-ms-input-placeholder{color:#bdbebf}.filter__input::placeholder{color:#bdbebf}.filter__clear{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:-webkit-box;display:-ms-flexbox;display:flex;background:0 0;border:0;margin-left:-2rem;width:2rem;height:2rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.filter__clear::-moz-focus-inner{border:0;padding:0}.filter__clear *{pointer-events:none}.filter__clear a,.filter__clear button{pointer-events:auto}.filter__clear:active{outline:0}.filter__clear[disabled]{opacity:.2;cursor:default;pointer-events:none}.filter__clear:focus .filter__clear-icon,.filter__clear:hover .filter__clear-icon{opacity:1}.filter__clear-icon{width:1.125rem;height:1.125rem;opacity:.54}.filter__submit{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.submit-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1.125rem}.submit-btn::-moz-focus-inner{border:0;padding:0}.submit-btn *{pointer-events:none}.submit-btn a,.submit-btn button{pointer-events:auto}.submit-btn:active{outline:0}.submit-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.submit-btn:hover{background-color:#005153}.submit-btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}</style> <div class=form-wrapper> <div class=device-wrapper id=device_wrapper> <section class=connected-devices> <template is=dom-if if=[[hasConnectedDevices]]> <h3 class=section-title>[[getText(\'Connected Devices\')]]</h3> <ul class=devices id=connected_sources> <template is=dom-repeat items=[[devices]] as=device> <template is=dom-if if=[[isConnected(device)]]> <li class$="device device-type-[[device.type]] device-state-[[device.state]]" id$=device_[[device.id]]> <template is=dom-if if=[[isUSBDevice(device)]]> <vst-core-icon class=device-icon icon=icon-usb alt="[[getText(\'USB Device\')]]"></vst-core-icon> </template> <template is=dom-if if=[[!isUSBDevice(device)]]> <vst-core-icon class=device-icon icon=icon-bluetooth alt="[[getText(\'Bluetooth Device\')]]"></vst-core-icon> </template> <div class=device-name> <span>[[device.name]]</span> <button class=device-details-btn on-click=showDeviceDetails type=button disabled=[[deviceIsConnecting]]> <vst-core-icon icon=icon-information-outline-20x20></vst-core-icon> </button> </div> <button class=device-action-remove on-click=disconnectDevice>[[getText(\'Disconnect\')]] <paper-spinner active="" class=loading-spinner></paper-spinner></button> <template is=dom-if if=[[device.firmware.hasUpdate]]> <div class=device-firmware-update> <button class=device-firmware-update__btn type=button on-click=updateDeviceFirmware disabled=[[deviceIsConnecting]]>[[getText(\'Update Firmware\')]]</button> </div> </template> <template is=dom-if if=[[isMultiChanneledDevice(device)]]> <details class=device-channels> <summary class=device-channels-header> <div class=device-channels-wrapper> <div class=device-channels-header-head>[[getText(\'Sensor Channels\')]]</div> <div class=device-channels-header-channels> <template is=dom-repeat items=[[device.channels]] as=channel> <template is=dom-if if=[[channel.enabled]]> <span>[[channel.name]]</span> </template> </template> </div> </div> </summary> <ul class=device-channels-list> <template is=dom-repeat items=[[device.channels]] as=channel> <li class=device-channels-list-item> <label for=channel_[[channel.id]]> <input type=checkbox id=channel_[[channel.id]] data-device=[[device.id]] name=channel_[[channel.id]] checked=[[channel.enabled]] on-change=channelEnabledChanged> <span>[[channel.name]]</span> </label> </li> </template> </ul> </details> </template> </li> </template> </template> </ul> </template> <template is=dom-if if=[[!hasConnectedDevices]]> <h3 class=section-title>[[noDevicesConnectedText]]</h3> <template is=dom-if if=[[hasUSB]]> <p class=no-devices>[[getText(\'Connect to a wireless device below or connect via USB.\')]]</p> </template> <template is=dom-if if=[[!hasUSB]]> <p class=no-devices>[[getText(\'Connect to a wireless device below.\')]]</p> </template> </template> </section> <template is=dom-if if=[[isIOS]]> <button class=discover-labquest-stream on-click=discoverLabQuestStream>[[getText(\'Connect a LabQuest Stream\')]]</button> </template> <section> <h3 class=section-title>[[getText(\'Discovered Wireless Devices\')]] <span class=debug>([[discoveredDevices.length]] devices)</span> </h3> <template is=dom-if if=[[hasBluetooth]]> <template is=dom-if if=[[bluetoothIsDiscovering]]> <template is=dom-if if=[[!hasConnectableBLEDevices]]> <p>[[getText(\'Searching for devices...\')]]</p> </template> </template> <template is=dom-if if=[[hasConnectableBLEDevices]]> <vst-core-form on-submit=_submitFilter> <form class=filter> <label class=filter__label for=filter_input>[[getText(\'Filter\')]]</label> <input class=filter__input id=filter_input type=text value={{filterInput::input}} autocomplete=off autocorrect=off autocapitalize=off spellcheck=false placeholder="[[getText(\'e.g.\\, 007 or TMP\')]]"> <button class=filter__clear hidden$=[[!hasFilter]] on-click=clearFilter disabled=[[deviceIsConnecting]] type=button> <vst-core-icon class=filter__clear-icon icon=icon-close></vst-core-icon> </button> <button class=filter__submit type=submit>[[getText(\'Submit\')]]</button> </form> </vst-core-form> <ul class=devices id=discovered_sources> <template is=dom-repeat items=[[filteredDiscoveredDevices]] as=device> <li class$="device device-type-[[device.type]] device-state-[[device.state]]" id$=device_[[device.id]]> <button class=device-btn type=button on-click=connectDevice disabled=[[deviceIsConnecting]]> <vst-core-icon class=device-icon icon=icon-bluetooth alt="[[getText(\'Bluetooth Device\')]]"></vst-core-icon> <div class=device-name> <span>[[device.name]]</span> </div> <ul class=debug> <li>id: [[device.id]]</li> <li>type: [[device.type]]</li> <li>name: [[device.name]]</li> <li>rssi: [[device.rssi]]</li> <li>connectable: [[device.connectable]]</li> <li>state: [[device.state]]</li> <li>error: [[ device.errorMessage ]]</li> </ul> <div class=device-action> <span class=device-action-add>[[getText(\'Connect\')]] <paper-spinner active="" class=loading-spinner></paper-spinner></span> </div> </button> </li> </template> </ul> </template> <template is=dom-if if=[[!hasConnectableBLEDevices]]> <p class=no-devices>[[getText(\'No devices available\')]]</p> </template> <div id=no_devices_found_wrapper></div> </template> <template is=dom-if if=[[!hasBluetooth]]> <div class=bluetooth-error> <template is=dom-if if=[[isWindowsButNot10]]> <strong>[[getText(windowsButNot10Message)]]</strong> <p>[[getText(\'Windows 10 is required for wireless connection.\')]]</p> </template> <template is=dom-if if=[[!isWindowsButNot10]]> <strong>[[getText(\'Bluetooth not enabled\')]]</strong> <p>[[getText(\'Enable bluetooth to connect wireless sensors.\')]]</p> </template> </div> </template> </section> </div> <div class=submit-wrapper> <button class=submit-btn on-click=done type=button id=start_session_btn>[[getText(\'Done\')]]</button> </div> </div> </template> </dom-module>');__webpack_require__(304)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2_platform__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2_platform___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_platform__);class VstCoreDeviceManager extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-device-manager'}static get properties(){return{devices:{type:Array,value(){return[]}},filteredDiscoveredDevices:{type:Array,value(){return[]}},isIOS:{type:Boolean,value:!1},hasUSB:{type:Boolean,value:!0},hasBluetooth:{type:Boolean,value:!0,observer:'_hasBluetoothChanged'},blueToothIsDiscovering:{type:Boolean,value:!1,reflectToAttribute:!0},deviceIsConnecting:{type:Boolean,value:!1},filterInput:{type:String,value:'',observer:'filterDiscoveredDevices'},hasFilter:{type:Boolean,computed:'_hasFilter(filterInput)'},isWindowsButNot10:{type:Boolean,value:!1},windowsButNot10Message:{type:String,value:''},noDevicesConnectedText:{type:String,value:''},noDevicesFoundText:{type:String,value:''}}}static get observers(){return['_hasConnectableBLEDevices(devices.*)','_hasConnectedDevices(devices.*)']}constructor(){super();if(''===this.noDevicesConnectedText){this.noDevicesConnectedText=this.getText('No Devices Connected')}this.isIOS='iOS'===__WEBPACK_IMPORTED_MODULE_2_platform___default.a.os.family}connectedCallback(){super.connectedCallback();Polymer.RenderStatus.beforeNextRender(this,()=>{if(''!==this.noDevicesFoundText){this.shadowRoot.querySelector('#no_devices_found_wrapper').innerHTML=`<p class="no-devices-found">${this.noDevicesFoundText}</p>`}this.deviceWrapperEl=this.shadowRoot.querySelector('#device_wrapper')})}_hasBluetoothChanged(hasBluetooth){clearInterval(this._checkBluetoothInterval);this._checkBluetoothInterval=null;if(!hasBluetooth){this._checkBluetoothInterval=setInterval(()=>{this.dispatchEvent(new CustomEvent('check-for-bluetooth'))},5e3)}}updateDeviceLists(deviceList){this.devices=deviceList;this.filterDiscoveredDevices()}connectDevice(e){const device=e.model.device;this.dispatchEvent(new CustomEvent('connect-device',{detail:device}))}disconnectDevice(e){const device=e.model.device;this.dispatchEvent(new CustomEvent('disconnect-device',{detail:device}))}discoverLabQuestStream(){this.dispatchEvent(new CustomEvent('discover-labquest-stream'))}scrollToTop(){this.deviceWrapperEl.scrollTop=0}deviceConnectionError(error,device){console.dir(error);console.dir(device)}channelEnabledChanged(e){const deviceId=e.model.device.id,channelId=parseInt(e.target.id.replace('channel_','')),enable=e.target.checked;this.dispatchEvent(new CustomEvent('enable-device-channel',{detail:{deviceId,channelId,enable}}))}showDeviceDetails(e){const device=e.model.device,popoverManager=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('popover-manager');popoverManager.presentDialog('vst-core-device-info',{title:this.getText('Device Information'),controllerType:'DeviceInfoController',properties:{device}})}updateDeviceFirmware(e){const deviceId=e.model.device.id;this.dispatchEvent(new CustomEvent('update-device-firmware',{detail:deviceId}))}done(){this.dispatchEvent(new CustomEvent('complete-workflow'))}isMultiChanneledDevice(device){if(1<device.channels.length){return!0}return!1}isConnected(device){if(device.connected||device.active){return!0}return!1}isUSBDevice(device){if('usb'===device.type){return!0}return!1}hasError(device){if('error'===device.state){return!0}return!1}_hasConnectableBLEDevices(){const discoveredDevices=this.devices.filter(device=>'connected'!==device.state);this.hasConnectableBLEDevices=0<discoveredDevices.length}_hasConnectedDevices(){const connectedDevices=this.devices.filter(device=>{return device.connected||device.active});this.hasConnectedDevices=0<connectedDevices.length}isSameAsUSBConnectedDevice(deviceToCheck){const connectedUSBDevicesWithSameName=this.devices.filter(device=>{return'connected'===device.state&&'usb'===device.type&&device.name===deviceToCheck.name});return 0<connectedUSBDevicesWithSameName.length}filterDiscoveredDevices(){this.filteredDiscoveredDevices=[];const notConnectedDevices=this.devices.filter(device=>{return!this.isConnected(device)&&!this.isSameAsUSBConnectedDevice(device)&&''!==device.name&&'bluetooth'===device.type}),filterInput=this.filterInput.toLowerCase();if(''!==filterInput){this.filteredDiscoveredDevices=notConnectedDevices.filter(device=>device.name.toLowerCase().match(filterInput))}else{this.filteredDiscoveredDevices=notConnectedDevices}}clearFilter(){this.filterInput='';this.shadowRoot.querySelector('#filter_input').focus();this.filterDiscoveredDevices()}_hasFilter(){return''!==this.filterInput}_submitFilter(e){e.preventDefault();this.shadowRoot.querySelector('#filter_input').blur()}}customElements.define(VstCoreDeviceManager.is,VstCoreDeviceManager)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-download-data> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}label{margin-bottom:.375rem;display:block}strong{font-weight:400}.file-extension{margin:.5em 0 0 .35em;width:2.125em;color:#787a7c}.decimal-wrapper,.input-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.decimal-wrapper label,.input-wrapper input{-webkit-box-flex:1;-ms-flex:1;flex:1}.decimal-wrapper label:first-child{-webkit-box-flex:.33;-ms-flex:.33;flex:.33}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:.75rem;float:right}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn:hover{background-color:#005153}.btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}</style> <vst-core-form on-submit=submitForm> <form> <div id=filename_wrapper> <label for=filename><strong><span>[[getText(\'Filename\')]]</span>:</strong></label> <div class=input-wrapper> <input type=text placeholder="[[getText(\'My-File-Name\')]]" id=filename tabindex=1 autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> <label for=filename class=file-extension>.csv</label> </div> </div> <strong><span>[[getText(\'Decimal Format\')]]</span>:</strong> <div class=decimal-wrapper> <label for=decimal_period> <input type=radio name=decimal_format id=decimal_period value=. checked="">12.3 </label> <label for=decimal_comma> <input type=radio name=decimal_format id=decimal_comma value=,>12,3 </label> </div> <button type=submit class=btn>[[getText(\'Export CSV\')]]</button> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(306)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreDownloadData extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-download-data'}static get properties(){return{view:{observer:'viewChanged'}}}connectedCallback(){super.connectedCallback();this.downloadFilenameEl=this.shadowRoot.getElementById('filename');this.downloadDecimalFormatEls=this.shadowRoot.querySelectorAll('[name="decimal_format"]');this.downloadFilenameEl.focus()}viewChanged(){const radios=Array.from(this.shadowRoot.querySelectorAll('[name="decimal_format"]'));radios.forEach(radio=>{if(radio.value===this.view.decimal){radio.checked=!0}});if(this.view.hideFileName){this.shadowRoot.querySelector('#filename_wrapper').style.display='none'}}submitForm(){const inputVal=this.downloadFilenameEl.value,decimalFormat=this.getSelectedRadio(this.downloadDecimalFormatEls);this.dispatchEvent(new CustomEvent('download-data',{detail:{inputVal:inputVal,decimalFormat:decimalFormat}}));this.dispatchEvent(new CustomEvent('close-popover'))}getSelectedRadio(radioButtonsEls){for(let i=0;i<radioButtonsEls.length;++i){if(radioButtonsEls[i].checked){return radioButtonsEls[i].value}}return!1}}customElements.define(VstCoreDownloadData.is,VstCoreDownloadData)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-ewe-entry> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host :host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host :host{width:22.5rem}}table{border-collapse:collapse}th{background:#e3e4e5;font-weight:400}td,th{border:1px solid #c9cbcc;font-size:.75rem;line-height:1.4;vertical-align:middle;height:2.0625rem;padding:0 .5rem}.column-header{width:9.6875rem}.spacer-gif{width:3.125rem}.run{font-weight:700}.event{padding:0}tbody th{text-align:center}.event input,tbody td{text-align:right;height:2.0625rem;padding:0 .5rem}label{display:block;margin:0}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1.125rem;float:right}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn:hover{background-color:#005153}.btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:.5625rem}.btn-cancel::-moz-focus-inner{border:0;padding:0}.btn-cancel *{pointer-events:none}.btn-cancel a,.btn-cancel button{pointer-events:auto}.btn-cancel:active{outline:0}.btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn-cancel:active,.btn-cancel:hover{color:#373839;background-color:transparent}.btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}</style> <vst-core-form on-submit=submitForm> <form> <table> <thead> <tr> <th class=spacer-gif></th> <th class=column-header><label for=event><span>[[getNameUnits(eventColumn)]]</span></label></th> <template is=dom-repeat items=[[columns]] as=column> <th class=column-header><span>[[getNameUnits(column)]]</span> </th></template> </tr> </thead> <tbody> <tr> <th>[[rowNumber]]</th> <td class=event> <input type=number step=any id=event name=event maxlength=1000 autofocus=""> </td> <template is=dom-repeat items=[[view.keepResults]] as=result> <td class=column-header>[[trimPoint(result)]]</td> </template> </tr> </tbody> </table> <button class=btn id=submit_btn type=submit>[[getText(\'Keep Point\')]]</button> <button class="btn btn-cancel" on-click=cancel type=button id=cancel_btn>[[getText(\'Cancel\')]]</button> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(308)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreEweEntry extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-ewe-entry'}static get properties(){return{rowNumber:{type:Number,value:0},view:{type:Object,value(){return{eventColumn:null,keepResults:[]}}}}}connectedCallback(){super.connectedCallback();this.eventEl=this.shadowRoot.getElementById('event');this.eventColumn=this.view.eventColumn;this.columns=[];this.view.keepResults.forEach(result=>{this.push('columns',result.column)});this.rowNumber=this.columns[0].get('values').length+1;setTimeout(()=>{this.eventEl.focus()},100)}submitForm(){this.dispatchEvent(new CustomEvent('kept-point',{detail:this.eventEl.value}))}cancel(){this.dispatchEvent(new CustomEvent('cancel'))}trimPoint(reading){const formatStr=reading.column.group.precision.formatStr,value=reading.value;return Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)(formatStr,value)}getNameUnits(column){return column.group.getNameUnits()}}customElements.define(VstCoreEweEntry.is,VstCoreEweEntry)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-toast> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@-webkit-keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}@keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}:host{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;bottom:-5em;left:0;z-index:201;visibility:hidden;opacity:0;cursor:pointer;-webkit-transition:all .4s cubic-bezier(.4,0,.2,1);transition:all .4s cubic-bezier(.4,0,.2,1);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}:host(.show){visibility:visible;opacity:1;bottom:0}.toast{display:grid;max-width:100%;width:100%;height:auto;color:#f0f1f1;background:rgba(0,0,0,.8);grid-template-columns:auto 1fr}.toast p{margin:0;padding:1rem 1.5rem}.toast button{padding:1rem 1.5rem}@media (min-width:30em){.toast{width:auto;margin-bottom:.5em;border-radius:.25rem}}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);text-align:left;font-size:1em;border:0;color:#007377;padding:0;background:0 0;text-transform:uppercase;font-size:14px;color:#9cc653;margin-left:2em}button::-moz-focus-inner{border:0;padding:0}button *{pointer-events:none}button a,button button{pointer-events:auto}button:active{outline:0}button[disabled]{opacity:.2;cursor:default;pointer-events:none}button:active,button:hover{color:#005153;background-color:#f0f1f1}button:active{background-color:#e3e4e5}button:hover{color:#83ad39}</style> <div id=toast class=toast on-click=doneClicked> <p id=message></p> <button id=action on-click=actionClicked></button> </div> </template> </dom-module>');__webpack_require__(310)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2);class VstCoreToast extends Polymer.GestureEventListeners(Polymer.Element){static get is(){return'vst-core-toast'}connectedCallback(){super.connectedCallback();const toast=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('toast');toast.initToast(this)}doneClicked(){this.dispatchEvent(new CustomEvent('doneClicked'))}actionClicked(){this.dispatchEvent(new CustomEvent('actionClicked'))}}customElements.define(VstCoreToast.is,VstCoreToast)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-graph-options> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{display:block;background:#fff}.graph-options{padding:1.125rem;width:18.75rem}.graph-options__legend{margin-bottom:.1875rem;display:block;font-weight:700}.graph-options__fieldset{padding:0;margin-bottom:1.5rem}.graph-options__fieldset:last-of-type{margin-bottom:0}.graph-options__submit-btn{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.graph-drawing__radio-group{display:-webkit-box;display:-ms-flexbox;display:flex}.graph-drawing__radio-block{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.graph-drawing__radio{margin-right:0}.graph-drawing__label{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-bottom:0}.graph-drawing__label:hover{cursor:pointer}.graph-ranges__range{font-size:.75em;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:.5rem;margin-top:.675rem}.graph-ranges__input-group{position:relative}.graph-ranges__input-group label{display:block;top:-.75rem;left:.3rem;position:absolute;background:#fff;padding:.25em .375em}.graph-ranges__to{line-height:2.25rem;margin:0 .28125rem}.graph-ranges__autoscale{font-size:.75em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.graph-ranges__autoscale-label{margin:0 .5em 0 0}.graph-ranges__autoscale-select{position:relative}.graph-ranges__autoscale-select select{-webkit-appearance:none;background:#fff;padding:.25em 1.5em .25em .5em;height:auto;color:#007377;border:0}.graph-ranges__autoscale-select select:hover{color:#005153}.graph-ranges__autoscale-select::after{content:\'\';width:0;height:0;position:absolute;pointer-events:none;border-left:.3125em solid transparent;border-right:.3125em solid transparent;top:calc(50% - .1875em);right:.75em;border-top:.5em solid #007377}</style> <vst-core-form on-submit=submitForm> <form class=graph-options id=graph_options_form> <fieldset class=graph-options__fieldset> <label class=graph-options__legend for=graph_title><strong>[[getText(\'Title\')]]</strong></label> <input id=graph_title type=text placeholder="[[getText(\'Add a graph title here\')]]" value={{title::input}}> </fieldset> <fieldset class=graph-options__fieldset> <div class=graph-drawing> <legend class=graph-options__legend on-click=_enableHiddenFeatures>[[getText(\'Appearance\')]]</legend> <div class=graph-drawing__radio-group> <div class=graph-drawing__radio-block> <input class=graph-drawing__radio id=graph_drawing_label_points type=radio name=graph_drawing_label value=points on-change=appearanceChanged checked=[[appearance.points]]> <label class=graph-drawing__label for=graph_drawing_label_points>[[getText(\'Points\')]]</label> </div> <div class=graph-drawing__radio-block> <input class=graph-drawing__radio id=graph_drawing_label_lines type=radio name=graph_drawing_label value=lines on-change=appearanceChanged checked=[[appearance.lines]]> <label class=graph-drawing__label for=graph_drawing_label_lines>[[getText(\'Lines\')]]</label> </div> <div class=graph-drawing__radio-block> <input class=graph-drawing__radio id=graph_drawing_label_both type=radio name=graph_drawing_label value=both on-change=appearanceChanged checked=[[isAppearanceBoth(appearance)]]> <label class=graph-drawing__label for=graph_drawing_label_both>[[getText(\'Both\')]]</label> </div> </div> </div> <template is=dom-if if=[[_showHiddenFeatures]]> <div> <label for=graph_line_weight class="">Line Weight: [[lineWeight]]px</label> <input id=graph_line_weight type=range min=1 max=14 value={{lineWeight::change}}> </div> <div> <label for=graph_label_size class="">Label Size: [[labelSize]]em</label> <input id=graph_label_size type=number min=0.5 max=2 step=0.01 value={{labelSize::change}}> </div> </template> </fieldset> <fieldset class="graph-ranges graph-options__fieldset"> <legend class=graph-options__legend>[[getText(\'x-axis range\')]]</legend> <div class=graph-ranges__range> <div class=graph-ranges__input-group> <input id=base_min type=number step=any required="" value={{xMin::input}} class$=[[xInvalid]]> <label for=base_min>[[getText(\'Left\')]]</label> </div> <span class=graph-ranges__to>to</span> <div class=graph-ranges__input-group> <input id=base_max type=number step=any required="" value={{xMax::input}} class$=[[xInvalid]]> <label for=base_max>[[getText(\'Right\')]]</label> </div> </div> <div class=graph-ranges__autoscale> <label class=graph-ranges__autoscale-label for=x_axis_scaling>[[getText(\'Scaling\')]]</label> <div class=graph-ranges__autoscale-select> <select id=base_scaling_mode name=base_scaling_mode on-change=_changeBaseScalingMode> <option value=automatic_scaling>[[getText(\'Automatic\')]]</option> <option value=show_zero_scaling>[[getText(\'Always Show 0\')]]</option> <option value=manual_scaling>[[getText(\'Manual Scaling\')]]</option> </select> </div> </div> </fieldset> <fieldset class="graph-ranges graph-options__fieldset"> <legend class=graph-options__legend>[[getText(\'y-axis range\')]]</legend> <div class=graph-ranges__range> <div class=graph-ranges__input-group> <input id=left_min type=number step=any required="" value={{yMin::input}} class$=[[yInvalid]]> <label for=left_min>[[getText(\'Bottom\')]]</label> </div> <span class=graph-ranges__to>to</span> <div class=graph-ranges__input-group> <input id=left_max type=number step=any required="" value={{yMax::input}} class$=[[yInvalid]]> <label for=left_max>[[getText(\'Top\')]]</label> </div> </div> <div class=graph-ranges__autoscale> <label class=graph-ranges__autoscale-label for=y_axis_scaling>[[getText(\'Scaling\')]]</label> <div class=graph-ranges__autoscale-select> <select id=left_scaling_mode name=left_scaling_mode on-change=_changeLeftScalingMode> <option value=automatic_scaling>[[getText(\'Automatic\')]]</option> <option value=show_zero_scaling>[[getText(\'Always Show 0\')]]</option> <option value=manual_scaling>[[getText(\'Manual Scaling\')]]</option> </select> </div> </div> </fieldset> <button class=graph-options__submit-btn type=submit>[[getText(\'Submit\')]]</button> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(312)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_corelib_util_RenderStatus__=__webpack_require__(13);class VstCoreGraphOptions extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-graph-options'}static get properties(){return{title:{type:String,value:'',observer:'titleChanged'},xMin:{type:Number,value:0},xMax:{type:Number,value:0},yMin:{type:Number,value:0},yMax:{type:Number,value:0},xInvalid:{type:String,value:''},yInvalid:{type:String,value:''},baseScaling:{type:String},leftScaling:{type:String},appearance:{type:Object,value(){return{lines:!0,points:!1}}},lineWeight:{type:Number,value:1,observer:'lineWeightChanged'},labelSize:{type:Number,value:0.67,observer:'labelSizeChanged'}}}static get observers(){return['xRangeChanged(xMin, xMax)','yRangeChanged(yMin, yMax)','appearanceChanged(lines, points)']}async connectedCallback(){super.connectedCallback();this._tapCount=0;await Object(__WEBPACK_IMPORTED_MODULE_1_corelib_util_RenderStatus__.a)();this.shadowRoot.querySelector('#base_scaling_mode').querySelector(`option[value=${this.baseScaling}]`).selected=!0;this.shadowRoot.querySelector('#left_scaling_mode').querySelector(`option[value=${this.leftScaling}]`).selected=!0}titleChanged(title){this.dispatchEvent(new CustomEvent('title-changed',{detail:title}))}xRangeChanged(min,max){min=parseFloat(min);max=parseFloat(max);if(min>=max){this.xInvalid='error'}else{this.xInvalid='';this.dispatchEvent(new CustomEvent('x-range-changed',{detail:{min,max}}))}}yRangeChanged(min,max){min=parseFloat(min);max=parseFloat(max);if(min>=max){this.yInvalid='error'}else{this.yInvalid='';this.dispatchEvent(new CustomEvent('y-range-changed',{detail:{min,max}}))}}isAppearanceBoth(appearance){return appearance.points&&appearance.lines}appearanceChanged(event){event.preventDefault();const{target:{value:key}}=event,appearance={points:!1,lines:!1};if('both'===key){appearance.points=!0;appearance.lines=!0}else{appearance[key]=!0}this.dispatchEvent(new CustomEvent('appearance-changed',{detail:appearance}))}isChecked(type){return type===this.appearance}_enableHiddenFeatures(){this._tapCount++;if(4<this._tapCount){this._showHiddenFeatures=!0}}lineWeightChanged(val){if(this._showHiddenFeatures){this.dispatchEvent(new CustomEvent('line-weight-changed',{detail:val}))}}labelSizeChanged(size){if(this._showHiddenFeatures){this.dispatchEvent(new CustomEvent('label-size-changed',{detail:size}))}}submitForm(){this.dispatchEvent(new CustomEvent('complete-workflow'))}_changeBaseScalingMode(e){const scaling=e.target.value;this.set('baseScalingMode',scaling);this.dispatchEvent(new CustomEvent('scaling-mode-changed',{detail:{base:scaling}}))}_changeLeftScalingMode(e){const scaling=e.target.value;this.set('leftScalingMode',scaling);this.dispatchEvent(new CustomEvent('scaling-mode-changed',{detail:{left:scaling}}))}}customElements.define(VstCoreGraphOptions.is,VstCoreGraphOptions)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-graph-annotation> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{position:absolute;z-index:150;overflow:hidden;display:block;border:1px solid #bdbebf;font-size:.875rem;background-color:#fff}:host([editing]){z-index:200;border-color:#288ffe;outline:3px solid #288ffe;outline-offset:-3px}:host([editing]) .annotation__actions,:host([editing]) .annotation__form{display:-webkit-box;display:-ms-flexbox;display:flex}:host([editing]) .annotation__static{display:none}:host(.show-ellipsis)::before{display:block;content:\'\';position:absolute;bottom:0;left:0;right:0;height:1rem;background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,0)),to(white));background-image:linear-gradient(rgba(255,255,255,0),#fff)}.annotation__static{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:.5em .675em;font-size:1em;cursor:pointer;max-width:15rem}.annotation__form{display:none;width:15rem}.annotation__input{-webkit-box-flex:1;-ms-flex:1;flex:1;border:0;padding:.5em .675em;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;width:100%}.annotation__actions{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;display:none;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:transparent;border:0;border-left:1px solid #288ffe}.annotation__actions::-moz-focus-inner{border:0;padding:0}.annotation__actions *{pointer-events:none}.annotation__actions a,.annotation__actions button{pointer-events:auto}.annotation__actions:active{outline:0}.annotation__actions-icon{width:1.125rem;height:1.125rem}</style> <div class=annotation id=annotation on-click=startEditing on-up=_stopPropagation on-track=dragAnnotation> <div class=annotation__static>[[annotationText]]</div> <vst-core-form on-submit=saveAnnotation> <form class=annotation__form id=[[id]]> <input class=annotation__input id=annotation_input type=text placeholder="[[getText(\'Enter an annotation\')]]" value={{annotationText::input}} on-blur=inputBlurred autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> <button class=annotation__actions id=annotation_actions type=button on-click=showActions on-focus=actionsFocused on-blur=actionsBlurred> <vst-core-icon class=annotation__actions-icon icon=icon-more-horiz-material-18></vst-core-icon> </button> </form> </vst-core-form> </div> </template> </dom-module>');__webpack_require__(314)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);class VstCoreGraphAnnotation extends Polymer.GestureEventListeners(Polymer.Element){static get is(){return'vst-core-graph-annotation'}static get properties(){return{editing:{type:Boolean,value:!1,reflectToAttribute:!0},annotationText:{type:String},actionsIsFocused:{type:Boolean,value:!1},xPos:{type:Number,notify:!0,observer:'_xPosChanged'},yPos:{type:Number,notify:!0,observer:'_yPosChanged'},xCanvasPos:{type:Number},yCanvasPos:{type:Number},graphInstance:{type:Object},maxHeight:{type:Number},udmId:{type:Number,value(){return 0}}}}connectedCallback(){super.connectedCallback();this.inputEl=this.shadowRoot.querySelector('#annotation_input');this.annotationBoxEl=this.shadowRoot.querySelector('#annotation');this.annotationActionsEl=this.shadowRoot.querySelector('#annotation_actions');this._debouncePositionUpdate=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.debounce(this.updateAnnotation.bind(this),300);this.setMaxDimensions(!1);this.startEditing();const resizeHandler=this.setMaxDimensions(!0);window.addEventListener('resize',resizeHandler);this.addEventListener('keydown',e=>{if(27===e.keyCode){this.saveAnnotation()}})}startEditing(){this.editing=!0;this.determineEllipsis();this.keepInBounds();setTimeout(()=>{this.inputEl.focus()},400)}setMaxDimensions(keepInBounds){this.plotRect=this.graphInstance.el.plotBox.getBoundingClientRect();this.maxHeight=0.75*this.plotRect.height;this.style.maxHeight=`${this.maxHeight}px`;if(keepInBounds){this.keepInBounds()}}showActions(){this.actionsIsFocused=!0;this.dispatchEvent(new CustomEvent('show-annotation-actions',{detail:{annotation:this,annotationBoxEl:this}}))}saveAnnotation(){if(this.annotationText){this.editing=!1;this.determineEllipsis()}else{this.annotationText=''}this.updateAnnotation();this.preventExamine=!0;setTimeout(()=>{this.preventExamine=!1},500)}updateAnnotation(){this.dispatchEvent(new CustomEvent('update-annotation',{detail:this}))}deleteAnnotation(){this.dispatchEvent(new CustomEvent('delete-annotation',{detail:this}))}inputBlurred(){setTimeout(()=>{if(!this.actionsIsFocused){this.saveAnnotation()}})}actionsFocused(){this.actionsIsFocused=!0}actionsBlurred(){this.actionsIsFocused=!1}determineEllipsis(){const annotationRect=this.getBoundingClientRect(),annotationBoxRect=this.annotationBoxEl.getBoundingClientRect();if(annotationBoxRect.height>this.maxHeight||annotationRect.bottom>this.plotRect.bottom){this.classList.add('show-ellipsis')}else{this.classList.remove('show-ellipsis')}}dragAnnotation(e){this.dispatchEvent(new CustomEvent('drag-annotation',{detail:e}));e.stopPropagation()}reposition(){this.setMaxDimensions(!1);this.setCanvasPos(this.xCanvasPos,this.yCanvasPos)}keepInBounds(){const annotationRect=this.getBoundingClientRect();if(annotationRect.right>this.plotRect.right){this.xPos=this.plotRect.width-annotationRect.width}if(annotationRect.bottom>this.plotRect.bottom){this.yPos=this.plotRect.height-annotationRect.height}}setCanvasPos(xCanvasPos,yCanvasPos){this.xPos=this.graphInstance.getAxis('x').p2c(xCanvasPos);this.yPos=this.graphInstance.getAxis('y').p2c(yCanvasPos)}disconnectedCallback(){super.disconnectedCallback();const resizeHandler=this.setMaxDimensions(!0);window.removeEventListener('resize',resizeHandler)}_xPosChanged(){this.xCanvasPos=this.graphInstance.getAxis('x').c2p(this.xPos);this.style.left=`${this.xPos}px`;this._debouncePositionUpdate()}_yPosChanged(){this.yCanvasPos=this.graphInstance.getAxis('y').c2p(this.yPos);this.style.top=`${this.yPos}px`;this._debouncePositionUpdate()}_stopPropagation(e){e.stopPropagation()}}customElements.define(VstCoreGraphAnnotation.is,VstCoreGraphAnnotation)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-meter> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}.sensor{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;border:0;font-size:1em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.sensor::-moz-focus-inner{border:0;padding:0}.sensor *{pointer-events:none}.sensor a,.sensor button{pointer-events:auto}.sensor:active{outline:0}.sensor__reading{font-weight:700;font-variant-numeric:tabular-nums;white-space:nowrap}.sensor__name{overflow:hidden;text-overflow:ellipsis}.sensor__reading-units{white-space:nowrap}.sensor .divider-symbol{margin-right:.35em}.sensor[disabled]{cursor:default;pointer-events:none}:host([metersize=large]){-ms-flex-negative:0;flex-shrink:0;min-height:80px}:host([metersize=large]) .sensor{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;background:#505253;color:#fff;padding:1.125rem}@media (min-width:42em){:host([metersize=large]) .sensor{padding:1.6875rem}}:host([metersize=large]) .sensor__name{font-size:1.5em;text-align:left;max-width:27em}@media (min-width:42em){:host([metersize=large]) .sensor__name{font-size:2.75em}}:host([metersize=large]) .sensor__reading{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:2.5em;margin-left:1em;text-align:right}@media (min-width:42em){:host([metersize=large]) .sensor__reading{font-size:4em}}:host([metersize=large]) .sensor .divider-symbol{display:none}:host([metersize=medium]){display:-webkit-box;display:-ms-flexbox;display:flex}:host([metersize=medium]) .sensor{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:.5625rem;background-color:#fff;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}@media (min-width:42em){:host([metersize=medium]) .sensor{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}}:host([metersize=medium]) .sensor__name{max-width:100%;font-size:1em;margin-bottom:.25em}:host([metersize=medium]) .sensor__reading{font-size:2.5em;line-height:1;min-height:2.5rem}:host([metersize=mini]){display:-webkit-box;display:-ms-flexbox;display:flex}:host([metersize=mini]) .sensor{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;background:#fff;color:#373839;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1);border:1px solid #bdbebf;border-radius:.25rem;font-size:.67em;padding:.25rem .5rem;text-overflow:ellipsis;max-width:100%;overflow:hidden;white-space:nowrap;height:1.75rem}:host([metersize=mini]) .sensor::-moz-focus-inner{border:0;padding:0}:host([metersize=mini]) .sensor *{pointer-events:none}:host([metersize=mini]) .sensor a,:host([metersize=mini]) .sensor button{pointer-events:auto}:host([metersize=mini]) .sensor:active{outline:0}:host([metersize=mini]) .sensor:active,:host([metersize=mini]) .sensor:hover{-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3);box-shadow:0 1px 3px rgba(0,0,0,.3);border:1px solid #a3a5a6}:host([metersize=mini]) .sensor:active{-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3),inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:0 1px 3px rgba(0,0,0,.3),inset 0 0 1px 1px rgba(0,0,0,.15)}:host([metersize=mini]) .sensor[disabled]{background-color:transparent;-webkit-box-shadow:none;box-shadow:none;cursor:default;border-color:transparent}:host([metersize=mini]) .sensor[disabled]:hover{-webkit-box-shadow:none;box-shadow:none}:host([metersize=mini]) .sensor__name{max-width:14em;white-space:nowrap}:host([show-name-only]) .sensor__reading{visibility:hidden}:host([disabled]) .sensor__name,:host([disabled]) .sensor__reading,:host([disabled]) .sensor__reading-units{color:#787a7c}:host([hidden]){display:none}</style> <button class=sensor active=[[active]] type=button disabled$=[[!buttonEnabled]] style$="background-color: [[getBackgroundColor(metersize, color)]]"> <span class=sensor__name>[[name]]<span class=divider-symbol hidden$=[[showNameOnly]]>:</span></span> <span class=sensor__reading style$="color: [[getReadingColor(metersize, color)]]"> <span>[[value]]</span> <span class=sensor__reading-units hidden$=[[showNameOnly]]>[[units]]</span> </span> </button> </template> </dom-module>');__webpack_require__(316)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreMeter extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-meter'}static get properties(){return{active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},channel:{type:String,notify:!0},color:{type:String,notify:!0,reflectToAttribute:!0,value:'rgba(216, 38, 47, 1)'},buttonEnabled:{type:Boolean,value:!1},metersize:{type:String,notify:!0,reflectToAttribute:!0},name:{type:String,value:'',notify:!0},units:{type:String,value:'',notify:!0},value:{type:String,value:'',notify:!0},showNameOnly:{type:Boolean,value:!0,reflectToAttribute:!0,computed:'_showNameOnly(value)'}}}connectedCallback(){super.connectedCallback();this.disabledChangeObserver=new MutationObserver(mutationsList=>{const changedToEnabled=mutationsList.find(mutation=>'disabled'===mutation.attributeName&&!mutation.target.disabled);if(changedToEnabled&&!1===this.enabled){changedToEnabled.target.disabled=!0}}).observe(this.shadowRoot.querySelector('.sensor'),{attributes:!0})}disconnectedCallback(){super.disconnectedCallback();if(this.disabledChangeObserver)this.disabledChangeObserver.disconnect()}_showNameOnly(value){return''===value}getBackgroundColor(metersize){return'large'===metersize?this.color:null}getReadingColor(metersize){return'medium'===metersize?this.color:null}}customElements.define(VstCoreMeter.is,VstCoreMeter)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-meter-container> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{display:-webkit-box;display:-ms-flexbox;display:flex}:host([metersize=large]),:host([metersize=medium]){-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;overflow-x:hidden;margin-top:.5625rem}:host([metersize=large]) ::slotted(vst-core-meter),:host([metersize=medium]) ::slotted(vst-core-meter){margin:.5625rem;margin-top:0}:host([metersize=mini]){-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-ms-flexbox;display:flex}:host([metersize=mini]) ::slotted(vst-core-meter){margin:.4375rem .1875rem}:host([disabled]){display:none}.message{font-size:.67em;color:#373839;-ms-flex-item-align:center;align-self:center;margin:0 .375rem}</style> <template is=dom-if if=[[doShowMessage]]> <div class=message>[[message]]</div> </template> <slot id=meters name=meter></slot> </template> </dom-module>');__webpack_require__(318)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_ViewElementMixin__=__webpack_require__(40);class VstCoreMeterContainer extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_ViewElementMixin__.a)(Polymer.Element)){static get is(){return'vst-core-meter-container'}static get properties(){return{metersize:{type:String,notify:!0,reflectToAttribute:!0,observer:'_metersizeChanged'},message:{type:String,notify:!0,value(){return''}},showMessage:{type:Boolean,notify:!0,value(){return!1},observer:'_computeShowMessage'},hasMeters:{type:Boolean,notify:!0,value(){return!1},observer:'_computeShowMessage'},doShowMessage:{type:Boolean,notify:!0,value(){return!1}},meterButtonsEnabled:{type:Boolean,value:!0,observer:'_enableMeters'}}}addMeter(id,position){const meterEl=document.createElement('vst-core-meter');meterEl.id=id;meterEl.slot='meter';meterEl.position=position||0;meterEl.metersize=this.metersize;meterEl.classList.add('simptip-position-top');this.appendChild(meterEl);this.sortMeters();this.hasMeters=!0;return meterEl}removeMeter(id){const meter=this.getMeter(id);meter.remove();if(0>=this.getAllMeters().length){this.hasMeters=!1}}removeAllMeters(){const meters=this.getAllMeters();meters.forEach(meter=>{meter.remove()})}getMeter(id){return this.querySelector(`[id="${id}"]`)}getAllMeters(){const meters=Array.from(this.querySelectorAll('vst-core-meter'));return meters}_enableMeters(enabled){this.getAllMeters().forEach(meter=>{meter.buttonEnabled=enabled})}sortMeters(){const meters=Array.prototype.slice.call(this.children,0);Array.prototype.sort.call(meters,function(m1,m2){return m1.position-m2.position}).forEach(child=>{this.appendChild(child)})}_metersizeChanged(){const meters=this.getAllMeters();meters.forEach(meter=>{meter.metersize=this.metersize})}_computeShowMessage(){let showMessage=!1;if(this.showMessage&&!this.hasMeters){showMessage=!0}this.doShowMessage=showMessage}}customElements.define(VstCoreMeterContainer.is,VstCoreMeterContainer)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-sensor-actions> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background-color:#fff;display:block}.sensor-header{display:block;position:relative;background:#e3e4e5;padding:.5625rem .75rem;padding-right:2.5rem}.sensor-header h2{display:inline-block;font-weight:700;margin:0;font-size:.75rem;text-transform:uppercase}.sensor-header .btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;position:absolute;top:.2rem;right:.2rem}.sensor-header .btn-cancel::-moz-focus-inner{border:0;padding:0}.sensor-header .btn-cancel *{pointer-events:none}.sensor-header .btn-cancel a,.sensor-header .btn-cancel button{pointer-events:auto}.sensor-header .btn-cancel:active{outline:0}.sensor-header .btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.sensor-header .btn-cancel:active,.sensor-header .btn-cancel:hover{background-color:rgba(0,2,4,.1)}.sensor-header .btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.sensor-header .btn-cancel vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}.sensor-header__title{white-space:nowrap}.sensor-header__subtitle{font-size:.75em;color:#787a7c;margin:0}.sensor-header__info-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;border:0;padding:.375rem;background-color:transparent;width:2rem;height:2rem;position:absolute;right:.325em;top:.325rem}.sensor-header__info-btn::-moz-focus-inner{border:0;padding:0}.sensor-header__info-btn *{pointer-events:none}.sensor-header__info-btn a,.sensor-header__info-btn button{pointer-events:auto}.sensor-header__info-btn:active{outline:0}.battery-alert{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:.5625rem}.battery-alert__icon{margin-right:.125rem;margin-bottom:.1rem;width:1.25rem;height:1.25rem}</style> <template is=dom-if if=[[batteryAlert]]> <div class=battery-alert> <vst-core-battery class=battery-alert__icon charging=[[battery.charging]] battery-percent=[[battery.percent]]></vst-core-battery> <span style=color:[[batteryIndicatorColor]]>[[battery.percent]]% [[getText(\'Battery\')]]</span> </div> </template> <template is=dom-if if=[[header.title]]> <header class=sensor-header> <h2 class=sensor-header__title>[[header.title]]</h2> <template is=dom-if if=[[header.subtitle]]> <p class=sensor-header__subtitle>[[header.subtitle]]</p> </template> <template is=dom-if if=[[header.hasInfo]]> <button class=sensor-header__info-btn type=button on-click=showInfo><vst-core-icon icon=icon-information-outline-20x20></vst-core-icon></button> </template> </header> </template> <template is=dom-if if=[[sensorActions]]> <vst-ui-listbox id=listbox view=[[sensorActions]]></vst-ui-listbox> </template> </template> </dom-module>');__webpack_require__(320)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreSensorActions extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-sensor-actions'}static get properties(){return{header:{type:Object,value(){return{}}},sensorActions:{type:Array,value(){return[]}},battery:{type:Object,value(){return{}}},batteryAlert:{type:Boolean,computed:'_showBatteryAlert(battery)'},batteryIndicatorColor:{type:String,value:''}}}connectedCallback(){super.connectedCallback();setTimeout(()=>{if(this.batteryAlert){this.batteryIndicatorColor=this.shadowRoot.querySelector('vst-core-battery').getIndicatorColor(this.battery.percent)}})}showInfo(){this.dispatchEvent(new CustomEvent('show-sensor-info'))}_showBatteryAlert(battery){if(20>battery.percent){return!0}return!1}}customElements.define(VstCoreSensorActions.is,VstCoreSensorActions)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-sparklines> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host(.inactive) polyline{stroke:#bdbebf!important}</style> </template> </dom-module>');__webpack_require__(322)},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathmin9=Math.min,_Mathmax12=Math.max;Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);function getMetrics(graph){const metrics={xMin:0,xMax:0,yMin:0,yMax:0};if(!graph.traces.columns[0]||!graph.traces.columns[1]){return metrics}graph.traces.columns.forEach((col,i)=>{if(0===i){col.values.forEach((x,j)=>{if(0===j){metrics.xMin=x;metrics.xMax=x}metrics.xMin=_Mathmin9(x,metrics.xMin);metrics.xMax=_Mathmax12(x,metrics.xMax)})}else{col.values.forEach((y,j)=>{if(0===j){metrics.yMin=y;metrics.yMax=y}metrics.yMin=_Mathmin9(y,metrics.yMin);metrics.yMax=_Mathmax12(y,metrics.yMax)})}});if(metrics.xMin===metrics.xMax){metrics.xMin-=0.5;metrics.xMax+=0.5}if(metrics.yMin===metrics.yMax){metrics.yMin-=0.5;metrics.yMax+=0.5}return metrics}function formatPointsForPolyline(x,y){let ret='';const numPoints=x.length-1;for(let i=0;i<numPoints;++i){ret+=`${x[i]} ${y[i]}, `}ret+=`${x[numPoints]} ${y[numPoints]}`;return ret}function pxToRem(px){return`${px/16}rem`}class VstCoreSparklines extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-sparklines'}static get properties(){return{gap:{type:Number,value:5},graphs:{type:Array,notify:!0,observer:'graphsChanged',value(){return[]}},height:{type:Number,notify:!0,value:180},responsive:{type:Boolean,notify:!0,value:!0},strokeWidth:{type:Number,notify:!0,value:2},width:{type:Number,notify:!0,value:320}}}connectedCallback(){super.connectedCallback();this.init()}init(){if(!Array.isArray(this.graphs)){this.graphs=[this.graphs]}if(!this.svg){this.svgNS='http://www.w3.org/2000/svg';this.svg=document.createElementNS(this.svgNS,'svg');this.shadowRoot.appendChild(this.svg)}this.svg.setAttribute('viewBox',`0 0 ${this.width} ${this.height}`);if(!this.responsive){this.svg.setAttribute('width',this.width);this.svg.setAttribute('height',this.height)}this.graphHeight=this.height/this.graphs.length;this.padding=4*this.strokeWidth;this.halfPadding=this.padding/2;this.graphs.forEach((graph,index)=>{const metrics=getMetrics(graph),traces=graph.traces,nCols=traces.columns.length;if(2<=nCols){for(let i=1;i<nCols;++i){const x=traces.columns[0].values,y=traces.columns[i].values,color=traces.columns[i].color||'rgba(0,0,0,1)';if(traces.style.lines&&traces.style.points){this.drawPolyline(x,y,color,index,metrics);this.drawDots(x,y,color,index,metrics)}else if(traces.style.points){this.drawDots(x,y,color,index,metrics)}else{this.drawPolyline(x,y,color,index,metrics)}}}})}drawPolyline(x,y,color,offset,metrics){if(1<x.length){const[xs,ys]=this.scalePoints(x,y,offset,metrics),polyline=document.createElementNS(this.svgNS,'polyline');polyline.setAttribute('fill','none');polyline.setAttribute('stroke',color);polyline.setAttribute('stroke-width',pxToRem(this.strokeWidth));polyline.setAttribute('points',formatPointsForPolyline(xs,ys));this.svg.appendChild(polyline)}}drawDots(x,y,color,offset,metrics){const[xs,ys]=this.scalePoints(x,y,offset,metrics);for(let i=0;i<x.length;++i){const circle=document.createElementNS(this.svgNS,'circle');circle.setAttribute('cx',xs[i]);circle.setAttribute('cy',ys[i]);circle.setAttribute('r',this.strokeWidth);circle.setAttribute('fill','#ffffff');circle.setAttribute('stroke',color);circle.setAttribute('stroke-width',pxToRem(this.strokeWidth));this.svg.appendChild(circle)}}scalePoints(x,y,offset,metrics){const scaledXs=[],scaledYs=[];for(let i=0;i<x.length;++i){const scaledX=(this.width-this.padding)*(x[i]-metrics.xMin)/(metrics.xMax-metrics.xMin)+this.halfPadding;let scaledY=(this.graphHeight-this.padding)*(y[i]-metrics.yMin)/(metrics.yMax-metrics.yMin)+this.halfPadding;scaledY=this.graphHeight-scaledY;scaledY+=this.graphHeight*offset;scaledXs[i]=scaledX.toFixed(2);scaledYs[i]=scaledY.toFixed(2)}return[scaledXs,scaledYs]}graphsChanged(){if(this.isAttached){this.set('svg.innerHTML','');this.init()}}}customElements.define(VstCoreSparklines.is,VstCoreSparklines)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-rename> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}.name-label{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.name-input{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1.125rem;float:right}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn:hover{background-color:#005153}.btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.error-message{color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;display:block;margin:.5625rem 0 0}.error-message:hover{cursor:text}.error-message a{color:#911a21!important;text-decoration:underline!important}</style> <form id=rename_form on-submit=save> <label class=name-label for=name_input></label> <input class=name-input type=text placeholder=[[nameDescription]] id=name_input required="" value={{name::input}} on-input=nameInputChanged> <template is=dom-if if={{hasError(errorMessage)}}> <p class=error-message>[[errorMessage]]</p> </template> <button class=btn type=submit>[[getText(\'Rename\')]]</button> </form> </template> </dom-module>');__webpack_require__(324)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreRename extends Object(__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-rename'}static get properties(){return{name:{type:String,value:''},nameDescription:{type:String,value:''},nameMaxLength:{type:Number,value:500},nameMaxLengthError:{type:String,value:''},errorMessage:{type:String,value:''}}}connectedCallback(){super.connectedCallback();Polymer.RenderStatus.afterNextRender(this,()=>{this.nameEl=this.shadowRoot.querySelector('#name_input');this.nameEl.select();this.validate()})}save(e){e.preventDefault();this.dispatchEvent(new CustomEvent('save'))}cancel(){this.dispatchEvent(new CustomEvent('cancel'))}nameInputChanged(){setTimeout(()=>this.validate())}hasError(message){return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(message)&&0<message.length}validate(){const getMaxLengthErrorText=()=>{const configuredMaxLengthError=this.nameMaxLengthError,configuredHasValue=0<configuredMaxLengthError.length,nameMaxLengthError=configuredHasValue?configuredMaxLengthError:(()=>Object(__WEBPACK_IMPORTED_MODULE_1_corelib_lib_sprintf__.sprintf)(this.getText('Name cannot exceed %s characters'),this.nameMaxLength))();return nameMaxLengthError};if(!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isUndefined(this.nameMaxLength)){const lengthError=this.name.length>this.nameMaxLength,validityMessage=lengthError?getMaxLengthErrorText():'';this.nameEl.setCustomValidity(validityMessage);this.set('errorMessage',validityMessage)}}}customElements.define(VstCoreRename.is,VstCoreRename)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-icon> <template> <style>:host{pointer-events:none}.icon{width:100%;height:100%}</style> <img class=icon src$=elements/core/vst-core-icon/icons/{{icon}}.svg> </template> </dom-module>');__webpack_require__(326)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreIcon extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-icon'}static get properties(){return{icon:{type:String,value:'icon-csv',notify:!0,reflectToAttribute:!0}}}}customElements.define(VstCoreIcon.is,VstCoreIcon)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=icon-graph-tools> <template> <style>.color-transition{transition:fill var(--transition-default-speed),stroke var(--transition-default-speed)}.color-stroke{stroke:var(--graph-tools-color)}.color-fill{fill:var(--graph-tools-color)}</style> <svg class=graph-tools-icon viewBox="0 0 24 24"> <g> <polyline class="color-stroke color-transition" fill=none stroke=#000 stroke-width=1.5 stroke-miterlimit=10 points="9.79,14.21 15.81,11 19.43,5.18"></polyline> <rect class="color-fill color-transition" fill=#000 x=4 y=3 width=2 height=19></rect> <rect class="color-fill color-transition" fill=#000 x=2 y=18 width=19 height=2></rect> <circle class="color-stroke color-fill color-transition" fill=#000 stroke=#000 stroke-width=2.5 stroke-miterlimit=10 cx=15.81 cy=11 r=0.79></circle> <circle class="color-stroke color-fill color-transition" fill=#000 stroke=#000 stroke-width=2.5 stroke-miterlimit=10 cx=19.43 cy=5.18 r=0.79></circle> <path class="color-stroke color-transition" fill=none stroke=#000 stroke-width=0.7857 stroke-miterlimit=10 d=M23,0></path> <circle class="color-stroke color-fill color-transition" fill=#000 stroke=#000 stroke-width=2.5 stroke-miterlimit=10 cx=9.79 cy=14.21 r=0.79></circle> </g> </svg> </template> </dom-module>');__webpack_require__(328)},function(){class IconGraphTools extends Polymer.Element{static get is(){return'icon-graph-tools'}}customElements.define(IconGraphTools.is,IconGraphTools)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-message-box> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}.body-content{width:30rem;max-width:100%}.btn-container{margin-top:1rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin:.5625rem .5625rem 0 0}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn:hover{background-color:#005153}.btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.btn:last-child{margin-right:0}.btn-secondary{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#e3e4e5;border-color:#bdbebf;color:#007377}.btn-secondary::-moz-focus-inner{border:0;padding:0}.btn-secondary *{pointer-events:none}.btn-secondary a,.btn-secondary button{pointer-events:auto}.btn-secondary:active{outline:0}.btn-secondary[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn-secondary:active,.btn-secondary:hover{background-color:#fff;color:#005153}.btn-secondary:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.btn-tertiary{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c}.btn-tertiary::-moz-focus-inner{border:0;padding:0}.btn-tertiary *{pointer-events:none}.btn-tertiary a,.btn-tertiary button{pointer-events:auto}.btn-tertiary:active{outline:0}.btn-tertiary[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn-tertiary:active,.btn-tertiary:hover{color:#373839;background-color:transparent}.btn-tertiary:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.btn-error{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;color:#d22630;border-color:#d22630;background-color:#fff}.btn-error::-moz-focus-inner{border:0;padding:0}.btn-error *{pointer-events:none}.btn-error a,.btn-error button{pointer-events:auto}.btn-error:active{outline:0}.btn-error[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn-error:active,.btn-error:hover{background-color:#d22630;color:#fff}.btn-error:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.btn-left{margin-right:auto}.margin-right-0{margin-right:0}</style> <div class=body-content id=body_content> [[view.body]] </div> <div class=btn-container> <template is=dom-repeat items=[[view.buttons]] as=button> <button id=[[button.id]] on-click=buttonClicked class$=[[_computeClass(button)]]>[[button.message]]</button> </template> </div> </template> </dom-module>');__webpack_require__(330)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreMessageBox extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-message-box'}static get properties(){return{view:{type:Object,value(){return{title:'',body:'',bodyAsHTML:!1,buttons:[{id:'',message:'',style:''}]}}}}}connectedCallback(){super.connectedCallback();setTimeout(()=>{if(this.view.bodyAsHTML){const bodyContext=this.shadowRoot.querySelector('#body_content');bodyContext.innerHTML=this.view.body}})}buttonClicked(e){const id=e.target.id;this.dispatchEvent(new CustomEvent('button-clicked',{detail:{msg:id}}))}_computeClass(button){return`btn ${button.style}`}}customElements.define(VstCoreMessageBox.is,VstCoreMessageBox)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-wait> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@-webkit-keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}@keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}:root{--paper-spinner-layer-1-color:#007377;--paper-spinner-layer-2-color:#007377;--paper-spinner-layer-3-color:#007377;--paper-spinner-layer-4-color:#007377;--paper-spinner-stroke-width:0.1875rem}:host{top:0;right:0;bottom:0;left:0;z-index:199}.background{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.wrapper{-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-name:fadeInUp;animation-name:fadeInUp;max-width:37.5rem}.spinner{display:inline-block;width:1.75rem;height:1.75rem}.message-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.message{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:1em;font-weight:700;margin:0}:host(.has-message) .message-wrapper{padding:2.125em 1.75em;text-align:center;background-color:#fff;border-radius:.25rem}:host(.has-message) .message{margin:0 0 0 1.125rem}:host([fill-screen]){position:absolute}:host([fill-screen]) .background{width:100%;height:100%;background:rgba(210,210,210,.6)}:host([fill-screen]) .message-wrapper{border:1px solid #bdbebf}.el-container vst-core-meter-container{font-size:.666em}</style> <div class=background> <div class=wrapper> <div class=message-wrapper> <paper-spinner class=spinner active=""></paper-spinner> <p class=message id=message>[[message]]</p> </div> <div class=el-container id=el_container></div> </div> </div> </template> </dom-module>');__webpack_require__(332)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreWait extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-wait'}static get properties(){return{elements:{type:Array,value(){return[]}},message:{type:String,message:'',observer:'_messageChanged'},fillScreen:{type:Boolean,value:!1,reflectToAttribute:!0}}}connectedCallback(){super.connectedCallback();this.elContainerEl=this.shadowRoot.getElementById('el_container')}addElement(el){this.elements.push(el);this.elContainerEl.appendChild(el)}removeElements(){const elementsLength=this.elements.length;for(let i=0;i<elementsLength;++i){const elToRemove=this.elements.shift();if(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isFunction(elToRemove.destroy)){elToRemove.destroy()}else{elToRemove.remove()}}}_messageChanged(){if(''!==this.message){this.classList.add('has-message')}else{this.classList.remove('has-message')}}}customElements.define(VstCoreWait.is,VstCoreWait)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-toolbar> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}[data-tooltip]{position:relative}[data-tooltip]:after,[data-tooltip]:before{position:absolute;display:none;z-index:101;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}[data-tooltip]:before{content:\'\';border:8px solid transparent}[data-tooltip]:after{height:22px;padding:11px 11px 0 11px;border-radius:.25rem;font-size:13px;line-height:11px;content:attr(data-tooltip);white-space:nowrap}[data-tooltip].simptip-position-top:before{border-top-color:#373839}[data-tooltip].simptip-position-top:after{background-color:#373839;color:#fff}[data-tooltip].simptip-position-bottom:before{border-bottom-color:#373839}[data-tooltip].simptip-position-bottom:after{background-color:#373839;color:#fff}[data-tooltip].simptip-position-left:before{border-left-color:#373839}[data-tooltip].simptip-position-left:after{background-color:#373839;color:#fff}[data-tooltip].simptip-position-right:before{border-right-color:#373839}[data-tooltip].simptip-position-right:after{background-color:#373839;color:#fff}[data-tooltip].simptip-position-bottom-left:before{border-bottom-color:#373839}[data-tooltip].simptip-position-bottom-left:after{background-color:#373839;color:#fff}[data-tooltip].simptip-position-bottom-right:before{border-bottom-color:#373839}[data-tooltip].simptip-position-bottom-right:after{background-color:#373839;color:#fff}[data-tooltip].simptip-position-top.half-arrow:before{border-right:9px solid #373839}[data-tooltip].simptip-position-bottom.half-arrow:before{border-right:9px solid #373839}[data-tooltip].simptip-position-bottom-left.half-arrow:before{border-right:9px solid #373839}[data-tooltip].simptip-position-bottom-right.half-arrow:before{border-right:9px solid #373839}[data-tooltip]:hover:after,[data-tooltip]:hover:before{display:inline-block}.simptip-position-left:after,.simptip-position-left:before,.simptip-position-right:after,.simptip-position-right:before{bottom:50%}.simptip-position-left:before,.simptip-position-right:before{margin-bottom:-7px}.simptip-position-left:after,.simptip-position-right:after{margin-bottom:-14.66667px}.simptip-position-right:after,.simptip-position-right:before{left:100%}.simptip-position-right:before{margin-left:-5px}.simptip-position-right:after{margin-left:10px}.simptip-position-left:after,.simptip-position-left:before{right:100%}.simptip-position-left:before{margin-right:-2px}.simptip-position-left:after{margin-right:10px}.simptip-position-bottom:after,.simptip-position-bottom:before,.simptip-position-top:after,.simptip-position-top:before{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.simptip-position-bottom:after,.simptip-position-top:after{width:auto}.simptip-position-bottom:after,.simptip-position-bottom:before{top:100%}.simptip-position-bottom:before{margin-top:-7px}.simptip-position-bottom:after{margin-top:8px}.simptip-position-bottom:hover:after,.simptip-position-bottom:hover:before{-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.simptip-position-bottom-left:after,.simptip-position-bottom-left:before{left:5px}.simptip-position-bottom-left:after,.simptip-position-bottom-left:before{top:100%}.simptip-position-bottom-left:before{margin-top:-7px;-webkit-transform:translate(calc(50% - 2.5px),0);transform:translate(calc(50% - 2.5px),0)}.simptip-position-bottom-left:after{margin-top:8px;-webkit-transform:translate(-5px,0);transform:translate(-5px,0)}.simptip-position-bottom-right:after,.simptip-position-bottom-right:before{right:5px}.simptip-position-bottom-right:after,.simptip-position-bottom-right:before{top:100%}.simptip-position-bottom-right:before{margin-top:-7px}.simptip-position-bottom-right:after{margin-top:8px;-webkit-transform:translate(5px,0);transform:translate(5px,0)}.simptip-position-top:after,.simptip-position-top:before{bottom:100%}.simptip-position-top:before{margin-bottom:-7px}.simptip-position-top:after{margin-bottom:7px}.simptip-position-top:hover:after,.simptip-position-top:hover:before{-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}.simptip-smooth:after{border-radius:4px}.simptip-fade:after,.simptip-fade:before{-webkit-transition:opacity .2s linear,visibility .2s linear;transition:opacity .2s linear,visibility .2s linear}:host{background:#e3e4e5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;border-bottom:1px solid #cacbcc;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left);padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}.toolbar{height:3.125rem;display:-webkit-box;display:-ms-flexbox;display:flex}.left-content,.right-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.left-content{padding-left:3px;overflow:auto}.right-content{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:3px}.center-content{display:none;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 .5625rem}.toolbar-collect,.toolbar-keep{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;background-color:#fff;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1);min-width:5.875rem;padding:.6em .75em .5em;border:1px solid #bdbebf;border-radius:.25rem;font-weight:700;font-size:.875rem;color:#007377;text-transform:uppercase}.toolbar-collect::-moz-focus-inner,.toolbar-keep::-moz-focus-inner{border:0;padding:0}.toolbar-collect *,.toolbar-keep *{pointer-events:none}.toolbar-collect a,.toolbar-collect button,.toolbar-keep a,.toolbar-keep button{pointer-events:auto}.toolbar-collect:active,.toolbar-keep:active{outline:0}.toolbar-collect:active,.toolbar-collect:hover,.toolbar-keep:active,.toolbar-keep:hover{-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3);box-shadow:0 1px 3px rgba(0,0,0,.3);outline:0;color:#005153;cursor:pointer}.toolbar-collect:active,.toolbar-keep:active{-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:0 1px 1px rgba(0,0,0,.1),inset 0 0 1px 1px rgba(0,0,0,.15)}.toolbar-collect[disabled],.toolbar-keep[disabled]{cursor:default;pointer-events:none}:host(.show-wait) .toolbar-collect{z-index:201}.toolbar-keep{-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:none;background:#007377;color:#fff;border:1px solid #00696d}.toolbar-keep[disabled]{opacity:.2;cursor:default;pointer-events:none}.toolbar-keep:hover{background:#005153;color:#fff;border:1px solid #004749}.toolbar-keep:disabled:hover{background:#007377;border:1px solid #00696d;color:#fff}[connected][can-control] .center-content{display:-webkit-box;display:-ms-flexbox;display:flex}[can-keep] .toolbar-keep{display:block;margin-left:.5625rem}</style> <header class=toolbar id=toolbar connected$={{connected}} can-control$={{canControl}} can-keep$={{canKeep}} is-collecting$={{isCollecting}}> <div class=left-content> <slot name=toolbar_left></slot> </div> <div class=center-content> <template is=dom-if if=[[canControl]]> <button id=collect_btn class=toolbar-collect disabled$=[[!collectButtonEnabled]] on-click=collectData aria-label$="[[getText(\'Start and Stop Collection\')]]">[[getText(\'Collect\')]]</button> </template> <template is=dom-if if=[[canKeep]]> <button id=keep_btn class=toolbar-keep on-click=keepData disabled$=[[!keepButtonEnabled]]>[[getText(\'Keep\')]]</button> </template> </div> <div class=right-content> <slot name=toolbar_right></slot> </div> </header> </template> </dom-module>');__webpack_require__(334)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_util_keyboardEvents__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreToolbar extends Object(__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-toolbar'}static get properties(){return{connected:{type:Boolean,notify:!0,reflectToAttribute:!0,value:!1,observer:'connectedChanged'},canControl:{type:Boolean,notify:!0,value:!1},canKeep:{type:Boolean,notify:!0,reflectToAttribute:!0,value:!1},isCollecting:{type:Boolean,notify:!0,observer:'isCollectingChanged',value:!1},syncStatus:{type:String,value:''},experimentName:{type:String,value:'',observer:'experimentNameChanged'},persistantFS:{type:Boolean,value:!1,observer:'lastSavedMessage'},notify:{type:String,reflectToAttribute:!0,value:''},keepButtonEnabled:{type:Boolean,value:!1,observer:'_keepButtonEnabledChanged'},collectButtonEnabled:{type:Boolean,value:!0}}}isCollectingChanged(newCanCollect){const collectBtn=this.shadowRoot.getElementById('collect_btn');if(collectBtn){if(newCanCollect){collectBtn.classList.add('is-collecting');collectBtn.textContent=this.getText('Stop')}else{collectBtn.classList.remove('is-collecting');collectBtn.textContent=this.getText('Collect');collectBtn.blur();collectBtn.classList.remove('is-loading')}}}connectedChanged(){}lastSavedMessage(){}connectedCallback(){super.connectedCallback();this.popoverManager=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('popover-manager');this.experimentNameEl=this.querySelector('#experiment_name');this.lastSavedMessage();const toolbarButtonEls=this.querySelectorAll('button');console.dir(toolbarButtonEls);toolbarButtonEls.forEach(toolbarButtonEl=>{toolbarButtonEl.addEventListener('click',e=>{let action;if(__WEBPACK_IMPORTED_MODULE_1_corelib_util_keyboardEvents__.a.devKeyDown){action='show-debug-options'}else{action=e.target.dataset.action}this.dispatchEvent(new CustomEvent(action,{detail:{anchor:e.target,orientation:'bottom'}}))})});this.bind(document,'keydown',e=>{if(32===e.keyCode&&!this._windowIsFocused){if(this.canControl){const collectBtn=this.shadowRoot.getElementById('collect_btn');if(!collectBtn.disabled){this.collectData()}}else{const keepBtn=this.shadowRoot.querySelector('#keep_btn');if(!keepBtn.disabled){this.keepData()}}}});this.bind(window,'focusin',()=>{this._windowIsFocused=!0});this.bind(window,'focusout',()=>{this._windowIsFocused=!1})}collectData(){const collectBtn=this.shadowRoot.getElementById('collect_btn');if(this.collectButtonEnabled){this.collectButtonEnabled=!1;if(this.isCollecting){this.dispatchEvent(new CustomEvent('stop-collection'))}else{this.dispatchEvent(new CustomEvent('start-collection'))}setTimeout(()=>{this.collectButtonEnabled=!0},500)}collectBtn.classList.toggle('is-loading');setTimeout(()=>{collectBtn.classList.remove('is-loading')},8e3)}keepData(){this.dispatchEvent(new CustomEvent('keep-point'))}focusKeep(){const keepBtn=this.shadowRoot.querySelector('#keep_btn');keepBtn.focus()}_keepButtonEnabledChanged(enabled){const keepBtn=this.shadowRoot.querySelector('#keep_btn');if(keepBtn&&this.canKeep){if(enabled){keepBtn.focus()}else{keepBtn.blur()}}}experimentNameChanged(){if(this.experimentNameEl){this.experimentNameEl.innerText=this.experimentName}}}customElements.define(VstCoreToolbar.is,VstCoreToolbar)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-table> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{--vst-grid-border-color:#bdbebf;--vst-grid-selected-background-color:#e9f1ff;--vst-grid-selected-border-color:#288ffe;--vst-grid-readonly-selected-background-color:#e9f1ff;--vst-grid-header-background-color:#e3e4e5;--vst-grid-header-font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;--vst-grid-header-text-color:#373839;--vst-grid-body-font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;--vst-grid-body-text-color:#373839;background:#e3e4e5;overflow:hidden;position:relative;height:100%}:host([disabled]){display:none}*,:after,:before{-webkit-box-sizing:border-box;box-sizing:border-box}input[type=number]{-moz-appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.grid{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;width:100%;color:var(--vst-grid-body-text-color,#000);font-size:12px;font-variant-numeric:tabular-nums;outline:0}.grid_header{position:absolute;font-family:var(--vst-grid-header-font-family,sans-serif)}.grid_header_sidebar{position:absolute}.grid_header_sidebar_block{border-style:solid;border-color:var(--vst-grid-border-color,#888);border-width:.0625rem .0625rem .0625rem .0625rem;background-color:var(--vst-grid-header-background-color,#bbb);overflow:hidden}.grid_header_viewport_container{overflow:hidden;position:absolute}.grid_header_viewport{overflow-x:auto;overflow-y:hidden;position:absolute;border-style:solid;border-color:var(--vst-grid-border-color,#888);border-width:0 0 .0625rem 0;-webkit-overflow-scrolling:touch}.grid_header_row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.grid_header_row:nth-last-child(1) .grid_header_cell{border-width:.0625rem .0625rem .0625rem 0!important}.grid_header_cell{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-width:.0625rem .0625rem 0 0;height:2rem;border-style:solid;border-color:var(--vst-grid-border-color,#888);padding:.3125rem;background-color:var(--vst-grid-header-background-color,#bbb);color:var(--vst-grid-header-text-color,#000);min-width:var(--vst-grid-cell-width,6.25rem);text-align:center;overflow:hidden;text-overflow:ellipsis;line-height:1.35;font-size:.75rem}.grid_header_cell.data_set_header{min-width:calc(var(--vst-grid-cell-width,$cell_width) * 2 + .6875rem)}.grid_body_viewport{height:100%;max-width:100%;overflow:auto;position:absolute;-webkit-overflow-scrolling:touch;overflow-x:hidden}.grid_body_sidebar{min-width:3.75rem;position:absolute}.grid_body_sidebar_cell{display:table-cell;width:3.75rem;min-width:3.75rem;max-width:3.75rem;height:2rem;max-height:2rem;border-style:solid;border-color:var(--vst-grid-border-color,#888);border-width:0 .0625rem .0625rem .0625rem;color:var(--vst-grid-header-text-color,#000);font-family:var(--vst-grid-header-font-family,sans-serif);font-size:.75rem;background-color:var(--vst-grid-header-background-color,#bbb);padding:.3125rem;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}.grid_body_container{position:relative;overflow:hidden}.grid_body{overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;position:absolute;padding-bottom:.9375rem;font-family:var(--vst-grid-body-font-family,monospace)}.grid_body::-webkit-scrollbar{display:none}.grid_body_cell{border-width:0 .0625rem .0625rem 0;height:2rem;display:table-cell;border-style:solid;border-color:var(--vst-grid-border-color,#888);padding:.3125rem;background-color:var(--vst-grid-body-background-color,#fff);min-width:var(--vst-grid-cell-width,6.25rem);max-width:var(--vst-grid-cell-width,6.25rem);text-align:right;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;outline:0;font-size:.75rem}.grid_body_cell>input{width:100%;text-align:right;font-size:.75rem}.grid_text{outline:.0625rem var(--vst-grid-selected-border-color,#00f) solid;padding:.3125rem;max-width:calc(var(--vst-grid-cell-width,$cell_width) - 1px);border-radius:0;margin:0}.grid_text.deepedit{font-weight:700}.grid_body_cell.selected{background-color:var(--vst-grid-selected-background-color,#ccf)}.grid_body_cell.readonly.selected{background-color:var(--vst-grid-readonly-selected-background-color,#eef)}.grid_body_cell.shows_text{padding:0}.grid_header_sidebar_block{border-width:0 .0625rem .0625rem .0625rem}.grid_header_viewport{border-width:0}.grid_header_cell{border-width:0 .0625rem 0 0}.grid_header_cell{padding:0}.grid_dataset_header_cell_title,.grid_header_cell_title{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis;margin:0 .1875rem;max-height:2rem;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box}.grid_dataset_header_cell_title{font-weight:700}.grid_header_cell_btn{-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;width:1.75rem;height:2rem;margin-left:-.3125rem;background:0 0;padding:0;border:0;opacity:.4}.grid_header_cell_btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.grid_header_cell_btn:focus{outline:0}.grid_header_cell_btn:focus .grid_header_cell_btn_icon{outline:-webkit-focus-ring-color auto 5px}.grid_header_cell_btn:hover{opacity:1}.grid_header_cell_btn_icon{width:1.125rem;height:1.125rem}</style> <div class=grid id=placeholder on-click=gridTapped> <div class=grid_header> <div class=grid_header_sidebar> <div class=grid_header_sidebar_block>&nbsp;</div> </div> <div class=grid_header_viewport_container> <div class=grid_header_viewport> </div> </div> </div> <div class=grid_body_viewport> <div class=grid_body_sidebar></div> <div class=grid_body_container> <div class=grid_body></div> </div> </div> </div> </template> </dom-module>');__webpack_require__(336)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_vst_grid__=__webpack_require__(337),__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_3_corelib_mixins_ViewElementMixin__=__webpack_require__(40);class VstCoreTable extends Object(__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_CoreElementMixin__.a)(Object(__WEBPACK_IMPORTED_MODULE_3_corelib_mixins_ViewElementMixin__.a)(Polymer.Element)){static get is(){return'vst-core-table'}static get properties(){return{disabled:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:'disabledChanged'},scrollDisabled:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:'scrollDisabledChanged'},interactionsDisabled:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:'interactionsDisabledChanged'},cellWidth:{type:Number,value:6.25,reflectToAttribute:!0},examinePinIndex:{type:Number,observer:'selectRow'}}}componentLoaded(){const gridEl=this.shadowRoot.querySelector('#placeholder'),registerTapOverride=(el,fn)=>{el.addEventListener('click',()=>{setTimeout(fn)});['grid-mouse-select-start','grid-touch-tap','grid-touch-select-start','grid-touch-select','touchstart'].forEach(evt=>{this.bind(el,evt,e=>e.stopPropagation())})};this.grid=Object(__WEBPACK_IMPORTED_MODULE_1_vst_grid__.a)({gridEl,padding:0.3125,borderSize:0.0625,sidebarWidth:3.75,scrollerSize:0.9375,itemHeight:2,itemWidth:this.cellWidth,cellResolver:{textToValue:(text,emptyValue,parseFailed)=>{const trimmedText=text.trim();if(0<trimmedText.length){const attemptedValue=+trimmedText;if(!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNaN(attemptedValue)){return attemptedValue}return parseFailed}return emptyValue},valueToText:(value,column,isEditing)=>{if(isEditing||!column.context.format){return value+''}return column.context.format(value)},isEmpty:value=>{return value===void 0||__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNaN(value)},createEmpty:()=>void 0},onUserInputChange:changes=>{this.dispatchEvent(new CustomEvent('user-input-change',{detail:changes}))},onUiSelection:selection=>{this.dispatchEvent(new CustomEvent('content-selected',{detail:selection}))},onUiScroll:()=>{this.dispatchEvent(new CustomEvent('ui-scrolled'))},onShowSelectContextMenu:({clipboard,cellEl})=>{this.dispatchEvent(new CustomEvent('clipboard-menu-selected',{detail:{anchor:cellEl,orientation:'top',clipboard}}))},renderDataSetContext:({headerCellEl,dataSet})=>{const nameSpanEl=document.createElement('span'),optionsButtonEl=document.createElement('button'),optionsButtonIconEl=document.createElement('vst-core-icon');nameSpanEl.classList.add('grid_dataset_header_cell_title');optionsButtonEl.classList.add('grid_header_cell_btn');optionsButtonIconEl.classList.add('grid_header_cell_btn_icon');optionsButtonEl.setAttribute('title',this.getText('More Options'));optionsButtonIconEl.setAttribute('icon','icon-more-horiz-material-18');optionsButtonEl.appendChild(optionsButtonIconEl);registerTapOverride(optionsButtonEl,()=>{this.dispatchEvent(new CustomEvent('data-set-selected',{detail:{orientation:'bottom',anchor:optionsButtonEl,dataSetId:dataSet.id}}))});headerCellEl.appendChild(nameSpanEl);headerCellEl.appendChild(optionsButtonEl);return context=>{nameSpanEl.innerText=context.name}},renderColumnContext:({headerCellEl,column})=>{const nameContainerEl=document.createElement('div'),nameSpanEl=document.createElement('span'),unitsSpanEl=document.createElement('span'),optionsButtonEl=document.createElement('button'),optionsButtonIconEl=document.createElement('vst-core-icon');nameContainerEl.classList.add('grid_header_cell_title');optionsButtonEl.classList.add('grid_header_cell_btn');optionsButtonIconEl.classList.add('grid_header_cell_btn_icon');optionsButtonEl.setAttribute('title',this.getText('More Options'));optionsButtonIconEl.setAttribute('icon','icon-more-horiz-material-18');optionsButtonEl.appendChild(optionsButtonIconEl);registerTapOverride(optionsButtonEl,()=>{this.dispatchEvent(new CustomEvent('column-selected',{detail:{orientation:'bottom',anchor:optionsButtonEl,columnId:column.id}}))});headerCellEl.appendChild(nameContainerEl);nameContainerEl.appendChild(nameSpanEl);nameContainerEl.appendChild(unitsSpanEl);headerCellEl.appendChild(optionsButtonEl);return context=>{const{name,units}=context;nameSpanEl.textContent=name;function chopper(containerEl,columnNameEl,columnUnitsEl){function unitsAreCutoff(){const containerElRect=containerEl.getBoundingClientRect(),unitsElRect=columnUnitsEl.getBoundingClientRect();return parseInt(unitsElRect.bottom)>parseInt(containerElRect.bottom)}if(unitsAreCutoff()){columnNameEl.textContent+='...';while(unitsAreCutoff()){const columnNameArr=columnNameEl.textContent.split('');columnNameArr.splice(columnNameArr.length-4,1);columnNameEl.textContent=columnNameArr.join('')}}}if(units){unitsSpanEl.textContent=` (${units})`;chopper(nameContainerEl,nameSpanEl,unitsSpanEl)}}}});this.grid.disabled=this.disabled;this.grid.scrollDisabled=this.scrollDisabled;this.grid.interactionsDisabled=this.interactionsDisabled;window.grid=this.grid}_getColumnMapping({id,name,units,readonly=!1,format,values}){return{id,context:{id,name,units,format},readonly,values}}addDataSet({id,name,columns,scrollToRow=!0}){const{grid,autoScrollDisabled}=this;if(0===columns.length){throw Error('need at least on column with dataset')}const columnParams=columns.map(this._getColumnMapping);if(scrollToRow&&!autoScrollDisabled){grid.scrollToRow(0,!0)}grid.addDataSet({id,context:{name},columns:columnParams}).scrollTo();this._disableMoreBtns()}hasDataSet(id){const{grid}=this;return!!grid.getDataSet(id)}addColumn(columnInfo){const{grid,autoScrollDisabled}=this,{dataSetID,scrollToRow=!0,position}=columnInfo,dataSet=grid(dataSetID),columnParam=this._getColumnMapping(columnInfo);if(scrollToRow&&!autoScrollDisabled){grid.scrollToRow(0,!0)}if(position>=dataSet.colspan){dataSet.appendColumns([columnParam])[0].scrollTo()}else{dataSet.insertColumns(position,[columnParam])[0].scrollTo()}this._disableMoreBtns()}updateColumnName({id,dataSetId,name,units}){const{grid}=this,dataSet=grid(dataSetId);if(dataSet){const column=dataSet(id),context=column.context;context.name=name;context.units=units;column.context=context}}updateDataSetName({id,name}){const{grid}=this,dataSet=grid(id),context=dataSet.context;context.name=name;dataSet.context=context}updateColumnFormatter({id,dataSetId,format}){const{grid}=this,column=grid(dataSetId)(id),context=column.context;context.format=format;column.refresh()}updateColumnValues({id,dataSetId,values,scrollToRow=!0}){const{grid,disableAutoScroll}=this;grid(dataSetId)(id).setValues(values);if(!disableAutoScroll&&scrollToRow){const index=0<values.length?values.length-1:0;grid.scrollToRow(index,!0)}}refreshHeaders(){const{grid}=this;grid.refreshHeaders()}removeColumn({id,dataSetId}){const{grid}=this,dataSet=grid(dataSetId),column=dataSet(id);if(1<dataSet.colspan){column.remove()}else{dataSet.remove()}}clearGrid(){const{grid}=this;grid.clear()}selectRow(rowIndex){const{grid}=this;if(grid&&rowIndex!==void 0){grid.select({rowIndex})}}clearInterations(){const{grid}=this;grid.clearInterations()}focusGrid(){const{grid}=this;grid.focus()}disabledChanged(value){const{grid}=this;if(grid){grid.disabled=value}}scrollDisabledChanged(value){const{grid}=this;if(grid){grid.scrollDisabled=value}}interactionsDisabledChanged(value){const{grid}=this;if(grid){grid.interactionsDisabled=value}this._disableMoreBtns()}_disableMoreBtns(){const moreOptionsBtnEls=Array.from(this.shadowRoot.querySelectorAll('.grid_header_cell_btn'));moreOptionsBtnEls.forEach(btnEl=>{btnEl.disabled=this.interactionsDisabled})}gridTapped(){this.dispatchEvent(new CustomEvent('grid-tapped'))}}customElements.define(VstCoreTable.is,VstCoreTable)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__dataSetGrid_createDatasetGrid__=__webpack_require__(338);__webpack_require__.d(__webpack_exports__,'a',function(){return __WEBPACK_IMPORTED_MODULE_0__dataSetGrid_createDatasetGrid__.a})},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__grid_createGrid__=__webpack_require__(339),__WEBPACK_IMPORTED_MODULE_1__internal_prepareRender_createPrepareGrid__=__webpack_require__(350),__WEBPACK_IMPORTED_MODULE_2__internal_prepareRender_createPrepareRowSidebar__=__webpack_require__(351),__WEBPACK_IMPORTED_MODULE_3__internal_prepareRender_createPrepareGridCell__=__webpack_require__(352),__WEBPACK_IMPORTED_MODULE_4__internal_prepareRender_createPrepareHeaders__=__webpack_require__(353),__WEBPACK_IMPORTED_MODULE_5__internal_model_createDataSetCollection__=__webpack_require__(354),__WEBPACK_IMPORTED_MODULE_6__internal_createInteractionContext__=__webpack_require__(364),__WEBPACK_IMPORTED_MODULE_7__internal_createSelectionApi__=__webpack_require__(371),__WEBPACK_IMPORTED_MODULE_8__internal_completeCellResolver__=__webpack_require__(372),__WEBPACK_IMPORTED_MODULE_9__internal_completeAssign__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_10__internal_createGridTouchEvents__=__webpack_require__(373),__WEBPACK_IMPORTED_MODULE_11__internal_priv__=__webpack_require__(7);__webpack_exports__.a=({gridEl,padding=0.3125,borderSize=0.0625,sidebarWidth=3.75,scrollerSize=0.9375,itemHeight=2,itemWidth=6.25,cellResolver:cellResolverConfig,minRows=10,onShowSelectContextMenu=()=>{},onUiSelection=()=>{},onUserInputChange=()=>{},onUiScroll=()=>{},renderDataSetContext=()=>{},renderColumnContext=()=>{}})=>{const dataSetGrid=dsIndex=>dataSetGrid.getDataSet(dsIndex);gridEl.style.setProperty('--vst-grid-cell-width',`${itemWidth}rem`);const gridTouchEvents=Object(__WEBPACK_IMPORTED_MODULE_10__internal_createGridTouchEvents__.a)({dataSetGrid,onUiScroll,gridEl}),cellResolver=Object(__WEBPACK_IMPORTED_MODULE_8__internal_completeCellResolver__.a)(cellResolverConfig),interactionContext=Object(__WEBPACK_IMPORTED_MODULE_6__internal_createInteractionContext__.a)({dataSetGrid,cellResolver,callbacks:{onShowSelectContextMenu,onUiSelection,onUserInputChange},gridTouchEvents}),selection=Object(__WEBPACK_IMPORTED_MODULE_7__internal_createSelectionApi__.a)({interactionContext,dataSetGrid}),prepareGrid=Object(__WEBPACK_IMPORTED_MODULE_1__internal_prepareRender_createPrepareGrid__.a)({interactionContext,dataSetGrid}),prepareGridCell=Object(__WEBPACK_IMPORTED_MODULE_3__internal_prepareRender_createPrepareGridCell__.a)({interactionContext}),prepareRowSidebar=Object(__WEBPACK_IMPORTED_MODULE_2__internal_prepareRender_createPrepareRowSidebar__.a)({interactionContext,dataSetGrid}),prepareHeaders=Object(__WEBPACK_IMPORTED_MODULE_4__internal_prepareRender_createPrepareHeaders__.a)({interactionContext,renderDataSetContext,renderColumnContext}),{select,scrollToRow,getSelection}=selection,grid=Object(__WEBPACK_IMPORTED_MODULE_0__grid_createGrid__.a)({gridEl,padding,borderSize,sidebarWidth,scrollerSize,rowHeight:itemHeight,cellWidth:itemWidth,prepareHeaders,prepareGridCell,prepareRowSidebar,prepareGrid,minRows,onScroll:uiScroll=>gridTouchEvents.onScroll(uiScroll)}),{addDataSet,getDataSet,getLength,getDataSets,getColumns,getColspan,getRawColumns,dataSets,getReadonly,clear:clearDataSet,refreshHeaders}=Object(__WEBPACK_IMPORTED_MODULE_5__internal_model_createDataSetCollection__.a)({dataSetGrid,cellResolver,interactionContext}),{clear:clearInterations}=interactionContext,{clear:clearGrid}=grid,getTotalRows=()=>grid.totalRows;return Object(__WEBPACK_IMPORTED_MODULE_9__internal_completeAssign__.a)(dataSetGrid,{get dataSetLength(){return getLength()},get totalRows(){return getTotalRows()},get colspan(){return getColspan()},get selection(){return selection},get columns(){return getColumns()},get dataSets(){return getDataSets()},get readonly(){return getReadonly()},get disabled(){return interactionContext.gridDisabled},set disabled(value){interactionContext.gridDisabled=value},get scrollDisabled(){return interactionContext.scrollDisabled},set scrollDisabled(value){interactionContext.scrollDisabled=value},get interactionsDisabled(){return interactionContext.interactionsDisabled},set interactionsDisabled(value){interactionContext.interactionsDisabled=value},get topVisibleRowIndex(){return grid.topVisibleRowIndex},get bottomVisibleRowIndex(){return grid.bottomVisibleRowIndex},get leftVisibleColumn(){return grid.leftVisibleColumn},get rightVisibleColumn(){return grid.rightVisibleColumn},addDataSet,getDataSet,select,scrollToRow,getSelection,clearInterations,focus:()=>interactionContext.focus(),clear:()=>{scrollToRow(0,!0);clearGrid();clearDataSet()},refreshHeaders,[__WEBPACK_IMPORTED_MODULE_11__internal_priv__.a]:{dataSets,grid,minRows,getRawColumns}})}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__internal_applyVerticalScroll__=__webpack_require__(340),__WEBPACK_IMPORTED_MODULE_1__internal_applyHorizontalScroll__=__webpack_require__(341),__WEBPACK_IMPORTED_MODULE_2__internal_createScrollState__=__webpack_require__(342),__WEBPACK_IMPORTED_MODULE_3__internal_createGridLayout__=__webpack_require__(343),__WEBPACK_IMPORTED_MODULE_4__internal_createRowCache__=__webpack_require__(345),__WEBPACK_IMPORTED_MODULE_5__internal_createHeaderCache__=__webpack_require__(347),__WEBPACK_IMPORTED_MODULE_6__internal_createRenderAccumulator__=__webpack_require__(73),__WEBPACK_IMPORTED_MODULE_7__internal_createGridApi__=__webpack_require__(349);const noop=()=>{};__webpack_exports__.a=({gridEl,padding=0.3125,borderSize=0.0625,sidebarWidth=3.75,scrollerSize=0.9375,rowHeight=2,cellWidth=6.25,prepareHeaders=[],prepareRowSidebar=()=>noop,prepareGridCell=()=>noop,prepareGrid=noop,minRows:minRowsConfig=10,onScroll:onScrollHandler=noop}={})=>{const minRows=1<minRowsConfig?minRowsConfig:1,totalHeaderRows=prepareHeaders.length,accumulator=Object(__WEBPACK_IMPORTED_MODULE_6__internal_createRenderAccumulator__.a)(),gridLayout=Object(__WEBPACK_IMPORTED_MODULE_3__internal_createGridLayout__.a)({rowHeight,borderSize,sidebarWidth,scrollerSize,padding,cellWidth,totalHeaderRows,gridEl,prepareGrid}),rowCache=Object(__WEBPACK_IMPORTED_MODULE_4__internal_createRowCache__.a)({gridLayout,prepareGridCell,prepareRowSidebar,minRows}),headerCache=Object(__WEBPACK_IMPORTED_MODULE_5__internal_createHeaderCache__.a)({gridLayout,prepareHeaders}),scrollState=Object(__WEBPACK_IMPORTED_MODULE_2__internal_createScrollState__.a)({onScrollHandler});Object(__WEBPACK_IMPORTED_MODULE_1__internal_applyHorizontalScroll__.a)({scrollState,gridLayout});Object(__WEBPACK_IMPORTED_MODULE_0__internal_applyVerticalScroll__.a)({scrollState,gridLayout,rowCache,headerCache,accumulator});gridLayout.onResize((newItemsPerScreen,topItem)=>{rowCache.resize(accumulator,newItemsPerScreen,topItem,headerCache.columnDataList);accumulator.applyChanges()});const api=Object(__WEBPACK_IMPORTED_MODULE_7__internal_createGridApi__.a)({gridLayout,rowCache,headerCache,scrollState});rowCache.initCache(accumulator,gridLayout.itemsPerScreen,headerCache.columnDataList);rowCache.changeTotalRows(accumulator,minRows,headerCache.columnDataList);accumulator.applyChanges();return api}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash_debounce__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_0_lodash_debounce___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_debounce__);__webpack_exports__.a=({rowCache,headerCache,gridLayout,accumulator,scrollState})=>{const{gridBodyViewportEl,rowHeight}=gridLayout,{onScroll}=scrollState;gridBodyViewportEl.addEventListener('scroll',e=>{const scrollTop=e.target.scrollTop,baseFontSize=parseFloat(window.getComputedStyle(document.documentElement).fontSize),currentTopRow=parseInt(scrollTop/(rowHeight*baseFontSize)),{columnDataList}=headerCache;onScroll();if(rowCache.rerender(accumulator,columnDataList,currentTopRow)){accumulator.applyChanges()}if(e.preventDefault){e.preventDefault()}});const forceRepaint=()=>{gridBodyViewportEl.style.transform='translateY(0)';setTimeout(()=>gridBodyViewportEl.style.transform='',0)};if(window.cordova&&'ios'===window.cordova.platformId){gridBodyViewportEl.addEventListener('scroll',__WEBPACK_IMPORTED_MODULE_0_lodash_debounce___default()(forceRepaint,300))}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=({gridLayout,scrollState})=>{const{gridHeaderViewportEl,gridBodyEl}=gridLayout,{onScroll}=scrollState;let ignoreBodyScrolling=!1,ignoreHeaderScolling=!1;gridHeaderViewportEl.addEventListener('scroll',()=>{if(ignoreHeaderScolling){ignoreHeaderScolling=!1;return}onScroll();ignoreBodyScrolling=!0;gridBodyEl.scrollLeft=gridHeaderViewportEl.scrollLeft});gridBodyEl.addEventListener('scroll',()=>{if(ignoreBodyScrolling){ignoreBodyScrolling=!1;return}onScroll();ignoreHeaderScolling=!0;gridHeaderViewportEl.scrollLeft=gridBodyEl.scrollLeft})}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=({onScrollHandler})=>{let suppressCount=0;return{suppressUiNotfication:()=>{suppressCount++},onScroll:()=>{const uiScroll=0===suppressCount;onScrollHandler(uiScroll);if(0<suppressCount){suppressCount--}}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_resize_observer_polyfill__=__webpack_require__(344),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);__webpack_exports__.a=({rowHeight,borderSize,sidebarWidth,scrollerSize,padding,cellWidth,totalHeaderRows,gridEl,prepareGrid})=>{const gridHeaderEl=gridEl.querySelector('.grid_header'),gridHeaderSidebarBlockEl=gridEl.querySelector('.grid_header_sidebar_block'),gridHeaderViewportContainerEl=gridEl.querySelector('.grid_header_viewport_container'),gridHeaderViewportEl=gridEl.querySelector('.grid_header_viewport'),gridBodyViewportEl=gridEl.querySelector('.grid_body_viewport'),gridBodyContainerEl=gridEl.querySelector('.grid_body_container'),gridBodyEl=gridEl.querySelector('.grid_body'),gridBodySidebarEl=gridEl.querySelector('.grid_body_sidebar'),px=val=>`${val}px`,rem=val=>`${val}rem`,pxToRem=val=>`${val/parseFloat(window.getComputedStyle(document.documentElement).fontSize)}`,remToPx=val=>`${val*parseFloat(window.getComputedStyle(document.documentElement).fontSize)}`;let itemsPerScreen=0;const resizeElements=()=>{const totalHeight=100<gridEl.clientHeight?gridEl.clientHeight:0,totalWidth=100<gridEl.clientWidth?gridEl.clientWidth:0,headerHeight=rowHeight*totalHeaderRows,bodyWidth=totalWidth-remToPx(sidebarWidth+scrollerSize),bodyHeight=totalHeight-remToPx(headerHeight+scrollerSize);gridHeaderSidebarBlockEl.style.width=rem(sidebarWidth);gridHeaderSidebarBlockEl.style.height=rem(headerHeight);gridHeaderViewportContainerEl.style.width=px(bodyWidth);gridHeaderViewportContainerEl.style.height=px(totalHeight);gridHeaderViewportContainerEl.style.left=rem(sidebarWidth);gridHeaderViewportEl.style.width=px(bodyWidth);gridHeaderViewportEl.style.height=px(totalHeight);gridBodyViewportEl.style.height=px(bodyHeight);gridBodyViewportEl.style['max-width']=px(totalWidth);gridBodyViewportEl.style['min-width']=px(totalWidth);gridBodyViewportEl.style.top=rem(headerHeight);gridBodySidebarEl.style['min-width']=rem(sidebarWidth);gridBodyContainerEl.style['max-width']=px(bodyWidth);gridBodyContainerEl.style.width=px(bodyWidth);gridBodyContainerEl.style.left=rem(sidebarWidth);gridBodyEl.style['max-width']=px(bodyWidth);gridBodyEl.style.width=px(bodyWidth);itemsPerScreen=Math.ceil(gridBodyViewportEl.offsetHeight/remToPx(rowHeight))};let resizeHandler=()=>{};const resize=()=>{resizeElements();const topVisibleRow=parseInt(gridBodyViewportEl.scrollTop/remToPx(rowHeight));resizeHandler(itemsPerScreen,topVisibleRow)};resizeElements();const debouncedResize=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.debounce)(()=>{resize()},200),ro=new __WEBPACK_IMPORTED_MODULE_0_resize_observer_polyfill__.a(()=>{debouncedResize()});ro.observe(gridEl);prepareGrid({gridEl,gridHeaderEl,gridBodyViewportEl});return{extendgridBodyEl:totalRows=>{const gridBodyElHeight=pxToRem(totalRows*remToPx(rowHeight)),gridBodyElStyleHeight=rem(gridBodyElHeight);gridBodyContainerEl.style.height=gridBodyElStyleHeight;gridBodyEl.style.height=gridBodyElStyleHeight;gridBodySidebarEl.style.height=gridBodyElStyleHeight},calcColspanRem:colspan=>{return rem(cellWidth*colspan)},itemsPerScreen,rowHeight,borderSize,sidebarWidth,scrollerSize,padding,cellWidth,onResize:newResizeHandler=>{resizeHandler=newResizeHandler},resize,gridEl,gridHeaderEl,gridHeaderSidebarBlockEl,gridHeaderViewportContainerEl,gridHeaderViewportEl,gridBodyViewportEl,gridBodyContainerEl,gridBodyEl,gridBodySidebarEl}}},function(module,__webpack_exports__){'use strict';var _Mathround4=Math.round,_Mathabs9=Math.abs,MapShim=function(){if('undefined'!==typeof Map){return Map}function getIndex(arr,key){var result=-1;arr.some(function(entry,index){if(entry[0]===key){result=index;return!0}return!1});return result}return function(){function anonymous(){this.__entries__=[]}var prototypeAccessors={size:{configurable:!0}};prototypeAccessors.size.get=function(){return this.__entries__.length};anonymous.prototype.get=function(key){var index=getIndex(this.__entries__,key),entry=this.__entries__[index];return entry&&entry[1]};anonymous.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);if(~index){this.__entries__[index][1]=value}else{this.__entries__.push([key,value])}};anonymous.prototype.delete=function(key){var entries=this.__entries__,index=getIndex(entries,key);if(~index){entries.splice(index,1)}};anonymous.prototype.has=function(key){return!!~getIndex(this.__entries__,key)};anonymous.prototype.clear=function(){this.__entries__.splice(0)};anonymous.prototype.forEach=function(callback,ctx){var this$1=this;if(void 0===ctx)ctx=null;for(var i=0,list=this$1.__entries__,entry;i<list.length;i+=1){entry=list[i];callback.call(ctx,entry[1],entry[0])}};Object.defineProperties(anonymous.prototype,prototypeAccessors);return anonymous}()}(),isBrowser='undefined'!==typeof window&&'undefined'!==typeof document&&window.document===document,global$1=function(){if('undefined'!==typeof global&&global.Math===Math){return global}if('undefined'!==typeof self&&self.Math===Math){return self}if('undefined'!==typeof window&&window.Math===Math){return window}return Function('return this')()}(),requestAnimationFrame$1=function(){if('function'===typeof requestAnimationFrame){return requestAnimationFrame.bind(global$1)}return function(callback){return setTimeout(function(){return callback(Date.now())},1e3/60)}}(),throttle=function(callback,delay){var leadingCall=!1,trailingCall=!1,lastCallTime=0;function resolvePending(){if(leadingCall){leadingCall=!1;callback()}if(trailingCall){proxy()}}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(2>timeStamp-lastCallTime){return}trailingCall=!0}else{leadingCall=!0;trailingCall=!1;setTimeout(timeoutCallback,delay)}lastCallTime=timeStamp}return proxy},transitionKeys=['top','right','bottom','left','width','height','size','weight'],mutationObserverSupported='undefined'!==typeof MutationObserver,ResizeObserverController=function(){this.connected_=!1;this.mutationEventsAdded_=!1;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=throttle(this.refresh.bind(this),20)};ResizeObserverController.prototype.addObserver=function(observer){if(!~this.observers_.indexOf(observer)){this.observers_.push(observer)}if(!this.connected_){this.connect_()}};ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_,index=observers.indexOf(observer);if(~index){observers.splice(index,1)}if(!observers.length&&this.connected_){this.disconnect_()}};ResizeObserverController.prototype.refresh=function(){var changesDetected=this.updateObservers_();if(changesDetected){this.refresh()}};ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter(function(observer){return observer.gatherActive(),observer.hasActive()});activeObservers.forEach(function(observer){return observer.broadcastActive()});return 0<activeObservers.length};ResizeObserverController.prototype.connect_=function(){if(!isBrowser||this.connected_){return}document.addEventListener('transitionend',this.onTransitionEnd_);window.addEventListener('resize',this.refresh);if(mutationObserverSupported){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}else{document.addEventListener('DOMSubtreeModified',this.refresh);this.mutationEventsAdded_=!0}this.connected_=!0};ResizeObserverController.prototype.disconnect_=function(){if(!isBrowser||!this.connected_){return}document.removeEventListener('transitionend',this.onTransitionEnd_);window.removeEventListener('resize',this.refresh);if(this.mutationsObserver_){this.mutationsObserver_.disconnect()}if(this.mutationEventsAdded_){document.removeEventListener('DOMSubtreeModified',this.refresh)}this.mutationsObserver_=null;this.mutationEventsAdded_=!1;this.connected_=!1};ResizeObserverController.prototype.onTransitionEnd_=function(ref){var propertyName=ref.propertyName;if(void 0===propertyName)propertyName='';var isReflowProperty=transitionKeys.some(function(key){return!!~propertyName.indexOf(key)});if(isReflowProperty){this.refresh()}};ResizeObserverController.getInstance=function(){if(!this.instance_){this.instance_=new ResizeObserverController}return this.instance_};ResizeObserverController.instance_=null;var defineConfigurable=function(target,props){for(var i=0,list=Object.keys(props),key;i<list.length;i+=1){key=list[i];Object.defineProperty(target,key,{value:props[key],enumerable:!1,writable:!1,configurable:!0})}return target},getWindowOf=function(target){var ownerGlobal=target&&target.ownerDocument&&target.ownerDocument.defaultView;return ownerGlobal||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){var positions=[],len=arguments.length-1;while(0<len--)positions[len]=arguments[len+1];return positions.reduce(function(size,position){var value=styles['border-'+position+'-width'];return size+toFloat(value)},0)}function getPaddings(styles){for(var positions=['top','right','bottom','left'],paddings={},i=0,list=positions;i<list.length;i+=1){var position=list[i],value=styles['padding-'+position];paddings[position]=toFloat(value)}return paddings}function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight){return emptyRect}var styles=getWindowOf(target).getComputedStyle(target),paddings=getPaddings(styles),horizPad=paddings.left+paddings.right,vertPad=paddings.top+paddings.bottom,width=toFloat(styles.width),height=toFloat(styles.height);if('border-box'===styles.boxSizing){if(_Mathround4(width+horizPad)!==clientWidth){width-=getBordersSize(styles,'left','right')+horizPad}if(_Mathround4(height+vertPad)!==clientHeight){height-=getBordersSize(styles,'top','bottom')+vertPad}}if(!isDocumentElement(target)){var vertScrollbar=_Mathround4(width+horizPad)-clientWidth,horizScrollbar=_Mathround4(height+vertPad)-clientHeight;if(1!==_Mathabs9(vertScrollbar)){width-=vertScrollbar}if(1!==_Mathabs9(horizScrollbar)){height-=horizScrollbar}}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement=function(){if('undefined'!==typeof SVGGraphicsElement){return function(target){return target instanceof getWindowOf(target).SVGGraphicsElement}}return function(target){return target instanceof getWindowOf(target).SVGElement&&'function'===typeof target.getBBox}}();function isDocumentElement(target){return target===getWindowOf(target).document.documentElement}function getContentRect(target){if(!isBrowser){return emptyRect}if(isSVGGraphicsElement(target)){return getSVGContentRect(target)}return getHTMLElementContentRect(target)}function createReadOnlyRect(ref){var x=ref.x,y=ref.y,width=ref.width,height=ref.height,Constr='undefined'!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,rect=Object.create(Constr.prototype);defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x});return rect}function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}}var ResizeObservation=function(target){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=createRectInit(0,0,0,0);this.target=target};ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);this.contentRect_=rect;return rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight};ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;this.broadcastWidth=rect.width;this.broadcastHeight=rect.height;return rect};var ResizeObserverEntry=function(target,rectInit){var contentRect=createReadOnlyRect(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect})},ResizeObserverSPI=function(callback,controller,callbackCtx){this.activeObservations_=[];this.observations_=new MapShim;if('function'!==typeof callback){throw new TypeError('The callback provided as parameter 1 is not a function.')}this.callback_=callback;this.controller_=controller;this.callbackCtx_=callbackCtx};ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.')}if('undefined'===typeof Element||!(Element instanceof Object)){return}if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(observations.has(target)){return}observations.set(target,new ResizeObservation(target));this.controller_.addObserver(this);this.controller_.refresh()};ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.')}if('undefined'===typeof Element||!(Element instanceof Object)){return}if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(!observations.has(target)){return}observations.delete(target);if(!observations.size){this.controller_.removeObserver(this)}};ResizeObserverSPI.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};ResizeObserverSPI.prototype.gatherActive=function(){var this$1=this;this.clearActive();this.observations_.forEach(function(observation){if(observation.isActive()){this$1.activeObservations_.push(observation)}})};ResizeObserverSPI.prototype.broadcastActive=function(){if(!this.hasActive()){return}var ctx=this.callbackCtx_,entries=this.activeObservations_.map(function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())});this.callback_.call(ctx,entries,ctx);this.clearActive()};ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)};ResizeObserverSPI.prototype.hasActive=function(){return 0<this.activeObservations_.length};var observers='undefined'!==typeof WeakMap?new WeakMap:new MapShim,ResizeObserver=function(callback){if(!(this instanceof ResizeObserver)){throw new TypeError('Cannot call a class as a function.')}if(!arguments.length){throw new TypeError('1 argument required, but only 0 present.')}var controller=ResizeObserverController.getInstance(),observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)};['observe','unobserve','disconnect'].forEach(function(method){ResizeObserver.prototype[method]=function(){return(ref=observers.get(this))[method].apply(ref,arguments);var ref}});var index=function(){if('undefined'!==typeof global$1.ResizeObserver){return global$1.ResizeObserver}return ResizeObserver}();__webpack_exports__.a=index},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__prepareRow__=__webpack_require__(346);__webpack_exports__.a=({gridLayout,prepareRowSidebar,prepareGridCell,minRows})=>{const{rowHeight,sidebarWidth,gridEl,gridBodyEl,gridBodySidebarEl}=gridLayout,cacheMultiplier=3;let cachedItems=[],previousCachedItems=[],itemsPerScreen=0,cachedItemsLen=0,shiftOffset=0,offsetItems=2,totalRows=0;const setCaches=newItemsPerScreen=>{itemsPerScreen=newItemsPerScreen+offsetItems;cachedItemsLen=itemsPerScreen*cacheMultiplier;shiftOffset=itemsPerScreen*(cacheMultiplier-2)},initCache=(accumulator,newItemsPerScreen,columnDataList)=>{setCaches(newItemsPerScreen);previousCachedItems=cachedItems;cachedItems=[];for(let i=0;i<cachedItemsLen;i++){if(0<previousCachedItems.length){const cachedItem=previousCachedItems.pop();cachedItems.push(cachedItem);continue}const cachedItem=Object(__WEBPACK_IMPORTED_MODULE_0__prepareRow__.a)({prepareRowSidebar,prepareGridCell,gridEl,length:columnDataList.length});cachedItems.push(cachedItem);const{rowEl,sidebarEl,updateRow}=cachedItem;cachedItem.hide=()=>{rowEl.style.display='none';sidebarEl.style.display='none';sidebarEl.style.transform=rowEl.style.transform=`translate3d(0px, 0px, 0px)`};cachedItem.show=(columnDataList,rowIndex)=>{updateRow(columnDataList,rowIndex);sidebarEl.style.transform=rowEl.style.transform=`translate3d(0px, ${rowIndex*rowHeight}rem, 0px)`;rowEl.style.display=cachedItem.rowElDisplayStyle;sidebarEl.style.display=cachedItem.sidebarElDisplayStyle};cachedItem.rowElDisplayStyle=rowEl.style.display;cachedItem.sidebarElDisplayStyle=sidebarEl.style.display;accumulator.queueRender(()=>{rowEl.style.position='absolute';rowEl.style.height=`${rowHeight}rem`;sidebarEl.style.position='absolute';sidebarEl.style.height=`${rowHeight}rem`;sidebarEl.style['max-height']=`${rowHeight}rem`;sidebarEl.style.width=`${sidebarWidth}rem`;gridBodyEl.appendChild(rowEl);gridBodySidebarEl.appendChild(sidebarEl);cachedItem.hide()})}for(let i=0;0<previousCachedItems.length;++i){const{rowEl,sidebarEl}=previousCachedItems.pop();accumulator.queueRender(()=>{rowEl.remove();sidebarEl.remove()})}};let cacheRowIndex=0,previousTopVisibleRow=0,wasForward=!0;const swapCache=()=>{let temp=previousCachedItems;previousCachedItems=cachedItems;cachedItems=temp},renderAll=(accumulator,newCacheRowIndex,columnDataList)=>{const targetFinalItem=newCacheRowIndex+cachedItemsLen;swapCache();accumulator.queueRender(()=>{for(let rowIndex=newCacheRowIndex;rowIndex<targetFinalItem;rowIndex++){const cacheIndex=rowIndex-newCacheRowIndex,cachedItem=previousCachedItems[cacheIndex];cachedItems[cacheIndex]=cachedItem;if(rowIndex<totalRows){cachedItem.show(columnDataList,rowIndex)}else{cachedItem.hide()}}});cacheRowIndex=newCacheRowIndex},shiftNext=(accumulator,newCacheRowIndex,columnDataList)=>{const diff=newCacheRowIndex-cacheRowIndex;if(diff>=cachedItemsLen-1){renderAll(accumulator,newCacheRowIndex,columnDataList);return}const shiftAmount=newCacheRowIndex-cacheRowIndex,shiftFromEnd=cachedItemsLen-shiftAmount,targetFinalItem=newCacheRowIndex+cachedItemsLen;swapCache();accumulator.queueRender(()=>{for(let rowIndex=newCacheRowIndex;rowIndex<targetFinalItem;rowIndex++){const cacheIndex=rowIndex-newCacheRowIndex;if(cacheIndex<shiftFromEnd){cachedItems[cacheIndex]=previousCachedItems[cacheIndex+shiftAmount]}else{const cachedItem=previousCachedItems[cacheIndex-shiftFromEnd];cachedItems[cacheIndex]=cachedItem;if(rowIndex<totalRows){cachedItem.show(columnDataList,rowIndex)}else{cachedItem.hide()}}}});cacheRowIndex=newCacheRowIndex},shiftPrevious=(accumulator,newCacheRowIndex,columnDataList)=>{const diff=cacheRowIndex-newCacheRowIndex;if(diff>=cachedItemsLen-1){renderAll(accumulator,newCacheRowIndex,columnDataList);return}const shiftAmount=cacheRowIndex-newCacheRowIndex,shiftFromEnd=cachedItemsLen-shiftAmount,targetFinalItem=newCacheRowIndex+cachedItemsLen;swapCache();accumulator.queueRender(()=>{for(let rowIndex=newCacheRowIndex;rowIndex<targetFinalItem;rowIndex++){const cacheIndex=rowIndex-newCacheRowIndex;if(cacheIndex<shiftAmount){const previousCacheIndex=cacheIndex+shiftFromEnd,cachedItem=previousCachedItems[previousCacheIndex];cachedItems[cacheIndex]=previousCachedItems[previousCacheIndex];if(rowIndex<totalRows){cachedItem.show(columnDataList,rowIndex)}else{cachedItem.hide()}}else{cachedItems[cacheIndex]=previousCachedItems[cacheIndex-shiftAmount]}}});cacheRowIndex=newCacheRowIndex},getRenderedStartRowIndex=()=>cacheRowIndex,getRenderedLastRowIndex=()=>{const lowerBound=cacheRowIndex,unclippedUpperBound=lowerBound+cachedItemsLen,upperBound=unclippedUpperBound>totalRows?totalRows:unclippedUpperBound;return upperBound-1};return{initCache,renderAll,rerender:(accumulator,columnDataList,topVisibleRow)=>{const viewChange=topVisibleRow-previousTopVisibleRow;previousTopVisibleRow=topVisibleRow;if(0===viewChange){return!1}const isForward=0<viewChange,changedDirection=isForward!==wasForward;wasForward=isForward;if(isForward){const shift=topVisibleRow-cacheRowIndex;if(shift<shiftOffset){return!1}shiftNext(accumulator,topVisibleRow-1,columnDataList);return!0}else{if(changedDirection){const visibleOffset=topVisibleRow-cacheRowIndex;let shift=itemsPerScreen-visibleOffset+shiftOffset;shift=cacheRowIndex<shift?cacheRowIndex:shift;let newCacheRowIndex=cacheRowIndex-shift;shiftPrevious(accumulator,newCacheRowIndex,columnDataList);return!0}const visibleOffset=topVisibleRow-cacheRowIndex;if(visibleOffset>=shiftOffset){return!1}let shift=itemsPerScreen-visibleOffset+shiftOffset;shift=cacheRowIndex<shift?cacheRowIndex:shift;let newCacheRowIndex=cacheRowIndex-shift;if(newCacheRowIndex===cacheRowIndex){return!1}shiftPrevious(accumulator,newCacheRowIndex,columnDataList);return!0}},appendColumn:(accumulator,columnData)=>{let fromPos=cacheRowIndex,finalItem=fromPos+cachedItemsLen;for(let rowIndex=fromPos;rowIndex<finalItem;rowIndex++){const cacheIndex=rowIndex-fromPos,{appendCell}=cachedItems[cacheIndex],newCell=appendCell(accumulator);newCell.update(columnData,rowIndex)}},insertColumn:(accumulator,columnData,index)=>{let fromPos=cacheRowIndex,finalItem=fromPos+cachedItemsLen;for(let rowIndex=fromPos;rowIndex<finalItem;rowIndex++){const cacheIndex=rowIndex-fromPos,{insertCell}=cachedItems[cacheIndex],newCell=insertCell(accumulator,index);newCell.update(columnData,rowIndex)}},removeColumn:(accumulator,index)=>{let fromPos=cacheRowIndex,finalItem=fromPos+cachedItemsLen;for(let rowIndex=fromPos;rowIndex<finalItem;rowIndex++){const cacheIndex=rowIndex-fromPos,{removeCell}=cachedItems[cacheIndex];removeCell(accumulator,index)}},changeTotalRows:(accumulator,newTotalRows,columnDataList)=>{if(newTotalRows<minRows||newTotalRows===totalRows){return}gridLayout.extendgridBodyEl(newTotalRows);if(totalRows>newTotalRows){let startFromPos=cacheRowIndex,newFromPos=newTotalRows-itemsPerScreen;if(0>newFromPos){newFromPos=0}if(startFromPos>newFromPos){startFromPos=newFromPos}totalRows=newTotalRows;renderAll(accumulator,startFromPos,columnDataList)}else{const lowerBound=cacheRowIndex,unclippedUpperBound=lowerBound+cachedItemsLen,previousTotalRows=totalRows;totalRows=newTotalRows;if(unclippedUpperBound>previousTotalRows){const changeLength=unclippedUpperBound<newTotalRows?unclippedUpperBound:newTotalRows;accumulator.queueRender(()=>{for(let rowIndex=previousTotalRows;rowIndex<changeLength;rowIndex++){const cacheIndex=rowIndex-cacheRowIndex,cachedItem=cachedItems[cacheIndex];cachedItem.show(columnDataList,rowIndex)}})}}},updateCell:(accumulator,columnDataList,rowIndex,cellIndex)=>{const lowerBound=cacheRowIndex,unclippedUpperBound=lowerBound+cachedItemsLen,upperBound=unclippedUpperBound>totalRows?totalRows:unclippedUpperBound;if(rowIndex>=lowerBound&&rowIndex<upperBound&&0<=cellIndex&&cellIndex<columnDataList.length){const{updateCell:updateRowCell}=cachedItems[rowIndex-lowerBound],columnData=columnDataList[cellIndex];accumulator.queueRender(()=>{updateRowCell(columnData,rowIndex,cellIndex)})}},getRenderedLastRowIndex,getRenderedStartRowIndex,getCachedRow:index=>{return cachedItems[index]},resize:(accumulator,newItemsPerScreen,topVisibleRow,columnDataList)=>{if(newItemsPerScreen!==itemsPerScreen+offsetItems){const newCacheRowIndex=topVisibleRow>newItemsPerScreen?topVisibleRow-newItemsPerScreen:0;initCache(accumulator,newItemsPerScreen,columnDataList);renderAll(accumulator,newCacheRowIndex,columnDataList)}},clear:()=>{previousCachedItems=[]},getCellElement:(columnIndex,rowIndex)=>{const startRowIndex=getRenderedStartRowIndex(),lastRowIndex=getRenderedLastRowIndex();if(rowIndex>=startRowIndex&&rowIndex<=lastRowIndex&&0<=columnIndex){const row=cachedItems[rowIndex-startRowIndex];if(columnIndex<=row.length){const{cellEl}=row.getCell(columnIndex);return cellEl}}},getRowSidebarElement:rowIndex=>{const startRowIndex=getRenderedStartRowIndex(),lastRowIndex=getRenderedLastRowIndex();if(rowIndex>=startRowIndex&&rowIndex<=lastRowIndex){const{sidebarCellEl}=cachedItems[rowIndex-startRowIndex];return sidebarCellEl}},get totalRows(){return totalRows},get cachedItemsLen(){return cachedItemsLen}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=({prepareGridCell,prepareRowSidebar,gridEl,length})=>{const rowEl=document.createElement('div');rowEl.className='grid_body_row';const sidebarEl=document.createElement('div');sidebarEl.className='grid_body_sidebar_row';const sidebarCellEl=document.createElement('div');sidebarCellEl.className='grid_body_sidebar_cell';sidebarEl.appendChild(sidebarCellEl);const cells=[],createCell=()=>{const cellEl=document.createElement('div');cellEl.className='grid_body_cell';const update=prepareGridCell({gridEl,cellEl});return{cellEl,update}};for(let i=0;i<length;i++){const newCell=createCell();cells.push(newCell);const{cellEl}=newCell;rowEl.appendChild(cellEl)}const sidebarUpdate=prepareRowSidebar({gridEl,sidebarCellEl});return{get length(){return cells.length},appendCell:accumulator=>{const newCell=createCell();cells.push(newCell);const{cellEl}=newCell;accumulator.queueRender(()=>{rowEl.appendChild(cellEl)});return newCell},insertCell:(accumulator,cellIndex)=>{if(cellIndex>=cells.length){return}const newCell=createCell(),nextCell=cells[cellIndex],{cellEl}=newCell,{cellEl:nextCellEl}=nextCell;cells.splice(cellIndex,0,newCell);accumulator.queueRender(()=>{rowEl.insertBefore(cellEl,nextCellEl)});return newCell},removeCell:(accumulator,cellIndex)=>{const{cellEl}=cells.splice(cellIndex,1)[0];accumulator.queueRender(()=>{cellEl.remove()})},updateRow:(columnDataList,rowIndex)=>{sidebarUpdate(rowIndex);for(let cellIndex=0;cellIndex<cells.length;cellIndex++){let{update}=cells[cellIndex];const columnData=columnDataList[cellIndex];update(columnData,rowIndex)}},updateCell:(columnData,rowIndex,cellIndex)=>{const{update}=cells[cellIndex];update(columnData,rowIndex)},getCell:index=>{return cells[index]},rowEl,sidebarCellEl,sidebarEl}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__createDoubleLinkedList__=__webpack_require__(348);__webpack_exports__.a=({gridLayout,prepareHeaders})=>{const rootHeaderCells=[],headerRowCollection=[],totalHeaderRows=prepareHeaders.length,{gridHeaderViewportEl,gridEl}=gridLayout,columnDataList=[],getRowCellList=index=>{return headerRowCollection[index].cellList},getSiblingList=headerCell=>{const{parent}=headerCell,isTopRow=!parent,siblings=isTopRow?rootHeaderCells:parent.children;return{isTopRow,parent,siblings}},insertInDom=(headerCell,rowEl,cellList)=>{const{rowCellHandle,headerCellEl}=headerCell,nextSibling=cellList.valueAfter(rowCellHandle);if(nextSibling){const{headerCellEl:siblingEl}=nextSibling;return accumulator=>accumulator.queueRender(()=>{rowEl.insertBefore(headerCellEl,siblingEl)})}else{return accumulator=>accumulator.queueRender(()=>{rowEl.appendChild(headerCellEl)})}},flagResize=target=>{if(!target||target.resizeColspan){return}target.resizeColspan=!0;flagResize(target.parent)};(()=>{prepareHeaders.forEach((prepareHeader,rowIndex)=>{const rowEl=document.createElement('div'),cellList=Object(__WEBPACK_IMPORTED_MODULE_0__createDoubleLinkedList__.a)();rowEl.className='grid_header_row';gridHeaderViewportEl.appendChild(rowEl);headerRowCollection.push({rowEl,rowIndex,cellList,prepareHeader})})})();return{createHeaderCell:(headerData,parent)=>{const rowIndex=parent?parent.rowIndex+1:0;if(rowIndex>=totalHeaderRows){throw Error('Can not add a child to parent deeper than number of header rows')}const headerCellEl=document.createElement('div');headerCellEl.className='grid_header_cell';const{prepareHeader}=headerRowCollection[rowIndex],update=prepareHeader({headerCellEl,gridEl});return{rowIndex,update,children:[],parent,headerData,headerCellEl,colspan:1,resizeColspan:!1,rowCellHandle:null}},createAppend:headerCell=>{const{rowEl,cellList}=headerRowCollection[headerCell.rowIndex],{siblings}=getSiblingList(headerCell),parentCell=headerCell.parent;if(0<siblings.length){const lastSiblingHandle=siblings[siblings.length-1].rowCellHandle;headerCell.rowCellHandle=cellList.insertAfter(headerCell,lastSiblingHandle)}else if(!parentCell){headerCell.rowCellHandle=cellList.insertAfter(headerCell,null)}else{const parentCellList=headerRowCollection[parentCell.rowIndex].cellList;if(parentCellList.isFirst(parentCell.rowCellHandle)){headerCell.rowCellHandle=cellList.insertBefore(headerCell)}else{const parentPreviousSibling=parentCellList.valueBefore(parentCell.rowCellHandle),lastRowSibling=parentPreviousSibling.children[parentPreviousSibling.children.length-1],lastRowSiblingHandle=lastRowSibling.rowCellHandle;headerCell.rowCellHandle=cellList.insertAfter(headerCell,lastRowSiblingHandle)}}siblings.push(headerCell);flagResize(headerCell);return insertInDom(headerCell,rowEl,cellList)},createInsert:(headerCell,index)=>{const{rowEl,cellList}=headerRowCollection[headerCell.rowIndex],{siblings}=getSiblingList(headerCell),insertSiblingHandle=siblings[index].rowCellHandle;headerCell.rowCellHandle=cellList.insertBefore(headerCell,insertSiblingHandle);siblings.splice(index,0,headerCell);flagResize(headerCell);return insertInDom(headerCell,rowEl,cellList)},createRemove:headerCell=>{const{headerCellEl}=headerCell,{siblings}=getSiblingList(headerCell),rowCellList=getRowCellList(headerCell.rowIndex),headerCellIndex=siblings.indexOf(headerCell);siblings.splice(headerCellIndex,1);rowCellList.remove(headerCell.rowCellHandle);flagResize(headerCell.parent);return accumulator=>accumulator.queueRender(()=>{headerCellEl.remove()})},resizeCells:()=>{const resizeCell=headerCell=>{if(headerCell.resizeColspan){const{children,headerCellEl}=headerCell;headerCell.resizeColspan=!1;headerCell.colspan=0<children.length?children.reduce((result,current)=>result+=current.colspan,0):1;const colspanRem=gridLayout.calcColspanRem(headerCell.colspan);headerCellEl.style.minWidth=colspanRem;headerCellEl.style.width=colspanRem;headerCellEl.style.maxWidth=colspanRem}};for(let rowIndex=headerRowCollection.length-1;0<=rowIndex;rowIndex--){const{cellList}=headerRowCollection[rowIndex];cellList.forEach(resizeCell)}},resolveCacheData:()=>{const lastRowCells=headerRowCollection[totalHeaderRows-1].cellList;columnDataList.splice(0);lastRowCells.forEach(headerCell=>{columnDataList.push(headerCell.headerData)})},getRowCellList,getHeaderElement:(...indices)=>{let currentHeaders=rootHeaderCells,header=null;for(let index of indices){if(0>index||index>=currentHeaders.length){header=null;break}header=currentHeaders[index];currentHeaders=header.children}if(header){return header.headerCellEl}},get columnDataList(){return columnDataList},get rootHeaderCells(){return rootHeaderCells},get totalHeaderRows(){return totalHeaderRows}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=()=>{let firstNode=null,lastNode=null,cacheData=null;const checkDirtyState=()=>{if(!cacheData){let index=0;for(let node=firstNode;null!==node;node=node.next){node.index=index;index++}cacheData={listLength:index}}},getLength=()=>{checkDirtyState();return cacheData.listLength};return{insertBefore:(value,nextNode)=>{cacheData=null;const node={previous:null,next:null,index:null,value};if(!nextNode){if(!firstNode){firstNode=lastNode=node}else{firstNode.previous=node;node.next=firstNode;firstNode=node}}else{node.next=nextNode;node.previous=nextNode.previous;nextNode.previous=node;if(!node.previous){firstNode=node}else{node.previous.next=node}}return node},insertAfter:(value,previousNode)=>{cacheData=null;const node={previous:null,next:null,index:null,value};if(!previousNode){if(!lastNode){firstNode=lastNode=node}else{lastNode.next=node;node.previous=lastNode;lastNode=node}}else{node.previous=previousNode;node.next=previousNode.next;previousNode.next=node;if(!node.next){lastNode=node}else{node.next.previous=node}}cacheData=null;return node},remove:node=>{cacheData=null;const{previous,next}=node;if(previous){previous.next=next}else{firstNode=next}if(next){next.previous=previous}else{lastNode=previous}node.previous=node.next=null;node.value=null;node.index=null},toArray:()=>{let result=[];for(let currentNode=firstNode;null!==currentNode;currentNode=currentNode.next){result.push(currentNode.value)}return result},map:fn=>{let result=[];for(let currentNode=firstNode;null!==currentNode;currentNode=currentNode.next){result.push(fn(currentNode.value))}return result},forEach:fn=>{let index=0;for(let currentNode=firstNode;null!==currentNode;currentNode=currentNode.next){fn(currentNode.value,index);index++}},indexOf:compareNode=>{checkDirtyState();return compareNode?compareNode.index:-1},valueBefore:node=>{const{previous}=node;return previous?previous.value:null},valueAfter:node=>{const{next}=node;return next?next.value:null},isFirst:compareNode=>{return compareNode===firstNode},isLast:compareNode=>{return compareNode===lastNode},get length(){return getLength()}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathfloor5=Math.floor,__WEBPACK_IMPORTED_MODULE_0__createRenderAccumulator__=__webpack_require__(73);__webpack_exports__.a=({gridLayout,rowCache,headerCache,scrollState})=>{const getTotalRows=()=>rowCache.totalRows,getTotalColumns=()=>headerCache.columnDataList.length,createRenderContext=(accumulator,cacheState={})=>{const createInsertResolver=(headerActions,gridActions,insertAction)=>{let descendantResolver;const createResolveHeaderConfig=insertAction=>({data,children=[]},parent=null)=>{const header=headerCache.createHeaderCell(data,parent),appendAction=insertAction(header);headerActions.push(appendAction);headerActions.push(accum=>accum.queueRender(()=>{header.update(header.headerData)}));if(header.rowIndex===headerCache.totalHeaderRows-1){const rowCellList=headerCache.getRowCellList(header.rowIndex);if(rowCellList.isLast(header.rowCellHandle)){gridActions.push(acc=>rowCache.appendColumn(acc,data))}else{const currentIndex=rowCellList.indexOf(header.rowCellHandle);gridActions.push(acc=>rowCache.insertColumn(acc,data,currentIndex))}}else{children.forEach(child=>descendantResolver(child,header))}};descendantResolver=createResolveHeaderConfig(header=>headerCache.createAppend(header));return createResolveHeaderConfig(insertAction)},getRenderedStartRowIndex=()=>rowCache.getRenderedStartRowIndex(),getRenderedLastRowIndex=()=>rowCache.getRenderedLastRowIndex();return{get renderedStartRowIndex(){return getRenderedStartRowIndex()},get renderedLastRowIndex(){return getRenderedLastRowIndex()},appendHeader:headerConfig=>{const headerActions=[],gridActions=[],resolveHeaderConfig=createInsertResolver(headerActions,gridActions,header=>headerCache.createAppend(header));resolveHeaderConfig(headerConfig);headerActions.forEach(action=>action(accumulator));gridActions.forEach(action=>action(accumulator));cacheState.refreshHeaderCache=!0},insertHeader:(index,headerConfig)=>{const headerActions=[],gridActions=[],resolveHeaderConfig=createInsertResolver(headerActions,gridActions,header=>headerCache.createInsert(header,index));resolveHeaderConfig(headerConfig);headerActions.forEach(action=>action(accumulator));gridActions.forEach(action=>action(accumulator));cacheState.refreshHeaderCache=!0},updateCell:(rowIndex,cellIndex)=>{rowCache.updateCell(accumulator,headerCache.columnDataList,rowIndex,cellIndex)},getHeader:index=>{const deepestRowIndex=headerCache.totalHeaderRows-1,getChildHeader=(headerCollection,index)=>{if(index>=headerCollection.length){return null}const header=headerCollection[index],api={remove:()=>{const headerActions=[],gridActions=[],removeHeader=currentHeader=>{if(currentHeader.rowIndex===deepestRowIndex){const rowCellList=headerCache.getRowCellList(currentHeader.rowIndex),cellIndex=rowCellList.indexOf(currentHeader.rowCellHandle);gridActions.push(accum=>rowCache.removeColumn(accum,cellIndex))}else{const children=currentHeader.children,lastIndex=children.length-1;for(let i=lastIndex;0<=i;i--){const childHeader=children[i];removeHeader(childHeader)}}const action=headerCache.createRemove(currentHeader);headerActions.push(action)};removeHeader(header);headerActions.forEach(action=>action(accumulator));gridActions.forEach(action=>action(accumulator));cacheState.refreshHeaderCache=!0}};if(header.rowIndex===deepestRowIndex){const rowCellList=headerCache.getRowCellList(header.rowIndex);api.refreshCell=rowIndex=>{const colIndex=rowCellList.indexOf(header.rowCellHandle);rowCache.updateCell(accumulator,headerCache.columnDataList,rowIndex,colIndex)}}else{api.getChildHeader=index=>{return getChildHeader(header.children,index)};api.appendChildHeader=headerConfig=>{const headerActions=[],gridActions=[],resolveHeaderConfig=createInsertResolver(headerActions,gridActions,header=>headerCache.createAppend(header));resolveHeaderConfig(headerConfig,header);headerActions.forEach(action=>action(accumulator));gridActions.forEach(action=>action(accumulator));cacheState.refreshHeaderCache=!0};api.insertChildHeader=(index,headerConfig)=>{const headerActions=[],gridActions=[],resolveHeaderConfig=createInsertResolver(headerActions,gridActions,header=>headerCache.createInsert(header,index));resolveHeaderConfig(headerConfig,header);headerActions.forEach(action=>action(accumulator));gridActions.forEach(action=>action(accumulator));cacheState.refreshHeaderCache=!0}}return api};return getChildHeader(headerCache.rootHeaderCells,index)},changeTotalRows:totalRows=>{rowCache.changeTotalRows(accumulator,totalRows,headerCache.columnDataList)}}},disableScroll=()=>{const{gridHeaderViewportEl,gridBodyViewportEl,gridBodyEl}=gridLayout;gridHeaderViewportEl.style.overflow=gridBodyViewportEl.style.overflow=gridBodyEl.style.overflow='hidden'},enableScroll=()=>{const{gridHeaderViewportEl,gridBodyViewportEl,gridBodyEl}=gridLayout;gridHeaderViewportEl.style.overflow=gridBodyViewportEl.style.overflow=gridBodyEl.style.overflow=''};let scrollDisabled=!1;const getScrollDisabled=()=>scrollDisabled,setScrollDisabled=value=>{scrollDisabled=value;if(scrollDisabled){disableScroll()}else{enableScroll()}},getTopVisibleRowIndex=()=>{const{gridBodyViewportEl,rowHeight}=gridLayout,{scrollTop}=gridBodyViewportEl;return _Mathfloor5(scrollTop/rowHeight)},getBottomVisibleRowIndex=()=>{const{gridBodyViewportEl,rowHeight}=gridLayout,{scrollTop}=gridBodyViewportEl,rect=gridBodyViewportEl.getBoundingClientRect(),viewportBottom=scrollTop+rect.height,resultRaw=viewportBottom/rowHeight,resultFloor=_Mathfloor5(resultRaw),result=0===resultFloor-resultRaw&&0<resultFloor?resultFloor-1:resultFloor;return result},getLeftVisibleColumn=()=>{const{gridBodyEl}=gridLayout,{columnDataList}=headerCache,firstCachedRow=rowCache.getCachedRow(0),firstCachedCell=firstCachedRow.getCell(0),cellWidth=firstCachedCell.cellEl.offsetWidth,{scrollLeft}=gridBodyEl,columnIndex=_Mathfloor5(scrollLeft/cellWidth);return columnDataList[columnIndex]},getRightVisibleColumn=()=>{const{gridBodyEl}=gridLayout,{columnDataList}=headerCache,firstCachedRow=rowCache.getCachedRow(0),firstCachedCell=firstCachedRow.getCell(0),cellWidth=firstCachedCell.cellEl.offsetWidth,{scrollLeft}=gridBodyEl,rect=gridBodyEl.getBoundingClientRect(),viewportRight=scrollLeft+rect.width,resultRaw=viewportRight/cellWidth,resultFloor=_Mathfloor5(resultRaw),columnIndex=0===resultFloor-resultRaw&&0<resultFloor?resultFloor-1:resultFloor;return columnDataList[columnIndex]};return{get totalRows(){return getTotalRows()},get totalColumns(){return getTotalColumns()},get topVisibleRowIndex(){return getTopVisibleRowIndex()},get bottomVisibleRowIndex(){return getBottomVisibleRowIndex()},get leftVisibleColumn(){return getLeftVisibleColumn()},get rightVisibleColumn(){return getRightVisibleColumn()},get scrollDisabled(){return getScrollDisabled()},set scrollDisabled(value){setScrollDisabled(value)},applyChanges:fn=>{const accumulator=Object(__WEBPACK_IMPORTED_MODULE_0__createRenderAccumulator__.a)(),cacheState={refreshHeaderCache:!1},renderContext=createRenderContext(accumulator,cacheState);fn(renderContext);if(cacheState.refreshHeaderCache){headerCache.resolveCacheData()}headerCache.resizeCells();accumulator.applyChanges()},scrollTo:(col,rowIndex,onlyOutOfFocus)=>{if(rowIndex>getTotalRows()){return}let scrollLeft=null,scrollTop=null;const{columnDataList}=headerCache,{gridBodyViewportEl,gridBodyEl}=gridLayout,firstCachedRow=rowCache.getCachedRow(0),firstCachedCell=firstCachedRow.getCell(0);if(null!==col){const colIndex=columnDataList.indexOf(col);if(-1===colIndex){return}const cellWidth=firstCachedCell.cellEl.offsetWidth,cellLeft=cellWidth*colIndex;if(onlyOutOfFocus){const viewportWidth=gridBodyEl.offsetWidth,viewportLeft=gridBodyEl.scrollLeft;if(cellLeft+cellWidth>viewportLeft+viewportWidth){scrollLeft=cellLeft-viewportWidth+cellWidth}else if(cellLeft<viewportLeft){scrollLeft=cellLeft}}else{scrollLeft=cellLeft}}if(null!==rowIndex){const rowHeight=firstCachedRow.rowEl.offsetHeight,cellTop=rowHeight*rowIndex;if(onlyOutOfFocus){const viewportHeight=gridBodyViewportEl.offsetHeight,viewportTop=gridBodyViewportEl.scrollTop;if(cellTop+rowHeight>viewportTop+viewportHeight){scrollTop=cellTop-viewportHeight+rowHeight}else if(cellTop<viewportTop){scrollTop=cellTop}}else{scrollTop=cellTop}}if(null!==scrollLeft){scrollState.suppressUiNotfication();gridBodyEl.scrollLeft=scrollLeft}if(null!==scrollTop){scrollState.suppressUiNotfication();gridBodyViewportEl.scrollTop=scrollTop}},getRelativePosition:(clientX,clientY)=>{const{gridBodyEl,gridBodyViewportEl}=gridLayout,widthRect=gridBodyEl.getBoundingClientRect(),heightRect=gridBodyViewportEl.getBoundingClientRect(),isLeft=clientX<widthRect.left,isRight=clientX>widthRect.right,isTop=clientY<heightRect.top,isBottom=clientY>heightRect.bottom;return{isLeft,isRight,isTop,isBottom,isInside:!isLeft&&!isRight&&!isTop&&!isBottom,equals:relativePosition=>relativePosition.isLeft===isLeft&&relativePosition.isRight===isRight&&relativePosition.isTop===isTop&&relativePosition.isBottom===isBottom}},getRelativeRowInfo:rowIndex=>{if(rowIndex>getTotalRows()){return{}}const{gridBodyViewportEl}=gridLayout,firstCachedRow=rowCache.getCachedRow(0),rowHeight=firstCachedRow.rowEl.offsetHeight,cellTop=rowHeight*rowIndex,viewportHeight=gridBodyViewportEl.offsetHeight,viewportTop=gridBodyViewportEl.scrollTop;return{outsideBottom:cellTop+rowHeight>viewportTop+viewportHeight,outsideTop:cellTop<viewportTop}},getRelativeColumnInfo:col=>{const{gridBodyEl}=gridLayout,{columnDataList}=headerCache,firstCachedRow=rowCache.getCachedRow(0),firstCachedCell=firstCachedRow.getCell(0),colIndex=columnDataList.indexOf(col);if(-1===colIndex){return{}}const cellWidth=firstCachedCell.cellEl.offsetWidth,cellLeft=cellWidth*colIndex,viewportWidth=gridBodyEl.offsetWidth,viewportLeft=gridBodyEl.scrollLeft;return{outsideRight:cellLeft+cellWidth>viewportLeft+viewportWidth,outsideLeft:cellLeft<viewportLeft}},getCellElement:(columnIndex,rowIndex)=>{return rowCache.getCellElement(columnIndex,rowIndex)},getRowSidebarElement:rowIndex=>{return rowCache.getRowSidebarElement(rowIndex)},getHeaderElement:(...indices)=>{return headerCache.getHeaderElement(...indices)},focus:()=>{const{gridEl}=gridLayout;gridEl.tabIndex=1;gridEl.focus()},clear:()=>{rowCache.clear()}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathround5=Math.round,__WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=({interactionContext,dataSetGrid})=>({gridEl})=>{const{events}=interactionContext;gridEl.oncontextmenu=()=>!1;events.registerGridEvent(gridEl,'grid-touch-tap',()=>{interactionContext.clear()});events.registerSystemEvent(gridEl,'keydown',e=>{const keyPressed={};if(e.which===38){keyPressed.upKey=!0}else if(e.which===40){keyPressed.downKey=!0}else if(e.which===39){keyPressed.rightKey=!0}else if(e.which===37){keyPressed.leftKey=!0}else if(e.keyCode===46||e.keyCode===8){keyPressed.deleteKey=!0}else if((e.ctrlKey||e.metaKey||e.altKey)&&1===e.key.length&&'a'===e.key[0]){keyPressed.ctrlA=!0}else{keyPressed.unknown=!0}keyPressed.shiftKey=e.shiftKey;const checkRowSelection=(currentIndex,nextIndex,selectMany)=>{if(interactionContext.activeRowSelection(currentIndex)&&0<=nextIndex&&nextIndex<=dataSetGrid.totalRows-1){const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a];interactionContext.closeSelectContextMenu();if(selectMany){interactionContext.uiExpandRowSelection(nextIndex)}else{interactionContext.uiStartRowSelection(nextIndex)}grid.scrollTo(null,nextIndex,!0)}},checkHorizontalSelection=(moveRight,selectMany)=>{const interaction=interactionContext.getInteractionInfo();if(interaction.columnsSelected){const column=interaction.endCol;if(interactionContext.activeColumnSelection(column)){const columnIndex=column.gridPosition,nextColumnIndex=moveRight?columnIndex+1:columnIndex-1,columns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a].getRawColumns();if(0<=nextColumnIndex&&nextColumnIndex<columns.length){const nextColumn=columns[nextColumnIndex];interactionContext.closeSelectContextMenu();if(selectMany){interactionContext.uiExpandColumnSelection(nextColumn)}else{interactionContext.uiStartColumnSelection(nextColumn)}const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a];grid.scrollTo(nextColumn,null,!0);e.preventDefault()}}}else if(interaction.dataSetsSelected){const dataSet=interaction.endDataSet;if(interactionContext.activeDataSetSelection(dataSet)){const dataSetIndex=dataSet.position,nextDataSetIndex=moveRight?dataSetIndex+1:dataSetIndex-1,dataSets=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a].dataSets;if(0<=nextDataSetIndex&&nextDataSetIndex<dataSets.length){const nextDataSet=dataSets.findByIndex(nextDataSetIndex);interactionContext.closeSelectContextMenu();if(selectMany){interactionContext.uiExpandDataSetSelection(nextDataSet)}else{interactionContext.uiStartDataSetSelection(nextDataSet)}const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a],dataSetColumns=nextDataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a].columns,dataSetColumnIndex=moveRight?dataSetColumns.length-1:0,dataSetColumn=dataSetColumns.findByIndex(dataSetColumnIndex);grid.scrollTo(dataSetColumn,null,!0);e.preventDefault()}}}};if(keyPressed.upKey){const interaction=interactionContext.getInteractionInfo(),currentRowIndex=interaction.endRowIndex;checkRowSelection(currentRowIndex,currentRowIndex-1,keyPressed.shiftKey)}else if(keyPressed.downKey){const interaction=interactionContext.getInteractionInfo(),currentRowIndex=interaction.endRowIndex;checkRowSelection(currentRowIndex,currentRowIndex+1,keyPressed.shiftKey)}else if(keyPressed.rightKey){checkHorizontalSelection(!0,keyPressed.shiftKey)}else if(keyPressed.leftKey){checkHorizontalSelection(!1,keyPressed.shiftKey)}else if(keyPressed.deleteKey){interactionContext.executeDelete();e.preventDefault()}else if(keyPressed.ctrlA){interactionContext.uiSelectAll();e.preventDefault()}});let shiftKeyCode=-1;events.registerSystemEvent(document,'keydown',e=>{if(e.shiftKey){shiftKeyCode=e.keyCode;interactionContext.shiftSelected=!0}});events.registerSystemEvent(document,'keyup',e=>{if(e.keyCode===shiftKeyCode){interactionContext.shiftSelected=!1}});events.registerGridEvent(document,'grid-touch-select-move',e=>{const{clientX,clientY}=e.detail;interactionContext.checkOverscroll(clientX,clientY)});events.registerGridEvent(gridEl,'grid-touch-select-start',()=>{interactionContext.scrollDisabled=!0});events.registerGridEvent(document,'grid-touch-select',()=>{if(interactionContext.uiSelectionOccurring){interactionContext.uiEndSelection();interactionContext.clearOverscroll();interactionContext.scrollDisabled=!1;const interaction=interactionContext.getInteractionInfo(),{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a];let cellEl;if(interaction.cellReselect){cellEl=interaction.cellReselect.cellEl;if(interactionContext.selectContextMenuOpen){interactionContext.closeSelectContextMenu()}}else if(interaction.dataSetsSelected){const dataSetHeaderIndex=interaction.endDataSet.position;cellEl=grid.getHeaderElement(dataSetHeaderIndex)}else if(interaction.columnsSelected){const dataSetHeaderIndex=interaction.endCol.dataSet.position,columnHeaderIndex=interaction.endCol.position;cellEl=grid.getHeaderElement(dataSetHeaderIndex,columnHeaderIndex)}else if(interaction.rowsSelected){cellEl=grid.getRowSidebarElement(interaction.endRowIndex)}else if(interaction.cellsSelected){cellEl=grid.getCellElement(interaction.endColIndex,interaction.endRowIndex)}if(cellEl){const{left,top,width,height}=cellEl.getBoundingClientRect(),clientX=left+_Mathround5(width/2),clientY=top+_Mathround5(height/2);interactionContext.toggleSelectContextMenu({cellEl,clientX,clientY,isTouch:!0})}}});events.registerGridEvent(gridEl,'grid-mouse-select-start',()=>{interactionContext.clear()});events.registerGridEvent(document,'grid-mouse-select-move',e=>{const{clientX,clientY}=e.detail;interactionContext.checkOverscroll(clientX,clientY)});events.registerGridEvent(gridEl,'grid-mouse-select',()=>{if(interactionContext.uiSelectionOccurring){interactionContext.uiEndSelection();interactionContext.clearOverscroll();interactionContext.scrollDisabled=!1}})}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=({interactionContext})=>{const{events}=interactionContext,focusGrid=gridEl=>{gridEl.tabIndex=1;gridEl.focus()};return({sidebarCellEl,gridEl})=>{const span=document.createElement('span');let rowIndex=0;sidebarCellEl.appendChild(span);events.registerGridEvent(sidebarCellEl,'grid-touch-tap',e=>{e.preventDefault();e.stopPropagation();interactionContext.uiStartRowSelection(rowIndex);focusGrid(gridEl)},!1);events.registerGridEvent(sidebarCellEl,'grid-touch-select-start',()=>{interactionContext.uiStartRowSelection(rowIndex);focusGrid(gridEl)},!1);events.registerGridEvent(sidebarCellEl,'grid-touch-select-enter',()=>{interactionContext.uiExpandRowSelection(rowIndex);focusGrid(gridEl)},!1);events.registerGridEvent(sidebarCellEl,'grid-mouse-select-start',e=>{e.preventDefault();e.stopPropagation();if(interactionContext.shiftSelected&&interactionContext.rowsSelected){interactionContext.scrollDisabled=!0;interactionContext.uiExpandRowSelection(rowIndex)}else if(!interactionContext.activeRowSelection(rowIndex)){interactionContext.scrollDisabled=!0;interactionContext.uiStartRowSelection(rowIndex)}else{interactionContext.clear()}focusGrid(gridEl)},!1);events.registerGridEvent(sidebarCellEl,'grid-mouse-select-enter',e=>{e.preventDefault();e.stopPropagation();interactionContext.uiExpandRowSelection(rowIndex);focusGrid(gridEl)},!1);events.registerGridEvent(sidebarCellEl,'grid-mouse-context-menu',e=>{if(!interactionContext.activeRowSelection(rowIndex)){interactionContext.uiStartRowSelection(rowIndex)}const{clientX,clientY}=e.detail;interactionContext.toggleSelectContextMenu({clientX,clientY,isTouch:!1,cellEl:sidebarCellEl});e.stopPropagation()});return index=>{span.innerText=index+1;rowIndex=index}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1_platform__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1_platform___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_platform__);__webpack_exports__.a=({interactionContext})=>({cellEl})=>{const cellState={rowIndex:null,column:null,selectAll:!1,isReverting:!1,isEditing:!1,isDeepEdit:!1,isSelected:!1,isFocused:!1,readonly:null,tapRowIndex:null,cellText:null,checkToExtend:!0},{events}=interactionContext,isAndroid='android'===__WEBPACK_IMPORTED_MODULE_1_platform___default.a.os.family.toLowerCase(),isIOS='ios'===__WEBPACK_IMPORTED_MODULE_1_platform___default.a.os.family.toLowerCase(),span=document.createElement('span'),input=document.createElement('input'),defaultInputProperties={type:isIOS?'number':'text',autocomplete:'off',autocorrect:'off',autocapitalize:'off',spellcheck:!1};input.classList.add('grid_text');Object.assign(input,defaultInputProperties);const noop=()=>{};let showInput,showInputOnce,hideInput,hideInputOnce;showInputOnce=()=>{input.style.display='inline';cellEl.classList.add('shows_text');hideInput=hideInputOnce;showInput=noop};hideInputOnce=()=>{input.style.display='none';cellEl.classList.remove('shows_text');showInput=showInputOnce;hideInput=noop};showInput=showInputOnce;hideInput=hideInputOnce;let showSpan,showSpanOnce,hideSpan,hideSpanOnce;showSpanOnce=()=>{span.style.display='inline';showSpan=noop;hideSpan=hideSpanOnce};hideSpanOnce=()=>{span.style.display='none';hideSpan=noop;showSpan=showSpanOnce};hideSpan=hideSpanOnce;showSpan=showSpanOnce;hideSpan();hideInput();cellEl.appendChild(span);cellEl.appendChild(input);const isTextChar=({key})=>{if(1!==key.length){return!1}const code=key.charCodeAt(0);return 32<=code&&126>=code};events.registerSystemEvent(cellEl,'keydown',e=>{const keyPressed={};if(e.keyCode===9){keyPressed.tabKey=!0}else if(e.keyCode===13){keyPressed.enterKey=!0}else if(e.which===38){keyPressed.upKey=!0}else if(e.which===40){keyPressed.downKey=!0}else if(e.which===37){keyPressed.leftKey=!0}else if(e.keyCode===39){keyPressed.rightKey=!0}else if(e.keyCode===27){keyPressed.escapeKey=!0}else if(e.keyCode===46||e.keyCode===8){keyPressed.deleteKey=!0}else if(isTextChar(e)){keyPressed.inputCharacter=!0;keyPressed.char=e.key}else{keyPressed.unknown=!0}keyPressed.shiftKey=e.shiftKey;keyPressed.actionKey=e.ctrlKey||e.metaKey||e.altKey;if(keyPressed.escapeKey){e.preventDefault();cellState.isReverting=!0;interactionContext.startCellSelection(cellState.column,cellState.rowIndex)}else if(cellState.isDeepEdit&&(keyPressed.leftKey||keyPressed.rightKey||keyPressed.upKey||keyPressed.downKey)){e.stopPropagation()}else if(!cellState.isDeepEdit&&keyPressed.actionKey&&keyPressed.enterKey){e.stopPropagation();e.preventDefault();interactionContext.deepEditCell(cellState.column,cellState.rowIndex)}else if(keyPressed.escapeKey){e.preventDefault();if(cellState.isFocused&&cellState.isEditing){cellState.isReverting=!0;interactionContext.startCellSelection(cellState.column,cellState.rowIndex)}}else if(keyPressed.inputCharacter){if(cellState.isEditing&&'a'===keyPressed.char&&keyPressed.actionKey){e.preventDefault();e.stopPropagation();cellState.selectAll=!0;interactionContext.editCell(cellState.column,cellState.rowIndex,!0)}else if(cellState.isFocused&&!cellState.isEditing&&!keyPressed.actionKey&&(!interactionContext.hasSelection||interactionContext.singleCellSelected(cellState.column,cellState.rowIndex))){e.preventDefault();cellState.replaceEdit={value:keyPressed.char};interactionContext.editCell(cellState.column,cellState.rowIndex,!0)}}else if(keyPressed.deleteKey){if(cellState.isEditing){e.stopPropagation()}}else if(cellState.isFocused&&!keyPressed.unknown){e.preventDefault();let index=cellState.rowIndex,column=cellState.column;const dataSetGrid=column.dataSet.grid,dataSets=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a].dataSets,dataSetLength=dataSetGrid.dataSetLength;let value=keyPressed.downKey||keyPressed.tabKey&&!keyPressed.shiftKey&&column.gridPosition===dataSetGrid.colspan-1?null:input.value;if(keyPressed.enterKey&&!keyPressed.shiftKey&&!cellState.readonly){value=null}interactionContext.checkToExtend(index,value);const getNextCell=(column,index)=>{const totalRows=dataSetGrid.totalRows,columnPosition=column.position,dataSet=column.dataSet,columns=dataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a].columns,dataSetColspan=dataSet.colspan,dataSetPosition=dataSet.position;let nextCell=null;const setNext=(col,rIndex)=>{nextCell={column:col,rowIndex:rIndex}};if(keyPressed.upKey){const nextIndex=index-1;if(0<=nextIndex){setNext(column,nextIndex)}}else if(keyPressed.downKey){const nextIndex=index+1;if(nextIndex!==totalRows){setNext(column,nextIndex)}}else if(!keyPressed.shiftKey&&!keyPressed.leftKey||keyPressed.rightKey){if(columnPosition===dataSetColspan-1){if(keyPressed.enterKey){const nextIndex=index+1,column=columns.findByIndex(0);if(nextIndex!==totalRows){setNext(column,nextIndex)}}else if(keyPressed.tabKey||keyPressed.rightKey){if(dataSetPosition===dataSetLength-1){if(keyPressed.tabKey){const nextIndex=index+1,column=dataSets.findByIndex(0)[__WEBPACK_IMPORTED_MODULE_0__priv__.a].columns.findByIndex(0);if(nextIndex!==totalRows){setNext(column,nextIndex)}}}else{const column=dataSets.findByIndex(dataSetPosition+1)[__WEBPACK_IMPORTED_MODULE_0__priv__.a].columns.findByIndex(0);setNext(column,index)}}}else{const column=columns.findByIndex(columnPosition+1);setNext(column,index)}}else{if(0===columnPosition){if(keyPressed.enterKey){const nextIndex=index-1;if(-1!==nextIndex){const lastColumn=columns.findByIndex(dataSet.colspan-1);setNext(lastColumn,nextIndex)}}else if(keyPressed.tabKey||keyPressed.leftKey){if(0===dataSetPosition){if(keyPressed.tabKey){const nextIndex=index-1;if(-1!==nextIndex){const lastDataSet=dataSets.findByIndex(dataSetLength-1),lastColumn=lastDataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a].columns.findByIndex(lastDataSet.colspan-1);setNext(lastColumn,nextIndex)}}}else{const lastDataSet=dataSets.findByIndex(dataSetPosition-1),lastColumn=lastDataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a].columns.findByIndex(lastDataSet.colspan-1);setNext(lastColumn,index)}}}else{const column=columns.findByIndex(columnPosition-1);setNext(column,index)}}return nextCell};let nextCell=getNextCell(column,index);const hasManualColumn=cellState.column.dataSet.columns.find(c=>!c.readonly);if(hasManualColumn&&keyPressed.enterKey){do{nextCell=getNextCell(column,index);if(nextCell){column=nextCell.column;index=nextCell.rowIndex}}while(nextCell&&nextCell.column.readonly)}if(nextCell){if(keyPressed.enterKey||keyPressed.tabKey){cellState.checkToExtend=!1;interactionContext.clear();if(nextCell.column&&nextCell.column.readonly){interactionContext.uiStartCellSelection(nextCell.column,nextCell.rowIndex)}else{if(isAndroid||isIOS){interactionContext.deepEditCell(nextCell.column,nextCell.rowIndex)}else{interactionContext.startCellSelection(nextCell.column,nextCell.rowIndex)}}}else{if(keyPressed.shiftKey&&interactionContext.activeCellSelection(cellState.column,cellState.rowIndex)){cellState.checkToExtend=!1;interactionContext.uiExpandCellSelection(nextCell.column,nextCell.rowIndex)}else{interactionContext.startCellSelection(nextCell.column,nextCell.rowIndex)}}}else if(cellState.isEditing){interactionContext.startCellSelection(cellState.column,cellState.rowIndex)}}});events.registerGridEvent(cellEl,'grid-touch-tap',e=>{const dataSetGrid=cellState.column.dataSet.grid,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a];if(cellState.isSelected){if(interactionContext.toggledTouchContextMenu||!interactionContext.selectContextMenuOpen){interactionContext.clear()}else{interactionContext.closeSelectContextMenu()}}else if(grid.isDeepEditing){interactionContext.deepEditCell(cellState.column,cellState.rowIndex)}else{interactionContext.uiStartCellSelection(cellState.column,cellState.rowIndex)}cellState.tapRowIndex=cellState.rowIndex;e.stopPropagation()},!1);events.registerGridEvent(cellEl,'grid-touch-edit',e=>{if(!cellState.isEditing&&cellState.tapRowIndex===cellState.rowIndex){interactionContext.deepEditCell(cellState.column,cellState.rowIndex)}e.stopPropagation()});events.registerGridEvent(cellEl,'grid-touch-select-start',()=>{if(!cellState.isSelected){interactionContext.uiStartCellSelection(cellState.column,cellState.rowIndex)}else{interactionContext.uiSetCellReselect(cellEl,cellState.column,cellState.rowIndex)}});events.registerGridEvent(cellEl,'grid-touch-select-move',()=>{interactionContext.uiClearCellReselect()});events.registerGridEvent(cellEl,'grid-touch-select-enter',()=>{interactionContext.uiExpandCellSelection(cellState.column,cellState.rowIndex)});events.registerGridEvent(cellEl,'grid-mouse-context-menu',e=>{if(!cellState.isSelected){interactionContext.uiStartCellSelection(cellState.column,cellState.rowIndex)}const{clientX,clientY}=e.detail;interactionContext.toggleSelectContextMenu({clientX,clientY,isTouch:!1,cellEl});e.stopPropagation()});events.registerGridEvent(cellEl,'grid-mouse-edit',e=>{if(!cellState.isEditing&&cellState.tapRowIndex===cellState.rowIndex){interactionContext.deepEditCell(cellState.column,cellState.rowIndex)}e.stopPropagation()});events.registerGridEvent(cellEl,'grid-mouse-select-start',e=>{cellState.tapRowIndex=cellState.rowIndex;if(interactionContext.shiftSelected&&interactionContext.cellsSelected){interactionContext.uiExpandCellSelection(cellState.column,cellState.rowIndex);interactionContext.scrollDisabled=!0}else if(!interactionContext.activeCellSelection(cellState.column,cellState.rowIndex)){interactionContext.uiStartCellSelection(cellState.column,cellState.rowIndex);interactionContext.scrollDisabled=!0}else{interactionContext.clear()}e.stopPropagation()});events.registerGridEvent(cellEl,'grid-mouse-select-enter',e=>{interactionContext.uiExpandCellSelection(cellState.column,cellState.rowIndex);e.stopPropagation()});const assignText=value=>{input.value=value},assignSpan=value=>{span.innerText=null;if(!value){span.innerText=''}else{span.innerText=value}},emptyValue={};return(column,rowIndex)=>{const init=column!==cellState.column||cellState.rowIndex!==rowIndex;cellState.rowIndex=rowIndex;cellState.column=column;if(init){cellState.isEditing=null;cellState.isSelected=null;cellState.cellText=emptyValue;cellState.readonly=column.readonly}const currentData=column[__WEBPACK_IMPORTED_MODULE_0__priv__.a].getCellData(rowIndex);if(column.readonly){cellEl.classList.add('readonly')}else{cellEl.classList.remove('readonly')}if(currentData.isDeepEdit){input.classList.add('deepedit')}else{input.classList.remove('deepedit')}cellEl.tabIndex=void 0;if(currentData.isSelected){cellEl.classList.add('selected');if(currentData.isFocused){cellEl.tabIndex=1;cellEl.focus()}}else{cellEl.classList.remove('selected')}let cellText;if(currentData.isEditing!==cellState.isEditing){if(currentData.isEditing){cellText=!cellState.replaceEdit?currentData.getText():cellState.replaceEdit.value;hideSpan();assignText(cellText);showInput();const textFocus=()=>{if(!cellState.replaceEdit){input.select()}else{input.focus()}};if(isAndroid){let hiddenInput=document.querySelector('#vst_grid_keyboard_input');if(!hiddenInput){hiddenInput=document.createElement('input');Object.assign(hiddenInput,defaultInputProperties);hiddenInput.id='vst_grid_keyboard_input';hiddenInput.style.left='-99999em';hiddenInput.style.position='absolute';document.body.appendChild(hiddenInput)}hiddenInput.focus();setTimeout(()=>{textFocus();const dataSetGrid=cellState.column.dataSet.grid;dataSetGrid.scrollToRow(cellState.rowIndex-1)})}else{textFocus()}}else{if(!init&&!cellState.isReverting&&currentData.setValue(input.value)){if(cellState.checkToExtend){interactionContext.checkToExtend(rowIndex)}interactionContext.notifyUIChange([{column,rowIndex}])}cellText=currentData.getText();hideInput();assignSpan(cellText);showSpan()}}else{cellText=currentData.getText();if(cellState.selectAll){input.select();input.focus()}else if(!cellState.replaceEdit&&cellText!==cellState.cellText){if(currentData.isEditing){assignText(cellText)}else{assignSpan(cellText)}}}cellState.checkToExtend=!0;cellState.isEditing=currentData.isEditing;cellState.isDeepEdit=currentData.isDeepEdit;cellState.isSelected=currentData.isSelected;cellState.isFocused=currentData.isFocused;cellState.isReverting=!1;cellState.replaceEdit=!cellState.isEditing?null:cellState.replaceEdit;cellState.selectAll=!1;cellState.cellText=cellText}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=({interactionContext,renderDataSetContext,renderColumnContext})=>{const{events}=interactionContext,focusGrid=gridEl=>{gridEl.tabIndex=1;gridEl.focus()};return[({headerCellEl,gridEl})=>dataSet=>{events.registerGridEvent(headerCellEl,'grid-touch-select-start',()=>{interactionContext.uiStartDataSetSelection(dataSet);focusGrid(gridEl)});events.registerGridEvent(headerCellEl,'grid-touch-select-enter',()=>{interactionContext.uiExpandDataSetSelection(dataSet);focusGrid(gridEl)});events.registerGridEvent(headerCellEl,'grid-mouse-select-start',e=>{if(interactionContext.shiftSelected&&interactionContext.dataSetsSelected){interactionContext.uiExpandDataSetSelection(dataSet);interactionContext.scrollDisabled=!0}else if(!interactionContext.activeDataSetSelection(dataSet)){interactionContext.uiStartDataSetSelection(dataSet);interactionContext.scrollDisabled=!0}else{interactionContext.clear()}focusGrid(gridEl);e.stopPropagation()});events.registerGridEvent(headerCellEl,'grid-mouse-select-enter',()=>{interactionContext.uiExpandDataSetSelection(dataSet);focusGrid(gridEl)});events.registerGridEvent(headerCellEl,'grid-mouse-context-menu',e=>{if(!interactionContext.activeDataSetSelection(dataSet)){interactionContext.uiStartDataSetSelection(dataSet)}const{clientX,clientY}=e.detail;interactionContext.toggleSelectContextMenu({clientX,clientY,isTouch:!1,cellEl:headerCellEl});e.stopPropagation()});dataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a].renderContext=renderDataSetContext({dataSet,headerCellEl});dataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a].renderContext(dataSet.context)},({headerCellEl,gridEl})=>column=>{events.registerGridEvent(headerCellEl,'grid-touch-select-start',()=>{interactionContext.uiStartColumnSelection(column);focusGrid(gridEl)});events.registerGridEvent(headerCellEl,'grid-touch-select-enter',()=>{interactionContext.uiExpandColumnSelection(column);focusGrid(gridEl)});events.registerGridEvent(headerCellEl,'grid-mouse-select-start',e=>{if(interactionContext.shiftSelected&&interactionContext.columnsSelected){interactionContext.uiExpandColumnSelection(column);interactionContext.scrollDisabled=!0}else if(!interactionContext.activeColumnSelection(column)){interactionContext.uiStartColumnSelection(column);interactionContext.scrollDisabled=!0}else{interactionContext.clear()}focusGrid(gridEl);e.stopPropagation()});events.registerGridEvent(headerCellEl,'grid-mouse-select-enter',()=>{interactionContext.uiExpandColumnSelection(column);focusGrid(gridEl)});events.registerGridEvent(headerCellEl,'grid-mouse-context-menu',e=>{if(!interactionContext.activeColumnSelection(column)){interactionContext.uiStartColumnSelection(column)}const{clientX,clientY}=e.detail;interactionContext.toggleSelectContextMenu({clientX,clientY,isTouch:!1,cellEl:headerCellEl});e.stopPropagation()});column[__WEBPACK_IMPORTED_MODULE_0__priv__.a].renderContext=renderColumnContext({column,headerCellEl});column[__WEBPACK_IMPORTED_MODULE_0__priv__.a].renderContext(column.context)}]}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__internal_createCollection__=__webpack_require__(74),__WEBPACK_IMPORTED_MODULE_1__checkId__=__webpack_require__(75),__WEBPACK_IMPORTED_MODULE_2__priv__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_3__render_renderDataSet__=__webpack_require__(355),__WEBPACK_IMPORTED_MODULE_4__render_renderClear__=__webpack_require__(356),__WEBPACK_IMPORTED_MODULE_5__createDataSet__=__webpack_require__(357),__WEBPACK_IMPORTED_MODULE_6__expandColumns__=__webpack_require__(24);__webpack_exports__.a=({dataSetGrid,cellResolver,interactionContext})=>{const dataSets=Object(__WEBPACK_IMPORTED_MODULE_0__internal_createCollection__.a)();let totalColumns=[],readonly=!0;const getColumns=()=>totalColumns.slice(0),resolvePositions=()=>{totalColumns=[];readonly=!0;let gridPosition=0;for(let dataSetPosition=0;dataSetPosition<dataSets.length;dataSetPosition++){const dataSet=dataSets.findByIndex(dataSetPosition);dataSet[__WEBPACK_IMPORTED_MODULE_2__priv__.a].setGridPosition(gridPosition);dataSet[__WEBPACK_IMPORTED_MODULE_2__priv__.a].setPosition(dataSetPosition);const{columns}=dataSet[__WEBPACK_IMPORTED_MODULE_2__priv__.a];for(let columnPosition=0;columnPosition<columns.length;columnPosition++){const column=columns.findByIndex(columnPosition);column[__WEBPACK_IMPORTED_MODULE_2__priv__.a].setGridPosition(gridPosition);column[__WEBPACK_IMPORTED_MODULE_2__priv__.a].setPosition(columnPosition);gridPosition++;readonly=readonly&&column.readonly;totalColumns.push(column)}}};return{addDataSet:({id,context,columns:configColumns}={})=>{interactionContext.clear();Object(__WEBPACK_IMPORTED_MODULE_1__checkId__.a)(dataSets,id,'dataset');const dataSet=Object(__WEBPACK_IMPORTED_MODULE_5__createDataSet__.a)({id,context,columns:configColumns,dataSetGrid,cellResolver,interactionContext,resolvePositions});dataSets.append(dataSet.id,dataSet);dataSet[__WEBPACK_IMPORTED_MODULE_2__priv__.a].load();resolvePositions();const gridColumns=getColumns(),maxLength=Object(__WEBPACK_IMPORTED_MODULE_6__expandColumns__.a)(gridColumns);Object(__WEBPACK_IMPORTED_MODULE_3__render_renderDataSet__.a)({dataSet,gridColumns,maxLength});return dataSet},getDataSet:id=>dataSets.findByKey(id),getLength:()=>dataSets.length,getColumns,getColspan:()=>totalColumns.length,getDataSets:()=>dataSets.toList(),getReadonly:()=>readonly,clear:()=>{interactionContext.clear();Object(__WEBPACK_IMPORTED_MODULE_4__render_renderClear__.a)({dataSetGrid});dataSets.clear();resolvePositions()},dataSets,refreshHeaders:()=>{dataSets.forEach(ds=>{ds[__WEBPACK_IMPORTED_MODULE_2__priv__.a].columns.forEach(col=>{col.refreshHeader()})})},getRawColumns:()=>totalColumns}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=({dataSet,maxLength})=>{const{grid}=dataSet.grid[__WEBPACK_IMPORTED_MODULE_0__priv__.a],{columns}=dataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a],currentGridLength=grid.totalRows;grid.applyChanges(context=>{const columnsHeaderConfig=columns.map(col=>({data:col}));context.appendHeader({data:dataSet,children:columnsHeaderConfig});if(maxLength>currentGridLength){context.changeTotalRows(maxLength)}})}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=({dataSetGrid})=>{const{grid,minRows}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a],lastDataSetIndex=dataSetGrid.dataSetLength-1;grid.applyChanges(context=>{for(let dataSetIndex=lastDataSetIndex;0<=dataSetIndex;dataSetIndex--){context.getHeader(dataSetIndex).remove()}context.changeTotalRows(minRows)})}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__createColumnCollection__=__webpack_require__(358),__WEBPACK_IMPORTED_MODULE_2__internal_completeAssign__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_3__render_renderRemoveDataSet__=__webpack_require__(363);__webpack_exports__.a=({id,context,columns:configColumns=[],dataSetGrid,cellResolver,interactionContext,resolvePositions}={})=>{const dataSet=colId=>dataSet.getColumn(colId),{getColspan,getColumns,getColumn,appendColumns,insertColumns,columns}=Object(__WEBPACK_IMPORTED_MODULE_1__createColumnCollection__.a)({dataSet,columns:configColumns,cellResolver,interactionContext,resolvePositions});let gridPosition=-1;let position=-1;const setContext=newContext=>{context=newContext;dataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a].renderContext(context)};return Object(__WEBPACK_IMPORTED_MODULE_2__internal_completeAssign__.a)(dataSet,{get id(){return id},get context(){return context},set context(value){setContext(value)},get columns(){return getColumns()},get colspan(){return getColspan()},get gridPosition(){return gridPosition},get position(){return position},get grid(){return dataSetGrid},getColumn,appendColumns,insertColumns,remove:()=>{interactionContext.clear();Object(__WEBPACK_IMPORTED_MODULE_3__render_renderRemoveDataSet__.a)({dataSet});const{dataSets}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a];dataSets.removeByKey(id);resolvePositions();gridPosition=-1;position=-1},scrollTo:()=>{const{columns}=dataSet[__WEBPACK_IMPORTED_MODULE_0__priv__.a],firstColumn=columns.findByIndex(0);dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a].grid.scrollTo(firstColumn,null)},[__WEBPACK_IMPORTED_MODULE_0__priv__.a]:{columns,setContext:()=>{},setPosition:pos=>{position=pos},setGridPosition:pos=>{gridPosition=pos},load:()=>{columns.forEach(col=>{col[__WEBPACK_IMPORTED_MODULE_0__priv__.a].load()})}}})}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__internal_createCollection__=__webpack_require__(74),__WEBPACK_IMPORTED_MODULE_1__priv__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__checkId__=__webpack_require__(75),__WEBPACK_IMPORTED_MODULE_3__render_renderColumns__=__webpack_require__(359),__WEBPACK_IMPORTED_MODULE_4__createColumn__=__webpack_require__(360),__WEBPACK_IMPORTED_MODULE_5__expandColumns__=__webpack_require__(24);__webpack_exports__.a=({dataSet,columns:configColumns,cellResolver,interactionContext,resolvePositions})=>{if(1>configColumns.length){throw Error(`dataSet needs at least one column.`)}const columns=Object(__WEBPACK_IMPORTED_MODULE_0__internal_createCollection__.a)(),checkColumnId=id=>Object(__WEBPACK_IMPORTED_MODULE_2__checkId__.a)(columns,id,'column'),checkColumnIdWith=(id,errorMsg,match)=>{checkColumnId(id);if(match(id)){throw Error(errorMsg)}};configColumns.forEach(({id,context,readonly,values}={})=>{Object(__WEBPACK_IMPORTED_MODULE_2__checkId__.a)(columns,id,'column');const column=Object(__WEBPACK_IMPORTED_MODULE_4__createColumn__.a)({id,context,readonly,values,dataSet,cellResolver,interactionContext,resolvePositions});columns.append(column.id,column)});const checkIdWithArray=(id,array)=>checkColumnIdWith(id,`column config '${id}' has duplicate`,match=>{const length=array.filter(item=>item.id===match).length;return 1<length});return{getColspan:()=>columns.length,getColumns:()=>columns.toList(),getColumn:id=>columns.findByKey(id),appendColumns:(newColumnsConfig=[])=>{interactionContext.clear();const newColumns=newColumnsConfig.map(({id,context,readonly,values=[]}={})=>{checkIdWithArray(id,newColumnsConfig);const column=Object(__WEBPACK_IMPORTED_MODULE_4__createColumn__.a)({id,context,readonly,values,dataSet,cellResolver,interactionContext,resolvePositions});return column});newColumns.forEach(newColumn=>columns.append(newColumn.id,newColumn));newColumns.forEach(newColumn=>newColumn[__WEBPACK_IMPORTED_MODULE_1__priv__.a].load());const{columns:gridColumns}=dataSet.grid,maxLength=Object(__WEBPACK_IMPORTED_MODULE_5__expandColumns__.a)(gridColumns);resolvePositions();Object(__WEBPACK_IMPORTED_MODULE_3__render_renderColumns__.a)({newColumns,dataSet,maxLength,append:!0});return newColumns},insertColumns:(index=0,newColumnsConfig=[])=>{interactionContext.clear();const newColumns=newColumnsConfig.map(({id,context,readonly,values=[]}={})=>{checkIdWithArray(id,newColumnsConfig);if(index>=columns.length){throw Error(`index ${index} for column ${id} is out of bounds.`)}const column=Object(__WEBPACK_IMPORTED_MODULE_4__createColumn__.a)({id,context,readonly,values,dataSet,cellResolver,interactionContext,resolvePositions});return column});let currentIndex=index;newColumns.forEach(newColumn=>{columns.insert(currentIndex,newColumn.id,newColumn);currentIndex++});newColumns.forEach(newColumn=>newColumn[__WEBPACK_IMPORTED_MODULE_1__priv__.a].load());const{columns:gridColumns}=dataSet.grid,maxLength=Object(__WEBPACK_IMPORTED_MODULE_5__expandColumns__.a)(gridColumns);resolvePositions();Object(__WEBPACK_IMPORTED_MODULE_3__render_renderColumns__.a)({newColumns,dataSet,maxLength,index});return newColumns},columns}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=({newColumns,dataSet,maxLength,append=!1,index=0})=>{const dataSetGrid=dataSet.grid,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv__.a],gridLength=grid.length,dataSetPosition=dataSet.position;grid.applyChanges(context=>{const dataSetHeader=context.getHeader(dataSetPosition);if(append){newColumns.forEach(col=>{dataSetHeader.appendChildHeader({data:col})})}else{newColumns.forEach((col,newColIndex)=>{dataSetHeader.insertChildHeader(index+newColIndex,{data:col})})}if(maxLength>gridLength){context.changeTotalRows(maxLength)}})}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__internal_completeAssign__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1__priv__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__render_renderRemoveColumn__=__webpack_require__(361),__WEBPACK_IMPORTED_MODULE_3__expandColumns__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_4__createColumnValueCollection__=__webpack_require__(362);__webpack_exports__.a=({id,context,readonly=!1,values:newValues,dataSet,cellResolver,interactionContext,resolvePositions}={})=>{const column={};let values=Object(__WEBPACK_IMPORTED_MODULE_4__createColumnValueCollection__.a)({cellResolver,column});const setContext=value=>{context=value;column[__WEBPACK_IMPORTED_MODULE_1__priv__.a].renderContext(context)},setTextValue=(rowIndex,textValue)=>{const attemptedValue=cellResolver.textToValue(textValue);if(attemptedValue!==cellResolver.parseFailed&&values.getSingle(rowIndex)!==attemptedValue){values.setSingle(rowIndex,attemptedValue);return!0}return!1};let gridPosition=-1;let position=-1;const refresh=()=>{const dataSetGrid=dataSet.grid,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv__.a];grid.applyChanges(context=>{values.refresh(rowIndex=>context.updateCell(rowIndex,gridPosition))})},setReadonly=value=>{readonly=!!value;refresh()};return Object(__WEBPACK_IMPORTED_MODULE_0__internal_completeAssign__.a)(column,{get id(){return id},get context(){return context},set context(value){setContext(value)},get readonly(){return readonly},set readonly(value){setReadonly(value)},get dataSet(){return dataSet},get position(){return position},get gridPosition(){return gridPosition},getValues:()=>{return values.getAll().slice(0)},setValues:(newValueSet=[])=>{const newValues=newValueSet.slice(0);values.trimArray(newValues);const dataSetGrid=dataSet.grid,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv__.a],gridColumns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv__.a].getRawColumns(),currentGridLength=grid.totalRows,maxLength=Object(__WEBPACK_IMPORTED_MODULE_3__expandColumns__.a)(gridColumns,newValues.length);grid.applyChanges(context=>{if(maxLength>currentGridLength){context.changeTotalRows(maxLength)}values.setAll(newValues,rowIndex=>context.updateCell(rowIndex,gridPosition))})},getValue:rowIndex=>values[rowIndex],setValue:(rowIndex,value)=>{if(!values.matches(rowIndex,value)){const dataSetGrid=dataSet.grid,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv__.a],gridColumns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv__.a].getRawColumns();values.setSingle(rowIndex,value);values.trimCollection();const currentGridLength=grid.totalRows,maxLength=Object(__WEBPACK_IMPORTED_MODULE_3__expandColumns__.a)(gridColumns,newValues.length);grid.applyChanges(context=>{if(maxLength>currentGridLength){context.changeTotalRows(maxLength)}context.updateCell(rowIndex,gridPosition)})}},refresh,refreshHeader:()=>{setContext(context)},remove:()=>{if(1===dataSet[__WEBPACK_IMPORTED_MODULE_1__priv__.a].columns.length){throw Error('Datasets must have at least one column')}interactionContext.clear();Object(__WEBPACK_IMPORTED_MODULE_2__render_renderRemoveColumn__.a)({column});const{columns}=column.dataSet[__WEBPACK_IMPORTED_MODULE_1__priv__.a];columns.removeByKey(column.id);resolvePositions();gridPosition=-1;position=-1},scrollTo:onlyOutOfFocus=>{dataSet.grid[__WEBPACK_IMPORTED_MODULE_1__priv__.a].grid.scrollTo(column,null,onlyOutOfFocus)},scrollToCell:(rowIndex,onlyOutOfFocus)=>{dataSet.grid[__WEBPACK_IMPORTED_MODULE_1__priv__.a].grid.scrollTo(column,rowIndex,onlyOutOfFocus)},[__WEBPACK_IMPORTED_MODULE_1__priv__.a]:{values,getCellData:rowIndex=>{const{isEditing,isDeepEdit,isFocused,isSelected}=interactionContext.getCellState(column,rowIndex),getText=isEditing?()=>values.getEditText(rowIndex):()=>values.getReadText(rowIndex);return{getText,setValue:textValue=>setTextValue(rowIndex,textValue),isSelected,isEditing,isDeepEdit,isFocused}},trimValues:()=>{values.trimCollection()},setContext:()=>{},setPosition:pos=>{position=pos},setGridPosition:pos=>{gridPosition=pos},load:()=>{values.load(newValues.slice(0))}}})}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=({column})=>{const columnPosition=column.position,dataSet=column.dataSet,dataSetPosition=dataSet.position,{grid}=dataSet.grid[__WEBPACK_IMPORTED_MODULE_0__priv__.a];grid.applyChanges(context=>{context.getHeader(dataSetPosition).getChildHeader(columnPosition).remove()})}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=({cellResolver,column})=>{let values=[],stringValues=[];const refresh=onUpdate=>{for(let i=0;i<values.length;i++){const value=values[i];stringValues[i]=cellResolver.valueToText(value,column,!1);if(onUpdate){onUpdate(i)}}},trimArray=array=>{const currentLength=array.length;let newLength=currentLength;for(let i=currentLength-1;0<=i;i--){if(!cellResolver.isEmpty(array[i])){break}newLength-=1}array.length=newLength;return array};return{get length(){return values.length},load:clonedValues=>{values=clonedValues;refresh()},refresh,trimArray,trimCollection:()=>{stringValues.length=trimArray(values).length},getAll:()=>values,setAll:(newValues,onUpdate)=>{const oldValues=values;values=newValues;stringValues.length=values.length;for(let i=0;i<values.length;i++){const value=values[i];if(oldValues[i]!==newValues[i]){stringValues[i]=cellResolver.valueToText(value,column,!1);onUpdate(i)}}for(let i=values.length;i<oldValues.length;i++){if(!cellResolver.isEmpty(oldValues[i])){onUpdate(i)}}},getSingle:index=>values[index],setSingle:(index,newValue)=>{values[index]=newValue;stringValues[index]=cellResolver.valueToText(newValue,column,!1)},matches:(index,value)=>values[index]===value,getEditText:index=>{const value=values[index];return cellResolver.valueToText(value,column,!0)},getReadText:index=>{const stringValue=stringValues[index];return stringValue===void 0?'':stringValue}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv__=__webpack_require__(7);__webpack_exports__.a=({dataSet})=>{const dataSetPosition=dataSet.position,{grid}=dataSet.grid[__WEBPACK_IMPORTED_MODULE_0__priv__.a];grid.applyChanges(context=>{context.getHeader(dataSetPosition).remove()})}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv_js__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__createClipboardContext__=__webpack_require__(365),__WEBPACK_IMPORTED_MODULE_2__createOverscrollContext__=__webpack_require__(370);__webpack_exports__.a=({dataSetGrid,cellResolver,callbacks,gridTouchEvents})=>{let interaction=null,clipboardContext=null,uiSelectionOccurring=!1,shiftSelected=!1;const getShiftSelected=()=>shiftSelected,setShiftSelected=value=>{shiftSelected=value},getInteractionsDisabled=()=>gridTouchEvents.interactionsDisabled,setInteractionsDisabled=value=>{gridTouchEvents.interactionsDisabled=value},getScrollDisabled=()=>dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].grid.scrollDisabled,setScrollDisabled=value=>{dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].grid.scrollDisabled=value},getGridDisabled=()=>getInteractionsDisabled()&&getScrollDisabled(),setGridDisabled=value=>{if(value){setInteractionsDisabled(!0);setScrollDisabled(!0)}else{setInteractionsDisabled(!1);setScrollDisabled(!1)}},greaterOf=(compare1,compare2,val1=void 0,val2=void 0)=>{return compare1>compare2?val1!==void 0?val1:compare1:val2!==void 0?val2:compare2},lesserOf=(compare1,compare2,val1=void 0,val2=void 0)=>{return compare1<=compare2?val1!==void 0?val1:compare1:val2!==void 0?val2:compare2};let clear=null;const updateRowRange=(lowerIndex,higherIndex)=>{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.applyChanges(context=>{for(let rowIndex=lowerIndex;rowIndex<=higherIndex;rowIndex++){for(let colIndex=0;colIndex<grid.totalColumns;colIndex++){context.updateCell(rowIndex,colIndex)}}})},updateColumnRange=(lowerColIndex,higherColIndex)=>{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.applyChanges(context=>{const lowerRowIndex=context.renderedStartRowIndex,higherRowIndex=context.renderedLastRowIndex;for(let rowIndex=lowerRowIndex;rowIndex<=higherRowIndex;rowIndex++){for(let colIndex=lowerColIndex;colIndex<=higherColIndex;colIndex++){context.updateCell(rowIndex,colIndex)}}})},updateDataSetRange=(lowerDataSetIndex,higherDataSetIndex)=>{const{dataSets}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],lowerDataSet=dataSets.findByIndex(lowerDataSetIndex),higherDataSet=dataSets.findByIndex(higherDataSetIndex),ldsColumns=lowerDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].columns,lowerColumnIndex=ldsColumns.findByIndex(0).gridPosition,hdsColumns=higherDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].columns,higherColumnIndex=hdsColumns.findByIndex(hdsColumns.length-1).gridPosition;updateColumnRange(lowerColumnIndex,higherColumnIndex)},updateCell=(colIndex,rowIndex)=>{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.applyChanges(context=>{context.updateCell(rowIndex,colIndex)})},updateCellRange=(lowerColIndex,higherColIndex,lowerRowIndex,higherRowIndex)=>{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.applyChanges(context=>{for(let rowIndex=lowerRowIndex;rowIndex<=higherRowIndex;rowIndex++){for(let colIndex=lowerColIndex;colIndex<=higherColIndex;colIndex++){context.updateCell(rowIndex,colIndex)}}})},hasInteractions=()=>!!interaction,getHasSelection=()=>{return interaction&&!interaction.editingCell},selectAll=()=>{clear();interaction={allSelected:!0,allRows:!0,allColumns:!0};updateRowRange(0,dataSetGrid.totalRows-1)},startRowSelection=rowIndex=>{clear();interaction={rowsSelected:!0,startRowIndex:rowIndex,endRowIndex:rowIndex};updateRowRange(interaction.startRowIndex,interaction.endRowIndex)},expandRowSelection=rowIndex=>{if(interaction&&interaction.rowsSelected){let lowerIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex);if(rowIndex<lowerIndex){lowerIndex=rowIndex}else if(rowIndex>higherIndex){higherIndex=rowIndex}interaction.endRowIndex=rowIndex;updateRowRange(lowerIndex,higherIndex)}},startDataSetSelection=dataSet=>{clear();const dataSetIndex=dataSet.position;interaction={dataSetsSelected:!0,startDataSetIndex:dataSetIndex,startDataSet:dataSet,endDataSetIndex:dataSetIndex,endDataSet:dataSet};updateDataSetRange(dataSetIndex,dataSetIndex)},expandDataSetSelection=dataSet=>{if(interaction&&interaction.dataSetsSelected){const dataSetIndex=dataSet.position;let lowerIndex=lesserOf(interaction.startDataSetIndex,interaction.endDataSetIndex),higherIndex=greaterOf(interaction.startDataSetIndex,interaction.endDataSetIndex);if(dataSetIndex<lowerIndex){lowerIndex=dataSetIndex}else if(dataSetIndex>higherIndex){higherIndex=dataSetIndex}interaction.endDataSet=dataSet;interaction.endDataSetIndex=dataSetIndex;updateDataSetRange(lowerIndex,higherIndex)}},startColumnSelection=column=>{clear();const colIndex=column.gridPosition;interaction={columnsSelected:!0,startColIndex:colIndex,startCol:column,endColIndex:colIndex,endCol:column};updateColumnRange(colIndex,colIndex)},expandColumnSelection=column=>{if(interaction){if(interaction.columnsSelected){const colIndex=column.gridPosition;let lowerIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherIndex=greaterOf(interaction.startColIndex,interaction.endColIndex);if(colIndex<lowerIndex){lowerIndex=colIndex}else if(colIndex>higherIndex){higherIndex=colIndex}interaction.endCol=column;interaction.endColIndex=colIndex;updateColumnRange(lowerIndex,higherIndex)}else if(interaction.dataSetsSelected){expandDataSetSelection(column.dataSet)}}},startCellSelection=(column,rowIndex)=>{clear();const colIndex=column.gridPosition;interaction={cellsSelected:!0,startCol:column,startColIndex:colIndex,endCol:column,endColIndex:colIndex,startRowIndex:rowIndex,endRowIndex:rowIndex};updateCellRange(colIndex,colIndex,rowIndex,rowIndex)},expandCellSelection=(column,rowIndex)=>{if(interaction){if(interaction.rowsSelected){expandRowSelection(rowIndex)}else if(interaction.columnsSelected){expandColumnSelection(column)}else if(interaction.dataSetsSelected){expandDataSetSelection(column.dataSet)}else if(interaction.cellsSelected){const colIndex=column.gridPosition;let lowerColIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherColIndex=greaterOf(interaction.startColIndex,interaction.endColIndex);if(colIndex<lowerColIndex){lowerColIndex=colIndex}else if(colIndex>higherColIndex){higherColIndex=colIndex}interaction.endCol=column;interaction.endColIndex=colIndex;let lowerRowIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherRowIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex);if(rowIndex<lowerRowIndex){lowerRowIndex=rowIndex}else if(rowIndex>higherRowIndex){higherRowIndex=rowIndex}interaction.endRowIndex=rowIndex;updateCellRange(lowerColIndex,higherColIndex,lowerRowIndex,higherRowIndex)}}},editCell=(col,rowIndex,suppressClear=!1)=>{if(!suppressClear){clear()}if(!col.readonly){const colIndex=col.gridPosition;interaction={editingCell:!0,deepEdit:!1,colIndex,rowIndex};const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.scrollTo(col,rowIndex,!0);updateCell(colIndex,rowIndex)}},getColumnsFromRange=(start,end)=>{const colStartIndex=lesserOf(start,end),colEndIndex=greaterOf(start,end),allColumns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].getRawColumns(),result=allColumns.slice(colStartIndex,colEndIndex+1);return result},getDataSetsFromRange=(start,end)=>{const dataSetStartIndex=lesserOf(start,end),dataSetEndIndex=greaterOf(start,end),allDataSets=dataSetGrid.dataSets,result=allDataSets.slice(dataSetStartIndex,dataSetEndIndex+1);return result},getSelection=()=>{if(interaction&&!interaction.editingCell){const selection={};if(interaction.rowsSelected||interaction.cellsSelected){selection.rows={start:lesserOf(interaction.startRowIndex,interaction.endRowIndex),end:greaterOf(interaction.startRowIndex,interaction.endRowIndex)}}else{selection.allRows=!0}if(interaction.columnsSelected||interaction.cellsSelected){selection.columns=getColumnsFromRange(interaction.startColIndex,interaction.endColIndex);selection.dataSets=[]}else if(interaction.dataSetsSelected){const dataSets=getDataSetsFromRange(interaction.startDataSetIndex,interaction.endDataSetIndex),startDataSet=dataSets[0],startColumns=startDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].columns,startColIndex=startColumns.findByIndex(0).gridPosition,endDataSet=dataSets[dataSets.length-1],endColumns=endDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].columns,endColIndex=endColumns.findByIndex(endColumns.length-1).gridPosition;selection.dataSets=dataSets;selection.columns=getColumnsFromRange(startColIndex,endColIndex)}else{selection.allColumns=!0;selection.allDataSets=!0}return selection}return null};clipboardContext=Object(__WEBPACK_IMPORTED_MODULE_1__createClipboardContext__.a)({dataSetGrid,getSelection,cellResolver,callbacks});const notifyUiSelection=()=>{callbacks.onUiSelection(getSelection())},uiStartRowSelection=rowIndex=>{startRowSelection(rowIndex);uiSelectionOccurring=!0;notifyUiSelection()},uiExpandRowSelection=rowIndex=>{expandRowSelection(rowIndex);uiSelectionOccurring=!0;notifyUiSelection()},uiStartCellSelection=(column,rowIndex)=>{startCellSelection(column,rowIndex);uiSelectionOccurring=!0;notifyUiSelection()},uiExpandCellSelection=(column,rowIndex)=>{expandCellSelection(column,rowIndex);uiSelectionOccurring=!0;notifyUiSelection()},uiStartColumnSelection=column=>{startColumnSelection(column);uiSelectionOccurring=!0;notifyUiSelection()},uiExpandColumnSelection=column=>{expandColumnSelection(column);uiSelectionOccurring=!0;notifyUiSelection()},uiStartDataSetSelection=dataSet=>{startDataSetSelection(dataSet);uiSelectionOccurring=!0;notifyUiSelection()},uiExpandDataSetSelection=dataSet=>{expandDataSetSelection(dataSet);uiSelectionOccurring=!0;notifyUiSelection()},{checkOverscroll,clearOverscroll}=Object(__WEBPACK_IMPORTED_MODULE_2__createOverscrollContext__.a)({dataSetGrid,getInteraction:()=>interaction,getUiSelectionOccurring:()=>uiSelectionOccurring,uiStartColumnSelection,uiExpandColumnSelection,uiStartRowSelection,uiExpandRowSelection,uiStartDataSetSelection,uiExpandDataSetSelection,uiStartCellSelection,uiExpandCellSelection}),getToggledTouchContextMenu=()=>interaction&&interaction.toggledTouchContextMenu;clear=()=>{if(interaction){if(interaction.allSelected){interaction=null;updateRowRange(0,dataSetGrid.totalRows-1)}else if(interaction.rowsSelected){const lowerIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex);interaction=null;updateRowRange(lowerIndex,higherIndex)}else if(interaction.columnsSelected){const lowerIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherIndex=greaterOf(interaction.startColIndex,interaction.endColIndex);interaction=null;updateColumnRange(lowerIndex,higherIndex)}else if(interaction.dataSetsSelected){const lowerIndex=lesserOf(interaction.startDataSetIndex,interaction.endDataSetIndex),higherIndex=greaterOf(interaction.startDataSetIndex,interaction.endDataSetIndex);interaction=null;updateDataSetRange(lowerIndex,higherIndex)}else if(interaction.cellsSelected){const lowerColIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherColIndex=greaterOf(interaction.startColIndex,interaction.endColIndex),lowerRowIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherRowIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex);interaction=null;updateColumnRange(lowerColIndex,higherColIndex,lowerRowIndex,higherRowIndex)}else if(interaction.editingCell){const colIndex=interaction.colIndex,rowIndex=interaction.rowIndex;interaction=null;updateCell(colIndex,rowIndex)}}clipboardContext.closeContextMenu();const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.isDeepEditing=!1;interaction=null};const getSelectContextMenuOpen=()=>clipboardContext.menuOpen;return{get hasInteractions(){return hasInteractions()},get hasSelection(){return getHasSelection()},get gridDisabled(){return getGridDisabled()},set gridDisabled(value){setGridDisabled(value)},get scrollDisabled(){return getScrollDisabled()},set scrollDisabled(value){setScrollDisabled(value)},get interactionsDisabled(){return getInteractionsDisabled()},set interactionsDisabled(value){setInteractionsDisabled(value)},get toggledTouchContextMenu(){return getToggledTouchContextMenu()},get selectContextMenuOpen(){return getSelectContextMenuOpen()},get uiSelectionOccurring(){return uiSelectionOccurring},get shiftSelected(){return getShiftSelected()},set shiftSelected(value){setShiftSelected(value)},get cellsSelected(){return!!interaction&&interaction.cellsSelected},get rowsSelected(){return!!interaction&&interaction.rowsSelected},get columnsSelected(){return!!interaction&&interaction.columnsSelected},get dataSetsSelected(){return!!interaction&&interaction.dataSetsSelected},get events(){return gridTouchEvents},activeCellSelection:(column,rowIndex)=>{if(interaction&&interaction.cellsSelected){const lowerColIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherColIndex=greaterOf(interaction.startColIndex,interaction.endColIndex),lowerRowIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherRowIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex),colIndex=column.gridPosition;return colIndex>=lowerColIndex&&colIndex<=higherColIndex&&rowIndex>=lowerRowIndex&&rowIndex<=higherRowIndex}return!1},activeRowSelection:rowIndex=>{if(interaction&&interaction.rowsSelected){const lowerRowIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherRowIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex);return rowIndex>=lowerRowIndex&&rowIndex<=higherRowIndex}return!1},activeColumnSelection:column=>{if(interaction&&interaction.columnsSelected){const lowerColIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherColIndex=greaterOf(interaction.startColIndex,interaction.endColIndex),colIndex=column.gridPosition;return colIndex>=lowerColIndex&&colIndex<=higherColIndex}return!1},activeDataSetSelection:dataSet=>{if(interaction&&interaction.dataSetsSelected){const lowerDataSetIndex=lesserOf(interaction.startDataSetIndex,interaction.endDataSetIndex),higherDataSetIndex=greaterOf(interaction.startDataSetIndex,interaction.endDataSetIndex),dataSetIndex=dataSet.position;return dataSetIndex>=lowerDataSetIndex&&dataSetIndex<=higherDataSetIndex}return!1},singleCellSelected:(column,rowIndex)=>{return interaction&&interaction.cellsSelected&&interaction.startCol===column&&interaction.endCol===column&&interaction.startRowIndex===rowIndex&&interaction.endRowIndex===rowIndex},singleColumnSelected:column=>{return interaction&&interaction.columnsSelected&&interaction.startCol===column&&interaction.endCol===column},singleRowSelected:rowIndex=>{return interaction&&interaction.rowsSelected&&interaction.startRowIndex===rowIndex&&interaction.endRowIndex===rowIndex},singleDataSetSelected:dataSet=>{return interaction&&interaction.dataSetsSelected&&interaction.startDataSet===dataSet&&interaction.endDataSet===dataSet},selectAll,startRowSelection,expandRowSelection,startCellSelection,expandCellSelection,startColumnSelection,expandColumnSelection,startDataSetSelection,expandDataSetSelection,uiSelectAll:()=>{selectAll();notifyUiSelection()},uiStartRowSelection,uiExpandRowSelection,uiStartCellSelection,uiExpandCellSelection,uiStartColumnSelection,uiExpandColumnSelection,uiStartDataSetSelection,uiExpandDataSetSelection,uiEndSelection:()=>{uiSelectionOccurring=!1},getCellState:(column,rowIndex)=>{let isSelected=!1,isFocused=!1,isEditing=!1,isDeepEdit=!1;if(interaction){if(interaction.allSelected){isSelected=!0}else if(interaction.rowsSelected){let lowerIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex);isSelected=rowIndex>=lowerIndex&&rowIndex<=higherIndex}else if(interaction.columnsSelected){let colIndex=column.gridPosition,lowerIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherIndex=greaterOf(interaction.startColIndex,interaction.endColIndex);isSelected=colIndex>=lowerIndex&&colIndex<=higherIndex}else if(interaction.dataSetsSelected){let dataSetIndex=column.dataSet.position,lowerIndex=lesserOf(interaction.startDataSetIndex,interaction.endDataSetIndex),higherIndex=greaterOf(interaction.startDataSetIndex,interaction.endDataSetIndex);isSelected=dataSetIndex>=lowerIndex&&dataSetIndex<=higherIndex}else if(interaction.cellsSelected){let colIndex=column.gridPosition,lowerColIndex=lesserOf(interaction.startColIndex,interaction.endColIndex),higherColIndex=greaterOf(interaction.startColIndex,interaction.endColIndex),lowerRowIndex=lesserOf(interaction.startRowIndex,interaction.endRowIndex),higherRowIndex=greaterOf(interaction.startRowIndex,interaction.endRowIndex);isSelected=colIndex>=lowerColIndex&&colIndex<=higherColIndex&&rowIndex>=lowerRowIndex&&rowIndex<=higherRowIndex;isFocused=colIndex===interaction.endColIndex&&rowIndex===interaction.endRowIndex}else if(interaction.editingCell){const colIndex=column.gridPosition;isEditing=isFocused=colIndex===interaction.colIndex&&rowIndex===interaction.rowIndex;isDeepEdit=isEditing&&interaction.deepEdit}}return{isSelected,isFocused,isEditing,isDeepEdit}},editCell,deepEditCell:(col,rowIndex)=>{clear();if(!col.readonly){const colIndex=col.gridPosition;interaction={editingCell:!0,deepEdit:!0,colIndex,rowIndex};const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.isDeepEditing=!0;grid.scrollTo(col,rowIndex,!0);updateCell(colIndex,rowIndex)}},focusCell:(col,rowIndex,extendSelection)=>{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.scrollTo(col,rowIndex,!0);if(!extendSelection){clear();if(!col.readonly){editCell(col,rowIndex)}else{uiStartCellSelection(col,rowIndex)}}else{uiExpandCellSelection(col,rowIndex)}},focus:()=>{if(interaction&&interaction.editingCell){updateCell(interaction.colIndex,interaction.rowIndex)}else if(interaction&&interaction.cellsSelected){updateCell(interaction.endColIndex,interaction.endRowIndex)}else{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.focus()}},clear,notifyUIChange:changes=>{const changeArgs=changes.map(({column,rowIndex})=>({column,rowIndex,value:column[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].values.getSingle(rowIndex)}));callbacks.onUserInputChange(changeArgs)},getSelection,toggleSelectContextMenu:({clientX,clientY,cellEl,isTouch})=>{interaction.toggledTouchContextMenu=!1;clipboardContext.toggleSelectContextMenu({cellEl,clientX,clientY,isTouch,onContextClose:()=>{if(interaction&&isTouch){interaction.toggledTouchContextMenu=!0}}})},closeSelectContextMenu:()=>{clipboardContext.closeContextMenu()},executeDelete:()=>clipboardContext.executeDelete(),checkToExtend:(rowIndex,valueText=null)=>{if(!dataSetGrid.readonly){const totalRows=dataSetGrid.totalRows,passedValue=null!==valueText,value=passedValue?cellResolver.textToValue(valueText):null;if(rowIndex===totalRows-1&&(!passedValue||!cellResolver.isEmpty(value)&&cellResolver.parseFailed!==value)){const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];grid.applyChanges(context=>{context.changeTotalRows(totalRows+1)})}}},checkOverscroll,clearOverscroll,getInteractionInfo:()=>{const interactionInfo=Object.assign({},interaction);if(interactionInfo.cellReselect){interactionInfo.cellReselect=Object.assign({},interactionInfo.cellReselect)}return interactionInfo},uiSetCellReselect:(cellEl,column,rowIndex)=>{if(interaction){interaction.cellReselect={cellEl,column,rowIndex};uiSelectionOccurring=!0}},uiClearCellReselect:()=>{if(interaction.cellReselect){const{column,rowIndex}=interaction.cellReselect;interaction.cellReselect=null;uiStartCellSelection(column,rowIndex)}}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_csv_string__=__webpack_require__(366),__WEBPACK_IMPORTED_MODULE_0_csv_string___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_csv_string__),__WEBPACK_IMPORTED_MODULE_1__priv_js__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__expandColumns__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_3__localeNumber__=__webpack_require__(369);__webpack_exports__.a=({getSelection,dataSetGrid,callbacks,cellResolver})=>{let workaroundClipboard=null,openContextMenu=null;const closeContextMenu=()=>{if(openContextMenu){openContextMenu.closeUI();openContextMenu=null}},enableScroll=()=>{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a];grid.scrollDisabled=!1},disableScroll=()=>{const{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a];grid.scrollDisabled=!0},deleteTarget=selection=>{const columns=selection.columns||dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].getRawColumns(),rowStart=selection.rows?selection.rows.start:0,rowEnd=selection.rows?selection.rows.end:dataSetGrid.totalRows-1,colLength=columns.length,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a],changes=[];grid.applyChanges(context=>{for(let colIndex=0;colIndex<colLength;colIndex++){const column=columns[colIndex];if(!column.readonly){const values=column[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].values;for(let rowIndex=rowStart;rowIndex<=rowEnd;rowIndex++){const colPosition=column.gridPosition;values.setSingle(rowIndex,cellResolver.emptyValue);context.updateCell(rowIndex,colPosition);changes.push({column,rowIndex,value:cellResolver.emptyValue})}values.trimCollection()}}});callbacks.onUserInputChange(changes)},deleteAction=selection=>{deleteTarget(selection);closeContextMenu()},getCSVText=selection=>{const columnValues=(selection.columns||dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].getRawColumns()).map(col=>col[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].values),rowStart=selection.rows?selection.rows.start:0,rowEnd=selection.rows?selection.rows.end:dataSetGrid.totalRows-1,selectionArray=[],colLength=columnValues.length;for(let rowIndex=rowStart;rowIndex<=rowEnd;rowIndex++){const rowArray=[];selectionArray.push(rowArray);for(let colIndex=0;colIndex<colLength;colIndex++){const values=columnValues[colIndex],value=values.getSingle(rowIndex);rowArray.push(Object(__WEBPACK_IMPORTED_MODULE_3__localeNumber__.c)(value))}}return __WEBPACK_IMPORTED_MODULE_0_csv_string___default.a.stringify(selectionArray,'\t')},copyTarget=(e,selection)=>{const csvText=getCSVText(selection);workaroundClipboard=csvText;if(e){e.clipboardData.setData('text/plain',csvText)}},copy=(e,selection)=>{copyTarget(e,selection);closeContextMenu()},isNativeSelected=()=>!document.getSelection().isCollapsed,copyHandler=e=>{const selection=getSelection();if(selection){copy(e,selection);if(!isNativeSelected()&&e){e.preventDefault()}}};document.addEventListener('copy',copyHandler);const detectSeparator=clipboardSelection=>{if(','===__WEBPACK_IMPORTED_MODULE_3__localeNumber__.b.decimal||','===__WEBPACK_IMPORTED_MODULE_3__localeNumber__.b.thousand){const detectedSeparator=__WEBPACK_IMPORTED_MODULE_0_csv_string___default.a.detect(clipboardSelection.replace(/,/g,'.'));return','===detectedSeparator?';':detectedSeparator}return __WEBPACK_IMPORTED_MODULE_0_csv_string___default.a.detect(clipboardSelection)},paste=(clipboardSelection,selection)=>{const separator=detectSeparator(clipboardSelection),clipboardData=__WEBPACK_IMPORTED_MODULE_0_csv_string___default.a.parse(clipboardSelection,separator),clipboardRowLength=0===clipboardData.length?0:clipboardData[0].length,clipboardColumnLength=0<clipboardData.length?clipboardData[0].length:0,gridColumns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].getRawColumns(),selectionColumns=selection.columns||gridColumns,columns=selectionColumns.length>=clipboardColumnLength?selectionColumns:(()=>{const startIndex=gridColumns.indexOf(selectionColumns[0]);return gridColumns.slice(startIndex,startIndex+clipboardColumnLength)})(),colLength=columns.length,rowStart=selection.rows?selection.rows.start:0,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a],changes=[];grid.applyChanges(context=>{for(let colIndex=0,clipboardColIndex=0;clipboardColIndex<clipboardRowLength&&colIndex<colLength;colIndex++,clipboardColIndex++){const column=columns[colIndex],values=column[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].values;if(!column.readonly){for(let rowIndex=rowStart,clipboardRowIndex=0;clipboardRowIndex<clipboardData.length;rowIndex++,clipboardRowIndex++){const clipboardRow=clipboardData[clipboardRowIndex],clipboardTextValue=clipboardRow[clipboardColIndex],clipboardParseAttempt=cellResolver.textToValue(`${Object(__WEBPACK_IMPORTED_MODULE_3__localeNumber__.a)(clipboardTextValue)}`),clipboardValue=clipboardParseAttempt!==cellResolver.parseFailed?clipboardParseAttempt:cellResolver.emptyValue,colPosition=column.gridPosition;values.setSingle(rowIndex,clipboardValue);context.updateCell(rowIndex,colPosition);changes.push({column,rowIndex,value:clipboardValue})}}values.trimCollection()}columns.filter(col=>!col.readonly).forEach(col=>{col[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].trimValues()});const currentTotalRows=dataSetGrid.totalRows,maxSize=Object(__WEBPACK_IMPORTED_MODULE_2__expandColumns__.a)(dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].getRawColumns());if(maxSize>currentTotalRows){context.changeTotalRows(maxSize)}closeContextMenu()});callbacks.onUserInputChange(changes)},pasteWorkaround=()=>{const selection=getSelection();if(workaroundClipboard&&selection){paste(workaroundClipboard,selection)}},pasteHandler=e=>{const selection=getSelection(),clipboardCopySelection=e.clipboardData.getData('text');if(clipboardCopySelection&&selection){paste(clipboardCopySelection,selection)}};let pasteAction=pasteHandler;const getPasteColumnLength=selection=>{const firstRowIndex=selection.indexOf('\n'),selectionRowString=-1!==firstRowIndex?selection.substr(0,firstRowIndex+1):selection,parsedRowSet=__WEBPACK_IMPORTED_MODULE_0_csv_string___default.a.parse(selectionRowString),firstRow=parsedRowSet[0];return firstRow?firstRow.length:0};document.addEventListener('paste',e=>pasteAction(e));const cut=(e,selection)=>{copyTarget(e,selection);deleteTarget(selection);closeContextMenu()},cutHandler=e=>{const selection=getSelection();if(selection){cut(e,selection);if(!isNativeSelected()&&e){e.preventDefault()}}};document.addEventListener('cut',cutHandler);let executeDelete=()=>{const selection=getSelection();if(selection){deleteAction(selection)}closeContextMenu()};const getMenuOpen=()=>{return!!openContextMenu};return{get menuOpen(){return getMenuOpen()},toggleSelectContextMenu:({clientX,clientY,cellEl,isTouch,onContextClose})=>{if(openContextMenu){openContextMenu.closeUI();openContextMenu=null;if(isTouch){return}}openContextMenu={closeUI:()=>{onContextClose();if(openContextMenu.customCloseFn){openContextMenu.customCloseFn();openContextMenu.clearClipboardHandle()}enableScroll()}};const{deletable,pasteable}=(()=>{let deletable=!1,pasteable=!1;const selection=getSelection();if(selection){if(selection.allColumns){deletable=!dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].dataSets.every(dataSet=>dataSet[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].columns.every(col=>col.readonly))}else{deletable=!selection.columns.every(col=>col.readonly)}let pasteColumnLength=0;pasteAction=e=>{const selectionData=e.clipboardData.getData('text');if(selectionData){pasteColumnLength=getPasteColumnLength(selectionData)}};if(!document.execCommand('paste')){if(workaroundClipboard){pasteColumnLength=getPasteColumnLength(workaroundClipboard)}}pasteAction=pasteHandler;if(0<pasteColumnLength){const columns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_1__priv_js__.a].getRawColumns(),columnIndex=selection.allColumns?0:columns.indexOf(selection.columns[0]),columnEndIndex=columnIndex+pasteColumnLength,pasteColumns=columns.slice(columnIndex,columnEndIndex);pasteable=pasteColumns.some(col=>!col.readonly)}else{pasteable=!1}}return{deletable,pasteable}})();let actionSelected=!1,clipboard;const clearClipboardHandle=()=>{clipboard.copy=clipboard.cut=clipboard.paste=clipboard.delete=clipboard.close=()=>{}},closeUI=()=>{if(openContextMenu&&openContextMenu.clipboard===clipboard){openContextMenu.closeUI()}clearClipboardHandle()},createNativeSelection=()=>{if(!isNativeSelected()){const selection=document.getSelection(),selectionNode=document.createElement('textarea'),csvText=getCSVText(getSelection());selectionNode.value=csvText;document.body.appendChild(selectionNode);setTimeout(()=>document.body.removeChild(selectionNode));const range=document.createRange();range.selectNode(selectionNode);selection.addRange(range);return!selection.isCollapsed}};clipboard={get isTouch(){return isTouch},copy:()=>{if(actionSelected){return}actionSelected=!0;const isCopied=document.execCommand('copy')||createNativeSelection()&&document.execCommand('copy');if(!isCopied){copyHandler()}},cut:()=>{if(actionSelected){return}actionSelected=!0;const isCut=document.execCommand('cut')||createNativeSelection()&&document.execCommand('cut');if(!isCut){cutHandler()}},paste:()=>{if(actionSelected){return}actionSelected=!0;if(!document.execCommand('paste')){pasteWorkaround()}},delete:()=>{if(actionSelected){return}actionSelected=!0;executeDelete()},close:()=>{closeUI()},onClose:fn=>{openContextMenu.customCloseFn=fn},get deletable(){return deletable},get pasteable(){return pasteable}};openContextMenu.clipboard=clipboard;openContextMenu.clearClipboardHandle=clearClipboardHandle;disableScroll();callbacks.onShowSelectContextMenu({cellEl,clientX,clientY,clipboard})},executeDelete,closeContextMenu}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(76)},function(module,exports,__webpack_require__){'use strict';var Writable=__webpack_require__(368).Writable,Parser=__webpack_require__(77);function Streamer(options){Writable.call(this,options);this.buffer='';this.sep=options&&options.separator?options.separator:void 0}Streamer.prototype=Object.create(Writable.prototype,{constructor:{value:Streamer}});Streamer.prototype._write=function(chunk,encoding,done){this.buffer=this.buffer.concat(chunk.toString());if(this.sep===void 0){this.sep=__webpack_require__(76).detect(this.buffer)}var csv=new Parser(this.buffer,this.sep),rows=csv.File();if(csv.pointer>this.buffer.length){this.buffer=this.buffer.slice(csv.pointer)}else{rows.pop();this.buffer=this.buffer.slice(csv.linePointer)}if(0<rows.length){var self=this;rows.forEach(function(row){self.emit('data',row)})}done()};Streamer.prototype.end=function(){var csv=new Parser(this.buffer,this.sep),rows=csv.File();if(0<rows.length){var self=this;rows.forEach(function(row){self.emit('data',row)})}this.emit('end')};module.exports=Streamer},function(module){module.exports=require('stream')},function(module,__webpack_exports__){'use strict';const intlNumberFormat=new Intl.NumberFormat(void 0,{maximumFractionDigits:20});__webpack_exports__.c=number=>Number.isNaN(parseFloat(number))?'':intlNumberFormat.format(number);const thousandSeparator=1111 .toLocaleString().replace(/1/g,''),decimalSeparator=1.1.toLocaleString().replace(/1/g,''),separators={thousand:thousandSeparator,decimal:decimalSeparator};__webpack_exports__.b=separators;__webpack_exports__.a=(string,_separators=separators)=>{const thousandExp=new RegExp('\\'+_separators.thousand,'g'),decimalExp=new RegExp('\\'+_separators.decimal);return parseFloat(string.replace(thousandExp,'').replace(decimalExp,'.'))}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv_js__=__webpack_require__(7);const rowOverscrollInterval=200,columnOverscrollInterval=200,dataSetOverscrollInterval=400;__webpack_exports__.a=({dataSetGrid,getInteraction,getUiSelectionOccurring,uiExpandDataSetSelection,uiExpandRowSelection,uiExpandColumnSelection,uiExpandCellSelection})=>{let overscroll=null;const clearOverscroll=()=>{if(overscroll){clearInterval(overscroll.intervalHandle);overscroll=null}};return{checkOverscroll:(clientX,clientY)=>{const bounds=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].grid.getRelativePosition(clientX,clientY),interaction=getInteraction(),uiSelectionOccurring=getUiSelectionOccurring();if(bounds.isInside||!interaction||interaction.editingCell||!uiSelectionOccurring){clearOverscroll();return}if(!overscroll){const startDirectionAction=(fn,interval)=>{overscroll={bounds};overscroll.intervalHandle=setInterval(()=>{fn(getInteraction(),!overscroll.moved);if(overscroll){overscroll.moved=!0}},interval)},moveUp=(interaction,firstMove)=>{const lowestIndex=interaction.endRowIndex,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];if(firstMove&&grid.getRelativeRowInfo(lowestIndex).outsideTop){grid.scrollTo(null,lowestIndex,!0)}else if(0<lowestIndex){const nextRowIndex=lowestIndex-1;grid.scrollTo(null,nextRowIndex,!0);if(interaction.rowsSelected){uiExpandRowSelection(nextRowIndex)}else{uiExpandCellSelection(interaction.endCol,nextRowIndex)}}else{clearOverscroll()}},moveDown=(interaction,firstMove)=>{const highestIndex=interaction.endRowIndex,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a];if(firstMove&&grid.getRelativeRowInfo(highestIndex).outsideBottom){grid.scrollTo(null,highestIndex,!0)}else if(highestIndex<dataSetGrid.totalRows-1){const nextRowIndex=highestIndex+1;grid.scrollTo(null,nextRowIndex,!0);if(interaction.rowsSelected){uiExpandRowSelection(nextRowIndex)}else{uiExpandCellSelection(interaction.endCol,nextRowIndex)}}else{clearOverscroll()}},moveLeft=(interaction,firstMove)=>{if(interaction.dataSetsSelected){const lowestIndex=interaction.endDataSetIndex,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],dataSets=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].dataSets,moveToNextDataSet=()=>{if(0<lowestIndex){const nextDataSet=dataSets.findByIndex(lowestIndex-1),{columns}=nextDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],nextCol=columns.findByIndex(0);grid.scrollTo(nextCol,null,!0);uiExpandDataSetSelection(nextDataSet)}else{clearOverscroll()}};if(firstMove){const nextDataSet=dataSets.findByIndex(lowestIndex),{columns}=nextDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],nextCol=columns.findByIndex(0);if(grid.getRelativeColumnInfo(nextCol).outsideLeft){grid.scrollTo(nextCol,null,!0)}else{moveToNextDataSet()}}else{moveToNextDataSet()}}else{const lowestIndex=interaction.endColIndex,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],columns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].getRawColumns(),moveToNextColumn=()=>{if(0<lowestIndex){const nextCol=columns[lowestIndex-1];grid.scrollTo(nextCol,null,!0);if(interaction.columnsSelected){uiExpandColumnSelection(nextCol)}else{uiExpandCellSelection(nextCol,interaction.endRowIndex)}}else{clearOverscroll()}};if(firstMove){const nextCol=columns[lowestIndex];if(grid.getRelativeColumnInfo(nextCol).outsideLeft){grid.scrollTo(nextCol,null,!0)}else{moveToNextColumn()}}else{moveToNextColumn()}}},moveRight=(interaction,firstMove)=>{if(interaction.dataSetsSelected){const highestIndex=interaction.endDataSetIndex,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],dataSets=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].dataSets,moveToNextDataSet=()=>{if(highestIndex<dataSets.length-1){const nextDataSet=dataSets.findByIndex(highestIndex+1),{columns}=nextDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],nextCol=columns.findByIndex(columns.length-1);grid.scrollTo(nextCol,null,!0);uiExpandDataSetSelection(nextDataSet)}else{clearOverscroll()}};if(firstMove){const nextDataSet=dataSets.findByIndex(highestIndex),{columns}=nextDataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],nextCol=columns.findByIndex(columns.length-1);if(grid.getRelativeColumnInfo(nextCol).outsideRight){grid.scrollTo(nextCol,null,!0)}else{moveToNextDataSet()}}else{moveToNextDataSet()}}else{const highestIndex=interaction.endColIndex,{grid}=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a],columns=dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].getRawColumns(),moveToNextColumn=()=>{if(highestIndex<columns.length-1){const nextCol=columns[highestIndex+1];grid.scrollTo(nextCol,null,!0);if(interaction.columnsSelected){uiExpandColumnSelection(nextCol)}else{uiExpandCellSelection(nextCol,interaction.endRowIndex)}}else{clearOverscroll()}};if(firstMove){const nextCol=columns[highestIndex];if(grid.getRelativeColumnInfo(nextCol).outsideRight){grid.scrollTo(nextCol,null,!0)}else{moveToNextColumn()}}else{moveToNextColumn()}}};if(bounds.isTop&&!interaction.columnsSelected&&!interaction.dataSetsSelected){bounds.isLeft=bounds.isRight=!1;startDirectionAction(moveUp,rowOverscrollInterval)}else if(bounds.isBottom&&!interaction.columnsSelected&&!interaction.dataSetsSelected){bounds.isLeft=bounds.isRight=!1;startDirectionAction(moveDown,rowOverscrollInterval)}else if(bounds.isLeft&&!interaction.rowsSelected){bounds.isTop=bounds.isBottom=!1;const overscrollInterval=interaction.dataSetsSelected?dataSetOverscrollInterval:columnOverscrollInterval;startDirectionAction(moveLeft,overscrollInterval)}else if(bounds.isRight&&!interaction.rowsSelected){bounds.isTop=bounds.isBottom=!1;const overscrollInterval=interaction.dataSetsSelected?dataSetOverscrollInterval:columnOverscrollInterval;startDirectionAction(moveRight,overscrollInterval)}return}if(!bounds.isLeft&&overscroll.bounds.isLeft||!bounds.isRight&&overscroll.bounds.isRight||!bounds.isTop&&overscroll.bounds.isTop||!bounds.isBottom&&overscroll.bounds.isBottom){clearOverscroll()}},clearOverscroll}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__priv_js__=__webpack_require__(7);__webpack_exports__.a=({interactionContext,dataSetGrid})=>{return{getSelection:()=>interactionContext.getSelection(),select:({all=null,rowIndex=null,endRowIndex=null,column=null,endColumn=null,dataSet=null,endDataSet=null,scrollTo=!0}={})=>{let scrollColumn=null,scrollRowIndex=null;if(all){interactionContext.selectAll()}else if(null!==dataSet||null!==endDataSet){if(null===endDataSet){endDataSet=dataSet}else if(null===dataSet){dataSet=endDataSet}interactionContext.startDataSetSelection(dataSet);interactionContext.expandDataSetSelection(endDataSet);scrollColumn=dataSet[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].columns.findByIndex(0)}else{if(null!==rowIndex){endRowIndex=null!==endRowIndex?endRowIndex:rowIndex}else if(null!==endRowIndex){rowIndex=endRowIndex}if(null!==column){endColumn=null!==endColumn?endColumn:column}else if(null!==endColumn){column=endColumn}if(null!==rowIndex){scrollRowIndex=rowIndex<endRowIndex?rowIndex:endRowIndex}if(null!==column){scrollColumn=column.gridPosition<endColumn.gridPosition?column:endColumn}if(null!==rowIndex&&null!==column){interactionContext.startCellSelection(column,rowIndex);interactionContext.expandCellSelection(endColumn,endRowIndex)}else if(null!==rowIndex){interactionContext.startRowSelection(rowIndex);interactionContext.expandRowSelection(endRowIndex)}else if(null!==column){interactionContext.startColumnSelection(column);interactionContext.expandColumnSelection(endColumn)}}if((null!==scrollRowIndex||null!==scrollColumn)&&scrollTo){dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].grid.scrollTo(scrollColumn,scrollRowIndex)}},scrollToRow:(rowIndex,onlyOutOfFocus)=>{dataSetGrid[__WEBPACK_IMPORTED_MODULE_0__priv_js__.a].grid.scrollTo(null,rowIndex,onlyOutOfFocus)}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=(cellResolver={})=>{const{valueToText:innerValueToText=value=>value+'',textToValue:innerTextToValue=text=>text,isEmpty=value=>value===void 0||null===value,createEmpty=()=>null}=cellResolver,parseFailed={parseFailed:!0},emptyValue=createEmpty();return{valueToText:(value,column,isEditing)=>isEmpty(value)?'':innerValueToText(value,column,isEditing),textToValue:text=>innerTextToValue(text,emptyValue,parseFailed),isEmpty,emptyValue,parseFailed}}},function(module,__webpack_exports__){'use strict';let interactionsDisabled=!1,eventContext={},tapCounter={};const elementFromPoint=(x,y)=>{let result,source=document;while(null!==source){result=source.elementFromPoint(x,y);source=result?result.shadowRoot:null}return result};__webpack_exports__.a=({dataSetGrid,onUiScroll,gridEl})=>{const clearTapCounter=()=>{if(tapCounter.timeoutHandle){clearTimeout(tapCounter.timeoutHandle)}tapCounter={}},checkDoubleTap=(type,element)=>{const{type:previousType,element:previousElement}=tapCounter;clearTapCounter();if(previousType===type&&element===previousElement){return!0}else{tapCounter.type=type;tapCounter.element=element;tapCounter.timeoutHandle=setTimeout(()=>clearTapCounter(),300);return!1}},createEventRegister=(type,condition)=>(name,fn)=>{gridEl.addEventListener(name,e=>{if(condition(e)){fn(e)}})},startTouchEvent=createEventRegister('touch begin event',()=>!eventContext.mouse),startMouseEvent=createEventRegister('mouse begin event',()=>!eventContext.touch),addMouseEvent=createEventRegister('mouse event',()=>eventContext.mouse),addTouchEvent=createEventRegister('touch event',()=>eventContext.touch),fireEvent=(element,name,detail={})=>{if(!element){return}detail.dataSetGrid=dataSetGrid;const evt=new CustomEvent(name,{bubbles:!0,composed:!0,detail});element.dispatchEvent(evt)};startMouseEvent('mousedown',e=>{const{clientX,clientY}=e,rightClick=2===e.buttons;eventContext={mouse:!0,startElement:elementFromPoint(clientX,clientY),rightClick,clientX,clientY};fireEvent(eventContext.startElement,'grid-pre-click');if(eventContext.rightClick){fireEvent(eventContext.startElement,'grid-pre-left-click')}else{fireEvent(eventContext.startElement,'grid-pre-right-click')}if(interactionsDisabled){return}if(rightClick){fireEvent(eventContext.startElement,'grid-mouse-context-menu',{clientX,clientY})}else{eventContext.lastSelectedElement=eventContext.startElement;eventContext.inGridSelection=!0;fireEvent(eventContext.startElement,'grid-mouse-select-start',{clientX,clientY})}});addMouseEvent('mousemove',e=>{if(interactionsDisabled){return}if(0===e.buttons||eventContext.rightClick){return}const{clientX,clientY}=e,newSelectedElement=elementFromPoint(clientX,clientY);if(eventContext.inGridSelection){fireEvent(newSelectedElement,'grid-mouse-select-move',{clientX,clientY})}if(eventContext.lastSelectedElement!==newSelectedElement){fireEvent(newSelectedElement,'grid-mouse-select-enter',{clientX,clientY});eventContext.lastSelectedElement=newSelectedElement}});addMouseEvent('mouseup',e=>{setTimeout(()=>eventContext={});if(interactionsDisabled){return}if(eventContext.rightClick){return}const{clientX,clientY}=e,doubleTap=checkDoubleTap('mouse',eventContext.startElement);if(!doubleTap){fireEvent(eventContext.startElement,'grid-mouse-select',{clientX,clientY})}else{const currentElement=elementFromPoint(clientX,clientY);fireEvent(currentElement,'grid-mouse-edit',{clientX,clientY})}});startTouchEvent('touchstart',e=>{const{touches}=e,{clientX,clientY}=touches[0]||{};eventContext={touch:!0,startElement:elementFromPoint(clientX,clientY),clientX,clientY};if(1!==touches.length){return}if(interactionsDisabled){return}eventContext.selectionStartHandle=setTimeout(()=>{if(!eventContext.scrolled){eventContext.inGridSelection=!0;fireEvent(eventContext.startElement,'grid-touch-select-start',{clientX,clientY})}},300)});addTouchEvent('touchmove',e=>{if(interactionsDisabled){return}const{touches}=e;if(1!==touches.length){return}const{clientX,clientY}=touches[0];eventContext.clientX=clientX;eventContext.clientY=clientY;if(eventContext.inGridSelection){const newSelectedElement=elementFromPoint(clientX,clientY);fireEvent(newSelectedElement,'grid-touch-select-move',{clientX,clientY});if(eventContext.lastSelectedElement!==newSelectedElement){fireEvent(newSelectedElement,'grid-touch-select-enter',{clientX,clientY});eventContext.lastSelectedElement=newSelectedElement;e.stopPropagation();if(e.cancelable){e.preventDefault()}}}});addTouchEvent('touchend',e=>{setTimeout(()=>{eventContext={}});fireEvent(eventContext.startElement,'grid-pre-touchend');if(interactionsDisabled){return}const{clientX,clientY}=eventContext;if(eventContext.inGridSelection){const newSelectedElement=elementFromPoint(clientX,clientY);fireEvent(newSelectedElement,'grid-touch-select',{clientX,clientY})}else if(!eventContext.scrolled){const handle=eventContext.selectionStartHandle;clearTimeout(handle);const eventName=checkDoubleTap('touch',eventContext.startElement)?'grid-touch-edit':'grid-touch-tap';fireEvent(eventContext.startElement,eventName,{clientX,clientY})}e.stopPropagation();if(e.cancelable){e.preventDefault()}});return{get interactionsDisabled(){return interactionsDisabled},set interactionsDisabled(value){interactionsDisabled=value},registerGridEvent:(element,name,callback,...other)=>{element.addEventListener(name,e=>{if(e.detail.dataSetGrid===dataSetGrid){callback(e)}},...other)},registerSystemEvent:(element,name,callback,...other)=>{element.addEventListener(name,e=>{if(!interactionsDisabled){callback(e)}},...other)},onScroll:uiScroll=>{eventContext.scrolled=!0;try{if(uiScroll){onUiScroll()}}catch(e){console.error('error on vst-grid scroll')}}}}},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-progress> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@-webkit-keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}@keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100vw;height:calc(100vh - var(--chrome-menubar-height,0px));position:absolute;top:0;left:0;z-index:300;background-color:#e3e4e5;-webkit-transition:all .4s cubic-bezier(.4,0,.2,1);transition:all .4s cubic-bezier(.4,0,.2,1);-webkit-transition-delay:555ms;transition-delay:555ms;padding:1.125rem}:host(.transition-out) .progress-wrapper{-webkit-animation-name:fadeOutDownFar;animation-name:fadeOutDownFar;-webkit-animation-duration:.5s;animation-duration:.5s}.progress-wrapper{-webkit-animation-duration:125ms;animation-duration:125ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-name:fadeInUp;animation-name:fadeInUp;margin-top:-5vh;display:block;width:100%;max-width:23.4375rem;background:var(--progress-wrapper-color,#fff);text-align:center;padding:1.54688rem 2.25rem 2.25rem}.error-message{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text;margin:1em 0 0}.error-message a{color:#007377}.error-message a:hover{color:#005153}.error-message-title{margin:0 0 1em 0;color:#d22630}.error-message-extended{font-size:.75em;color:#373839;text-align:left}.error-message-extended p{margin-bottom:0}.error-message-extended span{font-family:monospace}.error-message-details summary{display:inline-block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.error-message-details summary::-webkit-details-marker{display:none}.error-message-details summary::after{display:inline-block;margin-left:.5em;content:\'[+]\';font-size:.75em;vertical-align:text-bottom;color:#787a7c}.error-message-details[open] summary::after{content:\'[\\2013]\'}.logo{display:block;width:100%;margin:0 auto .25em auto}.progress-bar{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:var(--progress-bar-background-color,#e3e4e5);-webkit-box-shadow:0;box-shadow:0;border-radius:0;border:0;width:100%;height:.1875rem}.progress-bar[value]{-webkit-appearance:none;-moz-appearance:none;appearance:none}.progress-bar:not([value]){-webkit-appearance:none;-moz-appearance:none;appearance:none}.progress-bar[value]::-webkit-progress-bar{background-color:var(--progress-bar-background-color,#f0f1f1)}.progress-bar::-webkit-progress-value{background-color:#007377;background-image:-webkit-gradient(linear,left top,right top,from(var(--progress-bar-color,#007377)),color-stop(var(--progress-bar-color,#008c91)),color-stop(96%,var(--progress-bar-color,#00a4aa)));background-image:linear-gradient(to right,var(--progress-bar-color,#007377),var(--progress-bar-color,#008c91),var(--progress-bar-color,#00a4aa) 96%);border-radius:0;-webkit-box-shadow:0;box-shadow:0;-webkit-transition:all .4s cubic-bezier(.4,0,.2,1);transition:all .4s cubic-bezier(.4,0,.2,1)}.progress-bar::-moz-progress-bar{background-color:#007377;border-radius:0;box-shadow:0;-webkit-transition:all .4s cubic-bezier(.4,0,.2,1);transition:all .4s cubic-bezier(.4,0,.2,1)}.close-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.close-btn::-moz-focus-inner{border:0;padding:0}.close-btn *{pointer-events:none}.close-btn a,.close-btn button{pointer-events:auto}.close-btn:active{outline:0}.close-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.close-btn:hover{background-color:#005153}.close-btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}</style> <div class=progress-wrapper> <slot id=logo></slot> <progress class=progress-bar value=[[value]] max=[[max]]></progress> <template is=dom-if if=[[errorMsg]]> <div class=error-message> <p>[[errorMsg]]</p> </div> </template> </div> </template> </dom-module>');__webpack_require__(375)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreProgress extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-progress'}static get properties(){return{max:{type:Number,value:1,notify:!0},value:{type:Number,value:0,notify:!0}}}}customElements.define(VstCoreProgress.is,VstCoreProgress)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-experiment-collection> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}.tab-nav{background-color:#dbdcde;padding-left:.5625rem;margin:-1.125rem -1.125rem 1.125rem}.tab-nav ul{list-style:none;padding-left:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex}.tab-nav li{display:inline-block}.tab-nav li+li{margin-left:.5em}.tab-nav button{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;font-size:.75em;font-weight:700;text-transform:uppercase;margin-bottom:.1875em;background:0 0;margin-bottom:0;border:0;padding:.5625rem .5625rem .375rem .5625rem;border-bottom:3px solid transparent}.tab-nav button::-moz-focus-inner{border:0;padding:0}.tab-nav button *{pointer-events:none}.tab-nav button a,.tab-nav button button{pointer-events:auto}.tab-nav button:active{outline:0}.tab-nav button:focus,.tab-nav button:hover{outline:0;color:#007377}.tab-nav .active button{border-bottom-color:#007377}.tab-panes{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto}.tab-panes>*{display:none}.tab-panes>.active{display:block;height:100%}:host{overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative}.loading-spinner{display:none;width:1.375rem;height:1.375rem;position:absolute;left:calc(50% - rem(11px));top:calc(50% - rem(11px) - 1.675em)}:host(.loading-experiments) .loading-spinner{display:block}:host(.no-experiments) .no-experiments-message{display:block}.tab-nav{margin:0}.open-experiment-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%}.message{border:1px solid #f79b2e;padding:1em;color:#e87e00;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;display:none}.message:hover{cursor:text}.message a{white-space:nowrap}.experiments{list-style:none;padding-left:0;-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:0}.experiments li{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;margin:0}.experiments li+li{border-top:1px solid #e3e4e5}.experiments figure{margin:0;height:0;padding-bottom:56.25%}.experiments img{width:100%;height:auto;margin:0}</style> <paper-spinner active="" class=loading-spinner></paper-spinner> <nav class=tab-nav> <ul> <li class=active><button id=tab_experiments on-click=setTab>[[getText(\'Saved\')]]</button></li> <li><button id=tab_sample_data on-click=setTab>[[getText(\'samples\')]]</button></li> </ul> </nav> <div class=tab-panes> <div class="tab-pane active" id=experiments> <div class=open-experiment-wrapper> <div class=message id=message></div> <ul class=experiments id=experiment_list></ul> <div class=open-local-exp> <span>[[getText(\'Open File From Your Computer\')]]</span> <button class=open-local-exp-btn on-click=openFileHandler>[[getText(\'Choose File\')]]</button></div> </div> </div> </div> <div class=tab-pane id=sample_data> <ul class=experiments id=sample_data_list></ul> </div> </template> </dom-module>');__webpack_require__(377)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreExperimentCollection extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-experiment-collection'}static get properties(){return{activeSessionId:{type:String,value:'',observer:'activeSessionIdChanged'},syncState:{type:String,value:'',notify:!0,reflectToAttribute:!0},targetItem:{type:Object,value(){return{}}}}}connectedCallback(){super.connectedCallback();this.eventBinder=new __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__.a;this.experimentTabs=this.shadowRoot.querySelectorAll('.tab-nav li');this.experimentTabsLength=this.experimentTabs.length;this.experimentPanes=this.shadowRoot.querySelectorAll('.tab-pane');this.experimentsEl=this.shadowRoot.querySelector('#experiment_list')}getExperimentById(id){return this.shadowRoot.querySelector(`#${id}`)}addExperiment(metadata,sortExperiments){if(metadata){const expTile=document.createElement('vst-core-experiment-tile'),expWrapper=document.createElement('li');expTile.name=metadata.name;expTile.id=metadata.id;expTile.timestamp=metadata.timestamp;if(metadata.graphs){expTile.graphs=metadata.graphs}expWrapper.appendChild(expTile);expWrapper.classList.add('exp-wrapper');if(expTile.id.match('-SampleExperiment-')){expTile.readOnly=!0;this.shadowRoot.querySelector('#sample_data_list').appendChild(expWrapper)}else{this.experimentsEl.appendChild(expWrapper)}if(!1!==sortExperiments){this.sortExperiments()}}else{console.warn('Cannot add experiment without metadata')}}_removeExperiment(expTile){this.experimentsEl.removeChild(expTile)}removeExperiment(expId){const experiment=this.shadowRoot.querySelector(`#${expId}`);console.assert(experiment,`ExperimentID: ${expId}`);if(experiment){this._removeExperiment(experiment.parentElement);if(0===this.experimentsEl.querySelectorAll('li').length){this.showNoExperimentsMsg()}}}removeAllExperiments(){const experiments=this.experimentsEl.querySelectorAll('.exp-wrapper');Array.prototype.forEach.call(experiments,exp=>{this.experimentsEl.removeChild(exp)})}updateSyncStatus(status,sessionId){const expTile=this.shadowRoot.getElementById(sessionId);if(expTile){expTile.syncStatus=status}}updateTileMetaData(metadata){const expTile=this.shadowRoot.getElementById(metadata.id);if(expTile){expTile.name=metadata.name;expTile.timestamp=metadata.timestamp;if(metadata.graphs){expTile.graphs=metadata.graphs}}}sortExperiments(){const expTiles=Array.prototype.slice.call(this.experimentsEl.querySelectorAll('.exp-wrapper'),0);Array.prototype.sort.call(expTiles,function(e1,e2){e1=e1.querySelector('vst-core-experiment-tile');e2=e2.querySelector('vst-core-experiment-tile');if(e1&&e2){return e2.timestamp-e1.timestamp}return!1}).forEach(child=>{this.experimentsEl.appendChild(child)})}activeSessionIdChanged(){if(''!==this.activeSessionId){const expTiles=this.shadowRoot.querySelectorAll('vst-core-experiment-tile'),activeExpTile=this.shadowRoot.querySelector(`#${this.activeSessionId}`),expTileLength=expTiles.length;for(let i=0;i<expTileLength;++i){expTiles[i].classList.remove('is-active-session');expTiles[i].shadowRoot.querySelector('.experiment-tile').disabled=!1;if(!expTiles[i].id.match('-SampleExperiment-')){expTiles[i].readOnly=!1}}activeExpTile.classList.add('is-active-session');activeExpTile.readOnly=!0;activeExpTile.shadowRoot.querySelector('.experiment-tile').disabled=!0}}disableButtons(experimentTile){if(experimentTile){experimentTile.classList.add('session-busy')}this.set('parentElement.canClose',!1);const experimentTiles=this.shadowRoot.querySelectorAll('vst-core-experiment-tile');for(let i=0;i<experimentTiles.length;++i){experimentTiles[i].shadowRoot.querySelector('button').disabled=!0}}enableButtons(experimentTile){if(experimentTile){experimentTile.classList.remove('session-busy')}this.set('parentElement.canClose',!0);const experimentTiles=this.shadowRoot.querySelectorAll('vst-core-experiment-tile');for(let i=0;i<experimentTiles.length;++i){experimentTiles[i].shadowRoot.querySelector('button').disabled=!1}}showNoExperimentsMsg(){const messageEl=this.shadowRoot.querySelector('#message'),messageText=this.getText('There are no saved experiments.');messageEl.innerHTML=messageText;messageEl.style.display='block'}setTab(e){const clickedTab=e.target,tabToOpen=clickedTab.id.substring(4);for(let i=0;i<this.experimentTabsLength;++i){this.experimentTabs[i].classList.remove('active');this.experimentPanes[i].classList.remove('active')}clickedTab.parentElement.classList.add('active');this.shadowRoot.getElementById(tabToOpen).classList.add('active')}closePopover(){this.dispatchEvent(new CustomEvent('close-popover'))}openFileHandler(){this.dispatchEvent(new CustomEvent('open-file-from'))}}customElements.define(VstCoreExperimentCollection.is,VstCoreExperimentCollection)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-experiment-tile> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;-webkit-transition:all .4s cubic-bezier(.4,0,.2,1);transition:all .4s cubic-bezier(.4,0,.2,1)}:host(.is-active-session) .experiment-tile__more,:host([readonly]) .experiment-tile__more{display:none}:host(.is-active-session) .experiment-tile:hover{cursor:default}:host(.is-active-session) .experiment-tile:hover .experiment-tile__name,:host(.is-active-session) .experiment-tile__name{color:#787a7c}.loading-spinner{display:none;width:1.375rem;height:1.375rem;position:absolute;left:2.625rem+.5625rem - .6875rem;top:calc(50% - .6875rem)}:host(.session-busy) .loading-spinner{display:block}:host(.session-busy) .experiment-tile__sparklines{opacity:.2}.experiment-tile{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;position:relative;border:0;background:#fff;padding:.5625rem;font-size:1em;text-align:left}.experiment-tile:hover{cursor:pointer}.experiment-tile:hover .experiment-tile__name{color:#005153}.experiment-tile__sparklines{width:5.25rem;-ms-flex-negative:0;flex-shrink:0;display:block;margin-right:.5625rem;line-height:0;background:#fff}.experiment-tile__name-wrapper{width:100%;overflow:hidden}.experiment-tile__name{font-size:1em;font-weight:700;line-height:1.25;color:#007377;margin:.28125rem 0 .35em 0;overflow:hidden;max-width:calc(100% - 1.125rem);text-overflow:ellipsis}.experiment-tile__meta{font-size:.875em;color:#bdbebf;margin:0}.experiment-tile__more{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;text-indent:300%;white-space:nowrap;overflow:hidden;position:absolute;right:0;top:calc(50% - 1.125rem);width:2.25rem;height:2.25rem;border:0;background:transparent url(\'./elements/core/vst-core-icon/icons/icon-more-horiz-material-18.svg\') no-repeat 50% 50%;background-size:cover;opacity:.3}.experiment-tile__more::-moz-focus-inner{border:0;padding:0}.experiment-tile__more *{pointer-events:none}.experiment-tile__more a,.experiment-tile__more button{pointer-events:auto}.experiment-tile__more:active{outline:0}.experiment-tile__more:hover{opacity:1;outline:0}.experiment-tile__more:focus{opacity:1}</style> <button class=experiment-tile> <vst-core-sparklines class=experiment-tile__sparklines graphs=[[graphs]] width=84 height=50 strokewidth=1></vst-core-sparklines> <div class=experiment-tile__name-wrapper> <h3 class=experiment-tile__name>[[name]]</h3> <p class=experiment-tile__meta>[[datetime]]</p> </div> <paper-spinner active="" class=loading-spinner></paper-spinner> <div class="sync-status hint-left" data-hint-syncing$="[[getText(\'Syncing to Google Drive\')]]" data-hint-offline$="[[getText(\'Unable to sync to Google Drive\')]]"><i></i></div> </button> <template is=dom-if if=[[!readOnly]]> <button class=experiment-tile__more id=btn_context_menu on-click=btnContextMenuClicked>[[getText(\'More\')]]</button> </template> </template> </dom-module>');__webpack_require__(379)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreExperimentTile extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-experiment-tile'}static get properties(){return{graphs:{type:Array,value:[],notify:!0},id:{type:String,value:'',observer:'idChanged'},name:{type:String,value:'',notify:!0},readOnly:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},syncStatus:{type:String,value:'',notify:!0,reflectToAttribute:!0},timestamp:{type:String,value:'',notify:!0,observer:'timestampChanged'}}}connectedCallback(){super.connectedCallback();this.shadowRoot.querySelector('.experiment-tile').addEventListener('click',()=>{this.dispatchEvent(new CustomEvent('experiment-clicked',{detail:{id:this.id}}))})}btnContextMenuClicked(){this.createContextMenu(event,event.target)}idChanged(newVal){this.setAttribute('id',newVal)}createContextMenu(event,anchor){const popoverManager=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('popover-manager');if(!this.readOnly){popoverManager.presentPopoverList({items:[{id:'rename',icon:'elements/vst-core-icon/icons/icon-mode-edit-material-24.svg',title:this.getText('Rename'),selectAction:()=>{this.fire('ctxmenu-item-clicked',{msg:{id:'rename',action:'rename',title:this.name}})}},{id:'delete',icon:'elements/vst-core-icon/icons/icon-delete-material.svg',title:this.getText('Delete'),selectAction:()=>{this.fire('ctxmenu-item-clicked',{msg:{id:'delete',action:'delete',title:this.name}})}}],icons:!0,anchor,orientation:'right'})}event.preventDefault()}timestampChanged(newVal){const date=new Date(newVal);this.datetime=date.toLocaleDateString('en',{month:'short',day:'numeric',year:'numeric',hour:'numeric',minute:'numeric'})}}customElements.define(VstCoreExperimentTile.is,VstCoreExperimentTile)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-style> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:root{--z-index-popover:200;--base-font-size:1em;font-size:var(--base-font-size)}html{height:100vh;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;overflow:hidden}body{font-size:1em;height:100vh;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;color:#373839;padding:0;margin:0;line-height:1.5;overflow:hidden;position:relative;-webkit-text-size-adjust:100%!important;-moz-text-size-adjust:100%!important;-ms-text-size-adjust:100%!important;text-size-adjust:100%!important;-webkit-tap-highlight-color:transparent;padding-top:constant(safe-area-inset-top);padding-top:env(safe-area-inset-top)}*{cursor:default}</style> </template> </dom-module>')},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-calibration> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host(:not([has-blocking-start-cal-processes])){width:30rem}.cal-point-options{margin-bottom:1em}.cal-point-options__select{display:inline-block;width:auto}.cal-keeps{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px solid #e3e4e5}.cal-keeps__form{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:1.25em}.cal-keeps__fieldset{padding:0;position:relative;z-index:2}.cal-keeps__fieldset::before{content:\'\';display:block;position:absolute;z-index:-1;margin:-1.25em;width:calc(100% + 2.5em);height:calc(100% + 2.5em);background:#f2f7cd;outline:1px solid #83ad39}.cal-keeps__fieldset[disabled]{opacity:.3}.cal-keeps__fieldset[disabled] .cal-rsr{opacity:0}.cal-keeps__fieldset[disabled]::before{opacity:0;width:0}.cal-keeps__fieldset:not([disabled])::before{opacity:1}.cal-keeps__fieldset-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media (min-width:42em){.cal-keeps__fieldset-container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.cal-keeps__label{margin:0 0 1em 0;-webkit-box-flex:1;-ms-flex:1;flex:1}@media (min-width:42em){.cal-keeps__label{margin:0}}.cal-keeps__label-description{font-weight:700}.cal-keeps__step-error{font-size:.75em;color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;display:block;margin-top:.25em}.cal-keeps__step-error:hover{cursor:text}.cal-keeps__step-error a{color:#911a21!important;text-decoration:underline!important}.cal-keeps__input-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (min-width:42em){.cal-keeps__input-wrapper{margin-left:.5em}}.cal-keeps__input{width:5em}.cal-keeps__units{padding:0 .25em;margin-right:.75em}@media (min-width:42em){.cal-keeps__units{-webkit-box-flex:1;-ms-flex:1;flex:1}}.cal-keeps__submit{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.cal-keeps__submit::-moz-focus-inner{border:0;padding:0}.cal-keeps__submit *{pointer-events:none}.cal-keeps__submit a,.cal-keeps__submit button{pointer-events:auto}.cal-keeps__submit:active{outline:0}.cal-keeps__submit[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-keeps__submit:hover{background-color:#005153}.cal-keeps__submit:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.cal-error{color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;margin-top:1rem}.cal-error:hover{cursor:text}.cal-error a{color:#911a21!important;text-decoration:underline!important}.cal-rsr{font-size:.75em;padding:.675em 1.667em;color:#787a7c;background-color:rgba(255,255,255,.7);margin:1.75em calc(-1.75em + 1px) calc(-1.75em + 1px)}.cal-note{font-size:.75em;color:#787a7c;margin:1rem 0 -1rem 0}.cal-action-bar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:2em}.cal-action-bar__btn-apply{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1em}.cal-action-bar__btn-apply::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-apply *{pointer-events:none}.cal-action-bar__btn-apply a,.cal-action-bar__btn-apply button{pointer-events:auto}.cal-action-bar__btn-apply:active{outline:0}.cal-action-bar__btn-apply[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-apply:hover{background-color:#005153}.cal-action-bar__btn-apply:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.cal-action-bar__btn-reset{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:auto;margin-top:1em;padding-left:0}.cal-action-bar__btn-reset::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-reset *{pointer-events:none}.cal-action-bar__btn-reset a,.cal-action-bar__btn-reset button{pointer-events:auto}.cal-action-bar__btn-reset:active{outline:0}.cal-action-bar__btn-reset[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-reset:active,.cal-action-bar__btn-reset:hover{color:#373839;background-color:transparent}.cal-action-bar__btn-reset:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.cal-action-bar__btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:.5625rem;margin-top:1em}.cal-action-bar__btn-cancel::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-cancel *{pointer-events:none}.cal-action-bar__btn-cancel a,.cal-action-bar__btn-cancel button{pointer-events:auto}.cal-action-bar__btn-cancel:active{outline:0}.cal-action-bar__btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-cancel:active,.cal-action-bar__btn-cancel:hover{color:#373839;background-color:transparent}.cal-action-bar__btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.odo__instructions{padding:0 0 0 1.125rem;margin:0 0 1rem}.odo__instructions li{margin-bottom:.5rem}.blocking-cal__instructions{margin:0 0 1em 0}.blocking-cal__btn-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.blocking-cal__btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.blocking-cal__btn::-moz-focus-inner{border:0;padding:0}.blocking-cal__btn *{pointer-events:none}.blocking-cal__btn a,.blocking-cal__btn button{pointer-events:auto}.blocking-cal__btn:active{outline:0}.blocking-cal__btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.blocking-cal__btn:hover{background-color:#005153}.blocking-cal__btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.tab-nav{background-color:#dbdcde;padding-left:.5625rem;margin:-1.125rem -1.125rem 1.125rem}.tab-nav ul{list-style:none;padding-left:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex}.tab-nav li{display:inline-block}.tab-nav li+li{margin-left:.5em}.tab-nav button{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;font-size:.75em;font-weight:700;text-transform:uppercase;margin-bottom:.1875em;background:0 0;margin-bottom:0;border:0;padding:.5625rem .5625rem .375rem .5625rem;border-bottom:3px solid transparent}.tab-nav button::-moz-focus-inner{border:0;padding:0}.tab-nav button *{pointer-events:none}.tab-nav button a,.tab-nav button button{pointer-events:auto}.tab-nav button:active{outline:0}.tab-nav button:focus,.tab-nav button:hover{outline:0;color:#007377}.tab-nav .active button{border-bottom-color:#007377}.tab-panes{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto}.tab-panes>*{display:none}.tab-panes>.active{display:block;height:100%}.cal-keeps__fieldset[disabled] .cal-rsr{opacity:1}.cal-equation{padding:0;display:none}.cal-equation.active{display:block}.cal-equation__heading{font-size:1em;font-weight:700;margin:0;margin-bottom:.5em}.cal-equation__input-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:.5em}.cal-equation__input{-ms-flex-preferred-size:11.25rem;flex-basis:11.25rem;margin-right:.5em}.cal-equation__label{-ms-flex-preferred-size:4.75rem;flex-basis:4.75rem;text-align:right;margin-right:.5em}</style> <nav class=tab-nav> <ul> <li class=active><button id=tab_calibration on-click=setTab>[[getText(\'Calibrate\')]]</button></li> <li><button id=tab_equation on-click=setTab>[[getText(\'Equation\')]]</button></li> </ul> </nav> <div class=tab-panes> <section class="tab-pane active" id=calibration> <div> <template is=dom-if if=[[sensor.canOnePointCalibrate]]> <div class=cal-point-options> <label class=cal-point-options__label for=cal_point_options> <span>[[getText(\'Perform a\')]]</span> <select class=cal-point-options__select id=cal_point_options on-change=selectedCalChanged> <option value=one_point>[[getText(\'One-point calibration\')]]</option> <option value=two_point selected="">[[getText(\'Two-point calibration\')]]</option> </select> </label> </div> </template> <div class=cal-keeps id=cal_forms> <form class=cal-keeps__form on-submit=submitCal1 id=cal_form_1> <fieldset class=cal-keeps__fieldset> <div class=cal-keeps__fieldset-container> <label class=cal-keeps__label for=cal_input_1> <span class=cal-keeps__label-description>[[getText(\'Enter first known value\')]]:</span> </label> <div class=cal-keeps__input-wrapper> <input class=cal-keeps__input type=number step=any id=cal_input_1 required=""> <span class=cal-keeps__units>[[sensor.units]]</span> <button class=cal-keeps__submit type=submit id=cal_submit_1>[[getText(\'Keep\')]]</button> </div> </div> <p class=cal-rsr>[[getText(\'Voltage\')]]: <span id=voltage1></span></p> </fieldset> </form> <template is=dom-if if=[[!isOnePointCal]]> <form class=cal-keeps__form on-submit=submitCal2 id=cal_form_2> <fieldset class=cal-keeps__fieldset disabled=""> <div class=cal-keeps__fieldset-container> <label class=cal-keeps__label for=cal_input_2> <span class=cal-keeps__label-description>[[getText(\'Enter second known value\')]]:</span> </label> <div class=cal-keeps__input-wrapper> <input class=cal-keeps__input type=number step=any id=cal_input_2 required=""> <span class=cal-keeps__units>[[sensor.units]]</span> <button class=cal-keeps__submit type=submit>[[getText(\'Keep\')]]</button> </div> </div> <p class=cal-rsr>[[getText(\'Voltage\')]]: <span id=voltage2></span></p> </fieldset> </form> </template> </div> <div class=cal-error id=cal_error hidden=[[!calErrorMsg]]>[[calErrorMsg]]</div> </div> </section> <section class=tab-pane id=equation> <div> <fieldset class=cal-equation id=cal_equation_linear> <h3 class=cal-equation__heading>[[getText(\'Calibration Type\')]]: <span>[[getText("Linear", "mathematical", "calibration type")]]</span></h3> <div> [[getText(\'Reported Reading\')]] = [[getText(\'Slope\')]] * [[getText(\'Sensor Voltage\')]] + [[getText(\'Intercept\')]] </div> <div class=cal-equation__input-wrapper> <label class=cal-equation__label for=linear_slope>[[getText(\'Slope\', \'mathematical\')]]</label> <input class=cal-equation__input type=number step=any id=linear_slope value={{formattedCoeff1::input}} on-input=coeffsUpdated> <div><span>[[sensor.units]]</span> V<sup>-1</sup></div> </div> <div class=cal-equation__input-wrapper> <label class=cal-equation__label for=intercept>[[getText(\'Intercept\')]]</label> <input class=cal-equation__input type=number step=any id=intercept value={{formattedCoeff0::input}} on-input=coeffsUpdated> <div>[[sensor.units]]</div> </div> </fieldset> <fieldset class=cal-equation id=cal_equation_power> <h3 class=cal-equation__heading>[[getText(\'Calibration Type\')]]: <span>[[getText("Power", "mathematical", "calibration type")]]</span></h3> <div>[[getText(\'Reported Reading\')]] = [[getText(\'Coefficient\')]] * [[getText(\'Sensor Voltage\')]]^[[getText(\'Exponent\')]]</div> <div class=cal-equation__input-wrapper> <label class=cal-equation__label for=power_coefficient>[[getText(\'Coefficient\')]]</label> <input class=cal-equation__input type=number step=any id=power_coefficient value={{formattedCoeff0::input}} on-input=coeffsUpdated> </div> <div class=cal-equation__input-wrapper> <label class=cal-equation__label for=power_exponent>[[getText(\'Exponent\')]]</label> <input class=cal-equation__input type=number step=any id=power_exponent value={{formattedCoeff1::input}} on-input=coeffsUpdated> </div> </fieldset> <fieldset class=cal-equation id=cal_equation_modifiedpower> <h3 class=cal-equation__heading>[[getText(\'Calibration Type\')]]: <span>[[getText(\'Modified Power\', \'mathematical\', \'calibration type\')]]</span></h3> <div>[[getText(\'Reported Reading\')]] = [[getText(\'Coefficient\')]] * [[getText(\'Base\')]]^[[getText(\'Sensor Voltage\')]]</div> <div class=cal-equation__input-wrapper> <label class=cal-equation__label for=modifiedpower_base>[[getText(\'Base\')]]</label> <input class=cal-equation__input type=number step=any id=modifiedpower_base value={{formattedCoeff1::input}} on-input=coeffsUpdated> </div> <div class=cal-equation__input-wrapper> <label class=cal-equation__label for=modifiedpower_coefficient>[[getText(\'Coefficient\')]]</label> <input class=cal-equation__input type=number step=any id=modifiedpower_coefficient value={{formattedCoeff0::input}} on-input=coeffsUpdated> </div> </fieldset> </div> </section> </div> <p class=cal-note>[[getText(\'New calibrations are used until you start a new experiment or open a file.\')]]</p> <div class=cal-action-bar> <button class=cal-action-bar__btn-cancel on-click=cancelCalibration type=button>[[getText(\'Cancel\')]]</button> <button class=cal-action-bar__btn-apply on-click=applyCalibration type=button id=apply disabled=[[!stepsComplete]]>[[getText(\'Apply\')]]</button> </div> </template> </dom-module>');__webpack_require__(382)},function(module,__webpack_exports__,__webpack_require__){'use strict';var _Mathabs10=Math.abs,_Mathmax13=Math.max;Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3_corelib_mixins_CoreElementMixin__=__webpack_require__(3);function formatCoeffForDisplay(coeff){let output='';const absValue=_Mathabs10(coeff);if(0===absValue){output=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintfIgnoreLocale)('%.1f',coeff)}else if(1e4<absValue||1e-4>absValue){output=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintfIgnoreLocale)('%e',coeff)}else{output=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintfIgnoreLocale)('%g',coeff)}output=__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.checkNegativeZero(coeff,output);return output}class VstCoreCalibration extends Object(__WEBPACK_IMPORTED_MODULE_3_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-calibration'}static get properties(){return{sensor:{type:Object,value(){return{}}},calibration:{observer:'calibrationChanged'},sensorVoltage:{observer:'sensorVoltageChanged'},formattedCoeff1:{type:String,notify:!0,value:'0.0',readOnly:!1},formattedCoeff0:{type:String,notify:!0,value:'0.0',readOnly:!1},keepPhase:{type:Number,notify:!0,value:1,reflectToAttribute:!0,observer:'_keepPhaseChanged'},isOnePointCal:{type:Boolean,value:!1,observer:'_isOnePointCalChanged'},stepsComplete:{type:Boolean,computed:'_stepsComplete(keepPhase, isOnePointCal)'},saveCalToSensor:{type:Boolean,value:!1}}}connectedCallback(){super.connectedCallback();this.sensorVoltage=null;this.trimmedSensorVoltage=0;this.updateSensorVoltage=!0;this.voltage1=null;setTimeout(()=>{this.calibrationTabs=this.shadowRoot.querySelectorAll('.tab-nav li');this.calibrationTabsLength=this.calibrationTabs.length;this.calibrationPanes=this.shadowRoot.querySelectorAll('.tab-pane');this.calForm1El=this.shadowRoot.querySelector('#cal_form_1');this.calForm2El=this.shadowRoot.querySelector('#cal_form_2');this.calInput1El=this.shadowRoot.querySelector('#cal_input_1');this.calInput2El=this.shadowRoot.querySelector('#cal_input_2');this.calibrationPaneEl=this.shadowRoot.querySelector('#calibration');this.calErrorEl=this.shadowRoot.querySelector('#cal_error');this.calErrorMsg='';this.calSubmit1El=this.shadowRoot.querySelector('#cal_submit_1');this.submitBtnEl=this.shadowRoot.querySelector('#apply');this.voltage1El=this.shadowRoot.querySelector('#voltage1');this.voltage2El=this.shadowRoot.querySelector('#voltage2');this.liveVoltageEl=this.voltage1El;this.calSubmit1El.disabled=!0})}submitCal1(e){e.preventDefault();if(this.sensorVoltage){this.pointPair1=[this.sensorVoltage,parseFloat(this.calInput1El.value)];this.keptVoltage1=`${this.trimmedSensorVoltage} V`;if(this.isOnePointCal){this.dispatchEvent(new CustomEvent('submit-points',{detail:[this.pointPair1]}));this.showCalibrationError(!1);this.keepPhase=0;this.submitBtnFocus()}else{this.keepPhase=2}}}submitCal2(e){e.preventDefault();if(this.sensorVoltage){const i18n=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('i18n');this.pointPair2=[this.sensorVoltage,parseFloat(this.calInput2El.value)];if(0.05>_Mathabs10(this.pointPair1[0]-this.pointPair2[0])){this.showCalibrationError(i18n.getText('Second calibration point sensor voltage must differ from the first point by at least 0.05 V.'));this.keepPhase=1}else if(this.pointPair1[1]===this.pointPair2[1]){this.showCalibrationError(i18n.getText('Known values must be different for a two point calibration.'));this.keepPhase=1}else{this.dispatchEvent(new CustomEvent('submit-points',{detail:[this.pointPair1,this.pointPair2]}));this.keepPhase=0;this.showCalibrationError(!1);this.submitBtnFocus()}}}_keepPhaseChanged(){if(this.calForm1El){if(0===this.keepPhase){this._enableDisableForms(!0);this.updateSensorVoltage=!1;this.liveVoltageEl=null}else if(1===this.keepPhase){this._enableDisableForms();this.calInput2El.value='';this.pointPair2=null;this.voltage1=null;this.updateSensorVoltage=!0;this.liveVoltageEl=this.voltage1El}else if(2===this.keepPhase){this._enableDisableForms();this.voltage1El.innerText=this.keptVoltage1;this.voltage2El.innerText=this.keptVoltage1;this.updateSensorVoltage=!0;this.liveVoltageEl=this.voltage2El}}}_enableDisableForms(forceDisable){const fieldsetEls=this.shadowRoot.querySelectorAll('.cal-keeps__fieldset');fieldsetEls.forEach((fieldsetEl,index)=>{if(!forceDisable&&index+1===this.keepPhase){fieldsetEl.disabled=!1;fieldsetEl.querySelector('.cal-keeps__input').focus()}else{fieldsetEl.disabled=!0}})}showCalibrationError(message){if(message){this.calErrorMsg=message}else{this.calErrorMsg=!1}}_isOnePointCalChanged(){if(this.isOnePointCal){if(this.pointPair1){this.keepPhase=0;this.showCalibrationError(!1);this.submitBtnFocus();this.dispatchEvent(new CustomEvent('submit-points',{detail:[this.pointPair1]}))}else{this.keepPhase=1}}else if(this.pointPair1&&this.pointPair2){this.submitBtnFocus()}else if(this.pointPair1&&!this.pointPair2){this.keepPhase=2}else{this.keepPhase=1}}selectedCalChanged(e){const selectOptionEls=Array.from(e.target.querySelectorAll('option'));selectOptionEls.forEach(el=>{if(el.selected){this.isOnePointCal='one_point'===el.value}});this.keepPhase=1}sensorVoltageChanged(){if(this.sensorVoltage){this.calSubmit1El.disabled=!1;if(this.updateSensorVoltage){this.trimmedSensorVoltage=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)(this.sensor.liveVoltageFormatStr,this.sensorVoltage);this.liveVoltageEl.innerText=`${this.trimmedSensorVoltage} V`}}}calibrationChanged(){const fieldsetEls=this.shadowRoot.querySelectorAll('.cal-equation'),fieldsetElsLen=fieldsetEls.length;let id;this.formattedCoeff0=formatCoeffForDisplay(this.calibration.coeffs[0]);this.formattedCoeff1=formatCoeffForDisplay(this.calibration.coeffs[1]);for(let i=0;i<fieldsetElsLen;++i){id=fieldsetEls[i].id;id=id.replace('cal_equation_','');if(this.calibration.type===id.toString()){fieldsetEls[i].classList.add('active')}else{fieldsetEls[i].classList.remove('active')}}}coeffsUpdated(){setTimeout(()=>{this.calibration.coeffs[0]=this.formattedCoeff0;this.calibration.coeffs[1]=this.formattedCoeff1;this.enableApplyCalibration(!0)})}submitBtnFocus(){setTimeout(()=>{this.submitBtnEl.focus()},10)}enableApplyCalibration(enable){this.submitBtnEl.disabled=!enable}setTab(e){const clickedTab=e.target,tabToOpen=clickedTab.id.substring(4);for(let i=0;i<this.calibrationTabsLength;++i){this.calibrationTabs[i].classList.remove('active');this.calibrationPanes[i].classList.remove('active')}clickedTab.parentElement.classList.add('active');this.shadowRoot.getElementById(tabToOpen).classList.add('active')}setDialogHeight(){let height=0;function getHiddenHeight(node){node.setAttribute('style','visibility: hidden; display: block;');const elHeight=node.offsetHeight;node.removeAttribute('style');return elHeight}for(let i=0;i<this.calibrationTabsLength;++i){if('calibration'===this.calibrationPanes[i].id){height=_Mathmax13(getHiddenHeight(this.calibrationPanes[i])+getHiddenHeight(this.calErrorEl),height)}else{height=_Mathmax13(getHiddenHeight(this.calibrationPanes[i]),height)}}this.shadowRoot.querySelector('.tab-panes').style.minHeight=`${height}px`}applyCalibration(){this.dispatchEvent(new CustomEvent('set-calibration'))}resetFactoryCalibration(){this.dispatchEvent(new CustomEvent('reset-factory-calibration'))}cancelCalibration(){this.dispatchEvent(new CustomEvent('cancel-calibration'))}_stepsComplete(keepPhase,isOnePointCal){if(isOnePointCal&&0===keepPhase){return!0}else if(!isOnePointCal&&0===keepPhase){return!0}return!1}}customElements.define(VstCoreCalibration.is,VstCoreCalibration)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-calibration-gdx> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host(:not([has-blocking-start-cal-processes])){width:30rem}.cal-point-options{margin-bottom:1em}.cal-point-options__select{display:inline-block;width:auto}.cal-keeps{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px solid #e3e4e5}.cal-keeps__form{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:1.25em}.cal-keeps__fieldset{padding:0;position:relative;z-index:2}.cal-keeps__fieldset::before{content:\'\';display:block;position:absolute;z-index:-1;margin:-1.25em;width:calc(100% + 2.5em);height:calc(100% + 2.5em);background:#f2f7cd;outline:1px solid #83ad39}.cal-keeps__fieldset[disabled]{opacity:.3}.cal-keeps__fieldset[disabled] .cal-rsr{opacity:0}.cal-keeps__fieldset[disabled]::before{opacity:0;width:0}.cal-keeps__fieldset:not([disabled])::before{opacity:1}.cal-keeps__fieldset-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media (min-width:42em){.cal-keeps__fieldset-container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.cal-keeps__label{margin:0 0 1em 0;-webkit-box-flex:1;-ms-flex:1;flex:1}@media (min-width:42em){.cal-keeps__label{margin:0}}.cal-keeps__label-description{font-weight:700}.cal-keeps__step-error{font-size:.75em;color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;display:block;margin-top:.25em}.cal-keeps__step-error:hover{cursor:text}.cal-keeps__step-error a{color:#911a21!important;text-decoration:underline!important}.cal-keeps__input-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (min-width:42em){.cal-keeps__input-wrapper{margin-left:.5em}}.cal-keeps__input{width:5em}.cal-keeps__units{padding:0 .25em;margin-right:.75em}@media (min-width:42em){.cal-keeps__units{-webkit-box-flex:1;-ms-flex:1;flex:1}}.cal-keeps__submit{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.cal-keeps__submit::-moz-focus-inner{border:0;padding:0}.cal-keeps__submit *{pointer-events:none}.cal-keeps__submit a,.cal-keeps__submit button{pointer-events:auto}.cal-keeps__submit:active{outline:0}.cal-keeps__submit[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-keeps__submit:hover{background-color:#005153}.cal-keeps__submit:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.cal-error{color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;margin-top:1rem}.cal-error:hover{cursor:text}.cal-error a{color:#911a21!important;text-decoration:underline!important}.cal-rsr{font-size:.75em;padding:.675em 1.667em;color:#787a7c;background-color:rgba(255,255,255,.7);margin:1.75em calc(-1.75em + 1px) calc(-1.75em + 1px)}.cal-note{font-size:.75em;color:#787a7c;margin:1rem 0 -1rem 0}.cal-action-bar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:2em}.cal-action-bar__btn-apply{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1em}.cal-action-bar__btn-apply::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-apply *{pointer-events:none}.cal-action-bar__btn-apply a,.cal-action-bar__btn-apply button{pointer-events:auto}.cal-action-bar__btn-apply:active{outline:0}.cal-action-bar__btn-apply[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-apply:hover{background-color:#005153}.cal-action-bar__btn-apply:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.cal-action-bar__btn-reset{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:auto;margin-top:1em;padding-left:0}.cal-action-bar__btn-reset::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-reset *{pointer-events:none}.cal-action-bar__btn-reset a,.cal-action-bar__btn-reset button{pointer-events:auto}.cal-action-bar__btn-reset:active{outline:0}.cal-action-bar__btn-reset[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-reset:active,.cal-action-bar__btn-reset:hover{color:#373839;background-color:transparent}.cal-action-bar__btn-reset:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.cal-action-bar__btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:.5625rem;margin-top:1em}.cal-action-bar__btn-cancel::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-cancel *{pointer-events:none}.cal-action-bar__btn-cancel a,.cal-action-bar__btn-cancel button{pointer-events:auto}.cal-action-bar__btn-cancel:active{outline:0}.cal-action-bar__btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-cancel:active,.cal-action-bar__btn-cancel:hover{color:#373839;background-color:transparent}.cal-action-bar__btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.odo__instructions{padding:0 0 0 1.125rem;margin:0 0 1rem}.odo__instructions li{margin-bottom:.5rem}.blocking-cal__instructions{margin:0 0 1em 0}.blocking-cal__btn-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.blocking-cal__btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.blocking-cal__btn::-moz-focus-inner{border:0;padding:0}.blocking-cal__btn *{pointer-events:none}.blocking-cal__btn a,.blocking-cal__btn button{pointer-events:auto}.blocking-cal__btn:active{outline:0}.blocking-cal__btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.blocking-cal__btn:hover{background-color:#005153}.blocking-cal__btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}</style> <div> <template is=dom-if if=[[hasBlockingStartCalProcesses]]> <template is=dom-if if=[[!isCalibrating]]> <template is=dom-if if=[[!stepsComplete]]> <template is=dom-if if=[[!isODO]]> <p class=blocking-cal__instructions>[[getText(firstBlockingCalProcess.description)]]</p> </template> <template is=dom-if if=[[isODO]]> <ol class=odo__instructions> <li>[[getText(\'Add distilled water to the storage bottle to the top of the sponge.\')]]</li> <li>[[getText(\'Insert the probe into the bottle so that the tip is not touching the water or the sponge.\')]]</li> <li>[[getText(\'Keep the probe vertically in this position for a minimum of 60 seconds\\, then press \\"CALIBRATE NOW\\."\')]]</li> </ol> </template> <div class=blocking-cal__btn-wrapper> <button class=blocking-cal__btn on-click=_startBlockingCalibration type=button>[[getText(\'Calibrate Now\')]]</button> </div> </template> </template> <template is=dom-if if=[[isCalibrating]]> <p class=blocking-cal__instructions>[[getText(\'Calibrating...\')]]</p> <paper-spinner active=""></paper-spinner> </template> <template is=dom-if if=[[stepsComplete]]> <template is=dom-if if=[[!isCalibrating]]> <template is=dom-if if=[[rsrValue]]> <p class=blocking-cal__instructions>[[getText(\'Calibration complete\')]]</p> </template> <template is=dom-if if=[[!rsrValue]]> <p class=blocking-cal__instructions>[[getText(\'Calibration failed\')]]</p> </template> <div class=blocking-cal__btn-wrapper> <button class=blocking-cal__btn on-click=_startBlockingCalibration type=button hidden=[[rsrValue]]>[[getText(\'Retry Calibration\')]]</button> <button class=blocking-cal__btn on-click=completeWorkflow type=button hidden=[[!rsrValue]]>[[getText(\'Done\')]]</button> </div> </template> </template> </template> <template is=dom-if if=[[hasBlockingInputProcesses]]> <div class=cal-keeps> <vst-core-form on-submit=submitBlockingInput> <form class=cal-keeps__form> <fieldset class=cal-keeps__fieldset id=cal_keeps_fieldset_[[blockingInputStep.id]]> <div class=cal-keeps__fieldset-container> <label class=cal-keeps__label for$=cal_keeps_input_[[blockingInputStep.id]]> <span class=cal-keeps__label-description>[[getText(blockingInputStep.description)]]:</span> <span class=cal-keeps__step-error hidden=""></span> </label> <div class=cal-keeps__input-wrapper> <input class=cal-keeps__input type=number step=any min=[[blockingInputStep.inputMin]] max=[[blockingInputStep.inputMax]] id=cal_keeps_input_[[blockingInputStep.id]] name=cal_keep_input required="" data-really-is-number=true> <span class=cal-keeps__units>[[blockingInputStep.inputUnits]]</span> <button class=cal-keeps__submit type=submit>[[getText(\'Keep\')]]</button> </div> </div> </fieldset> </form> </vst-core-form> </div> <template is=dom-if if=[[isCalibrating]]> <p>[[getText(\'Calibrating...\')]]</p> </template> <template is=dom-if if=[[stepsComplete]]> <template is=dom-if if=[[rsrValue]]> <p>[[getText(\'Calibration complete\')]]</p> </template> <template is=dom-if if=[[!rsrValue]]> <p>[[getText(\'Calibration failed\')]]</p> </template> </template> <div class=cal-action-bar> <button class=blocking-cal__btn on-click=completeWorkflow type=button disabled=[[!stepsComplete]]>[[getText(\'Done\')]]</button> </div> </template> <template is=dom-if if=[[!hasBlockingStartCalProcesses]]> <template is=dom-if if=[[!hasBlockingInputProcesses]]> <template is=dom-if if=[[hasMultipleCalProcesses]]> <div class=cal-point-options> <label class=cal-point-options__label for=cal_point_options> <span>[[getText(\'Perform a\')]]</span> <select class=cal-point-options__select id=cal_point_options on-change=selectedCalChanged> <template is=dom-repeat items=[[calProcesses]] as=calProcess> <option value=[[calProcess.id]] selected$=[[isSelectedCal(calProcess.id)]]>[[getText(calProcess.description)]]</option> </template> </select> </label> </div> </template> <div class=cal-keeps> <template is=dom-repeat items=[[selectedCalProcess.steps]] as=step> <vst-core-form on-submit=stopCalibrationProcessStep> <form class=cal-keeps__form> <fieldset class=cal-keeps__fieldset id=cal_keeps_fieldset_[[step.id]] disabled=""> <div class=cal-keeps__fieldset-container> <label class=cal-keeps__label for$=cal_keeps_input_[[step.id]]> <span class=cal-keeps__label-description>[[getText(step.description)]]:</span> <span class=cal-keeps__step-error hidden=""></span> </label> <div class=cal-keeps__input-wrapper> <input class=cal-keeps__input type=number step=any min=[[step.inputMin]] max=[[step.inputMax]] id=cal_keeps_input_[[step.id]] name=cal_keep_input on-input=updateCalibrationProcessStep required="" data-really-is-number=true> <span class=cal-keeps__units>[[step.inputUnits]]</span> <button class=cal-keeps__submit type=submit>[[getText(\'Keep\')]]</button> </div> </div> <div class=cal-rsr>[[getText(\'Relative stability reading\')]]: [[rsrValue]]</div> </fieldset> </form> </vst-core-form> </template> </div> <template is=dom-if if=[[calErrorMsg]]> <div class=cal-error>[[calErrorMsg]]</div> </template> <template is=dom-if if=[[usingUserCalibration]]> <template is=dom-if if=[[userCalibrationDate]]> <div class=cal-note>[[getText(\'Last calibrated on\')]] [[userCalibrationDate]]</div> </template> </template> <template is=dom-if if=[[usingFactoryCalibration]]> <template is=dom-if if=[[factoryCalibrationDate]]> <div class=cal-note>[[getText(\'Using factory calibration from\')]] [[factoryCalibrationDate]]</div> </template> </template> <div class=cal-action-bar> <button class=cal-action-bar__btn-reset on-click=resetFactoryCalibration type=button hidden=[[usingFactoryCalibration]]>[[getText(\'Reset to Defaults\')]]</button> <button class=cal-action-bar__btn-cancel on-click=cancelCalibrationProcess type=button>[[getText(\'Cancel\')]]</button> <button class=cal-action-bar__btn-apply on-click=keepCalibrationProcess type=button id=apply disabled=[[!stepsComplete]]>[[getText(\'Apply\')]]</button> </div> </template> </template> </div> </template> </dom-module>');__webpack_require__(384)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreCalibrationGdx extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-calibration-gdx'}static get properties(){return{calProcesses:{type:Object,value(){return{}}},selectedCalProcess:{type:Object,value(){return{}}},stepIndex:{type:Number,value:0,observer:'enableDisableForms'},rsrValue:{type:Number,value:0},stepsComplete:{type:Boolean,value:!1},saveCalToSensor:{type:Boolean,value:!0},usingFactoryCalibration:{type:Boolean,value:!0},factoryCalibrationDate:{type:String,value:''},usingUserCalibration:{type:Boolean,value:!1},userCalibrationDate:{type:String,value:''},isODO:{type:Boolean,value:!1},isCalibrating:{type:Boolean,value:!1},hasMultipleCalProcesses:{type:Boolean,computed:'_hasMultipleCalProcesses(calProcesses)'},hasBlockingStartCalProcesses:{type:Boolean,value:!1,reflectToAttribute:!0},hasBlockingInputProcesses:{type:Boolean,value:!1},firstBlockingCalProcess:{type:Object,computed:'_firstBlockingCalProcess(calProcesses)'}}}controllerReady(){this.selectedCalProcess=this.calProcesses[0];this.selectedCalId=this.selectedCalProcess.id;if(this.hasBlockingInputProcesses){this.blockingInputStep=this.selectedCalProcess.steps[0]}setTimeout(()=>{this.enableDisableForms()})}submitBlockingInput(){const stepId=this.selectedCalProcess.steps[this.stepIndex].id,inputValue=parseFloat(this.shadowRoot.querySelector(`#cal_keeps_input_${stepId}`).value);this.enableDisableForms(!0);this.dispatchEvent(new CustomEvent('submit-blocking-input',{detail:{processId:this.selectedCalProcess.id,stepId,inputValue}}))}startCalibrationProcessStep(stepIndex){this.stepIndex=stepIndex;const stepId=this.selectedCalProcess.steps[this.stepIndex].id,stepDefaultInputValue=this.selectedCalProcess.steps[this.stepIndex].inputValue;this.dispatchEvent(new CustomEvent('start-calibration-process-step',{detail:{processId:this.selectedCalProcess.id,stepId,inputValue:stepDefaultInputValue}}));this.enableDisableForms()}updateCalibrationProcessStep(e){const inputEl=e.target,inputValue=parseFloat(e.target.value),stepId=this.selectedCalProcess.steps[this.stepIndex].id;if(!inputEl.validity.valid){if(inputEl.validity.rangeOverflow||inputEl.validity.rangeUnderflow){this._showStepError(!0,this.stepIndex,`${this.getText('Value must be between ')} ${this.selectedCalProcess.steps[this.stepIndex].inputMin} ${this.getText('and ')} ${this.selectedCalProcess.steps[this.stepIndex].inputMax}`)}}else{this._showStepError(!1,this.stepIndex);this.dispatchEvent(new CustomEvent('update-calibration-process-step',{detail:{processId:this.selectedCalProcess.id,stepId,inputValue}}))}}stopCalibrationProcessStep(){const stepId=this.selectedCalProcess.steps[this.stepIndex].id;this.dispatchEvent(new CustomEvent('stop-calibration-process-step',{detail:{processId:this.selectedCalProcess.id,stepId}}))}cancelCalibrationProcess(){this.completeWorkflow()}keepCalibrationProcess(){this.dispatchEvent(new CustomEvent('keep-calibration-process',{detail:{processId:this.selectedCalProcess.id}}))}resetFactoryCalibration(){this.dispatchEvent(new CustomEvent('reset-factory-calibration',{detail:{processId:this.selectedCalProcess.id}}))}moveProcessToNextStep(processId,stepId){this.selectedCalProcess.steps.forEach((step,index)=>{if(step.id===stepId){const stepIndex=index+1;if(this.selectedCalProcess.steps[stepIndex]){this.stepsComplete=!1;this.startCalibrationProcessStep(stepIndex)}else{this.stepsComplete=!0;this.enableDisableForms(!0);this.submitBtnFocus()}}})}isSelectedCal(calProcessId){return calProcessId===this.selectedCalId}selectedCalChanged(e){const oldCalProcessId=this.selectedCalProcess.id;let newCalProcessId;const selectOptionEls=Array.from(e.target.querySelectorAll('option'));selectOptionEls.forEach(el=>{if(el.selected){this.selectedCalId=el.value}});this.calProcesses.forEach(calProcess=>{if(calProcess.id===parseInt(this.selectedCalId)){this.selectedCalProcess=calProcess;newCalProcessId=calProcess.id}});this._changeCalibrationProcess(oldCalProcessId,newCalProcessId)}enableDisableForms(forceDisable){const fieldsetEls=this.shadowRoot.querySelectorAll('.cal-keeps__fieldset');fieldsetEls.forEach((fieldsetEl,index)=>{if(!forceDisable&&index===this.stepIndex){fieldsetEl.disabled=!1;fieldsetEl.querySelector('.cal-keeps__input').focus()}else{fieldsetEl.disabled=!0}})}_startBlockingCalibration(){this.dispatchEvent(new CustomEvent('start-blocking-calibration'))}_showStepError(show,stepIndex,error){const fieldsetEls=this.shadowRoot.querySelectorAll('.cal-keeps__step-error');fieldsetEls.forEach((fieldsetEl,index)=>{if(index===stepIndex){if(show){fieldsetEl.hidden=!1;fieldsetEl.innerText=error}else{fieldsetEl.hidden=!0}}})}_changeCalibrationProcess(oldCalProcessId,newCalProcessId){const inputEls=Array.from(this.shadowRoot.querySelectorAll('.cal-keeps__input'));inputEls.forEach(inputEl=>{inputEl.value=''});this.dispatchEvent(new CustomEvent('change-calibration-process',{detail:{oldCalProcessId,newCalProcessId}}))}_stepsComplete(stepIndex,selectedCalProcess){return selectedCalProcess.steps.length===stepIndex}_hasMultipleCalProcesses(calProcesses){return 1<calProcesses.length}_firstBlockingCalProcess(calProcesses){if(calProcesses[0]&&calProcesses[0].steps){return calProcesses[0].steps[0]}return!1}submitBtnFocus(){setTimeout(()=>{this.shadowRoot.querySelector('#apply').focus()},10)}}customElements.define(VstCoreCalibrationGdx.is,VstCoreCalibrationGdx)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-calibration-drop-counter> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host(:not([has-blocking-start-cal-processes])){width:30rem}.cal-point-options{margin-bottom:1em}.cal-point-options__select{display:inline-block;width:auto}.cal-keeps{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px solid #e3e4e5}.cal-keeps__form{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:1.25em}.cal-keeps__fieldset{padding:0;position:relative;z-index:2}.cal-keeps__fieldset::before{content:\'\';display:block;position:absolute;z-index:-1;margin:-1.25em;width:calc(100% + 2.5em);height:calc(100% + 2.5em);background:#f2f7cd;outline:1px solid #83ad39}.cal-keeps__fieldset[disabled]{opacity:.3}.cal-keeps__fieldset[disabled] .cal-rsr{opacity:0}.cal-keeps__fieldset[disabled]::before{opacity:0;width:0}.cal-keeps__fieldset:not([disabled])::before{opacity:1}.cal-keeps__fieldset-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media (min-width:42em){.cal-keeps__fieldset-container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.cal-keeps__label{margin:0 0 1em 0;-webkit-box-flex:1;-ms-flex:1;flex:1}@media (min-width:42em){.cal-keeps__label{margin:0}}.cal-keeps__label-description{font-weight:700}.cal-keeps__step-error{font-size:.75em;color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;display:block;margin-top:.25em}.cal-keeps__step-error:hover{cursor:text}.cal-keeps__step-error a{color:#911a21!important;text-decoration:underline!important}.cal-keeps__input-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (min-width:42em){.cal-keeps__input-wrapper{margin-left:.5em}}.cal-keeps__input{width:5em}.cal-keeps__units{padding:0 .25em;margin-right:.75em}@media (min-width:42em){.cal-keeps__units{-webkit-box-flex:1;-ms-flex:1;flex:1}}.cal-keeps__submit{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.cal-keeps__submit::-moz-focus-inner{border:0;padding:0}.cal-keeps__submit *{pointer-events:none}.cal-keeps__submit a,.cal-keeps__submit button{pointer-events:auto}.cal-keeps__submit:active{outline:0}.cal-keeps__submit[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-keeps__submit:hover{background-color:#005153}.cal-keeps__submit:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.cal-error{color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;margin-top:1rem}.cal-error:hover{cursor:text}.cal-error a{color:#911a21!important;text-decoration:underline!important}.cal-rsr{font-size:.75em;padding:.675em 1.667em;color:#787a7c;background-color:rgba(255,255,255,.7);margin:1.75em calc(-1.75em + 1px) calc(-1.75em + 1px)}.cal-note{font-size:.75em;color:#787a7c;margin:1rem 0 -1rem 0}.cal-action-bar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:2em}.cal-action-bar__btn-apply{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1em}.cal-action-bar__btn-apply::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-apply *{pointer-events:none}.cal-action-bar__btn-apply a,.cal-action-bar__btn-apply button{pointer-events:auto}.cal-action-bar__btn-apply:active{outline:0}.cal-action-bar__btn-apply[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-apply:hover{background-color:#005153}.cal-action-bar__btn-apply:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.cal-action-bar__btn-reset{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:auto;margin-top:1em;padding-left:0}.cal-action-bar__btn-reset::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-reset *{pointer-events:none}.cal-action-bar__btn-reset a,.cal-action-bar__btn-reset button{pointer-events:auto}.cal-action-bar__btn-reset:active{outline:0}.cal-action-bar__btn-reset[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-reset:active,.cal-action-bar__btn-reset:hover{color:#373839;background-color:transparent}.cal-action-bar__btn-reset:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.cal-action-bar__btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:.5625rem;margin-top:1em}.cal-action-bar__btn-cancel::-moz-focus-inner{border:0;padding:0}.cal-action-bar__btn-cancel *{pointer-events:none}.cal-action-bar__btn-cancel a,.cal-action-bar__btn-cancel button{pointer-events:auto}.cal-action-bar__btn-cancel:active{outline:0}.cal-action-bar__btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.cal-action-bar__btn-cancel:active,.cal-action-bar__btn-cancel:hover{color:#373839;background-color:transparent}.cal-action-bar__btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.odo__instructions{padding:0 0 0 1.125rem;margin:0 0 1rem}.odo__instructions li{margin-bottom:.5rem}.blocking-cal__instructions{margin:0 0 1em 0}.blocking-cal__btn-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.blocking-cal__btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.blocking-cal__btn::-moz-focus-inner{border:0;padding:0}.blocking-cal__btn *{pointer-events:none}.blocking-cal__btn a,.blocking-cal__btn button{pointer-events:auto}.blocking-cal__btn:active{outline:0}.blocking-cal__btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.blocking-cal__btn:hover{background-color:#005153}.blocking-cal__btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.tab-nav{background-color:#dbdcde;padding-left:.5625rem;margin:-1.125rem -1.125rem 1.125rem}.tab-nav ul{list-style:none;padding-left:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex}.tab-nav li{display:inline-block}.tab-nav li+li{margin-left:.5em}.tab-nav button{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;font-size:.75em;font-weight:700;text-transform:uppercase;margin-bottom:.1875em;background:0 0;margin-bottom:0;border:0;padding:.5625rem .5625rem .375rem .5625rem;border-bottom:3px solid transparent}.tab-nav button::-moz-focus-inner{border:0;padding:0}.tab-nav button *{pointer-events:none}.tab-nav button a,.tab-nav button button{pointer-events:auto}.tab-nav button:active{outline:0}.tab-nav button:focus,.tab-nav button:hover{outline:0;color:#007377}.tab-nav .active button{border-bottom-color:#007377}.tab-panes{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto}.tab-panes>*{display:none}.tab-panes>.active{display:block;height:100%}.cal-steps__list{padding-left:1.3em;margin:0}.cal-steps__list-item{margin-bottom:1.5em}.cal-steps__volume-step{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.cal-steps__volume-input-wrapper{-ms-flex-negative:0;flex-shrink:0;margin-left:1em}.cal-steps__volume-input{display:inline-block;width:4em}.cal-equation{padding:0}.cal-equation__heading{font-size:1em;font-weight:700;margin:0;margin-bottom:.5em}.cal-equation__input-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:.5em}.cal-equation__input{-ms-flex-preferred-size:11.25rem;flex-basis:11.25rem;margin-right:.5em}.cal-equation__label{-ms-flex-preferred-size:4.75rem;flex-basis:4.75rem;text-align:right;margin-right:.5em}.cal-output{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none;border-width:1px;border-style:solid;padding:.5em;display:-webkit-box;display:-ms-flexbox;display:flex}.cal-output__item{-webkit-box-flex:.2;-ms-flex-positive:.2;flex-grow:.2;font-variant-numeric:tabular-nums}</style> <nav class=tab-nav> <ul> <li class=active><button id=tab_automatic on-click=setTab>[[getText(\'Automatic\')]]</button></li> <li><button id=tab_manual on-click=setTab>[[getText(\'Manual\')]]</button></li> </ul> </nav> <div class=tab-panes> <section class="tab-pane active" id=automatic> <div class=cal-steps> <ol class=cal-steps__list> <li class=cal-steps__list-item>[[getText(\'Add titrant dropwise through the Drop Counter into a 10 mL graduated cylinder.\')]]</li> <li class=cal-steps__list-item>[[getText(\'Stop adding drops when the volume reaches between 9 mL and 10 mL.\')]]</li> <li class=cal-steps__list-item> <div class=cal-steps__volume-step> <label for=cal_volume_input>[[getText(\'Enter the precise volume of titrant from the graduated cylinder\')]]:</label> <div class=cal-steps__volume-input-wrapper><input class=cal-steps__volume-input type=number step=any value={{mL::input}} id=cal_volume_input> mL</div> </div> </li> </ol> </div> <div class=cal-output> <div class=cal-output__item>[[getText(\'Drops\')]]: [[sensorVoltage]]</div> <div class=cal-output__item>[[getText(\'Drops/mL\')]]: [[calculatedDropsPerMl]]</div> </div> </section> <section class=tab-pane id=manual> <fieldset class=cal-equation id=cal_equation_drop> <div class=cal-equation__input-wrapper> <label class=cal-equation__label for=drop_manual>[[getText(\'Drops/mL\')]]</label> <input class=cal-equation__input type=number step=any id=drop_manual min=0 value={{manualDropsPerMl::input}}> </div> </fieldset> </section> </div> <p class=cal-note>[[getText(\'New calibrations are used until you start a new experiment or open a file.\')]]</p> <div class=cal-action-bar> <button class=cal-action-bar__btn-cancel on-click=cancelCalibration type=button>[[getText(\'Cancel\')]]</button> <button class=cal-action-bar__btn-apply on-click=applyCalibration type=button id=apply disabled=[[!userUpdatedDrops]]>[[getText(\'Apply\')]]</button> </div> </template> </dom-module>');__webpack_require__(386)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstCoreCalibrationDropCounter extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-core-calibration-drop-counter'}static get properties(){return{sensor:{type:Object,value(){return{}}},calibration:{type:Object,observer:'_calibrationChanged'},sensorVoltage:{type:Number,value:0},mL:{type:Number,value:0},initialDropsPerMl:{type:Number},manualDropsPerMl:{type:Number,value:0},calculatedDropsPerMl:{type:Number,computed:'_calculatedDropsPerMl(sensorVoltage, mL)'},tabToOpen:{type:String,value:'automatic'},userUpdatedDrops:{type:Boolean,computed:'_userUpdatedDrops(sensorVoltage, mL, manualDropsPerMl, tabToOpen)'}}}connectedCallback(){super.connectedCallback();this.manualDropInputEl=this.shadowRoot.querySelector('#drop_manual');this.submitBtnEl=this.shadowRoot.querySelector('#apply');this.calibrationTabs=this.shadowRoot.querySelectorAll('.tab-nav li');this.calibrationTabsLength=this.calibrationTabs.length;this.calibrationPanes=this.shadowRoot.querySelectorAll('.tab-pane')}setTab(e){const clickedTab=e.target;this.tabToOpen=clickedTab.id.substring(4);for(let i=0;i<this.calibrationTabsLength;++i){this.calibrationTabs[i].classList.remove('active');this.calibrationPanes[i].classList.remove('active')}clickedTab.parentElement.classList.add('active');this.shadowRoot.getElementById(this.tabToOpen).classList.add('active')}_calculatedDropsPerMl(sensorVoltage,mL){if(sensorVoltage&&mL){return Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)('%0.2f',sensorVoltage/mL)}return 0}_userUpdatedDrops(sensorVoltage,mL,manualDropsPerMl,tabToOpen){if('manual'===tabToOpen){const manualDropsPerMlFloat=parseFloat(manualDropsPerMl);return manualDropsPerMlFloat&&manualDropsPerMlFloat!==this.initialDropsPerMl}return mL&&0<sensorVoltage/mL}_calibrationChanged(){setTimeout(()=>{this.initialDropsPerMl=Object(__WEBPACK_IMPORTED_MODULE_0_corelib_lib_sprintf__.sprintf)('%0.2f',1/this.calibration.coeffs[1]);this.manualDropInputEl.value=this.initialDropsPerMl},100)}applyCalibration(){let coeffs;if('manual'===this.tabToOpen){coeffs=[0,1/parseFloat(this.manualDropsPerMl)]}else{coeffs=[0,1/parseFloat(this.calculatedDropsPerMl)]}this.dispatchEvent(new CustomEvent('set-drop-counter-calibration',{detail:{coeffs}}))}cancelCalibration(){this.dispatchEvent(new CustomEvent('cancel-calibration'))}}customElements.define(VstCoreCalibrationDropCounter.is,VstCoreCalibrationDropCounter)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-form> <template> <slot></slot> </template> </dom-module>');__webpack_require__(388)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_2_platform__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2_platform___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_platform__);class VstCoreForm extends Polymer.Element{static get is(){return'vst-core-form'}connectedCallback(){super.connectedCallback();this.eventBinder=new __WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__.a;const isAndroid='Android'===__WEBPACK_IMPORTED_MODULE_2_platform___default.a.os.family,isIOS='iOS'===__WEBPACK_IMPORTED_MODULE_2_platform___default.a.os.family;setTimeout(()=>{this.formEl=this.querySelector('form');if(this.formEl){const _preventDefault=e=>{e.preventDefault()},inputEls=Array.from(this.formEl.querySelectorAll('input[type=text], input[type=number]'));inputEls.forEach(inputEl=>{if('number'===inputEl.type&&isAndroid&&!inputEl.dataset.reallyIsNumber){inputEl.setAttribute('type','text')}this.eventBinder.on(inputEl,'invalid',e=>{e.preventDefault();this.showValidationMessage(inputEl)});this.eventBinder.on(inputEl,'focus',()=>{if(isAndroid){inputEl.addEventListener('contextmenu',_preventDefault);inputEl.select();requestAnimationFrame(()=>{inputEl.removeEventListener('contextmenu',_preventDefault)})}else{inputEl.select()}})});if(isIOS){const radioCheckEls=this.formEl.querySelectorAll('input[type=radio], input[type=checkbox]');radioCheckEls.forEach(inputEl=>{if(!inputEl.disabled&&inputEl.id){const labelEl=this.formEl.querySelector(`label[for=${inputEl.id}]`);if(labelEl){this.eventBinder.on(labelEl,'click',e=>{e.preventDefault();inputEl.click()})}}})}this.eventBinder.on(this.formEl,'submit',e=>{e.preventDefault();e.stopPropagation();if(this.formEl.checkValidity()){this.dispatchEvent(new Event('submit'))}})}else{console.warn('No <form> element is included inside your vst-ui-form. You should have one for accesibility purposes.')}})}showValidationMessage(inputEl){const popoverManager=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('popover-manager');let tooltipEl;popoverManager.presentPopover('vst-ui-tooltip',{anchor:inputEl,orientation:'top',properties:{type:'error',msg:inputEl.validationMessage},events:ctx=>{tooltipEl=ctx.component}});inputEl.focus();this.eventBinder.on(inputEl,'input',()=>{if(tooltipEl){tooltipEl.dispatchEvent(new CustomEvent('complete-workflow'))}})}disconnectedCallback(){this.eventBinder.unbindAll()}}__webpack_exports__.VstCoreForm=VstCoreForm;customElements.define(VstCoreForm.is,VstCoreForm)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-accessibility> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}fieldset{border:0;margin:0}legend{padding:0;display:block;padding-left:0}label{margin-bottom:.1875rem;font-weight:400}input,select,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.inline-form input,.inline-form select{display:inline-block}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{width:auto;height:auto;padding:0;margin:0 .375em 0 0;line-height:normal;border:0;cursor:pointer;display:inline-block;-ms-flex-negative:0;flex-shrink:0}input[type=file]{padding:initial;line-height:initial;border:initial;background-color:initial}html input[type=button],input[type=reset],input[type=submit]{width:auto;height:auto;-webkit-appearance:button;-moz-appearance:button;appearance:button}input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}select{vertical-align:middle;background-color:#fff}textarea{height:auto;min-height:5em}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled],select[disabled],textarea[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}fieldset[disabled],input[disabled][type=checkbox]+label,input[disabled][type=radio]+label{color:#787a7c;opacity:.75}fieldset[disabled] input,fieldset[disabled] select,fieldset[disabled] textarea,input[disabled][type=checkbox]+label input,input[disabled][type=checkbox]+label select,input[disabled][type=checkbox]+label textarea,input[disabled][type=radio]+label input,input[disabled][type=radio]+label select,input[disabled][type=radio]+label textarea{background-color:#f5f5f5;border-color:#ddd;color:#787a7c}input.error,input:invalid,select:invalid,textarea:invalid{color:#b94a48;border-left-color:#eea3a7;border-left-width:5px}.required::after{content:"*";color:#d22630}.flex-v-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}.accessibility-scale{height:2.5rem;width:100%;padding:0;border:0;-webkit-appearance:none;margin-top:.5rem}.accessibility-scale:focus{outline:0}.accessibility-scale:focus::-webkit-slider-thumb{-webkit-box-shadow:#bfcd4f 0 0 0 .125em;box-shadow:#bfcd4f 0 0 0 .125em}.accessibility-scale:focus::-webkit-slider-runnable-track{background:#bdbebf}.accessibility-scale:focus::-ms-fill-lower{background:#bdbebf}.accessibility-scale:focus::-ms-fill-upper{background:#bdbebf}.accessibility-scale::-webkit-slider-runnable-track{width:100%;height:.25rem;cursor:pointer;animate:.2s;background:#bdbebf;border:0;-webkit-box-shadow:0 0 0 transparent;box-shadow:0 0 0 transparent}.accessibility-scale::-webkit-slider-thumb{-webkit-box-shadow:0 .05em .2em rgba(0,0,0,.5);box-shadow:0 .05em .2em rgba(0,0,0,.5);border:1px solid #bdbebf;height:1.75rem;width:1.75rem;border-radius:1.75rem;background:#fff;cursor:pointer;z-index:2;position:relative;-webkit-appearance:none;margin-top:-.875rem}.accessibility-scale::-moz-range-track{width:100%;height:.25rem;cursor:pointer;animate:.2s;background:#bdbebf;border:0;box-shadow:0 0 0 transparent;border-radius:1px}.accessibility-scale::-moz-range-thumb{box-shadow:0 .05em .2em rgba(0,0,0,.5);border:1px solid #bdbebf;height:1.75rem;width:1.75rem;border-radius:1.75rem;background:#fff;cursor:pointer;z-index:2;position:relative}.accessibility-scale::-ms-track{width:100%;height:.25rem;cursor:pointer;animate:.2s;background:#bdbebf;border:0;box-shadow:0 0 0 transparent;background:0 0;border-color:transparent;color:transparent}.accessibility-scale::-ms-fill-lower{background:#bdbebf;border:0;border-radius:2px;box-shadow:0 0 0 transparent}.accessibility-scale::-ms-fill-upper{background:#bdbebf;border:0;border-radius:2px;box-shadow:0 0 0 transparent}.accessibility-scale::-ms-thumb{box-shadow:0 .05em .2em rgba(0,0,0,.5);border:1px solid #bdbebf;height:1.75rem;width:1.75rem;border-radius:1.75rem;background:#fff;cursor:pointer;z-index:2;position:relative;margin-top:1px}.accessibility-scale__tickmark-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.accessibility-scale__tickmark{text-align:center;width:1.75rem;font-size:.75rem}.accessibility-scale__tickmark::after{content:\'\';height:.75rem;background-color:#e3e4e5;width:1px;display:block;text-align:center;left:50%;position:relative;top:-120%;z-index:1}</style> <div> <fieldset> <label for=accessibility_scale>[[getText(\'Scale Factor\')]]</label> <input class=accessibility-scale id=accessibility_scale type=range min=1 max=2 step=0.25 value=[[accessibilityScale]] on-change=accessibilityScaleChanged> <div class=accessibility-scale__tickmark-list> <span class=accessibility-scale__tickmark>1</span> <span class=accessibility-scale__tickmark>1.25</span> <span class=accessibility-scale__tickmark>1.5</span> <span class=accessibility-scale__tickmark>1.75</span> <span class=accessibility-scale__tickmark>2</span> </div> </fieldset> </div> </template> </dom-module>');__webpack_require__(390)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2);class VstCoreAccessibility extends Polymer.Element{static get is(){return'vst-core-accessibility'}static get properties(){return{accessibilityScale:{type:Number,value:1,reflectToAttribute:!0}}}connectedCallback(){super.connectedCallback();this.accessibilityService=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('accessibility');this.accessibilityService.on('accessibility-scale-changed',newScale=>{this.accessibilityScale=newScale});this.accessibilityScale=this.accessibilityService.accessibilityScale}accessibilityScaleChanged(e){this.accessibilityScale=parseFloat(e.target.value);this.accessibilityService.accessibilityScale=this.accessibilityScale}getText(text){return __WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('i18n').getText(text)}}__webpack_exports__.VstCoreAccessibility=VstCoreAccessibility;customElements.define(VstCoreAccessibility.is,VstCoreAccessibility)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-core-feature-flags> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}:host{width:35rem}.feature-flags__fieldset{margin:0;border:0}.feature-flags__list{list-style:none;margin:0 0 2rem;padding:0}.feature-flags__checkbox{margin-top:.4rem}.feature-flags__label{display:grid;grid-template-columns:auto 1fr;grid-column-gap:.25rem;margin-bottom:1rem}.feature-flags__title{font-size:1em;font-weight:700;margin:0}.feature-flags__description{margin:0}.feature-flags__buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.feature-flags__reset{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c}.feature-flags__reset::-moz-focus-inner{border:0;padding:0}.feature-flags__reset *{pointer-events:none}.feature-flags__reset a,.feature-flags__reset button{pointer-events:auto}.feature-flags__reset:active{outline:0}.feature-flags__reset[disabled]{opacity:.2;cursor:default;pointer-events:none}.feature-flags__reset:active,.feature-flags__reset:hover{color:#373839;background-color:transparent}.feature-flags__reset:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.feature-flags__submit{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff}.feature-flags__submit::-moz-focus-inner{border:0;padding:0}.feature-flags__submit *{pointer-events:none}.feature-flags__submit a,.feature-flags__submit button{pointer-events:auto}.feature-flags__submit:active{outline:0}.feature-flags__submit[disabled]{opacity:.2;cursor:default;pointer-events:none}.feature-flags__submit:hover{background-color:#005153}.feature-flags__submit:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}</style> <vst-core-form class=feature-flags on-submit=submitForm> <form> <fieldset class=feature-flags__fieldset id=feature_flag_fieldset> <ul class=feature-flags__list> <template is=dom-repeat items=[[featureFlags.feature]] as=feature> <li class=feature-flags__list-item> <label class=feature-flags__label for$=[[feature.name]]> <input class=feature-flags__checkbox type=checkbox checked={{feature.enabled}} on-change=featureFlagChanged id=[[feature.name]]> <div> <strong class=feature-flags__title>[[feature.name]]</strong> <p class=feature-flags__description>[[feature.description]]</p> </div> </label> </li> </template> </ul> <div class=feature-flags__buttons> <button class=feature-flags__reset type=button on-click=resetToDefaults>[[getText(\'Reset to Defaults\')]]</button> <button class=feature-flags__submit type=submit>[[getText(\'Save and Close App\')]]</button> </div> </fieldset> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(392)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_corelib_util_i18n__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_2_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__),__WEBPACK_IMPORTED_MODULE_3_corelib_featureflags_featureFlags__=__webpack_require__(17);class VstCoreFeatureFlags extends Polymer.Element{static get is(){return'vst-core-feature-flags'}static get properties(){return{featureFlags:{type:Array,value(){return[]}}}}connectedCallback(){super.connectedCallback();this.appLifecycleService=__WEBPACK_IMPORTED_MODULE_0_corelib_services__.a.get('app-lifecycle');this.getText=__WEBPACK_IMPORTED_MODULE_1_corelib_util_i18n__.a;this.featureFlags=Object(__WEBPACK_IMPORTED_MODULE_3_corelib_featureflags_featureFlags__.b)();this.defaultFeatureFlags=Object(__WEBPACK_IMPORTED_MODULE_3_corelib_featureflags_featureFlags__.a)();const featureFlagFieldsetEl=this.shadowRoot.getElementById('feature_flag_fieldset');featureFlagFieldsetEl.disabled=!0;setTimeout(()=>{featureFlagFieldsetEl.disabled=!1},1e3)}featureFlagChanged(e){const feature=e.model.feature;feature.enabled=e.target.checked}resetToDefaults(){this.featureFlags=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.cloneDeep)(Object(__WEBPACK_IMPORTED_MODULE_3_corelib_featureflags_featureFlags__.a)())}submitForm(){Object(__WEBPACK_IMPORTED_MODULE_3_corelib_featureflags_featureFlags__.d)(this.featureFlags);this.appLifecycleService.closeWindow()}}__webpack_exports__.VstCoreFeatureFlags=VstCoreFeatureFlags;customElements.define(VstCoreFeatureFlags.is,VstCoreFeatureFlags)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ui-listbox> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;min-width:11.25rem;max-width:25rem}nav ul{list-style:none;padding-left:0;margin:0}.listbox-heading{display:block;position:relative;background:#e3e4e5;padding:.5625rem .75rem}.listbox-heading h2{display:inline-block;font-weight:700;margin:0;font-size:.75rem;text-transform:uppercase}.listbox-heading .btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;font-size:.875em;background-color:transparent;width:2.25rem;height:2.25rem;border:0;border-radius:.25rem;opacity:.54;position:absolute;top:.2rem;right:.2rem}.listbox-heading .btn-cancel::-moz-focus-inner{border:0;padding:0}.listbox-heading .btn-cancel *{pointer-events:none}.listbox-heading .btn-cancel a,.listbox-heading .btn-cancel button{pointer-events:auto}.listbox-heading .btn-cancel:active{outline:0}.listbox-heading .btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.listbox-heading .btn-cancel:active,.listbox-heading .btn-cancel:hover{background-color:rgba(0,2,4,.1)}.listbox-heading .btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.listbox-heading .btn-cancel vst-core-icon{width:1.125rem;height:1.125rem;display:block;margin:0 auto}.listbox-group+.listbox-group{margin-top:.5625rem;border-top:1px solid #e3e4e5}.listbox-item{border-bottom:1px solid #e3e4e5}.listbox-icon{margin-right:.75em}.listbox-item-select{display:-webkit-box;display:-ms-flexbox;display:flex;padding:.5625em .75em;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.listbox-item-select label{color:#373839;padding-right:1.125rem}.listbox-item-select select{font-size:.875rem;border-radius:.25rem;width:50%}.listbox-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);text-align:left;font-size:1em;border:0;color:#007377;padding:0;background:0 0;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:.5625em .75em;position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.listbox-btn::-moz-focus-inner{border:0;padding:0}.listbox-btn *{pointer-events:none}.listbox-btn a,.listbox-btn button{pointer-events:auto}.listbox-btn:active{outline:0}.listbox-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.listbox-btn:active,.listbox-btn:hover{color:#005153;background-color:#f0f1f1}.listbox-btn:active{background-color:#e3e4e5}.listbox-btn:hover{cursor:pointer}.listbox-btn.disabled,.listbox-btn.disabled:hover,.listbox-btn[disabled],.listbox-btn[disabled]:hover{opacity:.5;color:#787a7c;cursor:not-allowed;background-color:#fff}.listbox-btn.delete{color:#d22630}.listbox-btn.active{padding:.5625rem 1.96875rem .5625rem .5625rem}.listbox-btn.active::after{content:\'\';display:block;background:transparent url(\'./elements/core/vst-core-icon/icons/icon-checkmark.svg\') no-repeat;background-size:cover;width:1.5rem;height:1.5rem;position:absolute;top:calc(50% - rem(12px));right:.5625rem}.listbox-switch{display:block;padding:.5625em .75em}.show-green-dot,.show-red-dot{position:relative;padding-left:1.75rem}.show-green-dot::before,.show-red-dot::before{content:\'\';display:block;width:.5rem;height:.5rem;border-radius:100%;background-color:#d22630;position:absolute;top:calc(50% - .25rem);left:.75rem}.show-green-dot::before{background-color:#83ad39}</style> <template is=dom-if if=[[view.heading]]> <header class=listbox-heading> <h2>[[view.heading]]</h2> </header> </template> <nav> <ul> <template is=dom-repeat items=[[view.items]] as=group> <li class=listbox-group> <ul> <template is=dom-repeat items=[[group]] as=item> <template is=dom-if if="[[matchType(item, \'switch\')]]"> <li class=listbox-item> <vst-ui-switch id=[[item.id]] label=[[item.title]] on-switch-changed=switchHandler checked=[[item.checked]] icon=[[item.icon]] class=listbox-switch disabled=[[item.disabled]]></vst-ui-switch> </li> </template> <template is=dom-if if="[[matchType(item, \'action\')]]"> <li class=listbox-item> <button id=[[item.id]] on-click=itemClicked class$="listbox-btn [[item.className]]" disabled=[[item.disabled]]> <template is=dom-if if=[[item.icon]]> <img class=listbox-icon src=[[item.icon]]> </template> <span>[[item.title]]</span> </button> </li> </template> <template is=dom-if if="[[matchType(item, \'select\')]]"> <li class="listbox-item listbox-item-select"> <label for=[[item.id]]>[[item.title]]</label> <select id=[[item.id]] value={{item.selection::input}} on-input=itemOptionSelected> <template is=dom-repeat items=[[item.options]] as=itemOption> <option value=[[itemOption.value]] selected={{optionSelected(item.selection,itemOption.value)}}>[[itemOption.text]]</option> </template> </select> </li> </template> </template> </ul> </li> </template> </ul> </nav> </template> </dom-module>');__webpack_require__(394)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__=__webpack_require__(6);class VstUiListbox extends Polymer.Element{static get is(){return'vst-ui-listbox'}static get properties(){return{heading:{notify:!0},icons:{notify:!0},items:{notify:!0},notify:{type:String,reflectToAttribute:!0,value(){return''}},view:{type:Object,notify:!0,value(){return{}}}}}connectedCallback(){super.connectedCallback();this.eventBinder=new __WEBPACK_IMPORTED_MODULE_0_corelib_util_EventBinder__.a;if(!Array.isArray(this.view.items[0])){this.set('view.items',[this.view.items])}setTimeout(()=>{if(this.view.active){this.shadowRoot.getElementById(this.view.active).classList.add('active')}})}disconnectedCallback(){super.disconnectedCallback();this.eventBinder.unbindAll()}matchType(item,compare){let type=item.type;if('string'!==typeof type||0===type.trim().length){type='action'}return type===compare}optionSelected(option,compare){return option===compare}itemClicked(e){this.dispatchEvent(new CustomEvent('list-item-clicked',{detail:e.target.id,bubbles:!0,composed:!0}))}switchHandler(event){const{detail:switchChecked=!1,target:{id}={}}=event,flattenedItems=this.view.items.reduce((flatList,itemGroup)=>flatList.concat(itemGroup),[]),switchItem=flattenedItems.find(item=>item.id===id)||{},excludedSwitchEl=this.shadowRoot.getElementById(switchItem.incompatibleSwitch);if(switchChecked&&excludedSwitchEl){excludedSwitchEl.checked=!1}this.dispatchEvent(new CustomEvent('list-switch-changed',{detail:[id,switchChecked],bubbles:!0,composed:!0}))}itemOptionSelected(e){const selectEl=e.target;setTimeout(()=>{this.dispatchEvent(new CustomEvent('list-item-option-selected',{detail:[selectEl.id,selectEl.value],bubbles:!0,composed:!0}))})}}__webpack_exports__.VstUiListbox=VstUiListbox;customElements.define(VstUiListbox.is,VstUiListbox)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ui-switch> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}.switch__label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch__label:hover{cursor:pointer}.switch__label-text{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#373839;margin-right:1rem;margin-left:1rem}.switch__btn{display:block;position:relative;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:2.25em;height:1.125em;border-radius:2.25em}.switch__btn::after,.switch__btn::before{display:block;position:absolute;top:1px;left:1px;bottom:1px;content:""}.switch__btn::before{right:1px;background-color:#e3e4e5;border-radius:2.25em;-webkit-transition:background-color .4s cubic-bezier(.4,0,.2,1);transition:background-color .4s cubic-bezier(.4,0,.2,1)}.switch__btn::after{width:1.125em;background-color:#fff;border-radius:2.25em;-webkit-box-shadow:0 .05em .2em rgba(0,0,0,.5);box-shadow:0 .05em .2em rgba(0,0,0,.5);-webkit-transition:margin 125ms cubic-bezier(.4,0,.2,1);transition:margin 125ms cubic-bezier(.4,0,.2,1)}.switch__checkbox{-webkit-box-flex:0;-ms-flex:0;flex:0;position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.switch__checkbox:checked+.switch__btn::before{background-color:#d4e458}.switch__checkbox:checked+.switch__btn::after{margin-left:1.125em}.switch__checkbox:focus+.switch__btn::before{-webkit-box-shadow:#bfcd4f 0 0 0 .125em;box-shadow:#bfcd4f 0 0 0 .125em}:host([label-placement=left]) .switch__btn{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}:host([label-placement=left]) .switch__label-text{margin-left:0}:host([disabled]){pointer-events:none}:host([disabled]) .switch__label{color:#787a7c;opacity:.5}:host([disabled]) .switch__btn{-webkit-filter:grayscale(100%);filter:grayscale(100%);background-color:#f5f5f5;border-color:#ddd;color:#787a7c;opacity:.75;pointer-events:none}</style> <div class=switch> <label class=switch__label on-click=toggle on-track=_trackHandler> <input class=switch__checkbox type=checkbox disabled=[[disabled]] checked=[[checked]] id=switch> <div class=switch__btn></div> <span class=switch__label-text>[[label]]</span> </label> </div> </template> </dom-module>');__webpack_require__(396)},function(module,__webpack_exports__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});class VstUiSwitch extends Polymer.GestureEventListeners(Polymer.Element){static get is(){return'vst-ui-switch'}static get properties(){return{label:{type:String},checked:{type:Boolean,reflectToAttribute:!0,observer:'_checkedChanged'},disabled:{type:Boolean,reflectToAttribute:!0},labelPlacement:{type:String,value:'left',reflectToAttribute:!0}}}toggle(e){e.preventDefault();this.checked=!this.checked}_checkedChanged(newVal,oldVal){if(oldVal!==void 0){this.dispatchEvent(new CustomEvent('switch-changed',{detail:newVal}))}}_trackHandler(e){if('end'===e.detail.state){if(10<e.detail.dx){this.checked=!0}else if(-10>e.detail.dx){this.checked=!1}}}}__webpack_exports__.VstUiSwitch=VstUiSwitch;customElements.define(VstUiSwitch.is,VstUiSwitch)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ui-tooltip> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}.msg{margin:0;padding:.5em;background:#fff}:host([type=error]) .msg{color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text}:host([type=error]) .msg:hover{cursor:text}:host([type=error]) .msg a{color:#911a21!important;text-decoration:underline!important}</style> <p class=msg>[[msg]]</p> </template> </dom-module>');__webpack_require__(398)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstUiTooltip extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-ui-tooltip'}static get properties(){return{type:{type:String,reflectToAttribute:!0,value:''},msg:{type:String,value:''}}}}__webpack_exports__.VstUiTooltip=VstUiTooltip;customElements.define(VstUiTooltip.is,VstUiTooltip)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ui-input-dialog> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}.input-label{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.input-value{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:1em;line-height:1.5;height:2.5rem;display:block;width:100%;margin:0;padding:.4375rem;border:1px solid #bdbebf;border-radius:1px}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1.125rem;float:right}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn:hover{background-color:#005153}.btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.error-message{color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;display:block;margin:.5625rem 0 0}.error-message:hover{cursor:text}.error-message a{color:#911a21!important;text-decoration:underline!important}</style> <vst-core-form on-submit=save> <form id=rename_form> <label class=input-label for=name_input>[[inputDescription]]</label> <input class=input-value type=text placeholder=[[inputDescription]] id=name_input required="" value={{inputValue::input}}> <button class=btn type=submit>[[buttonString]]</button> </form> </vst-core-form> </template> </dom-module>');__webpack_require__(400)},function(module,__webpack_exports__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});class VstUiInputDialog extends Polymer.Element{static get is(){return'vst-ui-input-dialog'}static get properties(){return{inputValue:{type:String,value:''},inputDescription:{type:String,value:''},buttonString:{type:String,value:'Save'}}}connectedCallback(){super.connectedCallback();setTimeout(()=>{this.inputEl=this.shadowRoot.querySelector('#name_input');this.inputEl.setSelectionRange(0,this.inputEl.value.length)})}save(){this.dispatchEvent(new CustomEvent('save',{detail:this.inputValue}))}cancel(){this.dispatchEvent(new CustomEvent('cancel'))}}__webpack_exports__.VstUiInputDialog=VstUiInputDialog;customElements.define(VstUiInputDialog.is,VstUiInputDialog)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ga-app> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}100%{opacity:0;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@keyframes fadeOutDownFar{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:none;transform:none}100%{opacity:0;-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}}@-webkit-keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}@keyframes glow{0%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}25%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}50%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}75%{-webkit-box-shadow:0 0 10px 2px #288ffe;box-shadow:0 0 10px 2px #288ffe}100%{-webkit-box-shadow:0 0 0 0 #288ffe;box-shadow:0 0 0 0 #288ffe}}:host{--transition-easing:cubic-bezier(0.4, 0, 0.2, 1);--transition-default-speed:0.4s;--transition-faster-speed:0.25s;--transition-slower-speed:0.6s;--color-body-text:#373839;--color-primary-brand:#007377;--color-action:#d4e458;--color-action-light:#f2f7cd;--color-action-dark:#83ad39;--color-error:#d22630;--color-caution:#f79b2e;--color-link:#007377;--color-link-hover:#005153;--color-table-border:#c9cbcc;--color-hot-selection-border:#288ffe;--color-hot-selection-fill:rgba(181, 209, 255, 0.3);--paper-spinner-layer-1-color:var(--color-link);--paper-spinner-layer-2-color:var(--color-link);--paper-spinner-layer-3-color:var(--color-link);--paper-spinner-layer-4-color:var(--color-link);--paper-spinner-stroke-width:0.1875rem;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-shell,:host{background-color:#e3e4e5;height:calc(100vh - var(--chrome-menubar-height,0px));display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.app-shell{-webkit-box-flex:1;-ms-flex:1;flex:1}.main-content{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex}.popover-wrapper{position:absolute}.dropzone-indicator{display:none;width:100vw;height:calc(100vh - var(--chrome-menubar-height,0px));border:10px solid #83ad39;background:0 0;position:absolute;z-index:300}:host([active-dropzone]) .dropzone-indicator{pointer-events:none;width:100vw;height:calc(100vh - var(--chrome-menubar-height,0px));display:-webkit-box;display:-ms-flexbox;display:flex;z-index:400;-webkit-animation:pulse-border 1.4s infinite;animation:pulse-border 1.4s infinite}@-webkit-keyframes pulse-border{0%{border-color:#aab643}50%{border-color:rgba(170,182,67,.25)}100%{border-color:#aab643}}@keyframes pulse-border{0%{border-color:#aab643}50%{border-color:rgba(170,182,67,.25)}100%{border-color:#aab643}}.toolbar-icon{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;position:relative;-ms-flex-preferred-size:2.25rem;flex-basis:2.25rem;-ms-flex-negative:0;flex-shrink:0;height:2.25rem;background-color:transparent;border-radius:.25rem;border:1px solid transparent;padding:.3125rem;margin:0 .25rem;opacity:.7;background-clip:padding-box}.toolbar-icon::-moz-focus-inner{border:0;padding:0}.toolbar-icon *{pointer-events:none}.toolbar-icon a,.toolbar-icon button{pointer-events:auto}.toolbar-icon:active{outline:0}.toolbar-icon:focus,.toolbar-icon:hover{outline:0;opacity:1;cursor:pointer;background-color:#fff;border:1px solid #bdbebf;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1)}.toolbar-icon:active{background-color:#fff;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.experiment-meta{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-preferred-size:auto;flex-basis:auto;-ms-flex-negative:1;flex-shrink:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:1;padding:0}.experiment-meta:hover .experiment-meta__icon,.experiment-meta:hover .experiment-meta__title{opacity:1}.experiment-meta__icon{-ms-flex-negative:0;flex-shrink:0;width:2.25rem;height:2.25rem;opacity:.7;padding:.3125rem}.experiment-meta__title{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden;font-size:.75rem;font-weight:700;margin:0 .5rem 0 0;width:100%}.experiment-meta__filename{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.green-dot,.red-dot{display:none;width:.5rem;height:.5rem;border-radius:100%;background-color:#d22630;position:absolute;top:-1px;right:-1px}.green-dot{background-color:#83ad39}vst-core-toolbar[notify=update-available] .toolbar-overflow .red-dot{display:block}vst-core-toolbar[notify=whats-new] .toolbar-overflow .green-dot{display:block}</style> <div class$="[[_computeClass(currentView, syncStatus)]]"> <vst-core-toolbar controller-type=ToolbarController> <button slot=toolbar_left id=new_btn class="toolbar-icon experiment-meta simptip-position-bottom-left" data-tooltip$="[[getText(\'Experiments\')]]" aria-label$="[[getText(\'Experiments\')]]" data-action=show-file-menu> <div class=experiment-meta__icon> <vst-core-icon icon=icon-file-menu></vst-core-icon> </div> <div class=experiment-meta__title> <div class=experiment-meta__filename id=experiment_name></div> </div> </button> <button slot=toolbar_right id=view_change_btn class="toolbar-icon simptip-position-bottom" data-tooltip$="[[getText(\'View\')]]" aria-label$="[[getText(\'View\')]]" data-action=change-view> <vst-core-icon icon=icon-view></vst-core-icon> </button> <button slot=toolbar_right id=overflow_btn class="toolbar-icon simptip-position-bottom-right" data-tooltip$="[[getText(\'More\')]]" aria-label$="[[getText(\'More\')]]" data-action=show-more-options> <div class=red-dot></div> <div class=green-dot></div> <vst-core-icon icon=icon-overflow-toolbar></vst-core-icon> </button> </vst-core-toolbar> <vst-ga-main-content id=main_content class=main-content current-view=[[currentView]] metersize=[[_computeMetersize(currentView)]] graph-mode-transition=[[graphModeTransition]]> </vst-ga-main-content> <vst-core-bottombar controller-type=BottombarController> <vst-core-meter-container metersize=mini controller-type=MeterContainerController></vst-core-meter-container> </vst-core-bottombar> <div class=dropzone-indicator></div> <div class=popover-wrapper id=popover_wrapper></div> <vst-core-wait hidden=""></vst-core-wait> <vst-core-toast></vst-core-toast> </div> </template> </dom-module>');__webpack_require__(402)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_nativeCompatibility__=__webpack_require__(403),__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_DropzoneElementMixin__=__webpack_require__(405),__WEBPACK_IMPORTED_MODULE_3_corelib_mixins_DevShowPointerMixin__=__webpack_require__(406),__WEBPACK_IMPORTED_MODULE_4_corelib_util_graphModeTransition__=__webpack_require__(407),__WEBPACK_IMPORTED_MODULE_5_corelib_util_serviceProvider__=__webpack_require__(408),__WEBPACK_IMPORTED_MODULE_6_corelib_util_RenderStatus__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_7_stores_ga_configureStore__=__webpack_require__(78),__WEBPACK_IMPORTED_MODULE_8_stores_common_middleware__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_9_corelib_services_ga_init_services__=__webpack_require__(433),__WEBPACK_IMPORTED_MODULE_10_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_11_corelib_util_graphAutoLayout__=__webpack_require__(434),__WEBPACK_IMPORTED_MODULE_12_corelib_featureflags_featureFlags__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_13_stores_ga_actions__=__webpack_require__(87),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};class VstGaApp extends Object(__WEBPACK_IMPORTED_MODULE_1_corelib_mixins_CoreElementMixin__.a)(Object(__WEBPACK_IMPORTED_MODULE_2_corelib_mixins_DropzoneElementMixin__.a)(Object(__WEBPACK_IMPORTED_MODULE_3_corelib_mixins_DevShowPointerMixin__.a)(Polymer.Element))){static get is(){return'vst-ga-app'}static get properties(){return{currentView:{type:String,notify:!0,reflectToAttribute:!0,value:''},initialView:{type:String,value:'graph_1'},devShowPointer:{type:Boolean,value:!1},canExit:{type:Boolean,value:!0,statePath({popovers}){return!popovers.length}}}}static get observers(){return['_currentViewChanged(currentView)','_computeMetersize(currentView)']}constructor(){Object(__WEBPACK_IMPORTED_MODULE_0_corelib_nativeCompatibility__.a)(window);Object(__WEBPACK_IMPORTED_MODULE_8_stores_common_middleware__.a)(__WEBPACK_IMPORTED_MODULE_10_corelib_services__.a);super();this._exitOrClosePopover=this._exitOrClosePopover.bind(this)}async connectedCallback(){super.connectedCallback();this.activateDropzone();if(this.devShowPointer){this.setupDevPointer()}const graphIds=['graph_1','graph_2','graph_3'];__WEBPACK_IMPORTED_MODULE_10_corelib_services__.a.get('data-world').on('session-ended',()=>this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_13_stores_ga_actions__.q)(graphIds)));this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_13_stores_ga_actions__.q)(graphIds));this.popoverManager=__WEBPACK_IMPORTED_MODULE_10_corelib_services__.a.get('popover-manager');this.addEventListener('popover-creation',e=>this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_13_stores_ga_actions__.d)(e.detail.id)));this.addEventListener('popover-removal',e=>this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_13_stores_ga_actions__.p)(e.detail.id)));Object(__WEBPACK_IMPORTED_MODULE_5_corelib_util_serviceProvider__.a)(_extends({},this.coreServices,Object(__WEBPACK_IMPORTED_MODULE_9_corelib_services_ga_init_services__.a)()),this).then(()=>{document.addEventListener('backbutton',this._exitOrClosePopover.bind(this));document.addEventListener('close-app',this._exit.bind(this));window.addEventListener('beforeunload',this._exit.bind(this))});const ally=__WEBPACK_IMPORTED_MODULE_10_corelib_services__.a.get('ally'),viewManager=__WEBPACK_IMPORTED_MODULE_10_corelib_services__.a.get('view-manager');await Object(__WEBPACK_IMPORTED_MODULE_6_corelib_util_RenderStatus__.a)();const mainContentEl=this.shadowRoot.querySelector('#main_content');this.graphModeTransition=Object(__WEBPACK_IMPORTED_MODULE_4_corelib_util_graphModeTransition__.a)(this,mainContentEl,ally,viewManager);if(Object(__WEBPACK_IMPORTED_MODULE_12_corelib_featureflags_featureFlags__.c)('graph-prefs-deprecation')){Object(__WEBPACK_IMPORTED_MODULE_11_corelib_util_graphAutoLayout__.a)(__WEBPACK_IMPORTED_MODULE_10_corelib_services__.a)}}disconnectedCallback(){super.disconnectedCallback();document.removeEventListener('backbutton',this._exitOrClosePopover);document.removeEventListener('close-app',this._exit);window.removeEventListener('beforeunload',this._exit)}_exitOrClosePopover(){return this.canExit?this.services.appLifecycle.closeWindow():this.popoverManager.closeLast()}_exit(event){this.services.appLifecycle.closeWindow(!1,event)}_computeClass(currentView,syncStatus){return`app-shell ${currentView} ${syncStatus}`}_computeMetersize(currentView){let size='medium';if('meter'===currentView){size='large'}return size}_currentViewChanged(){if(this.afterViewChange){this.afterViewChange()}}}const ConnectedElement=Object(__WEBPACK_IMPORTED_MODULE_7_stores_ga_configureStore__.a)(VstGaApp);customElements.define(ConnectedElement.is,ConnectedElement)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__PLATFORM_ID__=__webpack_require__(404);__webpack_exports__.a=window=>{if(__WEBPACK_IMPORTED_MODULE_0__PLATFORM_ID__.a){__WEBPACK_IMPORTED_MODULE_0__PLATFORM_ID__.a(window)}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=null},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=superclass=>class extends superclass{static get properties(){return{activeDropzone:{type:Boolean,value:!1,reflectToAttribute:!0},accepts:{type:Array,value(){return[]}}}}activateDropzone(){this.dragEnteredEls=[];this.addEventListener('dragover',this.dragOver.bind(this),!1);this.addEventListener('dragleave',this.dragLeave.bind(this),!1);this.addEventListener('drop',this.drop.bind(this),!1)}dragOver(e){if(this===e.target&&e.dataTransfer.files.length){this.activeDropzone=!0;e.dataTransfer.dropEffect='move'}else if(!e.dataTransfer.files.length){e.dataTransfer.dropEffect='none'}e.stopPropagation();e.preventDefault()}dragLeave(e){if(this===e.target){this.activeDropzone=!1}e.stopPropagation();e.preventDefault()}drop(e){const file=e.dataTransfer.files[0];if(file){this.openFileHandler(file)}this.activeDropzone=!1;e.stopPropagation();e.preventDefault()}openFileHandler(file){this.dispatchEvent(new CustomEvent('open-file-via-drop',{detail:file}))}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=superclass=>class extends superclass{static setupDevPointer(){const circle=document.createElement('div'),addHighlight=e=>{circle.style.width=`40px`;circle.style.height=`40px`;circle.style.borderRadius=`50%`;circle.style.backgroundColor=`black`;circle.style.opacity=`0.2`;circle.style.position=`fixed`;circle.style.left=`${e.x-20}px`;circle.style.top=`${e.y-20}px`;circle.style.zIndex=`99999`;circle.style.pointerEvents=`none`;circle.classList.add('dev-pointer-circle');document.body.appendChild(circle)},moveHighlight=e=>{circle.style.left=`${e.x-20}px`;circle.style.top=`${e.y-20}px`},removeHighlight=()=>{circle.remove()};document.addEventListener('touchstart',addHighlight);document.addEventListener('mousedown',addHighlight);document.addEventListener('touchmove',moveHighlight);document.addEventListener('mousemove',moveHighlight);document.addEventListener('touchend',removeHighlight);document.addEventListener('mouseup',removeHighlight)}}},function(module,__webpack_exports__){'use strict';function showModeEl(modeEl,ally){const toolbarEl=modeEl.shadowRoot.querySelector('.prediction-toolbar');modeEl.style.display='flex';modeEl.style.position='fixed';modeEl.classList.add('animate-in');ally.disable(toolbarEl);modeEl.setDrawingAreaSize()}function hideModeEl(gawAppEl,tableEl,modeEl,ally){const toolbarEl=modeEl.shadowRoot.querySelector('.prediction-toolbar'),bodyEl=modeEl.shadowRoot.querySelector('.prediction-drawing-wrapper');if('graph_1-table'===gawAppEl.currentView){tableEl.style.removeProperty('display')}modeEl.classList.remove('animate-in');toolbarEl.classList.add('animate-out');toolbarEl.addEventListener('animationend',function(){toolbarEl.classList.remove('animate-out');modeEl.style.removeProperty('display');modeEl.style.removeProperty('top');modeEl.style.removeProperty('position');bodyEl.classList.remove('fade-out');ally.disengage()})}function openMode(gawAppEl,graphEl,graphContainerEl,tableEl,ally,redrawGraph,clearAnimation){const graphToolsBtnEl=graphEl.shadowRoot.querySelector('#graph_tools_btn'),graphDivEl=graphEl.shadowRoot.querySelector('.graph-wrapper'),modeEl=graphEl.querySelector('vst-core-graph-predictions');graphToolsBtnEl.style.display='none';if('graph_1'===gawAppEl.currentView){showModeEl(modeEl,ally);return}const outerGraphElRect=graphEl.getBoundingClientRect(),gawAppElRect=gawAppEl.getBoundingClientRect(),graphDivElRect=graphDivEl.getBoundingClientRect();let graphContainerElRect=graphContainerEl.getBoundingClientRect(),zIndex='200';if(window.CSS.supports('--test-var',0)){const styles=getComputedStyle(document.documentElement);zIndex=(styles.getPropertyValue('--z-index-popover')+'').trim()}graphEl.style.maxHeight=`${outerGraphElRect.height}px`;graphEl.style.minHeight=`${outerGraphElRect.height}px`;graphDivEl.style.top=`${graphDivElRect.top}px`;graphDivEl.style.height=`${graphDivElRect.height}px`;graphDivEl.style.width=`${graphDivElRect.width}px`;graphDivEl.style.position='fixed';graphDivEl.style.zIndex=zIndex-1;graphDivEl.style.transition='all .4s cubic-bezier(.4, 0, .2, 1)';const graphLayout=gawAppEl.currentView;if('graph_1-table'===graphLayout){tableEl.style.display='none';graphContainerElRect=graphContainerEl.getBoundingClientRect()}let transformOrigin='left top';if('graph_2'===graphLayout){if('graph_1'===graphEl.id){transformOrigin='left top'}else if('graph_2'===graphEl.id){transformOrigin='left bottom'}}else if('graph_3'===graphLayout){if('graph_1'===graphEl.id){transformOrigin='left top'}else if('graph_2'===graphEl.id){transformOrigin='left center'}else if('graph_3'===graphEl.id){transformOrigin='left bottom'}}graphEl.getBoundingClientRect();graphDivEl.style.transformOrigin=transformOrigin;graphDivEl.style.height=`calc(100% - ${gawAppElRect.height-graphContainerElRect.height}px)`;graphDivEl.style.width='100%';graphDivEl.style.top=`${graphContainerElRect.top}px`;redrawGraph(graphEl.graphInstance);let transitionDone=!1;graphDivEl.addEventListener('transitionend',()=>{if(!transitionDone){transitionDone=!0;graphEl.graphInstance.resize();showModeEl(modeEl,ally);clearAnimation()}})}function closeMode(gawAppEl,graphEl,tableEl,ally,viewManager,redrawGraph,clearAnimation){const graphToolsBtnEl=graphEl.shadowRoot.querySelector('#graph_tools_btn'),graphDivEl=graphEl.shadowRoot.querySelector('.graph-wrapper'),modeEl=graphEl.querySelector('vst-core-graph-predictions');hideModeEl(gawAppEl,tableEl,modeEl,ally);graphToolsBtnEl.style.removeProperty('display');if('graph_1'===gawAppEl.currentView){return}let transitionDone=!1;const afterTransition=()=>{if(!transitionDone){graphDivEl.style.removeProperty('transition');graphDivEl.style.removeProperty('transform');graphDivEl.style.removeProperty('transform-origin');graphDivEl.style.removeProperty('z-index');graphDivEl.style.removeProperty('top');graphDivEl.style.removeProperty('height');graphDivEl.style.removeProperty('width');graphDivEl.style.removeProperty('position');graphEl.style.removeProperty('max-height');graphEl.style.removeProperty('min-height');graphEl.graphInstance.resize();clearAnimation();transitionDone=!0;gawAppEl.afterViewChange=null}};gawAppEl.afterViewChange=afterTransition;graphDivEl.addEventListener('transitionend',afterTransition);graphDivEl.getBoundingClientRect();viewManager.closeGraphMode();const outerGraphElRect=graphEl.getBoundingClientRect();graphDivEl.style.transformOrigin='top left';graphDivEl.style.height=`${outerGraphElRect.height}px`;graphDivEl.style.width=`${outerGraphElRect.width}px`;graphDivEl.style.top=`${outerGraphElRect.top}px`;redrawGraph(graphEl.graphInstance)}__webpack_exports__.a=(gawAppEl,mainContentEl,ally,viewManager)=>{const graphContainerEl=mainContentEl.shadowRoot.querySelector('#graph_group'),tableEl=mainContentEl.shadowRoot.querySelector('.table-meter-wrapper');let reqAnimFrame;function redrawGraph(graphInstance){graphInstance.resize();reqAnimFrame=requestAnimationFrame(redrawGraph.bind(void 0,graphInstance))}function clearAnimation(){cancelAnimationFrame(reqAnimFrame)}return{open:graphEl=>{openMode(gawAppEl,graphEl,graphContainerEl,tableEl,ally,redrawGraph,clearAnimation)},close:graphEl=>{closeMode(gawAppEl,graphEl,tableEl,ally,viewManager,redrawGraph,clearAnimation)}}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=(services,parentElement,customElements=window.customElements)=>{const _services=Object.freeze(services);return customElements.whenDefined(parentElement.localName).then(()=>[parentElement,...parentElement.shadowRoot.querySelectorAll('*')]).then(elements=>elements.filter(element=>customElements.get(element.localName))).then(targets=>targets.forEach(target=>{target.services=_services})).catch(err=>{throw new Error(`Error providing services to ${parentElement.localName}: ${err}`)})}},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_exports__.a=function(store){if(!store){throw new TypeError('PolymerRedux: expecting a redux store.')}else if(!['getState','dispatch','subscribe'].every(k=>'function'===typeof store[k])){throw new TypeError('PolymerRedux: invalid store object.')}const subscribers=new Map,bind=(element,properties)=>{const bindings=Object.keys(properties).filter(name=>{const property=properties[name];if(Object.prototype.hasOwnProperty.call(property,'statePath')){if(!property.readOnly&&property.notify){__WEBPACK_IMPORTED_MODULE_1_global_console___default.a.warn(`PolymerRedux: <${element.constructor.is}>.${name} has "notify" enabled, two-way bindings goes against Redux's paradigm`)}return!0}return!1}),update=state=>{let propertiesChanged=!1;bindings.forEach(name=>{const{statePath}=properties[name],value='function'===typeof statePath?statePath.call(element,state):Polymer.Path.get(state,statePath),changed=element._setPendingPropertyOrPath(name,value,!0);propertiesChanged=propertiesChanged||changed});if(propertiesChanged){element._invalidateProperties()}},unsubscribe=store.subscribe(()=>{const detail=store.getState();update(detail);element.dispatchEvent(new CustomEvent('state-changed',{detail}))});subscribers.set(element,unsubscribe);return update(store.getState())},unbind=element=>{const off=subscribers.get(element);if('function'===typeof off){off()}},collect=(what,which)=>{let res={};while(what){res=Object.assign({},what[which],res);what=Object.getPrototypeOf(what)}return res};return parent=>class extends parent{constructor(){super();const actions=collect(this.constructor,'actions');Object.defineProperty(this,'_reduxActions',{configurable:!0,value:actions})}connectedCallback(){super.connectedCallback();const properties=collect(this.constructor,'properties');bind(this,properties)}disconnectedCallback(){super.disconnectedCallback();unbind(this)}dispatch(...args){const actions=this._reduxActions;let[action]=args;if('string'===typeof action){if('function'!==typeof actions[action]){throw new TypeError(`PolymerRedux: <${this.constructor.is}> invalid action creator "${action}"`)}action=actions[action](...args.slice(1))}if('function'===typeof action){const originalAction=action;action=(...args)=>{args.splice(0,1,(...args)=>{return this.dispatch(...args)});return originalAction(...args)};Object.keys(originalAction).forEach(prop=>{action[prop]=originalAction[prop]})}return store.dispatch(action)}getState(){return store.getState()}}};var __WEBPACK_IMPORTED_MODULE_0_global_window__=__webpack_require__(410),__WEBPACK_IMPORTED_MODULE_0_global_window___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_global_window__),__WEBPACK_IMPORTED_MODULE_1_global_console__=__webpack_require__(411),__WEBPACK_IMPORTED_MODULE_1_global_console___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_global_console__);const{CustomEvent,Polymer}=__WEBPACK_IMPORTED_MODULE_0_global_window___default.a},function(module){var win;if('undefined'!==typeof window){win=window}else if('undefined'!==typeof global){win=global}else if('undefined'!==typeof self){win=self}else{win={}}module.exports=win},function(module){module.exports=console},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_redux__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_1_redux_batched_actions__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_1_redux_batched_actions___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_redux_batched_actions__),__WEBPACK_IMPORTED_MODULE_2_redux_devtools_extension_developmentOnly__=__webpack_require__(427),__WEBPACK_IMPORTED_MODULE_2_redux_devtools_extension_developmentOnly___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_redux_devtools_extension_developmentOnly__),__WEBPACK_IMPORTED_MODULE_3_redux_thunk__=__webpack_require__(428),__WEBPACK_IMPORTED_MODULE_3_redux_thunk___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_redux_thunk__),__WEBPACK_IMPORTED_MODULE_4__middleware__=__webpack_require__(85);const middleware=[__WEBPACK_IMPORTED_MODULE_3_redux_thunk___default.a,__WEBPACK_IMPORTED_MODULE_4__middleware__.b];__webpack_exports__.a=(rootReducer,preloadedState)=>Object(__WEBPACK_IMPORTED_MODULE_0_redux__.createStore)(Object(__WEBPACK_IMPORTED_MODULE_1_redux_batched_actions__.enableBatching)(rootReducer),preloadedState,Object(__WEBPACK_IMPORTED_MODULE_2_redux_devtools_extension_developmentOnly__.composeWithDevTools)(Object(__WEBPACK_IMPORTED_MODULE_0_redux__.applyMiddleware)(...middleware)))},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__Symbol_js__=__webpack_require__(81),__WEBPACK_IMPORTED_MODULE_1__getRawTag_js__=__webpack_require__(416),__WEBPACK_IMPORTED_MODULE_2__objectToString_js__=__webpack_require__(417),symToStringTag=__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a?__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a.toStringTag:void 0;__webpack_exports__.a=function(value){if(null==value){return value===void 0?'[object Undefined]':'[object Null]'}return symToStringTag&&symToStringTag in Object(value)?Object(__WEBPACK_IMPORTED_MODULE_1__getRawTag_js__.a)(value):Object(__WEBPACK_IMPORTED_MODULE_2__objectToString_js__.a)(value)}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__freeGlobal_js__=__webpack_require__(415),freeSelf='object'==typeof self&&self&&self.Object===Object&&self,root=__WEBPACK_IMPORTED_MODULE_0__freeGlobal_js__.a||freeSelf||Function('return this')();__webpack_exports__.a=root},function(module,__webpack_exports__){'use strict';var freeGlobal='object'==typeof global&&global&&global.Object===Object&&global;__webpack_exports__.a=freeGlobal},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__Symbol_js__=__webpack_require__(81),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a?__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a.toStringTag:void 0;__webpack_exports__.a=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0}catch(e){}var result=nativeObjectToString.call(value);if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}return result}},function(module,__webpack_exports__){'use strict';var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;__webpack_exports__.a=function(value){return nativeObjectToString.call(value)}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0__overArg_js__=__webpack_require__(419),getPrototype=Object(__WEBPACK_IMPORTED_MODULE_0__overArg_js__.a)(Object.getPrototypeOf,Object);__webpack_exports__.a=getPrototype},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(value){return null!=value&&'object'==typeof value}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(422)},function(module,exports,__webpack_require__){'use strict';(function(module){Object.defineProperty(exports,'__esModule',{value:!0});var _ponyfill=__webpack_require__(423),_ponyfill2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ponyfill);var root;if('undefined'!==typeof self){root=self}else if('undefined'!==typeof window){root=window}else if('undefined'!==typeof global){root=global}else{root=module}var result=(0,_ponyfill2['default'])(root);exports['default']=result}).call(exports,__webpack_require__(31)(module))},function(module,exports){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});exports['default']=function(root){var result,_Symbol=root.Symbol;if('function'===typeof _Symbol){if(_Symbol.observable){result=_Symbol.observable}else{result=_Symbol('observable');_Symbol.observable=result}}else{result='@@observable'}return result}},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_exports__.a=function(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0,key;i<reducerKeys.length;i++){key=reducerKeys[i];if('production'!==process.env.NODE_ENV){if('undefined'===typeof reducers[key]){Object(__WEBPACK_IMPORTED_MODULE_2__utils_warning__.a)('No reducer provided for key "'+key+'"')}}if('function'===typeof reducers[key]){finalReducers[key]=reducers[key]}}var finalReducerKeys=Object.keys(finalReducers),unexpectedKeyCache;if('production'!==process.env.NODE_ENV){unexpectedKeyCache={}}var shapeAssertionError;try{assertReducerShape(finalReducers)}catch(e){shapeAssertionError=e}return function(){var state=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},action=arguments[1];if(shapeAssertionError){throw shapeAssertionError}if('production'!==process.env.NODE_ENV){var warningMessage=getUnexpectedStateShapeWarningMessage(state,finalReducers,action,unexpectedKeyCache);if(warningMessage){Object(__WEBPACK_IMPORTED_MODULE_2__utils_warning__.a)(warningMessage)}}for(var hasChanged=!1,nextState={},_i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i],reducer=finalReducers[_key],previousStateForKey=state[_key],nextStateForKey=reducer(previousStateForKey,action);if('undefined'===typeof nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey;hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}};var __WEBPACK_IMPORTED_MODULE_0__createStore__=__webpack_require__(79),__WEBPACK_IMPORTED_MODULE_1_lodash_es_isPlainObject__=__webpack_require__(80),__WEBPACK_IMPORTED_MODULE_2__utils_warning__=__webpack_require__(82);function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type,actionName=actionType&&'"'+actionType.toString()+'"'||'an action';return'Given action '+actionName+', reducer "'+key+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function getUnexpectedStateShapeWarningMessage(inputState,reducers,action,unexpectedKeyCache){var reducerKeys=Object.keys(reducers),argumentName=action&&action.type===__WEBPACK_IMPORTED_MODULE_0__createStore__.a.INIT?'preloadedState argument passed to createStore':'previous state received by the reducer';if(0===reducerKeys.length){return'Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.'}if(!Object(__WEBPACK_IMPORTED_MODULE_1_lodash_es_isPlainObject__.a)(inputState)){return'The '+argumentName+' has unexpected type of "'+{}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"')}var unexpectedKeys=Object.keys(inputState).filter(function(key){return!reducers.hasOwnProperty(key)&&!unexpectedKeyCache[key]});unexpectedKeys.forEach(function(key){unexpectedKeyCache[key]=!0});if(0<unexpectedKeys.length){return'Unexpected '+(1<unexpectedKeys.length?'keys':'key')+' '+('"'+unexpectedKeys.join('", "')+'" found in '+argumentName+'. Expected to find one of the known reducer keys instead: ')+('"'+reducerKeys.join('", "')+'". Unexpected keys will be ignored.')}}function assertReducerShape(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key],initialState=reducer(void 0,{type:__WEBPACK_IMPORTED_MODULE_0__createStore__.a.INIT});if('undefined'===typeof initialState){throw new Error('Reducer "'+key+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don\'t want to set a value for this reducer, you can use null instead of undefined.')}var type='@@redux/PROBE_UNKNOWN_ACTION_'+Math.random().toString(36).substring(7).split('').join('.');if('undefined'===typeof reducer(void 0,{type:type})){throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+('Don\'t try to handle '+__WEBPACK_IMPORTED_MODULE_0__createStore__.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.'))}})}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=function(actionCreators,dispatch){if('function'===typeof actionCreators){return bindActionCreator(actionCreators,dispatch)}if('object'!==typeof actionCreators||null===actionCreators){throw new Error('bindActionCreators expected an object or a function, instead received '+(null===actionCreators?'null':typeof actionCreators)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}for(var keys=Object.keys(actionCreators),boundActionCreators={},i=0;i<keys.length;i++){var key=keys[i],actionCreator=actionCreators[key];if('function'===typeof actionCreator){boundActionCreators[key]=bindActionCreator(actionCreator,dispatch)}}return boundActionCreators};function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_exports__.a=function(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++){middlewares[_key]=arguments[_key]}return function(createStore){return function(reducer,preloadedState,enhancer){var store=createStore(reducer,preloadedState,enhancer),_dispatch=store.dispatch,chain=[],middlewareAPI={getState:store.getState,dispatch:function(action){return _dispatch(action)}};chain=middlewares.map(function(middleware){return middleware(middlewareAPI)});_dispatch=__WEBPACK_IMPORTED_MODULE_0__compose__.a.apply(void 0,chain)(store.dispatch);return _extends({},store,{dispatch:_dispatch})}}};var __WEBPACK_IMPORTED_MODULE_0__compose__=__webpack_require__(83),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},function(module,exports,__webpack_require__){'use strict';var compose=__webpack_require__(42).compose;exports.__esModule=!0;exports.composeWithDevTools='production'!==process.env.NODE_ENV&&'undefined'!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0===arguments.length)return;if('object'===typeof arguments[0])return compose;return compose.apply(null,arguments)};exports.devToolsEnhancer='production'!==process.env.NODE_ENV&&'undefined'!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(noop){return noop}}},function(module,exports){'use strict';exports.__esModule=!0;function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){if('function'===typeof action){return action(dispatch,getState,extraArgument)}return next(action)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;exports['default']=thunk},function(module,__webpack_exports__){'use strict';var _Mathabs11=Math.abs;const makeScalingModeRangeRestrictor=(getScalingRestrictedRange=>(graphState,ignoreManualMode)=>(updateValue,updateKey)=>{const scalingProp={graphXRange:'base',graphYRange:'left'}[updateKey];if(graphState&&scalingProp){const currentRange=graphState.options[updateKey],scalingMode=graphState.scalingModes[scalingProp];if(currentRange&&scalingMode){return getScalingRestrictedRange(scalingMode,updateValue,currentRange,ignoreManualMode)}}return updateValue})((scalingMode,proposedRange,currentRange,ignoreManualMode)=>{var _Mathsign=Math.sign;const{min,max}=proposedRange;switch(scalingMode){case'manual_scaling':return ignoreManualMode?proposedRange:currentRange;case'show_zero_scaling':if(0<=_Mathsign(min)*_Mathsign(max)){return _Mathabs11(max)>=_Mathabs11(min)?{min:0,max}:{min,max:0}}return proposedRange;default:return proposedRange;}});__webpack_exports__.a=makeScalingModeRangeRestrictor},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_redux__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_1__common_reducers__=__webpack_require__(431);const rootReducer=Object(__WEBPACK_IMPORTED_MODULE_0_redux__.combineReducers)(__WEBPACK_IMPORTED_MODULE_1__common_reducers__);__webpack_exports__.a=rootReducer},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__),__WEBPACK_IMPORTED_MODULE_2__actions__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_3__reducers_graphs__=__webpack_require__(432);__webpack_require__.d(__webpack_exports__,'graphs',function(){return __WEBPACK_IMPORTED_MODULE_3__reducers_graphs__.a});var _extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const defaultSelection={range:void 0,id:'',autoGenerated:!1,permanent:!1,analysisType:'',curveFitType:'',analysisTraceArtifacts:[]},defaultGraphAnalysis={selections:[],annotations:[],examinePosition:{},examineSettings:{}},immutableArrayPush=(obj,arrayParentPath,arrayName,item)=>{return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.set)(obj,arrayParentPath,parent=>{const{[arrayName]:array=[]}=parent;return _extends({},parent,{[arrayName]:[...array,`${item}`]})})},immutableArrayDelete=(baseObj,arrayPath,testFunc)=>{const array=Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.get)(baseObj,arrayPath)||[],index=array.findIndex(testFunc);return-1===index?baseObj:Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__['delete'])(baseObj,`${arrayPath}.${index}`)},immutableArrayMerge=(baseObj,arrayPath,testFunc,mergeObj)=>{const array=Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.get)(baseObj,arrayPath)||[],index=array.findIndex(testFunc);return-1===index?baseObj:Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.merge)(baseObj,`${arrayPath}.${index}`,mergeObj)};__webpack_exports__.analysis=(state={},action)=>{const{meta:{graphId,selectionId}={}}=action;switch(action.type){case __WEBPACK_IMPORTED_MODULE_2__actions__.b:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.merge)(state,graphId,_extends({},defaultGraphAnalysis));case __WEBPACK_IMPORTED_MODULE_2__actions__.h:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.set)(state,`${graphId}.selections`,array=>[...array,`${selectionId}`]);case __WEBPACK_IMPORTED_MODULE_2__actions__.i:return immutableArrayDelete(state,`${graphId}.selections`,item=>`${selectionId}`===item);case __WEBPACK_IMPORTED_MODULE_2__actions__.d:return immutableArrayPush(state,graphId,'annotations',`${action.meta.id}`);case __WEBPACK_IMPORTED_MODULE_2__actions__.e:return immutableArrayDelete(state,`${graphId}.annotations`,item=>`${action.meta.id}`===item);case __WEBPACK_IMPORTED_MODULE_2__actions__.j:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.merge)(state,`${graphId}.examinePosition`,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.k:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.merge)(state,`${graphId}.examineSettings`,action.payload);default:return state;}};__webpack_exports__.selections=(state={},action)=>{const{meta:{selectionId,xColumnId,yColumnId}={}}=action;switch(action.type){case __WEBPACK_IMPORTED_MODULE_2__actions__.h:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.set)(state,selectionId,_extends({},defaultSelection,action.payload));case __WEBPACK_IMPORTED_MODULE_2__actions__.A:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.merge)(state,selectionId,Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep)(action.payload));case __WEBPACK_IMPORTED_MODULE_2__actions__.i:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__['delete'])(state,selectionId,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.c:return immutableArrayMerge(state,`${selectionId}.analysisTraceArtifacts`,item=>item.xid===xColumnId&&item.yid===yColumnId,action.payload);default:return state;}};__webpack_exports__.annotations=(state={},action)=>{const{meta:{id}={}}=action;switch(action.type){case __WEBPACK_IMPORTED_MODULE_2__actions__.d:case __WEBPACK_IMPORTED_MODULE_2__actions__.f:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__.set)(state,id,_extends({},action.payload));case __WEBPACK_IMPORTED_MODULE_2__actions__.e:return Object(__WEBPACK_IMPORTED_MODULE_1_dot_prop_immutable__['delete'])(state,action.meta.id);default:return state;}};__webpack_exports__.accessibility=(state={scale:1},action)=>{switch(action.type){case __WEBPACK_IMPORTED_MODULE_2__actions__.a:return _extends({},state,{scale:action.payload});default:return state;}};__webpack_exports__.isSessionEmpty=(state=!0,action)=>{switch(action.type){case __WEBPACK_IMPORTED_MODULE_2__actions__.z:return action.payload;default:return state;}};__webpack_exports__.popovers=(state=[],action)=>{switch(action.type){case __WEBPACK_IMPORTED_MODULE_2__actions__.B:return[...state,action.meta.id];case __WEBPACK_IMPORTED_MODULE_2__actions__.C:return state.filter(id=>id!==action.meta.id);default:return state;}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__WEBPACK_IMPORTED_MODULE_2__actions__=__webpack_require__(25),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const defaultState={isDrawPredictionsActive:!1,highlightGraphTools:!1,baseColumnId:'',baseUnits:'',autoscalePadding:0.1,options:{title:'',appearance:{lines:!1,points:!0},lineWeight:2,labelSize:0.67,graphXRange:{min:0,max:1},graphYRange:{min:0,max:1}},dataSetIds:[],leftColumnGroupIds:[],scalingModes:{base:'automatic_scaling',left:'automatic_scaling'}};__webpack_exports__.a=(state={},action)=>{const{payload,meta}=action;switch(action.type){case __WEBPACK_IMPORTED_MODULE_2__actions__.s:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.merge)(state,action.meta.id,_extends({},defaultState,{id:action.meta.id}));case __WEBPACK_IMPORTED_MODULE_2__actions__.y:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.graphId}.udmId`,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.x:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.merge)(state,`${action.meta.id}.options`,Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.cloneDeep)(action.payload));case __WEBPACK_IMPORTED_MODULE_2__actions__.g:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${meta.graphId}.scalingModes.${meta.axis}`,payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.t:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.id}.isDrawPredictionsActive`,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.r:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.id}.highlightGraphTools`,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.m:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.id}.baseColumnId`,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.n:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.id}.baseUnits`,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.l:return Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.mapValues)(state,graph=>Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(graph,'autoscalePadding',action.payload));case __WEBPACK_IMPORTED_MODULE_2__actions__.p:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.graphId}.dataSetIds`,Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniq)([...Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.get)(state,`${action.meta.graphId}.dataSetIds`),action.meta.id]));case __WEBPACK_IMPORTED_MODULE_2__actions__.q:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.graphId}.dataSetIds`,state[action.meta.graphId].dataSetIds.filter(dataSetId=>dataSetId!==action.meta.id));case __WEBPACK_IMPORTED_MODULE_2__actions__.v:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.graphId}.leftColumnGroupIds`,Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniq)([...Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.get)(state,`${action.meta.graphId}.leftColumnGroupIds`),action.meta.id]));case __WEBPACK_IMPORTED_MODULE_2__actions__.w:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.graphId}.leftColumnGroupIds`,state[action.meta.graphId].leftColumnGroupIds.filter(groupId=>groupId!==action.meta.id));case __WEBPACK_IMPORTED_MODULE_2__actions__.o:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.graphId}.dataSetIds`,action.payload);case __WEBPACK_IMPORTED_MODULE_2__actions__.u:return Object(__WEBPACK_IMPORTED_MODULE_0_dot_prop_immutable__.set)(state,`${action.meta.graphId}.leftColumnGroupIds`,action.payload);default:return state;}}},function(module,__webpack_exports__){'use strict';__webpack_exports__.a=()=>{return{}}},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__=__webpack_require__(11),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};const GRAPH_COUNT=3,computeGraphsAutoLayout=(dataWorld,sensorWorld,settings)=>{const columns=dataWorld.getColumnsForSet(dataWorld.currentDataSet.id),graphAutoLayouts=[],params=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep)(settings.params),mode=settings.mode,isContinuous=params.continuous,baseColumns=columns.filter(column=>column.prefersBase),timeColumn=baseColumns.find(col=>'time'===col.type);let baseColumn=timeColumn||baseColumns[0];if(!baseColumn){console.warn('No baseColumn in dataset!');baseColumn=columns[0]}const graphXRange={min:0,max:30};let baseColumnId=baseColumn?baseColumn.id:null;if('time-based'===mode&&!isContinuous){graphXRange.max=__WEBPACK_IMPORTED_MODULE_2_corelib_util_formatter__.a.convertTimeUnits(params.duration,'s',params.units)}else if(mode.match('events')){graphXRange.max=1}else if(mode.match('drop-counting')){graphXRange.min=baseColumn.range.min;graphXRange.max=baseColumn.range.max}else if('photogate-timing'===mode){if('motion'===params.subMode){graphXRange.min=0;graphXRange.max=0.25}else if(['gate','pulse'].includes(params.subMode)){graphXRange.min=0;graphXRange.max=5}}columns.forEach(column=>{if('calc'===column.type&&column.replaceDependent&&1===column.group.calcDependentGroups.length&&column.group.calcDependentGroups[0]===baseColumn.groupID){baseColumn=column;baseColumnId=column.id}});function generateGraphObjects(){const connectLines=('time-based'===mode||'full-spectrum'===mode)&&!columns.every(column=>'manual'===column.type||'calc'===column.type);for(let i=graphAutoLayouts.length;i<GRAPH_COUNT;++i){graphAutoLayouts.push({baseColumnId,appearance:{lines:connectLines,points:!connectLines},graphXRange,graphYRange:{min:NaN,max:NaN},leftUnits:[],leftColumnIds:[]})}}const _isMotionDetectorGroup=group=>{const dependentGroup=group&&group.calcDependentGroups.length?dataWorld.getColumnGroup(group.calcDependentGroups[0]):null;return group&&group.sensorId&&sensorWorld.isMotionDetector(group.sensorId)||dependentGroup&&dependentGroup.sensorId&&sensorWorld.isMotionDetector(dependentGroup.sensorId)},_isRotationGroup=group=>{const dependentGroup=group&&group.calcDependentGroups.length?dataWorld.getColumnGroup(group.calcDependentGroups[0]):null;return group&&group.sensorId&&sensorWorld.isRotationSensor(group.sensorId)||dependentGroup&&dependentGroup.sensorId&&sensorWorld.isRotationSensor(dependentGroup.sensorId)};function setGraphRanges(graph,column){if(isNaN(graph.graphYRange.min)){graph.graphYRange.min=column.range.min}else{graph.graphYRange.min=Math.min(graph.graphYRange.min,column.range.min)}if(isNaN(graph.graphYRange.max)){graph.graphYRange.max=column.range.max}else{graph.graphYRange.max=Math.max(graph.graphYRange.max,column.range.max)}}function matchColumnToGraph(column){const columnGroup=column.group;if(graphAutoLayouts.length<GRAPH_COUNT){generateGraphObjects()}let uniqueUnits={};if(sensorWorld.sensorCollection){uniqueUnits=sensorWorld.sensorCollection.groupBy('units')}const unitCount=Object.keys(uniqueUnits).length;for(let i=0;i<graphAutoLayouts.length;++i){const graph=graphAutoLayouts[i],graphUnits=graph.leftUnits;if(column.id!==baseColumnId&&(i===graphAutoLayouts.length-1||!graphUnits.length||graphUnits.includes(columnGroup.units))){const dependentGroup=columnGroup&&columnGroup.calcDependentGroups.length?dataWorld.getColumnGroup(columnGroup.calcDependentGroups[0]):null,isMD=_isMotionDetectorGroup(dependentGroup),isRotation=_isRotationGroup(dependentGroup);let velCalcCol=!1,accCalcCol=!1;if(isMD){velCalcCol='calc'===column.type&&column.sensorMapId.startsWith('CC_MDV');accCalcCol='calc'===column.type&&column.sensorMapId.startsWith('CC_MDA')}else if(isRotation){velCalcCol='calc'===column.type&&column.sensorMapId.endsWith('MV');accCalcCol='calc'===column.type&&column.sensorMapId.endsWith('MA')}let addToGraph=!1;if(accCalcCol&&1===unitCount||velCalcCol&&3>unitCount){addToGraph=!0}else if(column.plotted&&!velCalcCol&&!accCalcCol){addToGraph=!0}if(addToGraph){graphUnits.push(columnGroup.units);graph.leftColumnIds.push(column.id);setGraphRanges(graph,column)}break}}}columns.sort((colA,colB)=>{const a=_isMotionDetectorGroup(colA.group)||_isRotationGroup(colA.group),b=_isMotionDetectorGroup(colB.group)||_isRotationGroup(colB.group);if(a===b){return 0}return a?1:-1}).forEach(column=>{matchColumnToGraph(column)});return graphAutoLayouts};__webpack_exports__.a=services=>{const dataWorld=services.get('data-world'),sensorWorld=services.get('sensor-world'),dataCollection=services.get('data-collection'),eventBinder=new __WEBPACK_IMPORTED_MODULE_1_corelib_util_EventBinder__.a;let settings,queueTimer=null;const defaultGraphUpdates={columns:!0,ranges:!0,appearance:!0};let graphUpdates=_extends({},defaultGraphUpdates);const _queueUpdateLayoutPrefs=(queueGraphUpdates,queueMeters,executeNow)=>{graphUpdates=Object.assign(graphUpdates,queueGraphUpdates);function setConfig(){if(dataWorld.currentDataSet&&settings){computeGraphsAutoLayout(dataWorld,sensorWorld,settings);graphUpdates=Object.assign(graphUpdates,defaultGraphUpdates)}}if(queueTimer){clearTimeout(queueTimer);queueTimer=null}if(executeNow){setConfig()}else{queueTimer=setTimeout(()=>{setConfig();queueTimer=null},300)}},_queueUpdateGraphsPrefsIfSessionEmpty=()=>{if(dataWorld.isSessionEmpty){_queueUpdateLayoutPrefs({columns:!1},!1)}},_resetTimeUnits=()=>{if(dataWorld.isSessionEmpty&&'s'!==dataCollection.timeUnits){dataCollection.timeUnits='s'}},dataCollectionParams=dataCollection.getCollectionParams();settings=Object.assign({},dataCollectionParams);_queueUpdateLayoutPrefs(defaultGraphUpdates,!0);eventBinder.on(dataWorld,'dataset-added',dataSet=>{if(!dataSet.type||'regular'===dataSet.type){_queueUpdateLayoutPrefs(defaultGraphUpdates,!1)}});eventBinder.on(dataWorld,'column-added',column=>{const dataSet=dataWorld.getDataSetByID(column.setID);if(!dataSet.type||'regular'===dataSet.type){_queueUpdateLayoutPrefs(defaultGraphUpdates,!0);eventBinder.on(column,'range-changed',_queueUpdateGraphsPrefsIfSessionEmpty)}});eventBinder.on(dataWorld,'column-removed',column=>{_queueUpdateLayoutPrefs(defaultGraphUpdates,!0);eventBinder.off(column,'range-changed',_queueUpdateGraphsPrefsIfSessionEmpty)});eventBinder.on(sensorWorld,'sensor-added',()=>{_queueUpdateLayoutPrefs({},!0);_resetTimeUnits()});eventBinder.on(sensorWorld,'sensor-removed',()=>{_queueUpdateLayoutPrefs({},!0);_resetTimeUnits()});eventBinder.on(dataCollection,'collection-params-changed',params=>{settings=Object.assign(settings,params);_queueUpdateLayoutPrefs(defaultGraphUpdates,!1,!0)});eventBinder.on(dataCollection,'collection-mode-changed',()=>{_queueUpdateLayoutPrefs(defaultGraphUpdates,!1)})}},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ga-main-content> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}vst-ga-graph-container{-webkit-box-flex:1;-ms-flex:1;flex:1;background:#fff;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left);padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}vst-core-table{display:block;-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;overflow:hidden}vst-core-content-layout{-webkit-box-flex:1;-ms-flex:1;flex:1}vst-core-content-layout[current-view$="-table"],vst-core-content-layout[current-view$="-table-meter"]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media all and (orientation:landscape){vst-core-content-layout[current-view$="-table"],vst-core-content-layout[current-view$="-table-meter"]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}vst-core-content-layout[current-view$="-table"] vst-ga-graph-container,vst-core-content-layout[current-view$="-table-meter"] vst-ga-graph-container{padding-right:0}}vst-core-content-layout[current-view$="-table"] .table-meter-wrapper,vst-core-content-layout[current-view$="-table-meter"] .table-meter-wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left);padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}@media all and (orientation:landscape){vst-core-content-layout[current-view$="-table"] .table-meter-wrapper,vst-core-content-layout[current-view$="-table-meter"] .table-meter-wrapper{max-width:17.875rem;padding-left:0}}vst-core-content-layout[current-view$="-table-meter"] vst-core-table{-webkit-box-flex:1;-ms-flex:1;flex:1}vst-core-content-layout[current-view$="-table-meter"] vst-core-meter-container{display:none}@media all and (orientation:landscape){vst-core-content-layout[current-view$="-table-meter"] vst-core-meter-container{display:block;max-height:50%}}vst-core-content-layout[current-view=table] vst-ga-graph-container{-webkit-box-flex:0;-ms-flex:0;flex:0}vst-core-content-layout[current-view=table] .table-meter-wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1}vst-core-content-layout[current-view=table] vst-core-table{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}vst-core-content-layout[current-view=meter] vst-ga-graph-container{-webkit-box-flex:0;-ms-flex:0;flex:0}.table-meter-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}vst-core-meter-container{width:100%}</style> <vst-core-content-layout current-view$=[[currentView]]> <vst-ga-graph-container id=graph_group visible-graphs=[[visibleGraphs]] on-column-unit-change=updateColumnUnit on-add-graph-match=disablePrefsChangeView on-range-change=updateGraphOptionsAll> <vst-core-graph id=graph_1 slot=graphs hidden="" controller-type=GraphController highlight-graph-tools=[[graphs.graph_1.highlightGraphTools]] data-set-ids=[[graphs.graph_1.dataSetIds]] base-column-id=[[graphs.graph_1.baseColumnId]] left-column-group-ids=[[graphs.graph_1.leftColumnGroupIds]] base-units=[[graphs.graph_1.baseUnits]] autoscale-padding=[[graphs.graph_1.autoscalePadding]] options=[[graphs.graph_1.options]] axis-scaling-modes=[[graphs.graph_1.scalingModes]] accessibility-scale=[[accessibilityScale]] selections-by-id=[[selectionsByGraphId.graph_1]] on-graph-base-column-id-update=updateGraphBaseColumnId on-add-prediction-selection=openDrawPredictions on-graph-entity-options-update=updateGraphEntityOptions on-annotation-addition=addAnnotation on-analysis-cleanup=cleanUpAnalysis on-udm-id-set=updateGraphUdmId on-options-change=updateGraphOptions on-user-action=userActedOnGraph on-selection-created=updateSelectionCreated on-selection-deleted=updateSelectionDeleted on-selection-modified=updateSelectionModified on-analysis-trace-updated=updateAnalysisTrace on-data-set-id-added=addDataSetId on-data-set-id-removed=removeDataSetId on-left-column-group-id-added=addLeftColumnGroupId on-left-column-group-id-removed=removeLeftColumnGroupId on-column-groups-data-sets-updated=updateSetAndGroupIds on-axis-scaling-mode-changed=updateAxisScalingMode on-automatic-autoscale=updateAutomaticAutoscale on-user-requested-autoscale=updateUserAutoscale> <vst-core-graph-analysis slot=analysis controller-type=AnalysisController graph-id=graph_1 examine-pin=[[examinePins.graph_1]] annotations=[[annotations.graph_1]] on-examine-positioning-changed=updateExaminePinPosition on-examine-settings-changed=updateExaminePinSettings on-delete-temp-selection=updateDeleteTempSelection on-new-selection-gesture=updateNewSelectionGesture on-annotation-update=updateAnnotation on-annotation-removal=removeAnnotation> </vst-core-graph-analysis> <vst-core-graph-predictions slot=predictions controller-type=PredictionController graph-id=graph_1 examine-pin=[[examinePins.graph_1]] graph-mode-transition=[[graphModeTransition]] is-active=[[graphs.graph_1.isDrawPredictionsActive]] on-examine-positioning-changed=updateExaminePinPosition on-open-predictions=openDrawPredictions on-close-predictions=closeDrawPredictions> </vst-core-graph-predictions> </vst-core-graph> <vst-core-graph id=graph_2 slot=graphs hidden="" controller-type=GraphController highlight-graph-tools=[[graphs.graph_2.highlightGraphTools]] data-set-ids=[[graphs.graph_2.dataSetIds]] base-column-id=[[graphs.graph_2.baseColumnId]] left-column-group-ids=[[graphs.graph_2.leftColumnGroupIds]] base-units=[[graphs.graph_2.baseUnits]] autoscale-padding=[[graphs.graph_2.autoscalePadding]] options=[[graphs.graph_2.options]] axis-scaling-modes=[[graphs.graph_2.scalingModes]] accessibility-scale=[[accessibilityScale]] selections-by-id=[[selectionsByGraphId.graph_2]] on-graph-base-column-id-update=updateGraphBaseColumnId on-add-prediction-selection=openDrawPredictions on-temp-selection-init=initTempSelection on-graph-entity-options-update=updateGraphEntityOptions on-annotation-addition=addAnnotation on-analysis-cleanup=cleanUpAnalysis on-udm-id-set=updateGraphUdmId on-options-change=updateGraphOptions on-user-action=userActedOnGraph on-selection-created=updateSelectionCreated on-selection-deleted=updateSelectionDeleted on-selection-modified=updateSelectionModified on-analysis-trace-updated=updateAnalysisTrace on-data-set-id-added=addDataSetId on-data-set-id-removed=removeDataSetId on-left-column-group-id-added=addLeftColumnGroupId on-left-column-group-id-removed=removeLeftColumnGroupId on-column-groups-data-sets-updated=updateSetAndGroupIds on-axis-scaling-mode-changed=updateAxisScalingMode on-automatic-autoscale=updateAutomaticAutoscale on-user-requested-autoscale=updateUserAutoscale> <vst-core-graph-analysis slot=analysis controller-type=AnalysisController graph-id=graph_2 examine-pin=[[examinePins.graph_2]] annotations=[[annotations.graph_2]] on-examine-positioning-changed=updateExaminePinPosition on-examine-settings-changed=updateExaminePinSettings on-delete-temp-selection=updateDeleteTempSelection on-new-selection-gesture=updateNewSelectionGesture on-annotation-update=updateAnnotation on-annotation-removal=removeAnnotation> </vst-core-graph-analysis> <vst-core-graph-predictions slot=predictions controller-type=PredictionController graph-id=graph_2 examine-pin=[[examinePins.graph_2]] graph-mode-transition=[[graphModeTransition]] is-active=[[graphs.graph_2.isDrawPredictionsActive]] on-examine-positioning-changed=updateExaminePinPosition on-open-predictions=openDrawPredictions on-close-predictions=closeDrawPredictions> </vst-core-graph-predictions></vst-core-graph> <vst-core-graph id=graph_3 slot=graphs hidden="" controller-type=GraphController highlight-graph-tools=[[graphs.graph_3.highlightGraphTools]] data-set-ids=[[graphs.graph_3.dataSetIds]] base-column-id=[[graphs.graph_3.baseColumnId]] left-column-group-ids=[[graphs.graph_3.leftColumnGroupIds]] base-units=[[graphs.graph_3.baseUnits]] autoscale-padding=[[graphs.graph_3.autoscalePadding]] options=[[graphs.graph_3.options]] axis-scaling-modes=[[graphs.graph_3.scalingModes]] accessibility-scale=[[accessibilityScale]] selections-by-id=[[selectionsByGraphId.graph_3]] on-add-prediction-selection=openDrawPredictions on-graph-base-column-id-update=updateGraphBaseColumnId on-temp-selection-init=initTempSelection on-graph-entity-options-update=updateGraphEntityOptions on-annotation-addition=addAnnotation on-analysis-cleanup=cleanUpAnalysis on-udm-id-set=updateGraphUdmId on-options-change=updateGraphOptions on-user-action=userActedOnGraph on-selection-created=updateSelectionCreated on-selection-deleted=updateSelectionDeleted on-selection-modified=updateSelectionModified on-analysis-trace-updated=updateAnalysisTrace on-data-set-id-added=addDataSetId on-data-set-id-removed=removeDataSetId on-left-column-group-id-added=addLeftColumnGroupId on-left-column-group-id-removed=removeLeftColumnGroupId on-column-groups-data-sets-updated=updateSetAndGroupIds on-axis-scaling-mode-changed=updateAxisScalingMode on-automatic-autoscale=updateAutomaticAutoscale on-user-requested-autoscale=updateUserAutoscale> <vst-core-graph-analysis slot=analysis controller-type=AnalysisController graph-id=graph_3 examine-pin=[[examinePins.graph_3]] annotations=[[annotations.graph_3]] on-examine-positioning-changed=updateExaminePinPosition on-examine-settings-changed=updateExaminePinSettings on-delete-temp-selection=updateDeleteTempSelection on-new-selection-gesture=updateNewSelectionGesture on-annotation-update=updateAnnotation on-annotation-removal=removeAnnotation> </vst-core-graph-analysis> <vst-core-graph-predictions slot=predictions controller-type=PredictionController graph-id=graph_3 examine-pin=[[examinePins.graph_3]] graph-mode-transition=[[graphModeTransition]] is-active=[[graphs.graph_3.isDrawPredictionsActive]] on-examine-positioning-changed=updateExaminePinPosition on-open-predictions=openPredictions on-close-predictions=closeDrawPredictions> </vst-core-graph-predictions></vst-core-graph> </vst-ga-graph-container> <div class=table-meter-wrapper> <vst-core-table hidden="" controller-type=TableController data-category=table on-row-clicked=updateExamineOnRowClicked examine-pin-index=[[tableExamineIndex]]> </vst-core-table> <vst-core-meter-container hidden="" metersize$=[[metersize]] controller-type=MeterContainerController></vst-core-meter-container> </div> </vst-core-content-layout> </template> </dom-module>');__webpack_require__(436)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_reselect__=__webpack_require__(437),__WEBPACK_IMPORTED_MODULE_1_reselect___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_reselect__),__WEBPACK_IMPORTED_MODULE_2_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3_stores_ga_configureStore__=__webpack_require__(78),__WEBPACK_IMPORTED_MODULE_4_redux_batched_actions__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_4_redux_batched_actions___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_redux_batched_actions__),__WEBPACK_IMPORTED_MODULE_5_corelib_util_RenderStatus__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_6_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_7_corelib_util_traceColors__=__webpack_require__(438),__WEBPACK_IMPORTED_MODULE_8_corelib_dataworld_GraphPrefsManager__=__webpack_require__(439),__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__=__webpack_require__(87),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(0<=keys.indexOf(i))continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}const annotationsByAnalysis=Object(__WEBPACK_IMPORTED_MODULE_1_reselect__.createSelector)(state=>state.annotations,state=>state.analysis,(annotations,analyses)=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(analyses,analysis=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.pick)(annotations,analysis.annotations))),examinePins=Object(__WEBPACK_IMPORTED_MODULE_1_reselect__.createSelector)(state=>state.analysis,analyses=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(analyses,analysis=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.pick)(analysis,['examinePosition','examineSettings']))),selectionsByGraphId=Object(__WEBPACK_IMPORTED_MODULE_1_reselect__.createSelector)(state=>state.analysis,state=>state.selections,(analyses,selections)=>{const _selections=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(selections,selection=>_extends({},selection,{analysisTraceArtifacts:selection.analysisTraceArtifacts.map(artifact=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.omit)(artifact,['udmId','coeffs','rmse','correlation']))}));return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(analyses,analysis=>Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.pick)(_selections,analysis.selections))});class VstGaMainContent extends Polymer.Element{static get is(){return'vst-ga-main-content'}static get properties(){return{currentView:String,metersize:String,graphModeTransition:Object,graphs:{type:Object,statePath:'graphs'},accessibilityScale:{type:Number,statePath:'accessibility.scale'},examinePins:{type:Object,statePath:examinePins},annotations:{type:Object,statePath:annotationsByAnalysis},tableExamineIndex:{type:Number,statePath({analysis:{graph_1:{examinePosition={}}={}}={}}){const{graphComponents:[graph={}]=[]}=this,{closestXPt,isGestureFinished,examineHidden}=examinePosition,baseColumn=graph&&graph.getBaseColumn();if(examineHidden||!this.synchronizeExaminePinAndTable()){return-1}else if(isGestureFinished&&baseColumn){return baseColumn.values.findIndex(value=>value===closestXPt)}return this.tableExamineIndex}},selectionsByGraphId:{type:Object,statePath:selectionsByGraphId}}}connectedCallback(){super.connectedCallback();const eventBinder=new __WEBPACK_IMPORTED_MODULE_6_corelib_util_EventBinder__.a,graphs=['graph_1','graph_2','graph_3'].map(id=>this.shadowRoot.querySelector(`vst-core-graph#${id}`)),viewPrefs=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('viewprefs'),prefsManager=new __WEBPACK_IMPORTED_MODULE_8_corelib_dataworld_GraphPrefsManager__.a({graphs,viewPrefs,changeOptions:(id,graphOptions)=>this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.C)(id,graphOptions,'graph-prefs'))}),dataWorld=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('data-world'),sensorWorld=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('sensor-world'),dataCollection=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('data-collection'),listenerConfig=__WEBPACK_IMPORTED_MODULE_8_corelib_dataworld_GraphPrefsManager__.a.serviceListenersConfig;eventBinder.bindListeners(listenerConfig.viewPrefs(prefsManager,viewPrefs));eventBinder.bindListeners(listenerConfig.dataWorld(prefsManager,dataWorld));eventBinder.bindListeners(listenerConfig.dataCollection(prefsManager,dataCollection));eventBinder.on(viewPrefs,'graph-config-changed',this.setGraphsConfig.bind(this));eventBinder.on(dataCollection,'collection-mode-changed',this.onCollectionModeChanged.bind(this));const viewManager=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('view-manager');eventBinder.on(viewManager,'view-changed',this.onViewChanged.bind(this));const accessibilityService=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('accessibility');accessibilityService.on('accessibility-scale-changed',newScale=>{this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.u)(newScale))});(async()=>{await Object(__WEBPACK_IMPORTED_MODULE_5_corelib_util_RenderStatus__.a)();const traceColors=Object(__WEBPACK_IMPORTED_MODULE_7_corelib_util_traceColors__.a)(graphs);eventBinder.on(dataWorld,'session-ended',traceColors.reset)})();eventBinder.on(dataWorld,'after-session-started',()=>prefsManager.syncGraphs());eventBinder.on(dataCollection,'collection-mode-changed',async()=>{await Object(__WEBPACK_IMPORTED_MODULE_5_corelib_util_RenderStatus__.a)();prefsManager.syncGraphs()});['sensor-added','sensor-removed'].forEach(eventName=>{eventBinder.on(sensorWorld,eventName,()=>{if(dataWorld.isSessionEmpty&&'DataCollection'===dataWorld.sessionType){prefsManager.enablePrefs()}})});this.eventBinder=eventBinder;this.prefsManager=prefsManager;this.dataWorld=dataWorld;this.graphComponents=graphs;this.viewPrefs=viewPrefs;this.viewManager=viewManager;this.accessibilityService=accessibilityService}disconnectedCallback(){super.disconnectedCallback();this.eventBinder.unbindAll()}updateGraphBaseColumnId({target:{id},detail:{baseColumnId}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.z)(id,baseColumnId))}openDrawPredictions({detail:{graphEl}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.l)({graphId:graphEl.id}))}closeDrawPredictions({detail:{graphEl}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.i)({graphId:graphEl.id}))}updateGraphEntityOptions({target:{id},detail:{options,entity}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.B)({options,entity,graphId:id}))}updateColumnUnit({detail:columnGroup}){this.graphComponents.forEach(el=>{if(el.graphInstance.baseColumn.groupID===columnGroup.id){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.A)(el.id,columnGroup.units))}})}updateGraphOptionsAll({detail:graphOptions}){Object.keys(graphOptions).forEach(id=>this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.C)(id,graphOptions[id])))}updateGraphOptions({target:{id},detail:graphOptions}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.C)(id,graphOptions))}updateAutomaticAutoscale({target:{id},detail:rangeUpdates}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.f)(id,rangeUpdates))}updateUserAutoscale({target:{id},detail:rangeUpdates}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.F)(id,rangeUpdates))}updateGraphUdmId({target:{id},detail:udmId}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.D)(id,udmId))}updateAxisScalingMode({target:{id:graphId},detail}){Object.entries(detail).forEach(([axis,mode])=>{this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.g)(graphId,axis,mode))})}updateExaminePinPosition({detail:{graphId,positionUpdate}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.x)(graphId,positionUpdate))}updateExaminePinSettings({detail:{graphId,settingsUpdate}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.y)(graphId,settingsUpdate))}updateSelectionCreated({currentTarget:{id:graphId},detail:{initialSelectionUpdate={}}={}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.r)(graphId,initialSelectionUpdate))}updateSelectionDeleted({currentTarget:{id:graphId},detail:{elementId:selectionId}={}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.s)(graphId,selectionId))}updateSelectionModified({currentTarget:{id:graphId},detail:{elementId,selectionId,selectionUpdates={}}={}}){selectionId=selectionId||elementId;this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.t)(graphId,selectionId,selectionUpdates))}updateDeleteTempSelection(event){const graphId=event.composedPath().find(({tagName=''})=>'vst-core-graph'===tagName.toLowerCase()).id;this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.j)(graphId))}updateNewSelectionGesture({detail:{graphId,currentRange:dragRange}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.k)(graphId,dragRange))}updateAnalysisTrace({detail:{selectionId,xColumnId,yColumnId,updates}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.e)(selectionId,xColumnId,yColumnId,updates))}updateExamineOnRowClicked({detail:{rowIndex}}){const graph=this.graphComponents[0],{analysisEl:{examinePin:{examinePosition:{examineHidden=!0}={}}={}}={}}=graph,baseColumn=graph.getBaseColumn();if(!examineHidden&&this.synchronizeExaminePinAndTable()&&baseColumn){if(rowIndex<baseColumn.values.length){const rowValue=baseColumn.values[rowIndex];this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.x)(graph.id,{xPosition:rowValue,closestXPt:rowValue,isGestureFinished:void 0}))}}}userActedOnGraph(){this.prefsManager.disablePrefs()}synchronizeExaminePinAndTable(){const{graphComponents:[graph={}]=[],dataWorld}=this;let returnValue=!0;const defaultBaseColumn=graph.getBaseColumn(),graphDataSetIds=graph.getLeftTraces().map(trace=>trace.yColumn.setID),allGraphBaseColumns=graphDataSetIds.map(setId=>dataWorld.getColumnForSet(defaultBaseColumn,setId)),baseColumnValues=allGraphBaseColumns.map(col=>col.getValues());baseColumnValues.sort((a,b)=>a.length-b.length);const longColumn=baseColumnValues.pop()||[];longColumn.forEach((val,i)=>{const otherColumnVals=baseColumnValues.map(col=>col[i]);otherColumnVals.forEach(otherVal=>{returnValue=returnValue&&!(val&&otherVal&&val!==otherVal)})});return returnValue}addDataSetId({target:{id:graphId},detail:{id}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.b)(id,graphId))}removeDataSetId({target:{id:graphId},detail:{id}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.n)(id,graphId))}addLeftColumnGroupId({target:{id:graphId},detail:{id}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.c)(id,graphId))}removeLeftColumnGroupId({target:{id:graphId},detail:{id}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.o)(id,graphId))}updateSetAndGroupIds({target:{id:graphId},detail:{dataSetIds,groupIds}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4_redux_batched_actions__.batchActions)([Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.w)(dataSetIds,graphId),Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.E)(groupIds,graphId)]))}addAnnotation({target:{id:graphId},detail:props}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.a)({props,graphId}))}removeAnnotation({detail:{id}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.m)(id))}updateAnnotation(_ref){let{detail:{id}}=_ref,updates=_objectWithoutProperties(_ref.detail,['id']);this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.v)({id,updates}))}cleanUpAnalysis({target:{id:graphId}}){this.dispatch(Object(__WEBPACK_IMPORTED_MODULE_9_stores_ga_actions__.h)(graphId))}disablePrefsChangeView(){this.prefsManager.disablePrefs();this.viewManager.changeView('graph_1')}setGraphsConfig(){const{dataWorld,viewManager}=this,view=viewManager.getCurrentView(),graphs=this.viewPrefs.graphs;let numGraphs=0,enabled=!0;function clamp(value,min,max){return Math.max(Math.min(value,max),min)}if('table'!==view&&'meter'!==view&&'graph_1-table'!==view&&'graph_1-table-meter'!==view){graphs.forEach(graph=>{if(enabled){enabled=graph.enabled;if(enabled){++numGraphs}}});numGraphs=clamp(numGraphs,0,3);if(0<numGraphs&&dataWorld.getSession()&&viewManager){viewManager.changeView(`graph_${numGraphs}`)}}}onViewChanged(viewName){if(viewName.match('^graph')){this.visibleGraphs=parseInt(viewName.match(/[1-3]/)[0])}else{this.visibleGraphs=0}}onCollectionModeChanged(modeChanged){return'time-based'===modeChanged.to&&this.setGraphsConfig()}}__webpack_exports__.VstGaMainContent=VstGaMainContent;const ConnectedElement=Object(__WEBPACK_IMPORTED_MODULE_3_stores_ga_configureStore__.a)(VstGaMainContent);customElements.define(ConnectedElement.is,ConnectedElement)},function(module,exports){'use strict';exports.__esModule=!0;exports.defaultMemoize=defaultMemoize;exports.createSelectorCreator=createSelectorCreator;exports.createStructuredSelector=function(selectors){var selectorCreator=1<arguments.length&&arguments[1]!==void 0?arguments[1]:createSelector;if('object'!==typeof selectors){throw new Error('createStructuredSelector expects first argument to be an object where each property is a selector, instead received a '+typeof selectors)}var objectKeys=Object.keys(selectors);return selectorCreator(objectKeys.map(function(key){return selectors[key]}),function(){for(var _len3=arguments.length,values=Array(_len3),_key3=0;_key3<_len3;_key3++){values[_key3]=arguments[_key3]}return values.reduce(function(composition,value,index){composition[objectKeys[index]]=value;return composition},{})})};function defaultEqualityCheck(a,b){return a===b}function areArgumentsShallowlyEqual(equalityCheck,prev,next){if(null===prev||null===next||prev.length!==next.length){return!1}for(var length=prev.length,i=0;i<length;i++){if(!equalityCheck(prev[i],next[i])){return!1}}return!0}function defaultMemoize(func){var equalityCheck=1<arguments.length&&arguments[1]!==void 0?arguments[1]:defaultEqualityCheck,lastArgs=null,lastResult=null;return function(){if(!areArgumentsShallowlyEqual(equalityCheck,lastArgs,arguments)){lastResult=func.apply(null,arguments)}lastArgs=arguments;return lastResult}}function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every(function(dep){return'function'===typeof dep})){var dependencyTypes=dependencies.map(function(dep){return typeof dep}).join(', ');throw new Error('Selector creators expect all input-selectors to be functions, instead received the following types: ['+dependencyTypes+']')}return dependencies}function createSelectorCreator(memoize){for(var _len=arguments.length,memoizeOptions=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++){memoizeOptions[_key-1]=arguments[_key]}return function(){for(var _len2=arguments.length,funcs=Array(_len2),_key2=0;_key2<_len2;_key2++){funcs[_key2]=arguments[_key2]}var recomputations=0,resultFunc=funcs.pop(),dependencies=getDependencies(funcs),memoizedResultFunc=memoize.apply(void 0,[function(){recomputations++;return resultFunc.apply(null,arguments)}].concat(memoizeOptions)),selector=defaultMemoize(function(){for(var params=[],length=dependencies.length,i=0;i<length;i++){params.push(dependencies[i].apply(null,arguments))}return memoizedResultFunc.apply(null,params)});selector.resultFunc=resultFunc;selector.recomputations=function(){return recomputations};selector.resetRecomputations=function(){return recomputations=0};return selector}}var createSelector=exports.createSelector=createSelectorCreator(defaultMemoize)},function(module,__webpack_exports__){'use strict';const TRACE_COLORS=['rgba(216,38,47,1)','rgba(59,139,204,1)','rgba(186,178,30,1)','rgba(51,69,170,1)','rgba(226,96,148,1)','rgba(91,44,99,1)'];__webpack_exports__.a=graphEls=>{let nextColorIndex=0;const getNext=preferredColor=>{const colors=TRACE_COLORS,colorIndex=nextColorIndex;let color=null;const colorAvailable=()=>{const usedColors={};Array.from(graphEls).forEach(graph=>{graph.graphInstance.getLeftTraces().forEach(trace=>{usedColors[trace.getColor()]=!0})});return color=>usedColors[color]===void 0};if(preferredColor&&0<=colors.indexOf(preferredColor)){if(colorAvailable(preferredColor)){color=preferredColor}}if(!color){let i;for(i=0;i<colors.length;++i){color=colors[(colorIndex+i)%colors.length];if(colorAvailable(color)){break}}if(0===i){nextColorIndex++;nextColorIndex%=colors.length}}return color};graphEls.forEach(graphEl=>graphEl.setGetTraceColor(getNext));return{reset:()=>{nextColorIndex=0}}}},function(module,__webpack_exports__,__webpack_require__){'use strict';__webpack_exports__.a=GraphPrefsManager;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__WEBPACK_IMPORTED_MODULE_1_backbone__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1_backbone___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_backbone__),__WEBPACK_IMPORTED_MODULE_2_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__=__webpack_require__(6);function GraphPrefsMapping(graph,changeOptions){this.graph=graph;this.changeOptions=changeOptions.bind(changeOptions,graph.id);this.prefs=null;this.binder=new __WEBPACK_IMPORTED_MODULE_3_corelib_util_EventBinder__.a;this.dataWorld=__WEBPACK_IMPORTED_MODULE_2_corelib_services__.a.get('data-world')}GraphPrefsMapping.prototype.setPrefs=function(prefs){if(prefs&&this.prefs&&prefs.id===this.prefs.id){return}this.binder.unbindAll();this.prefs=prefs;const graph=this.graph,bindPrefs=(event,callback)=>{this.binder.bind(this.prefs,event,callback)};if(this.prefs){bindPrefs('base-column-changed',columnID=>{graph.setBaseColumnID(columnID)});bindPrefs('left-trace-columns-changed',columnIDs=>{const validIds=columnIDs.filter(id=>this.dataWorld.getColumn(id));if(validIds.length){const dataSetIds=[...new Set(validIds.map(id=>this.dataWorld.getColumn(id).setID))],columnGroupIds=[...new Set(validIds.map(id=>this.dataWorld.getColumn(id).group.id))];graph.updateSetsAndGroups(dataSetIds,columnGroupIds)}});bindPrefs('appearance-changed',({lines,points})=>this.changeOptions({appearance:{lines,points}}));bindPrefs('base-range-changed',range=>this.changeOptions({graphXRange:{min:range.min,max:range.max}}));bindPrefs('left-range-changed',range=>this.changeOptions({graphYRange:{min:range.min,max:range.max}}))}this.sync()};GraphPrefsMapping.prototype.sync=function(){const graph=this.graph,prefs=this.prefs;if(this.binder.enabled&&prefs){const xRange=prefs.baseRange,yRange=prefs.leftRange;this.changeOptions({title:prefs.title,appearance:{lines:prefs.connectLines,points:prefs.showPoints},graphYRange:{min:yRange.min,max:yRange.max},graphXRange:{min:xRange.min,max:xRange.max}});graph.setBaseColumnID(prefs.baseColumnID);const validIds=prefs.leftTraceColIDs.filter(id=>this.dataWorld.getColumn(id));if(validIds.length){const dataSetIds=[...new Set(validIds.map(id=>this.dataWorld.getColumn(id).setID))],columnGroupIds=[...new Set(validIds.map(id=>this.dataWorld.getColumn(id).group.id))];graph.updateSetsAndGroups(dataSetIds,columnGroupIds)}}};function GraphPrefsManager({graphs=[],viewPrefs=null,changeOptions=()=>{}}){this.graphMaps=[];this.viewPrefs=viewPrefs;this.disablePrefs=()=>{let disabled=!1;this.graphMaps.forEach(map=>{disabled=disabled||map.binder.enabled;map.binder.enabled=!1});if(disabled){this.trigger('prefs-disabled')}};this.enablePrefs=()=>{let enabled=!1;this.graphMaps.forEach(map=>{enabled=enabled||!map.binder.enabled;map.binder.enabled=!0});if(enabled){this.trigger('prefs-enabled');this.syncGraphs()}};graphs.forEach(graph=>{this.graphMaps.push(new GraphPrefsMapping(graph,changeOptions))})}__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(GraphPrefsManager.prototype,__WEBPACK_IMPORTED_MODULE_1_backbone___default.a.Events);GraphPrefsManager.prototype.syncGraphs=function(){this.graphMaps.forEach(map=>{map.sync()})};GraphPrefsManager.prototype._getSortedPrefs=function(newPrefs){const activePrefs=[];if(newPrefs){activePrefs.push(newPrefs)}this.graphMaps.forEach(map=>{activePrefs.push(map.prefs)});return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(activePrefs,graphPrefs=>{let value=Infinity;if(graphPrefs){value=graphPrefs.position}return value})};GraphPrefsManager.prototype.graphPrefsAdded=function(graphPrefs){const prefs=this._getSortedPrefs(graphPrefs);this.graphMaps.forEach((map,i)=>{map.setPrefs(prefs[i])});this.syncGraphs()};GraphPrefsManager.prototype.graphPrefsRemoved=function(graphPrefs){let prefs;const map=__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.graphMaps,map=>{return map.prefs&&map.prefs.id===graphPrefs.id});if(map){map.prefs=null;map.binder.unbindAll();prefs=this._getSortedPrefs();this.graphMaps.forEach((map,i)=>{map.setPrefs(prefs[i])});this.syncGraphs()}else{console.warn(`Unable to remove graph pref for graph id=${graphPrefs.id}`)}};GraphPrefsManager.prototype.forEachMapping=function(cb){this.graphMaps.forEach(map=>{if(map.graph&&map.prefs){cb(map.graph,map.prefs)}})};GraphPrefsManager.serviceListenersConfig={viewPrefs:(prefsManager,viewPrefs)=>({source:viewPrefs,target:prefsManager,eventMap:{"graph-added":'graphPrefsAdded',"graph-removed":'graphPrefsRemoved',reset:'syncGraphs'}}),dataWorld:(prefsManager,dataWorld)=>({source:dataWorld,target:{onSessionStarted(isNewSession,config){if(config.imported){prefsManager.disablePrefs()}else{prefsManager.enablePrefs()}}},eventMap:{"session-started":'onSessionStarted'}}),dataCollection:(prefsManager,dataCollection)=>({source:dataCollection,target:{onCollectionModeChanged(modeChanged){if(!modeChanged.importing&&('time-based'===modeChanged.from&&modeChanged.to.match('events')||modeChanged.from.match('events')&&'time-based'===modeChanged.to)){prefsManager.enablePrefs()}}},eventMap:{"collection-mode-changed":'onCollectionModeChanged'}})}},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ga-graph-container> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}:host([disabled]){display:none}vst-core-graph-group{display:none}</style> <vst-core-graph-group visible-graph-limit=[[visibleGraphs]] hidden=""></vst-core-graph-group> <slot name=graphs></slot> </template> </dom-module>');__webpack_require__(441)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_util_RenderStatus__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2_corelib_util_EventBinder__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_3_corelib_services__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__core_vst_core_graph_group_vst_core_graph_group__=__webpack_require__(442);class VstGaGraphContainer extends Polymer.Element{static get is(){return'vst-ga-graph-container'}static get properties(){return{visibleGraphs:{type:Number,observer:'_setGraphsLayout'}}}connectedCallback(){super.connectedCallback();(async()=>{await Object(__WEBPACK_IMPORTED_MODULE_0_corelib_util_RenderStatus__.b)();this._legacyLoad(new __WEBPACK_IMPORTED_MODULE_2_corelib_util_EventBinder__.a,__WEBPACK_IMPORTED_MODULE_3_corelib_services__.a)})();this.graphGroup=this.shadowRoot.querySelector('vst-core-graph-group')}enteringView(){}enteredView(e){this.viewVisible=!0;this.graphGroup.enteredView(e)}exitedView(){this.viewVisible=!1;this.visibleGraphs=0;this.graphGroup.exitedView()}_legacyLoad(eventBinder,services){this.graphEls=Array.from(this.querySelectorAll('vst-core-graph'));this.eventBinder=eventBinder;this.dataWorld=services.get('data-world');this.dataCollection=services.get('data-collection');this.i18n=services.get('i18n');this.numGraphs=this.graphEls.length;this.viewVisible=!1;this.graphEls.forEach(graph=>{graph.addEventListener('add-graph-match',e=>{const colID=e.detail;this.onAddGraphMatch(colID);e.stopPropagation()})});eventBinder.bindListeners({source:this.dataWorld,target:this,eventMap:{"column-group-unit-change-finished":'onColumnUnitChanged',"session-started":'onSessionStarted',"session-ended":'onSessionEnded',"collection-preparing":'onCollectionPreparing',"collection-stopped":'onCollectionStopped',"data-set-ready":'onDataSetReady'}})}_setGraphsLayout(){this.graphEls.forEach(graphComponent=>this._setGraphLayout(graphComponent))}_setGraphLayout(graphComponent){((graphComponent,visible)=>{if(0!==graphComponent.udmId){this.dataWorld.changeGraph(graphComponent.udmId,{visible}).catch(e=>console.error(e))}else{const setGraphUdmId=()=>{this.dataWorld.changeGraph(graphComponent.udmId,{visible}).catch(e=>console.error(e));graphComponent.removeEventListener('udm-id-set',setGraphUdmId)};graphComponent.addEventListener('udm-id-set',setGraphUdmId)}})(graphComponent,!graphComponent.hidden);const isVisibleAndCollecting=!graphComponent.hidden&&this.dataWorld.isCollecting;if(!isVisibleAndCollecting){return}const graphInstance=graphComponent.graphInstance,{larger,fit,resetRanges}=(graphInstance=>{let larger,fit,resetRanges=!1;const{dataCollection}=this;if(dataCollection.mode.match('events')){larger=!1;fit=!0}else if(0<graphInstance.getTracesByType('graph-match').length){larger=!1;fit=!1}else{larger=!0;fit=!1;if(graphInstance.autoscaleToFit){resetRanges=!0}resetRanges=!0}return{larger,fit,resetRanges}})(graphInstance);if(resetRanges){const xAxis=graphInstance.getAxis('x'),xRange=xAxis.getRange(),yAxis=graphInstance.getAxis('y'),yRange=yAxis.getRange();xAxis.setRange(xRange);yAxis.setRange(yRange)}if(larger){graphInstance.enableAutoscaleLarger()}else{graphInstance.disableAutoscaleLarger()}if(fit){graphInstance.autoscaleToFit=fit}}onColumnUnitChanged(columnGroup){if(this.dataWorld.isCurrentDataSetEmpty()){return}this.dispatchEvent(new CustomEvent('column-unit-change',{detail:columnGroup}));this.graphEls.forEach(graph=>{const graphInstance=graph.graphInstance;if(graphInstance.baseColumn&&this.isColumnGroupPlotted(graphInstance,columnGroup)){graph.autoscale()}})}isColumnGroupPlotted(graphInstance,columnGroup){const index=graphInstance.getLeftColumnIds().findIndex(colId=>{const column=this.dataWorld.getColumn(colId);return column.group.id===columnGroup.id});return-1<index}onSessionStarted(isNewSession,config){const component=this;if(!config.imported&&'ManualEntry'===config.sessionType){component.autoscaleGraphs(!0)}}autoscaleGraphs(continuous){this.graphEls.forEach(graph=>{if(continuous){graph.autoscale({toFit:!0})}else{graph.graphInstance.autoscale()}})}onSessionEnded(){this.graphEls.forEach(graph=>{graph.udmId=0});this.removeGraphColumns()}removeGraphColumns(){this.graphEls.forEach(graph=>{graph.removeBaseColumn();graph.graphInstance.removeLeftTraces()})}onCollectionPreparing(){if('DataCollection'===this.dataWorld.sessionType){this.updateGraphs()}}onCollectionStopped(){const{dataWorld,dataCollection}=this;if('DataCollection'===dataWorld.sessionType){this.graphEls.forEach(graph=>{const graphInstance=graph.graphInstance,hasMatchTrace=0<graphInstance.getTracesByType('graph-match').length;graphInstance.disableAutoscaleLarger();if(graph.hidden||!this.viewVisible){graphInstance.updateRequested=!0}if(dataCollection.mode.match('events')&&!dataWorld.isCurrentDataSetEmpty()&&!hasMatchTrace){graph.autoscale({toFit:!0})}})}}onDataSetReady(){if('ManualEntry'===this.dataWorld.sessionType){this.updateGraphs()}}updateGraphs(){const{dataWorld,dataCollection}=this;this.graphEls.forEach(graph=>{const graphInstance=graph.graphInstance,xAxis=graphInstance.getAxis('x'),xRange=xAxis.getRange(),yAxis=graphInstance.getAxis('y'),yRange=yAxis.getRange(),newColumnGroupIds=graph.leftColumnGroupIds;graph.updateSetsAndGroups([dataWorld.currentDataSet.id],newColumnGroupIds);if(newColumnGroupIds.length){if(dataCollection.mode.match('events')){graphInstance.disableAutoscaleLarger();graphInstance.autoscaleToFit=!0}else if(0<graphInstance.getTracesByType('graph-match').length){graphInstance.disableAutoscaleLarger()}else{if(graphInstance.autoscaleToFit){xAxis.setRange(xRange);yAxis.setRange(yRange)}graphInstance.enableAutoscaleLarger()}}})}onAddGraphMatch(colID){const{dataWorld,dataCollection,eventBinder}=this,graph=this.graphEls[0],graphInstance=graph.graphInstance,column=dataWorld.getColumn(colID),matchType=this.dataWorld.getMatchTypeForColumn(column.id),name=`${this.i18n.getText(matchType)} ${this.i18n.getText('Target')}`,_setupGraphMatch=()=>{function _getYRange(type){const slope=3.2808,range={min:0,max:2};if('VELOCITY'===type.toUpperCase()){range.min=-2}if('ft'===column.units||'ft/s'===column.units){range.min*=slope;range.max*=slope}return range}const _addGraphMatch=()=>{return new Promise((resolve,reject)=>{this.graphEls.forEach(graph=>{graph.graphInstance.removeTracesByType('graph-match')});const dataCollection=this.dataCollection,params=dataCollection.timeBasedParams,xMax=__WEBPACK_IMPORTED_MODULE_1_corelib_util_formatter__.a.convertTimeUnits(params.duration,'s',params.units);let baseColumn=graphInstance.getBaseColumn();if(!baseColumn||'time'!==baseColumn.type){dataWorld.currentDataSet.columnIDs.forEach(colId=>{const col=dataWorld.getColumn(colId);if('time'===col.type){baseColumn=col}});graph.setBaseColumnID(baseColumn.id)}const srcColumnGroupId=column.groupID,generatedPoints=dataWorld.generateMatchPoints(column.id,srcColumnGroupId),matchOptions={name,columnId:column.id,matchType,matchGroupId:column.groupID};dataWorld.createGraphMatch(generatedPoints,matchOptions).then(({traceColId,matchType})=>{const yRange=_getYRange(matchType);this.dispatchEvent(new CustomEvent('range-change',{detail:{graph_1:{graphYRange:{min:yRange.min,max:yRange.max},graphXRange:{max:xMax}}}}));graph.leftColumnGroupIds.forEach(id=>graph.updateRemoveLeftColumnGroup(id));graph.dataSetIds.forEach(id=>graph.updateRemoveDataSet(id));graphInstance.removeTracesByType('graph-match');graph.addLeftTrace(traceColId);this.dispatchEvent(new CustomEvent('add-graph-match'));graph.updateAddLeftColumnGroup(srcColumnGroupId);graph.updateAddDataSet(dataWorld.currentDataSet.id);resolve()}).catch(e=>{reject(e)})})};(()=>{return new Promise((resolve,reject)=>{const params=dataCollection.timeBasedParams;if(10>params.duration||params.continuous){params.duration=10<params.duration?params.duration:10;params.continuous=!1;let resolved=!1;const _collectionParamsBinder=eventBinder.on(dataCollection,'collection-params-changed',()=>{_collectionParamsBinder.off();resolved=!0;resolve()}),_reject=err=>{console.error(err);_collectionParamsBinder.off();reject(err)};dataCollection.setCollectionParams('time-based',params).then(result=>{if(result.success){setTimeout(()=>{if(!resolved){_reject(new Error('collection-params-changed timed-out'))}},3e3)}else{_reject(result)}},_reject)}else{resolve()}})})().then(()=>{_addGraphMatch().catch(e=>{console.error(e)})}).catch(e=>{console.error(e)})};(()=>{return new Promise((resolve,reject)=>{if(!dataWorld.isCurrentDataSetEmpty()){dataWorld.createNewDataSet().then(resolve).catch(reject)}else{resolve()}})})().then(()=>{_setupGraphMatch()}).catch(err=>{console.error(err)})}}customElements.define(VstGaGraphContainer.is,VstGaGraphContainer)},function(module,__webpack_exports__,__webpack_require__){'use strict';var __WEBPACK_IMPORTED_MODULE_0_corelib_util_RenderStatus__=__webpack_require__(13),_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};class VstCoreGraphGroup extends Polymer.Element{static get template(){return!1}static get properties(){return{visibleGraphLimit:Number,visibleGraphIndexes:{type:Object,computed:'_computeVisibleIndexes(visibleGraphLimit)',observer:'_toggleVisibleGraphs'}}}constructor(){super();this._resizeVisibleGraphs=this._resizeVisibleGraphs.bind(this)}connectedCallback(){super.connectedCallback();this.graphs=this.getRootNode().querySelector('slot[name=graphs]').assignedNodes();this.graphs.forEach(graph=>{let ignoreYRangeChange=!1;graph.addEventListener('left-range-changed',async()=>{if(!ignoreYRangeChange){ignoreYRangeChange=!0;await Object(__WEBPACK_IMPORTED_MODULE_0_corelib_util_RenderStatus__.a)();this._setTickWidths();ignoreYRangeChange=!1}})});window.addEventListener('resize',this._resizeVisibleGraphs)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener('resize',this._resizeVisibleGraphs)}enteredView({detail:options}){this.hidden=!1;if(options&&options.multiView){setTimeout(()=>{this._resizeVisibleGraphs()},100)}this._resizeVisibleGraphs()}exitedView(){this.hidden=!0}_computeVisibleIndexes(limit=0){const indexes=Object.keys(this.graphs);return indexes.reduce((visibleIndexes,currentIndex)=>_extends({},visibleIndexes,{[currentIndex]:currentIndex<limit}),{})}_toggleVisibleGraphs(visibleGraphIndexes){this.graphs.forEach((graph,index)=>{graph.hidden=!visibleGraphIndexes[index]});this._resizeVisibleGraphs()}_resizeVisibleGraphs(){this.graphs.forEach(coreGraph=>{const graph=coreGraph.graphInstance;if(!coreGraph.hidden){coreGraph.resizeGraph();graph.updateData();if(graph.updateRequested){setTimeout(()=>{graph.autoscale();graph.updateRequested=!1},100)}}});this._setTickWidths()}_setTickWidths(){let widestTick=0;const currentTickWidth=[];this.graphs.forEach(graph=>{if(!graph.hidden){const graphInstance=graph.graphInstance,leftOffset=graphInstance.plot.getPlotOffset().left;currentTickWidth.push(leftOffset);widestTick=Math.max(widestTick,leftOffset)}});this.graphs.forEach((graph,i)=>{if(!graph.hidden){const graphInstance=graph.graphInstance,newWidth=widestTick-currentTickWidth[i];graph.updateStyles({"--tick-width":`${newWidth}px`});graphInstance.resize()}})}}customElements.define('vst-core-graph-group',VstCoreGraphGroup)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ga-welcome> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;max-height:calc(100vh - 50px - var(--chrome-menubar-height,0px))}.main-content{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:1.5rem;overflow:auto}@media (min-width:60em){.main-content{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}}.section-new{-ms-flex-negative:0;flex-shrink:0;margin-bottom:2rem}@media (min-width:60em){.section-new{margin-bottom:0}}.section-secondary{-ms-flex-negative:0;flex-shrink:0}@media (min-width:60em){.section-secondary{margin-left:2.75rem}}.section-secondary-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}@media (min-width:60em){.section-secondary-wrapper{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.section-header{font-size:.75em;font-weight:700;text-transform:uppercase;margin-bottom:.1875em;margin-bottom:.75rem;margin-top:0;-webkit-transition:opacity .6s cubic-bezier(.4,0,.2,1);transition:opacity .6s cubic-bezier(.4,0,.2,1)}.header-branding{-ms-flex-negative:0;flex-shrink:0;padding:1rem 1.5rem;line-height:0;background-color:#007377;text-align:center}.header-logo{display:block;width:12.8125rem;margin:0 auto}.new-sessions{list-style:none;padding-left:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.new-session{position:relative}@media (min-width:30em){.new-session+.new-session{margin-top:1rem}}.new-session-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;font-size:1rem;border:0;padding:0;background-color:transparent;text-align:left}.new-session-btn::-moz-focus-inner{border:0;padding:0}.new-session-btn *{pointer-events:none}.new-session-btn a,.new-session-btn button{pointer-events:auto}.new-session-btn:active{outline:0}.new-session-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.new-session-btn:hover .new-session-icon{opacity:1;border-width:3px;padding:calc(.5rem - 2px)}@media (min-width:30em){.new-session-btn:hover .new-session-icon{padding:calc(.75rem - 2px)}}.new-session-btn:hover .new-session-header{color:#005153}.new-session-icon{display:block;width:3rem;height:3rem;-ms-flex-negative:0;flex-shrink:0;padding:.5rem;border:1px solid #f79b2e;border-radius:100%}@media (min-width:30em){.new-session-icon{width:5rem;height:5rem;padding:.75rem}}.new-session-description{margin:.5625rem .5625rem .5625rem;-webkit-box-flex:1;-ms-flex:1;flex:1}@media (min-width:30em){.new-session-description{margin-left:1.125rem}}.new-session-header{font-size:1em;font-weight:700;margin:0;margin:0;color:#007377}@media (min-width:30em){.new-session-header{font-size:1.5rem;font-weight:400;margin:0 0 .5em;margin:0}}.new-session-subtext{color:#787a7c;font-size:.75em;margin:0}.new-session-error{color:#d22630;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:text;font-size:.75em;margin:0}.new-session-error:hover{cursor:text}.new-session-error a{color:#911a21!important;text-decoration:underline!important}.loading-spinner{display:none;width:3rem;height:3rem;position:absolute;left:0;top:calc(50% - 1.5rem)}@media (min-width:30em){.loading-spinner{width:5rem;height:5rem;top:calc(50% - 2.5rem)}}.starting-session{opacity:1!important}.starting-session .loading-spinner{display:block}.starting-session .new-session-icon{opacity:.6;border-color:transparent}.starting-session .new-session-header{color:#005153}.section-open{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-preferred-size:100%;flex-basis:100%;margin-bottom:2rem}@media (min-width:30em){.section-open{margin-right:1rem;-ms-flex-preferred-size:calc(50% - 1rem);flex-basis:calc(50% - 1rem)}}@media (min-width:60em){.section-open{-webkit-box-flex:0;-ms-flex:none;flex:none;margin-right:0}}.open-local-exp-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;border:1px solid #bdbebf;width:100%}.open-local-exp-btn::-moz-focus-inner{border:0;padding:0}.open-local-exp-btn *{pointer-events:none}.open-local-exp-btn a,.open-local-exp-btn button{pointer-events:auto}.open-local-exp-btn:active{outline:0}.open-local-exp-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.open-local-exp-btn:active,.open-local-exp-btn:hover{color:#373839;background-color:transparent}.open-local-exp-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.section-online-resources{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-bottom:2rem}@media (min-width:30em){.section-online-resources{-ms-flex-preferred-size:calc(50% - 1rem);flex-basis:calc(50% - 1rem);margin-left:1rem}}@media (min-width:60em){.section-online-resources{margin-left:0}}.vernier-links{padding-left:0;margin:-.2em 1rem 0 0;list-style:none}.vernier-links li{margin-bottom:.125em}.vernier-links a{-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);position:relative;padding-left:1.25em;color:#787a7c;display:inline-block}.vernier-links a[disabled]{opacity:.2;cursor:default;pointer-events:none}.vernier-links a::before{content:\'\';display:inline-block;width:.75em;height:.75em;background-image:url(\'./elements/core/vst-core-icon/icons/icon-open-in-new-12x12.svg\');background-repeat:no-repeat;background-size:cover;opacity:.4;position:absolute;top:.4em;left:0}.vernier-links a:hover{color:#005153}.vernier-links a:hover::before{opacity:1}.vernier-logo{display:block;width:8rem;height:3rem;margin:0 auto;opacity:.8;-webkit-transition:opacity .6s cubic-bezier(.4,0,.2,1);transition:opacity .6s cubic-bezier(.4,0,.2,1)}@media (min-width:60em){.vernier-logo{margin:0}}</style> <header class=header-branding> <img class=header-logo src=elements/core/vst-core-style/logos/logo-ga-app-title-white.svg alt="Graphical Analysis"> </header> <div class=main-content> <section class=section-new> <h2 class=section-header>[[getText(\'New Experiment\')]]</h2> <ul class=new-sessions> <li class=new-session> <button class=new-session-btn id=sensor_based type=button on-click=createSession data-mode=sensor-based> <paper-spinner class=loading-spinner active=""></paper-spinner> <vst-core-icon class=new-session-icon icon=icon-sensor-48x48></vst-core-icon> <div class=new-session-description> <h3 class=new-session-header>[[getText(\'Sensor Data Collection\')]]</h3> <template is=dom-if if=[[!dataCollectionError]]> <p class=new-session-subtext>[[getText(\'Collect data from Vernier sensors\')]]</p> </template> <template is=dom-if if=[[dataCollectionError]]> <p class=new-session-error>[[dataCollectionError]]</p> </template> </div> </button> </li> <li class=new-session> <button class=new-session-btn id=data_sharing type=button on-click=createSession data-mode=data-sharing> <paper-spinner class=loading-spinner active=""></paper-spinner> <vst-core-icon class=new-session-icon icon=icon-data-sharing-48x48></vst-core-icon> <div class=new-session-description> <h3 class=new-session-header>[[getText(\'Data Sharing\')]]</h3> <p class=new-session-subtext>[[getText(\'Connect over WiFi to LabQuest 2 or Logger Pro\')]]</p> </div> </button> </li> <li class=new-session> <button class=new-session-btn id=manual_entry type=button on-click=createSession data-mode=manual-entry> <paper-spinner class=loading-spinner active=""></paper-spinner> <vst-core-icon class=new-session-icon icon=icon-manual-entry></vst-core-icon> <div class=new-session-description> <h3 class=new-session-header>[[getText(\'Manual Entry\')]]</h3> <template is=dom-if if=[[!manualEntryError]]> <p class=new-session-subtext>[[getText(\'Enter data through keyboard or Copy/Paste\')]]</p> </template> <template is=dom-if if=[[manualEntryError]]> <p class=new-session-error>[[manualEntryError]]</p> </template> </div> </button> </li> </ul> </section> <div class=section-secondary> <div class=section-secondary-wrapper> <section class=section-open> <h2 class=section-header>[[getText(\'Open Saved File\')]]</h2> <div class=open-local-exp> <button class=open-local-exp-btn on-click=openFileHandler>[[getText(\'Choose File\')]]</button> </div> </section> <section class=section-online-resources> <h2 class=section-header>[[getText(\'From Vernier.com\')]]</h2> <ul class=vernier-links> <li><a href=https://www.vernier.com/support/ga4/ target=_blank>[[getText(\'User Manual\')]]</a></li> <li><a href=https://www.vernier.com/support/ga4/#experiments target=_blank>[[getText(\'Sample Data\')]]</a></li> <li><a href=https://www.vernier.com/products/sensors/go-direct-sensors/ target=_blank>[[getText(\'Go Direct Sensors\')]]</a></li> </ul> </section> <img class=vernier-logo id=vernier_logo src=elements/core/vst-core-style/logos/logo-vernier-black.svg alt="Vernier logo"> </div> </div> </div> </template> </dom-module>');__webpack_require__(444)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstGaWelcome extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-ga-welcome'}static get properties(){return{dataCollectionError:{type:String,value:''},manualEntryError:{type:String,value:''}}}connectedCallback(){super.connectedCallback();const btnEls=Array.from(this.shadowRoot.querySelectorAll('button')),linkEls=Array.from(this.shadowRoot.querySelectorAll('a'));this.clickableEls=btnEls.concat(linkEls);this.headerEls=Array.from(this.shadowRoot.querySelectorAll('.section-header'));this.logoEl=this.shadowRoot.querySelector('#vernier_logo')}createSession(e){const dataMode=e.target.getAttribute('data-mode');this.dispatchEvent(new CustomEvent('create-session',{detail:{mode:dataMode}}));e.target.classList.add('starting-session');this.clearErrorMessages();this.disableButtons(!0)}disableButtons(disable){const opacity=disable?0.2:1;this.clickableEls.forEach(el=>{if(disable){el.setAttribute('disabled',disable)}else{el.removeAttribute('disabled')}});this.headerEls.forEach(el=>{el.style.opacity=opacity});this.logoEl.style.opacity=opacity}openFileHandler(){this.dispatchEvent(new CustomEvent('open-file'))}clearErrorMessages(){this.set('dataCollectionError',null);this.set('manualEntryError',null)}showErrorMessage(sessionType,error){this.disableButtons(!1);if('DataCollection'===sessionType){this.set('dataCollectionError',error)}else if('ManualEntry'===sessionType){this.set('manualEntryError',error)}}}customElements.define(VstGaWelcome.is,VstGaWelcome)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ga-about> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}@media (min-width:42em){:host{width:31.25rem}}.content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text;text-align:center;padding:0 1.5em}.content sup{font-size:.675em}.content a{white-space:nowrap}.autoupdate{margin:0 auto}.version-legal{color:#787a7c;font-size:.75em;margin-bottom:2em}.ga-logo{width:23.4375rem;max-width:100%;display:block;margin:0 auto}.vernier-logo{display:block;margin:3em auto 1em;width:9.125rem;max-width:100%}</style> <vst-gaw-logo class=ga-logo></vst-gaw-logo> <div class=content> <p class=version-legal> v<span>[[appVersion]]</span> <span>[[getText(\'\xA9 2012-2018 Vernier Software &amp; Technology\')]]</span></p> <vst-core-autoupdate class=autoupdate controller-type=AutoUpdateController></vst-core-autoupdate> <p id=about_ga></p> </div> <img alt="Vernier Logo" class=vernier-logo src=elements/core/vst-core-style/logos/logo-vernier-black.svg on-click=logoClicked> </template> </dom-module>');__webpack_require__(446)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_corelib_services__=__webpack_require__(2);class VstGaAbout extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-ga-about'}static get properties(){return{appVersion:{type:String,value:''},logoClickCount:{type:Number,value:0}}}connectedCallback(){super.connectedCallback();this.appVersion=__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('app-manifest').appVersion;this.shadowRoot.getElementById('about_ga').innerHTML=this.getText('Graphical Analysis<sup>\u2122</sup> 4 is a tool for science students to collect, graph, and analyze data from Vernier sensors.')}logoClicked(){this.logoClickCount++;if(10<=this.logoClickCount){__WEBPACK_IMPORTED_MODULE_1_corelib_services__.a.get('popover-manager').presentDialog('vst-core-feature-flags',{title:this.getText('Experimental Features')})}}}customElements.define(VstGaAbout.is,VstGaAbout)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-ga-changelog> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}:host{background:#fff;display:block;width:100%;max-width:100%;position:relative}@media (min-width:30em){:host{width:22.5rem}}@media (min-width:42em){:host{width:31.25rem}}.content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;cursor:text}.content h1{font-size:1.5rem;font-weight:400;margin:0 0 .5em;margin-bottom:0}.content h1+p{color:#787a7c;font-size:.75em;margin:0 0 1.5em 0}.content>ul{list-style:none;margin:0 0 1em;padding-left:0}.content>ul>li{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-bottom:.75em}.content ul ul{padding-left:1.125em}.content ul+h1{margin-top:1.5em}.content details summary{display:inline-block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.content details summary::-webkit-details-marker{display:none}.content details summary::after{display:inline-block;margin-left:.5em;content:\'[+]\';font-size:.75em;vertical-align:text-bottom;color:#787a7c}.content details[open] summary::after{content:\'[\\2013]\'}.content>h1,.content>p,.content>ul{display:none}.content h1:nth-child(1),.content p:nth-child(2),.content ul:nth-child(3){display:block}.content.show-all h1,.content.show-all p,.content.show-all ul{display:block}.show-all-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.75em;background-color:transparent;border:0;color:#787a7c;margin-top:1em;border:1px solid #ccc}.show-all-btn::-moz-focus-inner{border:0;padding:0}.show-all-btn *{pointer-events:none}.show-all-btn a,.show-all-btn button{pointer-events:auto}.show-all-btn:active{outline:0}.show-all-btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.show-all-btn:active,.show-all-btn:hover{color:#373839;background-color:transparent}.show-all-btn:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}.label{font-size:.75em;min-width:6em;padding:.25em .25em 0 .5em;text-transform:uppercase;font-weight:700;margin-right:1em;border-bottom:1px solid #c3db65;color:#fff}.new{background:#f2f7cd;border-color:#83ad39;color:#83ad39}.change{background:#fdebd5;border-color:#f79b2e;color:#f79b2e}.fix{background:#e3d8f2;border-color:#753bbd;color:#753bbd}.issue{background:#f6d4d6;border-color:#d22630;color:#d22630}.inline-icon{width:1rem;height:1rem;display:inline-block}</style> <div id=content class=content> <h1 id=version-4-6>[[getText(\'Version 4.6\')]]</h1> <p>[[getText(\'Released 9/10/2018\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'LabQuest Stream support for iOS\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Y-Axis Plot Manager provides new controls over graphing\')]] <ul> <li>[[getText(\'Individual Data Set display can be enabled or disabled\')]]</li> <li>[[getText(\'Data Sets can be renamed\')]]</li> <li>[[getText(\'Column Options and other column operations can be performed from the graph\')]]</li> </ul> </div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Numeric entry keyboard on iOS small screens now allows negative values and scientific notation\')]]</div> </li> </ul> <h1 id=version-4-5>[[getText(\'Version 4.5\')]]</h1> <p>[[getText(\'Released 8/7/2018\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'iOS platform now has the same user interface as macOS\\, Windows\\, and ChromeOS\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-snd/ target=_blank>[[getText(\'Go Direct Sound\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Additional calibration options for\')]] <a href=https://www.vernier.com/gdx-odo/ target=_blank>[[getText(\'Go Direct Optical Dissolved Oxygen Sensor\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'GDX sensor manufacture date and factory calibration date are shown in Device Info dialog. Calibration dialog now shows last calibration or factory calibration date for GDX sensors.\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'On touch screens\\, graph can now be zoomed (pinch) and panned (two-fingers)\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Additional Photogate mode for Pendulum timing\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div><a href=https://www.vernier.com/vpl/ target=_blank>[[getText(\'Projectile Launcher\')]]</a> [[getText(\'(VPL) with\')]] <a href=https://www.vernier.com/tof-vpl/ target=_blank>[[getText(\'Time of Flight Pad\')]]</a> [[getText(\'(TOF-VPL) support\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div><a href=https://www.vernier.com/mec-btd/ target=_blank>[[getText(\'Motion Encoder\')]]</a> [[getText(\'(MEC-BTD) support\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div><a href=https://www.vernier.com/rmv-btd/ target=_blank>[[getText(\'Rotary Motion Sensor\')]]</a> [[getText(\'(RMV-BTD) support\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'More flexible graph scaling options\\, including Manual scaling\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Related graph traces are now the same color. For example\\, Position and Velocity traces from the Sensor cart are now the same color when on their own graphs so that the common data source is more apparent.\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Graph traces are identified by color on the y axis label\\, assisting reading of graphs with two or more traces.\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Additional curve fits are available: Sine\\, Cosine\\, and Cosine Squared\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'For rotary motion sensors the 0.25 degree resolution mode is now called High Resolution Mode; previously it was called X4 mode.\')]]</div> </li> <li> <b class="label change">[[getText(\'Change\')]]</b> <div>[[getText(\'Graphs no longer autoscale after collection. Double tap the graph to autoscale.\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Y axes are now aligned vertically at all times\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Deleted annotations no longer saved in .ambl files\')]]</div> </li> </ul> <h1 id=version-4-4>[[getText(\'Version 4.4\')]]</h1> <p>[[getText(\'Released 6/12/2018\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Tangent line analysis feature\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/vpg-btd/ target=_blank>[[getText(\'Photogate (VPG-BTD)\')]]</a> [[getText(\'when used with LabQuest interfaces (not yet available on Android)\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Lithuanian language support\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Android platform now has the same user interface as macOS\\, Windows\\, and ChromeOS\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Interface can be scaled for larger font size and thicker graph traces\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Y axis selection list again scrolls\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Improved value readability in examine view\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Improved behavior in creating graph selections\')]]</div> </li> </ul> <h1 id=version-4-3-1>[[getText(\'Version 4.3.1\')]]</h1> <p>[[getText(\'Released 3/7/2018\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gw-hr/ target=_blank>[[getText(\'Go Wireless Heart Rate\')]]</a></div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Prevent crash while opening saved experiments with unexpected sensors connected\')]]</div> </li> </ul> <h1 id=version-4-3-0>[[getText(\'Version 4.3.0\')]]</h1> <p>[[getText(\'Released 1/19/2018\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Sensors can now be reconnected for additional data collection\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'The integral of a region on a graph can now be determined\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Append to Events mode data collection is now available\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-md/ target=_blank>[[getText(\'Go Direct Motion Detector\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-nrg/ target=_blank>[[getText(\'Go Direct Energy Sensor\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-ekg/ target=_blank>[[getText(\'Go Direct EKG Sensor\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-co2/ target=_blank>[[getText(\'Go Direct CO2 Sensor\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-o2/ target=_blank>[[getText(\'Go Direct O2 Sensor\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-cart-g/ target=_blank>[[getText(\'Go Direct Sensor Cart\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/ves-bta/ target=_blank>[[getText(\'Energy Sensor VES-BTA\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Additional language support for\')]] <ul> <li>Catalan</li> <li>Chinese (traditional)</li> <li>Chinese (simplified)</li> <li>Danish</li> <li>Estonian</li> <li>Finnish</li> <li>Greek</li> <li>Indonesian</li> <li>Italian</li> <li>Japanese</li> <li>Korean</li> <li>Latvian</li> <li>Norwegian (Bokmal)</li> <li>Polish</li> <li>Portuguese</li> <li>Romanian</li> <li>Slovak</li> <li>Slovenian</li> <li>Swedish</li> <li>Thai</li> <li>Turkish</li> <li>Ukrainian</li> </ul> </div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Y axis selection list again scrolls\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'When resizing selections with analysis\\, helper boxes no longer proliferate\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Helper boxes no longer become inaccessible\')]]</div> </li> </ul> <h1 id=version-4-2-2>[[getText(\'Version 4.2.2\')]]</h1> <p>[[getText(\'Released 11/14/2017\')]]</p> <ul> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Meters for Heart Rate Monitor no longer show NAN when waiting for data\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Meters now display correctly when using a location with comma separated values\')]]</div> </li> </ul> <h1 id=version-4-2-1>[[getText(\'Version 4.2.1\')]]</h1> <p>[[getText(\'Released 11/07/2017\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-wrt/ target=_blank>[[getText(\'Go Direct Wide Range Temperature\')]]</a></div> </li><li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-st/ target=_blank>[[getText(\'Go Direct Surface Temperature\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-acc/ target=_blank>[[getText(\'Go Direct Acceleration\')]]</a></div> </li> </ul> <h1 id=version-4-2-0>[[getText(\'Version 4.2.0\')]]</h1> <p>[[getText(\'Released 10/26/2017\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-rms/ target=_blank>[[getText(\'Go Direct Rotary Motion Sensor\')]]</a></div> </li><li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-rb/ target=_blank>[[getText(\'Go Direct Respiration Belt\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/gdx-cur/ target=_blank>[[getText(\'Go Direct Current Probe\')]]</a></div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/ekg-bta/ target=_blank>[[getText(\'EKG Sensor\')]]</a> [[getText(\'with smoothed signal\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/spr-bta/ target=_blank>[[getText(\'Spirometer\')]]</a> [[getText(\'with automatic integral calculation\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/hgh-bta/ target=_blank>[[getText(\'Hand-Grip Heart Rate Monitor\')]]</a> [[getText(\'when used with the Heart Rate Receiver\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Values pasted into data tables function normally in graphing and calculated columns\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'Calibration values are no longer truncated for Go Direct sensors\')]]</div> </li> </ul> <h1 id=version-4-1-0>[[getText(\'Version 4.1.0\')]]</h1> <p>[[getText(\'Released 9/21/2017\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div><a href=https://www.vernier.com/products/sensors/go-direct-sensors/ target=_blank>[[getText(\'Go Direct Sensors\')]]</a> [[getText(\'can now be calibrated\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div><a href=https://www.vernier.com/vdc-btd/ target=_blank>[[getText(\'Wired Drop Counter\')]]</a> [[getText(\'can now be calibrated\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Multiple identical sensors now have numbers appended to the column names\')]]</div> </li> <li> <b class="label fix">[[getText(\'Fix\')]]</b> <div>[[getText(\'The Chrome OS version of Graphical Analysis can no longer be opened on macOS or Windows\')]]</div> </li> </ul> <h1 id=version-4-0-0>[[getText(\'Version 4.0.0\')]]</h1> <p>[[getText(\'Released 7/20/2017\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Initial support for Vernier Go Direct Sensors\')]] <ul> <li><a href=https://www.vernier.com/gdx-tmp target=_blank>[[getText(\'Go Direct Temperature\')]]</a></li> <li><a href=https://www.vernier.com/gdx-gp target=_blank>[[getText(\'Go Direct Gas Pressure\')]]</a></li> <li><a href=https://www.vernier.com/gdx-dc target=_blank>[[getText(\'Go Direct Drop Counter\')]]</a></li> <li><a href=https://www.vernier.com/gdx-ph target=_blank>[[getText(\'Go Direct pH\')]]</a></li> <li><a href=https://www.vernier.com/gdx-ea target=_blank>[[getText(\'Go Direct Electrode Amplifier\')]]</a></li> <li><a href=https://www.vernier.com/gdx-3mg target=_blank>[[getText(\'Go Direct Three axis Magnetic Field\')]]</a></li> <li><a href=https://www.vernier.com/gdx-for target=_blank>[[getText(\'Go Direct Force and Acceleration\')]]</a></li> <li><a href=https://www.vernier.com/gdx-con target=_blank>[[getText(\'Go Direct Conductivity\')]]</a></li> <li><a href=https://www.vernier.com/gdx-rad target=_blank>[[getText(\'Go Direct Radiation Monitor\')]]</a></li> <li><a href=https://www.vernier.com/gdx-col target=_blank>[[getText(\'Go Direct Colorimeter\')]]</a></li> </ul> </div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Standard Sensor Support\')]] <ul> <li><a href=https://www.vernier.com/vdc-btd target=_blank>[[getText(\'Drop Counter\')]]</a></li> <li><a href=https://www.vernier.com/vrm-btd target=_blank>[[getText(\'Radiation Monitor\')]]</a></li> </ul> </div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Native applications for Windows and macOS in addition to Chrome OS\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Calculated columns. Create new data columns based on calculations from other columns\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Add blank manual columns to any Data Set\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Add new Data Sets to manual entry sessions\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Interpolation and Extrapolation on curve fits\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Save and Open .ambl files from local and cloud locations. .ambl is a common file format for data exchange between Graphical Analysis instances and into Logger Pro\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Add annotations to graphs\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Option to average readings over 10 seconds in Event Modes\')]]</div> </li> <li> <b class="label change">[[getText(\'Change\')]]</b> <div>[[getText(\'Sessions no longer autosave on Chrome and Chrome browser\')]]</div> </li> <li> <b class="label change">[[getText(\'Change\')]]</b> <div>[[getText(\'Streamlined user interface for selections\\, fits\\, and statistics\')]]</div> </li> <li> <b class="label change">[[getText(\'Change\')]]</b> <div>[[getText(\'New Chrome OS 49 minimum requirement\')]]</div> </li> <li> <b class="label change">[[getText(\'Change\')]]</b> <div>[[getText(\'You may have automatically synced data files from earlier versions of Graphical Analysis running on Chrome. These files must be opened using a one-time procedure to make them available to Graphical Analysis 4. To retrieve these legacy files\\, choose \u201CRetrieve Legacy Files\u201D from the File menu.\')]] <vst-core-icon class=inline-icon icon=icon-file-menu></vst-core-icon> [[getText(\'Select the files you want to keep\\, and save them to any available location. Open the files from the File menu. You may also delete any legacy files you no longer need using the same dialog. Once legacy files have been saved or deleted they are removed from the legacy file list. This file import feature will be removed in a future version of Graphical Analysis\')]]</div> </li> </ul> <h1 id=version-2-7-0>[[getText(\'Version 2.7.0\')]]</h1> <p>[[getText(\'Released 7/26/2016\')]]</p> <ul> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Change display units on supported sensors using live readout\\, meter or column options\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Draw predictions on a graph\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Graph match feature for use with Motion Detector\')]]</div> </li> <li> <b class="label new">[[getText(\'New\')]]</b> <div>[[getText(\'Localization for German\\, Spanish\\, French\\, and Russian\')]]</div> </li> <li> <b class="label change">[[getText(\'Change\')]]</b> <div>[[getText(\'Events with Entry and Selected Events modes are now contained under Events Mode\')]]</div> </li> </ul> <h1 id=version-2-6-0>[[getText(\'Version 2.6.0\')]]</h1> <p>[[getText(\'Released 4/13/2016\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/col-bta target=_blank>[[getText(\'Colorimeter\')]]</a></div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'USB support for\')]] <a href=https://www.vernier.com/lq-stream target=_blank>[[getText(\'LabQuest Stream\')]]</a></div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Sensor graphs now grouped by common units.\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Improved keyboard accessibility\')]]</div></li> </ul> <h1 id=version-2-5-1>[[getText(\'Version 2.5.1\')]]</h1> <p>[[getText(\'Released 1/28/2016\')]]</p> <ul> <li><b class="label fix">[[getText(\'Fix\')]]</b><div>[[getText(\'Display issues in user interface caused by a problem in Chrome OS 48\')]]</div></li> </ul> <h1 id=version-2-5-0>[[getText(\'Version 2.5.0\')]]</h1> <p>[[getText(\'Released 1/20/2016\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Perform custom two-point calibrations\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Zero sensor reading\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Reverse sensor reading\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Support for additional sensors including\')]] <a href=https://www.vernier.com/no3-bta target=_blank>[[getText(\'Nitrate\')]]</a>, <a href=https://www.vernier.com/ca-bta target=_blank>[[getText(\'Calcium\')]]</a>, <a href=https://www.vernier.com/nh4-bta target=_blank>[[getText(\'Ammonium\')]]</a>, <a href=https://www.vernier.com/cl-bta target=_blank>[[getText(\'Chloride\')]]</a> [[getText(\'and\')]] <a href=https://www.vernier.com/k-bta target=_blank>[[getText(\'Potassium\')]]</a> [[getText(\'Ion-Selective Electrodes;\')]] <a href=https://www.vernier.com/wrt-bta target=_blank>[[getText(\'Wide-Range Temperature Probe\')]]</a>, <a href=https://www.vernier.com/sls-bta target=_blank>[[getText(\'Sound Level Sensor\')]]</a>, <a href=https://www.vernier.com/gnm-bta target=_blank>[[getText(\'Goniometer\')]]</a>, <a href=https://www.vernier.com/mlt-bta target=_blank>[[getText(\'Melt Station\')]]</a>, [[getText(\'and\')]] <a href=https://www.vernier.com/eth-bta/ target=_blank>[[getText(\'Ethanol Sensor\')]]</a>.</div></li> </ul> <h1 id=version-2-4-1>[[getText(\'Version 2.4.1\')]]</h1> <p>[[getText(\'Released 11/23/2015\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Data collection settings: rate and duration.\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Support for high-speed data collection\\, including microphone\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Option to trigger time-based data collection based on sensor reading\')]]</div></li> </ul> <h1 id=version-2-4-0>[[getText(\'Version 2.4.0\')]]</h1> <p>[[getText(\'Released 9/30/2015\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Data collection mode display and control in the bottom bar\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Support for Events with Entry and Selected Events data collection modes\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'User view configuration is now retained through new data collection runs\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Version numbering system aligned with feature sets of Vernier Graphical Analysis on other platforms\')]]</div></li> </ul> <h1 id=version-1-6-0>[[getText(\'Version 1.6.0\')]]</h1> <p>[[getText(\'Released 9/4/2015\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Support for direct USB data collection using\')]] <a href=https://www.vernier.com/labq target=_blank>[[getText(\'LabQuest\')]]</a>\\, <a href=https://www.vernier.com/labq2 target=_blank>[[getText(\'LabQuest 2\')]]</a> [[getText(\'and\')]] <a href=https://www.vernier.com/lq-mini target=_blank>[[getText(\'LabQuest Mini\')]]</a></div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'On detection of a sensor Graphical Analysis now goes directly to data collection mode\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Supports\')]] <a href=https://www.vernier.com/tmp-bta target=_blank>[[getText(\'Stainless Steel\')]]</a> [[getText(\'and\')]] <a href=https://www.vernier.com/sts-bta target=_blank>[[getText(\'Surface Temperature\')]]</a> [[getText(\'Sensors\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Now displays a list of Datashare sources on your local network by name\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Combined graph and table view\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Live sensor readouts on the bottom bar\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Manual entry mode defaults to combined graph and table view\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Updated view change icon\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Updated graph options icon\')]]</div></li> <li><b class="label issue">[[getText(\'Issue\')]]</b><div>[[getText(\'Some Chromebooks may not communicate with LabQuest 2 over USB. If Graphical Analysis does not detect your LabQuest 2\\,\')]] <a href=https://www.vernier.com/support/updates/labquest/labq2 target=_blank>[[getText(\'update the LabQuest\')]]</a> [[getText(\'to version 2.6 or newer.\')]]</div></li> </ul> <h1 id=version-1-5-0>[[getText(\'Version 1.5.0\')]]</h1> <p>[[getText(\'Released 5/22/2015\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Manual Entry mode allows entry of data using keyboard or clipboard. Manual column names and units can be entered\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Column names are now editable\')]]</div></li> <li><b class="label fix">[[getText(\'Fix\')]]</b><div>[[getText(\'Support for Barometer sensor restored\')]]</div></li> </ul> <h1 id=version-1-4-0>[[getText(\'Version 1.4.0\')]]</h1> <p>[[getText(\'Released 5/8/2015\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'The\')]] <a href=https://www.vernier.com/go-mot target=_blank>[[getText(\'Go!Motion\')]]</a> [[getText(\'Motion Detector is now supported. Velocity and Acceleration are calculated automatically\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'The maximum data collection rate with the\')]] <a href=https://www.vernier.com/go-link target=_blank>[[getText(\'Go!Link\')]]</a> [[getText(\'interface is now 50 Hz\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Graph Options control has been moved to a gear icon for improved visibility\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Y-axis selection control now works the same way as the x-axis control\')]]</div></li> </ul> <h1 id=version-1-3-1>[[getText(\'Version 1.3.1\')]]</h1> <p>[[getText(\'Released 4/21/2015\')]]</p> <ul> <li><b class="label fix">[[getText(\'Fix\')]]</b><div>[[getText(\'Resolved issues with rename and delete on experiments caused by Chrome 42 update\')]]</div></li> </ul> <h1 id=version-1-3-0>[[getText(\'Version 1.3.0\')]]</h1> <p>[[getText(\'Released 3/12/2015\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Support for the following Vernier sensors via\')]] <a href=https://www.vernier.com/go-link target=_blank>[[getText(\'Go!Link\')]]</a><details> <summary>[[getText(\'Show Sensors\')]]</summary> <ul> <li><a href=https://www.vernier.com/acc-bta target=_blank>[[getText(\'25-g Accelerometer\')]]</a></li> <li><a href=https://www.vernier.com/lga-bta target=_blank>[[getText(\'Low-g Accelerometer\')]]</a></li> <li><a href=https://www.vernier.com/anm-bta target=_blank>[[getText(\'Anemometer\')]]</a></li> <li><a href=https://www.vernier.com/bar-bta target=_blank>[[getText(\'Barometer\')]]</a></li> <li><a href=https://www.vernier.com/co2-bta target=_blank>[[getText(\'CO\u2082 Sensor\')]]</a></li> <li><a href=https://www.vernier.com/crg-bta target=_blank>[[getText(\'Charge Sensor\')]]</a></li> <li><a href=https://www.vernier.com/con-bta target=_blank>[[getText(\'Conductivity Probe\')]]</a></li> <li><a href=https://www.vernier.com/sal-bta target=_blank>[[getText(\'Salinity Sensor\')]]</a></li> <li><a href=https://www.vernier.com/ccs-bta target=_blank>[[getText(\'Constant Current System\')]]</a></li> <li><a href=https://www.vernier.com/dcp-bta target=_blank>[[getText(\'Current Probe\')]]</a></li> <li><a href=https://www.vernier.com/hcs-bta target=_blank>[[getText(\'High Current Sensor\')]]</a></li> <li><a href=https://www.vernier.com/do-bta target=_blank>[[getText(\'Dissolved Oxygen Probe\')]]</a></li> <li><a href=https://www.vernier.com/ea-bta target=_blank>[[getText(\'Electrode Amplifier\')]]</a></li> <li><a href=https://www.vernier.com/flo-bta target=_blank>[[getText(\'Flow Rate Sensor\')]]</a></li> <li><a href=https://www.vernier.com/dfs-bta target=_blank>[[getText(\'Dual-Range Force Sensor\')]]</a></li> <li><a href=https://www.vernier.com/vsmt target=_blank>[[getText(\'Vernier Structures &amp; Materials Tester Force Sensor\')]]</a></li> <li><a href=https://www.vernier.com/fp-bta target=_blank>[[getText(\'Force Plate\')]]</a></li> <li><a href=https://www.vernier.com/gnm-bta target=_blank>[[getText(\'Goniometer\')]]</a></li> <li><a href=https://www.vernier.com/hd-bta target=_blank>[[getText(\'Hand Dynamometer\')]]</a></li> <li><a href=https://www.vernier.com/ina-bta target=_blank>[[getText(\'Instrumentation Amplifier\')]]</a></li> <li><a href=https://www.vernier.com/ls-bta target=_blank>[[getText(\'Light Sensor\')]]</a></li> <li><a href=https://www.vernier.com/tilt-bta target=_blank>[[getText(\'TI Light Probe\')]]</a></li> <li><a href=https://www.vernier.com/mg-bta target=_blank>[[getText(\'Magnetic Field Sensor\')]]</a></li> <li><a href=https://www.vernier.com/o2-bta target=_blank>[[getText(\'O\u2082 Gas Sensor\')]]</a></li> <li><a href=https://www.vernier.com/par-bta target=_blank>[[getText(\'PAR Sensor\')]]</a></li> <li><a href=https://www.vernier.com/ph-bta target=_blank>[[getText(\'pH Sensor\')]]</a></li> <li><a href=https://www.vernier.com/gps-bta target=_blank>[[getText(\'Gas Pressure Sensor\')]]</a></li> <li><a href=https://www.vernier.com/pyr-bta target=_blank>[[getText(\'Pyranometer\')]]</a></li> <li><a href=https://www.vernier.com/rh-bta target=_blank>[[getText(\'Relative Humidity Sensor\')]]</a></li> <li><a href=https://www.vernier.com/slm-bta target=_blank>[[getText(\'Sound Level Meter\')]]</a></li> <li><a href=https://www.vernier.com/go-temp target=_blank>[[getText(\'Go!Temp\')]]</a></li> <li><a href=https://www.vernier.com/tpl-bta target=_blank>[[getText(\'Extra Long Temperature Probe\')]]</a></li> <li><a href=https://www.vernier.com/tpl-bta target=_blank>[[getText(\'Infrared Thermometer\')]]</a></li> <li><a href=https://www.vernier.com/tcp-bta target=_blank>[[getText(\'Thermocouple\')]]</a></li> <li><a href=https://www.vernier.com/trb-bta target=_blank>[[getText(\'Turbidity Sensor\')]]</a></li> <li><a href=https://www.vernier.com/uva-bta target=_blank>[[getText(\'UVA Sensor\')]]</a></li> <li><a href=https://www.vernier.com/uvb-bta target=_blank>[[getText(\'UVB Sensor\')]]</a></li> <li><a href=https://www.vernier.com/30v-bta target=_blank>[[getText(\'30-Volt Voltage Probe\')]]</a></li> <li><a href=https://www.vernier.com/dvp-bta target=_blank>[[getText(\'Differential Voltage Probe\')]]</a></li> <li><a href=https://www.vernier.com/vp-bta target=_blank>[[getText(\'Voltage Probe\')]]</a></li> <li><a href=https://www.vernier.com/sms-bta target=_blank>[[getText(\'Soil Moisture Sensor\')]]</a></li> </ul> </details></div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Added this What\\\'s New info screen\')]]</div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Included sample experiments\')]]</div></li> </ul> <h1 id=version-1-2-0>[[getText(\'Version 1.2.0\')]]</h1> <p>[[getText(\'Released 2/17/2015\')]]</p> <ul> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Support for\')]] <a href=https://www.vernier.com/go-temp target=_blank>[[getText(\'Go!Temp\')]]</a></div></li> <li><b class="label new">[[getText(\'New\')]]</b><div>[[getText(\'Experiments now auto-save to Google Drive\')]]</div></li> <li><b class="label change">[[getText(\'Change\')]]</b><div>[[getText(\'Redesigned application\')]]</div></li> </ul> <button class=show-all-btn on-click=showAllToggled>[[getText(\'Show All Releases\')]]</button> </div> </template> </dom-module>');__webpack_require__(448)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstGaChangelog extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-ga-changelog'}showAllToggled(e){const button=e.target;if(button.textContent===this.getText('Show All Releases')){button.textContent=this.getText('Show Less')}else{button.textContent=this.getText('Show All Releases')}this.shadowRoot.querySelector('#content').classList.toggle('show-all')}}customElements.define(VstGaChangelog.is,VstGaChangelog)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-gaw-keep-wait> <template> <style>*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}*{min-height:0}a{color:#007377}a:hover{color:#005153;cursor:pointer}:host([hidden]),[hidden]{display:none!important}::-webkit-scrollbar{width:1.125rem;height:1.125rem}::-webkit-scrollbar-thumb{background-color:#bdbebf;border-radius:2rem;border:.3rem solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background-color:#787a7c;border-width:.225rem}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:#007377;color:#fff;margin-top:1.125rem;float:right}.btn::-moz-focus-inner{border:0;padding:0}.btn *{pointer-events:none}.btn a,.btn button{pointer-events:auto}.btn:active{outline:0}.btn[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn:hover{background-color:#005153}.btn:active{background-color:#0d5a5c;-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.5)}.btn-cancel{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;text-decoration:none;cursor:pointer;line-height:1.5!important;color:#373839;padding:.125rem .375rem;-webkit-transition:opacity .4s cubic-bezier(.4,0,.2,1);transition:opacity .4s cubic-bezier(.4,0,.2,1);display:inline-block;text-align:center;text-transform:uppercase;overflow:visible;border:1px solid #00696d;font-weight:700;border-radius:.25rem;padding:.6em 1em .5em;font-size:.875em;background-color:transparent;border:0;color:#787a7c;margin-right:.5625rem}.btn-cancel::-moz-focus-inner{border:0;padding:0}.btn-cancel *{pointer-events:none}.btn-cancel a,.btn-cancel button{pointer-events:auto}.btn-cancel:active{outline:0}.btn-cancel[disabled]{opacity:.2;cursor:default;pointer-events:none}.btn-cancel:active,.btn-cancel:hover{color:#373839;background-color:transparent}.btn-cancel:active{-webkit-box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15);box-shadow:inset 0 0 1px 1px rgba(0,0,0,.15)}</style> <vst-core-wait message=[[message]]></vst-core-wait> <button class="btn btn-cancel" on-click=cancel type=button>[[getText(\'Cancel\')]]</button> </template> </dom-module>');__webpack_require__(450)},function(module,__webpack_exports__,__webpack_require__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});var __WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__=__webpack_require__(3);class VstGawKeepWait extends Object(__WEBPACK_IMPORTED_MODULE_0_corelib_mixins_CoreElementMixin__.a)(Polymer.Element){static get is(){return'vst-gaw-keep-wait'}static get properties(){return{message:{type:String,value:''}}}cancel(){this.dispatchEvent(new CustomEvent('cancel'))}}customElements.define(VstGawKeepWait.is,VstGawKeepWait)},function(module,exports,__webpack_require__){const RegisterHtmlTemplate=__webpack_require__(0);RegisterHtmlTemplate.register('<dom-module id=vst-gaw-logo> <template> <svg version=1.1 class=logo viewBox="0 0 263.33 42.67"> <path fill=#EE3524 d="M46.1,23.5c-1,3.61-2.63,8.72-5.95,9.34c-3.08,0.56-8.9-2.56-18.79-20.65C19.07,8.01,16.41,6,13.54,6.21\n            C6.07,6.74,0.25,22.66,0,23.33l0.1,0.33v5l1.57-4.68C3.28,19.66,8.5,8.38,13.75,8c2.11-0.15,4.09,1.55,6.01,5.05\n            C27.71,27.59,34.1,34.7,39.33,34.7c0.34,0,0.83-0.03,1.16-0.09c2.53-0.47,3.61-2.65,5.61-5.23V23.5z"></path> <g> <path fill=#949699 d=M9.28,23.75l1,2.23c0.91-0.41,1.79-0.67,2.62-0.77l-0.29-2.43C11.54,22.91,10.42,23.24,9.28,23.75z></path> <path fill=#949699 d=M4.67,26.73l1.56,1.88c0.81-0.67,1.61-1.25,2.38-1.73l-1.29-2.07C6.45,25.34,5.56,25.99,4.67,26.73z></path> <path fill=#949699 d=M20.14,25.69l-1.77,1.68c0.59,0.62,1.17,1.39,1.71,2.28l2.09-1.27C21.54,27.34,20.86,26.44,20.14,25.69z></path> <path fill=#949699 d=M46.1,34.29c-1,0.44-1.18,0.86-1.79,1.24l1.35,2.08c0.13-0.08,0.44-0.17,0.44-0.25V34.29z></path> <path fill=#949699 d=M0.82,30.47l1.81,1.64c0.7-0.78,1.41-1.51,2.11-2.16l-1.68-1.77C2.31,28.87,1.56,29.64,0.82,30.47z></path> <path fill=#949699 d=M0.1,35.78c0-0.74,1.12-1.46,1.69-2.14l-1.69-1.4V35.78z></path> <path fill=#949699 d=M14.63,25.23c0.83,0.13,1.63,0.46,2.37,0.96l1.37-2.02c-1.04-0.71-2.17-1.16-3.35-1.35L14.63,25.23z></path> <path fill=#949699 d="M34.94,37.62l-0.21,2.43c0.52,0.04,1.03,0.07,1.54,0.07c0.59,0,1.2-0.03,1.8-0.09l-0.24-2.43\n                C36.86,37.7,35.91,37.7,34.94,37.62z"></path> <path fill=#949699 d=M23.21,30.14l-2.06,1.32c0.61,0.95,1.27,1.83,1.98,2.63l1.83-1.61C24.34,31.76,23.75,30.98,23.21,30.14z></path> <path fill=#949699 d=M39.72,37.29l0.54,2.38c1.1-0.25,2.16-0.59,3.17-1.03l-0.97-2.24C41.59,36.78,40.67,37.08,39.72,37.29z></path> <path fill=#949699 d=M29.34,38.69c1.02,0.45,2.09,0.79,3.18,1.03l0.52-2.39c-0.94-0.21-1.85-0.5-2.73-0.88L29.34,38.69z></path> <path fill=#949699 d=M24.68,35.66c0.84,0.75,1.74,1.43,2.68,1.99l1.26-2.09c-0.81-0.49-1.58-1.07-2.31-1.72L24.68,35.66z></path> </g> <g> <path fill=#5A5B5D d="M67.6,26.34c-0.94-0.62-1.96-0.92-3.7-0.92c-3.1,0-5.16,2.25-5.16,5.26c0,3.16,2.27,5.26,5.06,5.26\n                c1.33,0,1.68-0.13,2.16-0.23v-4.08h-2.83v-1.58h4.76v6.99c-0.73,0.25-2,0.6-4.1,0.6c-4.26,0-7.09-2.73-7.09-7.01\n                c0-4.14,3-6.89,7.11-6.89c1.96,0,2.83,0.29,3.95,0.67L67.6,26.34z"></path> <path fill=#5A5B5D d="M71.37,23.96h3.29c2.66,0,5.22,0.42,5.22,3.64c0,1.64-1.21,2.79-2.77,3.06v0.04\n                c0.6,0.23,0.89,0.52,1.31,1.35l2.54,5.35h-2.2l-2.06-4.66c-0.6-1.31-1.23-1.31-2.25-1.31h-1.16v5.97h-1.93V23.96z M73.29,29.73\n                h1.64c1.83,0,2.91-0.81,2.91-2.1c0-1.21-0.92-1.98-2.7-1.98h-1.85V29.73z"></path> <path fill=#5A5B5D d="M87.31,23.96h2.02l5.68,13.44h-2.1l-1.37-3.39h-6.59l-1.37,3.39h-2.02L87.31,23.96z M88.25,25.77\n                l-2.68,6.66h5.35L88.25,25.77z"></path> <path fill=#5A5B5D d="M96.64,23.96h3.52c2.75,0,5.04,0.96,5.04,4.02c0,2.98-2.33,4.04-4.76,4.04h-1.89v5.37h-1.93V23.96z\n                M98.57,30.33h1.91c1.19,0,2.7-0.6,2.7-2.37c0-1.69-1.77-2.31-2.96-2.31h-1.64V30.33z"></path> <path fill=#5A5B5D d=M107.75,23.96h1.92v5.62h6.43v-5.62h1.92V37.4h-1.92v-6.12h-6.43v6.12h-1.92V23.96z></path> <path fill=#5A5B5D d=M121.75,23.96h1.93V37.4h-1.93V23.96z></path> <path fill=#5A5B5D d="M136.57,26.17c-0.85-0.5-1.79-0.75-2.77-0.75c-3.1,0-5.16,2.23-5.16,5.26c0,3.16,2.27,5.26,5.06,5.26\n                c0.96,0,2.25-0.25,2.93-0.65l0.12,1.87c-1.02,0.42-2.27,0.48-3.06,0.48c-4.26,0-7.09-2.73-7.09-7.01c0-4.14,3-6.89,7.11-6.89\n                c1.04,0,2.06,0.15,3.02,0.58L136.57,26.17z"></path> <path fill=#5A5B5D d="M143.5,23.96h2.02l5.68,13.44h-2.1l-1.37-3.39h-6.59l-1.37,3.39h-2.02L143.5,23.96z M144.44,25.77\n                l-2.68,6.66h5.35L144.44,25.77z"></path> <path fill=#5A5B5D d=M153.31,23.96h1.93V35.7h5.62v1.69h-7.55V23.96z></path> <path fill=#5A5B5D d="M172.95,23.96h2.02l5.68,13.44h-2.1l-1.37-3.39h-6.59l-1.37,3.39h-2.02L172.95,23.96z M173.9,25.77\n                l-2.68,6.66h5.35L173.9,25.77z"></path> <path fill=#5A5B5D d=M182.77,23.96h2.62l5.93,10.82h0.04V23.96h1.93V37.4h-2.46l-6.08-11.05h-0.04V37.4h-1.93V23.96z></path> <path fill=#5A5B5D d="M200.75,23.96h2.02l5.68,13.44h-2.1l-1.37-3.39h-6.59l-1.37,3.39h-2.02L200.75,23.96z M201.69,25.77\n                l-2.68,6.66h5.35L201.69,25.77z"></path> <path fill=#5A5B5D d=M210.56,23.96h1.93V35.7h5.62v1.69h-7.55V23.96z></path> <path fill=#5A5B5D d=M222,31.77l-5.26-7.82H219l4,6.03l3.91-6.03h2.25l-5.24,7.82v5.62H222V31.77z></path> <path fill=#5A5B5D d="M237,25.98c-0.98-0.39-1.52-0.56-2.52-0.56c-1.08,0-2.35,0.39-2.35,1.79c0,2.58,5.78,1.98,5.78,6.41\n                c0,2.87-2.21,4.01-4.91,4.01c-0.94,0-1.87-0.27-2.75-0.56l0.19-1.79c0.65,0.27,1.81,0.65,2.79,0.65c1.1,0,2.64-0.62,2.64-2.2\n                c0-3-5.78-2.18-5.78-6.35c0-2.39,1.89-3.66,4.31-3.66c0.89,0,1.94,0.15,2.87,0.48L237,25.98z"></path> <path fill=#5A5B5D d=M240.71,23.96h1.93V37.4h-1.93V23.96z></path> <path fill=#5A5B5D d="M252.36,25.98c-0.98-0.39-1.52-0.56-2.52-0.56c-1.08,0-2.35,0.39-2.35,1.79c0,2.58,5.78,1.98,5.78,6.41\n                c0,2.87-2.21,4.01-4.91,4.01c-0.94,0-1.87-0.27-2.75-0.56l0.19-1.79c0.65,0.27,1.81,0.65,2.79,0.65c1.1,0,2.64-0.62,2.64-2.2\n                c0-3-5.78-2.18-5.78-6.35c0-2.39,1.89-3.66,4.31-3.66c0.89,0,1.94,0.15,2.87,0.48L252.36,25.98z"></path> <path fill=#5A5B5D d="M255.79,24.62h-1.28v-0.7h3.32v0.7h-1.28v3.46h-0.76V24.62z M258.81,23.92h1.18l1.09,2.81l1.07-2.81h1.18\n                v4.16h-0.76V24.9h-0.02l-1.17,3.18h-0.62l-1.17-3.18h-0.02v3.18h-0.76V23.92z"></path> </g> </svg> </template> </dom-module>');__webpack_require__(452)},function(module,__webpack_exports__){'use strict';Object.defineProperty(__webpack_exports__,'__esModule',{value:!0});class VstGawLogo extends Polymer.Element{static get is(){return'vst-gaw-logo'}}__webpack_exports__.VstGawLogo=VstGawLogo;customElements.define(VstGawLogo.is,VstGawLogo)}]);